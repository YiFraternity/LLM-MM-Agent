{
  "task_id": "2017_B",
  "problem": "问题1：VCSEL的L-I模型\nL-I模型，即激光器的工作电流与输出光功率强度关系模型（L：light，表示光功率强度，也可以表示为P；I：Intensity of current，表示工作电流）。激光器是将电能转换成光能的半导体器件，能量转换的过程，也是电子的电能转换为光子的光能的过程，在转换过程中，伴随着电子的运动，半导体器件会产生一定的热量。从能量守恒的角度看，转化为热能的能量越多（发热导致能量浪费了），器件温度越高，那么转化为光能的能量越少（输出光功率越低），可以利用的能量就越少。\n\n国际上很多研究机构对VCSEL的L-I建模问题做了大量研究，目前有一个L-I经验公式获得了大多数人的认可。附录1给出了该公式及其一种参数化表达，请你们根据附件提供的文件名为“L-I-20C.mat”的L-I实测数据（数据在室温$20^\\circ\\mathrm{C}$下采集，载入matlab后将获得4个变量：P：光功率，I：实测驱动电流，U：实测电压，Ta：实测温度）和附录1中的表1给出的一组经验值，完成如下工作：\n\na) 确定模型参数$(\\eta, I_{th0}, R_{th}, a_0, a_1, a_2, a_3, a_4)$，根据模型画出$10^\\circ\\mathrm{C}$，$20^\\circ\\mathrm{C}$，$30^\\circ\\mathrm{C}$，……，$90^\\circ\\mathrm{C}$等温度下的L-I曲线（横坐标是电流强度，纵坐标是光功率）。\n\nb) 假定当电信机房里VCSEL激光器在直流输入时输出的平均光功率低于2mW时，用户的光猫无法检测到信号。那么，根据建立的L-I模型推测：电信机房里VCSEL激光器工作的环境温度最多不能高于多少摄氏度，才能保证用户可以正常使用网络？\n问题2：L-I模型的改进\n分析问题1中模型的精度和误差产生的原因，提出你们的改进，根据改进模型画出$10^\\circ\\mathrm{C}$，$20^\\circ\\mathrm{C}$，$30^\\circ\\mathrm{C}$，……，$90^\\circ\\mathrm{C}$等温度下的L-I曲线，并与问题1中L-I曲线进行比较。你们也可以采用完全不同的方法得到更好的L-I模型。\n\n问题3：VCSEL的带宽模型（小信号响应模型）\nVCSEL的传输带宽越宽，用户上网的网速也就越快。为了适应未来的高速传输网络需求，期望设计出具有更宽带宽的激光器。带宽模型，通常也称为小信号响应模型，就是给器件输入不同频率的幅度非常小的信号（注意与L-I模型不同，这里幅度小，而且含多个频率，对应S21曲线横坐标是频率，纵坐标是光功率幅度），获得对应频率点输出信号的幅度（功率）；这里“不同频率”是从0频到指定频率按一定步长进行扫描，例如从0开始以0.5GHz为步长，扫描到30GHz。在无线通信中，器件带宽通常采用幅度3dB衰减位置的信号带宽来衡量——即3dB带宽。在光纤通信中，由于系统可用幅度衰减范围更大，通常采用幅度10dB衰减位置的信号带宽进行衡量——10dB带宽。附件中名为“S21_5.mat”的文件给出了一组VCSEL激光器小信号幅频响应曲线数据和相应的驱动电流、输出光功率数据，将数据载入MATLAB将获得4个变量：I_b=7.5，表示偏置电流为7.5mA；Ta=20表示测试的环境温度是20℃；f表示S21曲线的频率，单位为Hz；S21表示S21曲线的幅度，单位为dB，请你们：\na). 建立恰当的激光器小信号幅频响应参数模型，给出参数构成及其确定方法，画出不同环境温度和不同偏置电流下的带宽响应曲线（即S21曲线），其中一条必须是20℃下7.5mA偏置电流的仿真输出曲线。\nb). 利用你们的带宽模型，分析激光器的温度和激光器的偏置电流对器件带宽曲线的影响。\nc). 假定激光器工作环境温度可以采用某些措施让它固定在20℃（例如，通信设备商通常的做法是将激光器放到精密的恒温箱中进行测试。若将激光器放在室内环境测试，随着测试时间的变成，激光器本身会发热导致激光器表面及其周边环境温度升高，而恒温箱则可以保证其表面和周边环境温度恒定不变），偏置电流固定在7.5mA，那么，如果要获得更宽带宽的激光器设计方案，还可以通过什么手段实现？\nd). 改变激光器的某些参数可以发现一些有趣的问题，比如激光器在3dB范围内的部分频率处幅度可能会高于0频位置。请问，改变哪些参数会有这种现象？在实际应用中，我们希望这部分带宽曲线越平坦越好，那么如何设计这些参数可以实现我们的目的？\n\n附录2给出了一种基于速率方程的建模方法，你们可以在确认其推导正确的基础上提出参数估计方法并根据题目提供的数据确定合适的参数以完善模型。你们还可以对推导过程进行完善或者改进，以得到更为精确的模型。\n问题4：VCSEL带宽模型的改进\n开放性探索问题：是否有更好的带宽模型建模方式，使得模型运算速度更快？或者在相同的温度和偏置电流下，可以获得更宽的3dB（或10dB）带宽?\n如果有，请给出建模方案，包括可能的数学公式，不同温度和偏置电流下的带宽响应曲线，并与问题3的模型进行比较。",
  "subtask": {
    "1": {
      "subtask": "子任务一（静态 L–I 模型建立与参数识别）应当独立完成以下工作：输入数据为题目给出的 L-I-20C.mat（变量 P：光功率（W 或 mW 单位需统一），I：驱动电流（A 或 mA），U：器件电压，Ta：测量环境温度，应为 20°C）以及附录表中给出的参考初值；模型框架选用半物理经验模型 P0 = η(T)·(I − Ith0 − Ioff(T)) 与稳态热平衡 T = T0 + (I·V − P0)·Rth（如需瞬态可加 τth，但本子任务仅要求稳态曲线预测），其中 Ioff(T) 用低阶多项式（建议至四阶 a0 + a1 T + … + a4 T^4）参数化，η(T 可先假定弱温度依赖或常数 η），V 在模型中优先使用测得的 U 与 I 的对应关系（对给定 I 插值或用拟合的二极管+串联电阻模型替代）；实现流程为：1) 数据预处理——统一单位、剔除异常点、在阈值以下识别噪声区间并确定可用于线性拟合的“线性段”电流范围；2) 初步线性识别——在 20°C 的可线性区用简单线性回归（P vs I）估算初始 η 与 Ith0（斜率与截距），并用测量 U(I) 计算初始注入功率 I·V；3) 非线性联合拟合——以最小二乘为目标函数，采用受约束的非线性优化（如 MATLAB 的 lsqnonlin 或 Python 的 scipy.optimize.least_squares，Levenberg–Marquardt/信赖域法），对参数集 {η（或η0与温度系数）、Ith0, Rth, a0…aN} 进行拟合，拟合过程中对于每个数据点通过一维数值求根（如 f(P0)=P0 − η(T(P0))·(I − Ith0 − Ioff(T(P0)))，T(P0)=T0+(I·V(P0)−P0)Rth）解出模型 P0 用以构造残差；拟合应加物理约束（η>0, Rth>0，Ith0≥0，a_n 在合理范围）并采用多起点避免局部极小；4) 模型验证与不确定性评估——计算拟合残差、参数协方差（或用自助法 bootstrap 估计参数不确定度），并在 20°C 上做留出验证检查拟合是否过拟合；5) 稳态预测与绘图——在拟合得到的参数下，对目标环境温度序列 T0 = 10,20,30,…,90°C 和所需电流网格（覆盖题目关心的 6–8 mA 及更宽范围）逐点用数值求解隐式稳态方程获得 P0(I,T0)，并绘制各温度下的 L–I 曲线（横轴电流、纵轴光功率，注意单位一致）；6) 工程判定——用拟合模型在给定偏置电流（例如题目通常关心的 7.5 mA 或指定值）下，求解最大允许环境温度 T0_max 使稳态 P0(T0_max) ≥ 2 mW（用一维根找或二分法定位临界温度），并用参数不确定性估计给出该临界值的置信区间；实现时推荐使用 MATLAB 或 Python（scipy），在数值求解环节用稳健的一维根求解器（如 brentq 或 fsolve 的可靠设置）并在优化中采用向量化与并行化提高效率。该子任务仅限建立与标定上述静态耦合模型、输出参数估计值、绘制 10–90°C 的 L–I 曲线并给出满足 P0≥2 mW 的最大环境温度及其不确定性，不包括对小信号响应、速率方程动态线性化或器件设计改进的任何讨论。",
      "criteria": {
        "task_understanding": {
          "core_goal": "基于 L-I-20C.mat 数据与半物理经验模型，拟合与评估静态 L–I 模型参数并预测不同环境温度下的功率曲线与满足 P0≥2 mW 的最大可用温度。",
          "expected_output": "参数估计值{η, Ith0, Rth, a0…a4}及不确定性；20°C 留出/残差统计与协方差或bootstrap区间；10–90°C 各等温 L–I 曲线图；给定电流下的T0_max（P0≥2 mW）及置信区间；可复现代码/脚本与求解配置说明。",
          "key_inputs_constraints": "输入：L-I-20C.mat 含 P、I、U、Ta(应为20°C)；附录表参数初值。约束：单位统一（I: A或mA一致；P: W或mW一致），η>0, Rth>0, Ith0≥0；Ioff(T)=a0+a1T+…+a4T^4；稳态热平衡 T=T0+(I·V−P0)Rth；V优先使用测得 U(I) 插值或等效二极管+串联电阻拟合；优化需最小二乘、受约束、多起点；采用稳健一维根求解 P0。",
          "modeling_type": "拟合+预测+评价",
          "role_in_pipeline": "作为静态器件建模与标定环节：前序依赖数据清洗与单位统一；后序为带宽/小信号模型、系统仿真与设计评估提供温度相关的静态P(I,T)基线与热参数Rth、Ith0等。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别核心目标：L–I 参数拟合与温度预测",
              "description": "是否明确本任务聚焦静态 L–I 模型，需拟合{η, Ith0, Rth, a0…a4}并据此预测10–90°C的功率曲线及T0_max(P0≥2 mW)。",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：同时点出参数拟合+等温预测+T0_max评估；中分：只提拟合或只提预测；低分：混淆小信号/动态或忽略温度与2 mW判定。"
            },
            {
              "sub_criteria": "识别关键输入：P,I,U,Ta 与初值",
              "description": "是否指出需用 L-I-20C.mat 的 P/I/U/Ta、附录表初值，并强调单位统一和U(I)插值/等效模型。",
              "score": 30,
              "evaluation_focus": "数据理解",
              "scoring_hint": "高分：列出四变量并提出单位与U(I)处理；中分：缺少U或Ta；低分：未提输入细节或误用数据。"
            },
            {
              "sub_criteria": "识别约束与稳态热耦合",
              "description": "是否指出稳态方程 P0=η(T)(I−Ith0−Ioff(T)) 与 T=T0+(I·V−P0)Rth 的隐式求解和物理约束(η>0,Rth>0)。",
              "score": 40,
              "evaluation_focus": "数理约束",
              "scoring_hint": "高分：准确描述隐式耦合与物理边界；中分：只给出公式之一；低分：忽略热耦合或无约束。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "流程复述：预处理→线性识别→联合拟合→验证→预测→工程判定",
              "description": "是否按子任务给出的6步流程完整复述并保持逻辑顺序。",
              "score": 40,
              "evaluation_focus": "结构化表达",
              "scoring_hint": "高分：6步齐全且顺序正确；中分：缺1–2步或顺序混乱；低分：无流程或偏离任务。"
            },
            {
              "sub_criteria": "线性段与η/Ith0 初估",
              "description": "是否说明在20°C线性段用P对I线性回归得到η与Ith0初值。",
              "score": 30,
              "evaluation_focus": "要点抓取",
              "scoring_hint": "高分：强调线性段选择与阈下噪声剔除；中分：只提线性回归；低分：无初值策略。"
            },
            {
              "sub_criteria": "T0_max(P0≥2 mW)判定方法",
              "description": "是否明确用一维根求解/二分搜索在给定电流下求最大环境温度满足P0≥2 mW，并给出区间。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出根区间与单调性说明；中分：仅口述求根；低分：未提或方法不当。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "η(T) 处理假设",
              "description": "是否合理说明η(T)弱温度依赖或常数η，并给出适用范围与潜在偏差影响。",
              "score": 30,
              "evaluation_focus": "模型假设",
              "scoring_hint": "高分：陈述假设、理由与对残差的影响；中分：仅声明常数；低分：忽略η(T)。"
            },
            {
              "sub_criteria": "Ioff(T) 多项式阶数与稳定性",
              "description": "是否论证用至四阶多项式(a0…a4)的必要性/过拟合风险与正则或界限策略。",
              "score": 30,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：讨论阶数、参数约束或正则；中分：仅给出多项式；低分：无温度漂移项或无约束。"
            },
            {
              "sub_criteria": "V(I) 表征与能耗项 I·V",
              "description": "是否假设并说明使用测量U(I)插值或二极管+串联电阻拟合对 I·V 与 T 的影响。",
              "score": 40,
              "evaluation_focus": "物理一致性",
              "scoring_hint": "高分：比较插值vs等效模型并说明误差影响；中分：仅选其一；低分：忽略V(I)。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "隐式耦合方程与求根框架",
              "description": "是否正确写出 f(P0)=P0−η(T(P0))(I−Ith0−Ioff(T(P0)))，T(P0)=T0+(I·V(P0)−P0)Rth 的数值框架。",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：方程完整且变量依赖清晰；中分：缺少一项；低分：公式错误或不闭合。"
            },
            {
              "sub_criteria": "约束与多起点策略",
              "description": "是否设置η>0,Rth>0,Ith0≥0及a_n合理边界，并采用多起点避免局部极小。",
              "score": 25,
              "evaluation_focus": "算法稳健",
              "scoring_hint": "高分：明确边界与起点设计；中分：仅部分约束；低分：无约束/单起点。"
            },
            {
              "sub_criteria": "线性段识别与鲁棒回归",
              "description": "是否给出阈值以下噪声区间判定与线性段自动检测（如分段回归/Huber权重）。",
              "score": 20,
              "evaluation_focus": "数据工程",
              "scoring_hint": "高分：可复现实施细节；中分：人工选段；低分：未处理。"
            },
            {
              "sub_criteria": "不确定性与验证设计",
              "description": "是否规划协方差估计或bootstrap，并在20°C留出验证避免过拟合。",
              "score": 20,
              "evaluation_focus": "模型验证",
              "scoring_hint": "高分：含方法与留出方案；中分：仅给统计量；低分：无验证。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "非线性最小二乘实现（lsqnonlin/least_squares）",
              "description": "是否采用Levenberg–Marquardt或信赖域并正确构造基于P0求解的残差向量。",
              "score": 35,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：明确算法与残差结构；中分：仅泛称最优化；低分：错误目标函数。"
            },
            {
              "sub_criteria": "稳健一维根求解（brentq/fsolve）",
              "description": "是否为每个(I,T0)点用有界根法并设置容差、初值与收敛判据。",
              "score": 25,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：提供区间与容差；中分：仅调用默认；低分：无根求解或不收敛处理。"
            },
            {
              "sub_criteria": "向量化与并行加速",
              "description": "是否说明在残差评估和等温网格求解中进行向量化/并行以提升效率。",
              "score": 20,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：给出具体策略；中分：笼统提及；低分：无优化且效率低。"
            },
            {
              "sub_criteria": "T0_max 二分/单调性利用",
              "description": "是否利用P0随T0单调性进行二分/根找并给出停止准则与边界设定。",
              "score": 20,
              "evaluation_focus": "求解技巧",
              "scoring_hint": "高分：边界与容差清晰；中分：仅给思路；低分：无可用方法。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "单位统一与数据清洗代码",
              "description": "是否提供将 P、I 单位统一、剔除异常点、识别线性段的可运行代码。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：含检测阈值与日志；中分：部分实现；低分：缺失或不可运行。"
            },
            {
              "sub_criteria": "U(I) 插值/等效模型实现",
              "description": "是否实现U(I)插值或二极管+串联电阻拟合并用于I·V计算。",
              "score": 25,
              "evaluation_focus": "物理实现",
              "scoring_hint": "高分：可切换两种方案；中分：仅其一；低分：未实现。"
            },
            {
              "sub_criteria": "非线性拟合与求根封装",
              "description": "是否封装least_squares+brentq/fsolve并处理失败回退与容差配置。",
              "score": 25,
              "evaluation_focus": "工程健壮",
              "scoring_hint": "高分：有异常捕获与重试；中分：基本可跑；低分：易崩溃。"
            },
            {
              "sub_criteria": "绘制10–90°C L–I曲线与复现性",
              "description": "是否输出多温度曲线图、保存参数与随机种子/配置，保证复现。",
              "score": 20,
              "evaluation_focus": "可视化+复现",
              "scoring_hint": "高分：图清晰、图例/单位正确；中分：图但标注欠缺；低分：无图或单位错误。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "拟合残差与指标报告",
              "description": "是否报告20°C拟合的RMSE/MAE、R²及残差随I的结构性误差分析。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：≥2项指标且讨论偏差来源；中分：单一指标；低分：无量化评估。"
            },
            {
              "sub_criteria": "参数不确定性与置信区间",
              "description": "是否给出参数协方差或bootstrap区间，并量化T0_max的区间估计。",
              "score": 30,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：参数与T0_max均有区间；中分：仅参数或仅T0_max；低分：无区间。"
            },
            {
              "sub_criteria": "等温预测合理性与物理一致性",
              "description": "是否检查10–90°C L–I曲线单调性/阈值漂移趋势与热物理一致。",
              "score": 25,
              "evaluation_focus": "物理校验",
              "scoring_hint": "高分：给出合理趋势与反例排查；中分：定性描述；低分：明显不合物理。"
            },
            {
              "sub_criteria": "工程判定：P0≥2 mW 的T0_max结论",
              "description": "是否清晰给出给定电流(如7.5 mA)的最大环境温度T0_max及其区间与求解方法说明。",
              "score": 15,
              "evaluation_focus": "应用落地",
              "scoring_hint": "高分：数值+区间+方法；中分：仅数值；低分：缺失或与模型矛盾。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2（热耦合、瞬态热模型识别与L–I模型改进）应独立完成对VCSEL器件热行为的建模、参数识别、误差来源分析与针对性改进建议：明确目标为（1）建立并标定包含热时域动态的一阶热模型 Cth dT/dt = (I·V − P0) − (T − T0)/Rth（稳态对应 T = T0 + (I·V − P0)Rth），并在必要时扩展为两结/多结热网络以描述封装或芯片-封装温差；（2）从实验数据中可靠估计热阻 Rth、热时间常数 τth (＝Rth·Cth) 及热容 Cth，并给出参数不确定度；（3）识别热模型与原始静态 L–I 模型误差的主因并提出可实施的模型改进策略（如引入温度依赖的 η(T)、Ioff(T) 的更合适参数化、去嵌电压/功率测量误差、多节点热模型等）；以及（4）提供数值实现与验证流程与诊断标准。为实现上述目标，必须使用的输入数据包括：在若干环境温度 T0（覆盖拟用工作范围）下的稳态 L–I–V 数据（I，P0，V 对应的稳态值）和时间分辨的瞬态响应数据，特别是阶跃或脉冲电流激励下的 P0(t)、V(t)、（必要时）器件表面温度或测得的热响应曲线；瞬态采样率须足以分辨热动力学（建议每个待估 τth 至少10个采样点，采样时长覆盖若干 τth）；数据应包括多组不同幅值的电流阶跃以增强可辨识性。方法步骤精确为：数据预处理（单位统一、去噪、去除异常、对 V(I) 与 P0(I) 做必要的去嵌或校准）；稳态识别——利用稳态方程通过线性回归或受约束最小二乘拟合初步估计 Rth（由稳态 ΔT 与注入功率关系求得，若无直接温度测量则用 P0 与估计 V 推断注入功率）；瞬态辨识——以阶跃响应数据为基础，用数值积分（如 MATLAB ode15s 或 Python scipy.solve_ivp 的刚性求解器）求解热微分方程并采用非线性最小二乘（如 lsqnonlin / scipy.optimize.least_squares，带边界约束和多起点）拟合 τth 和 Cth，同时可并行估计与热耦合相关的其他参数（若模型包含温度依赖的 Ioff(T) 或 η(T) 则在此阶段一起识别）；为了稳健性，采用引导法（bootstrap）或贝叶斯 MCMC（如 emcee）评估参数不确定性与后验分布；若残差显示非单指数衰减或模型拟合不良，依次检验并升级模型为两节点热网络并用信息准则（AIC/BIC）与交叉验证判据选择模型复杂度。误差分析应包括：残差自相关检验、对观测噪声与测量链路误差（尤其 V、P0 的探针/光电测量误差）进行敏感性分析、识别参数共线性（计算雅可比矩阵与条件数）并据此提出实验设计改进（如不同幅值与持续时间的阶跃以增加辨识力）。改进措施应明确可实施项，例如：将 η 从常数改为低阶多项式或指数形式 η(T) 并用稳态与瞬态数据联合拟合；对 Ioff(T) 采用交叉验证选定的多项式阶数或正则化核回归以避免过拟合；在测量链引入去嵌步骤以获得真实的 I·V 与 P0；在封装热影响显著时采用两结热模型并指定其拓扑与额外参数的识别方案。数值与工具建议包括：MATLAB（ode15s、lsqnonlin、Statistics and Optimization Toolboxes）或 Python（scipy, lmfit, emcee），并要求结果输出为标定的 Rth、τth、Cth（含置信区间）、改进后热耦合 L–I 模型的数值实现（可供稳态求解器调用）、拟合残差诊断图、参数敏感度与模型选择指标；交付物还应包含对进一步实验的具体建议以减少参数不可辨识性（例如推荐的阶跃幅度、采样率与测试温度点）。该子任务不涉及小信号频率响应建模或器件设计改进，只聚焦于热模型的建立、参数识别、误差来源分析与可执行的模型改进方案及其验证流程。",
      "criteria": {
        "task_understanding": {
          "core_goal": "拟合与评估包含热耦合的一阶/两节点瞬态热模型以预测VCSEL功率曲线与温度动态，并识别Rth、τth、Cth等参数及其不确定度",
          "expected_output": "数值化参数集{Rth, Cth, τth(=Rth·Cth), 以及两节点扩展参数}及置信区间；改进后热耦合L–I模型的可调用实现/代码；稳态与阶跃下P0(t)、T(t)仿真与实测对比图；残差诊断图与AIC/BIC；参数敏感度与条件数；可执行的实验改进建议",
          "key_inputs_constraints": "输入数据：多温度T0下稳态L–I–V数据(I, P0, V)；时间分辨阶跃或脉冲下的P0(t)、V(t)（采样率覆盖≥10点/τth，时长≥数个τth）；单位统一（A、V、W、℃）；必要时包含表面温度或热响应曲线；需含多组不同幅值阶跃以增强可辨识性；测量链去嵌（获得真实I·V与P0）",
          "modeling_type": "拟合+仿真+评价",
          "role_in_pipeline": "作为静态L–I模型后的热动态扩展与改进环节；前序依赖：子任务一的静态模型与数据清洗；后序衔接：带宽/小信号模型与系统级仿真验证",
          "assumptions": "若缺少直接温度测量，则通过注入功率I·V与P0推断ΔT；η(T)、Ioff(T)可在瞬态拟合阶段与热参联动估计并以低阶多项式正则化"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别热耦合瞬态目标与参数（Rth、Cth、τth）",
              "description": "明确本任务需从阶跃P0(t)、V(t)数据拟合Rth、Cth、τth，并用于预测VCSEL温度动态与稳态功率曲线",
              "score": 35,
              "evaluation_focus": "需求定位",
              "scoring_hint": "高分：点名三参及其由阶跃数据识别；中分：只提Rth或τth；低分：仅谈静态L–I或忽略瞬态"
            },
            {
              "sub_criteria": "数据要求与约束（采样率≥10点/τth，时长≥数τth）",
              "description": "清晰提出瞬态采样与时长约束及多幅值阶跃的辨识性需求",
              "score": 25,
              "evaluation_focus": "实验设计",
              "scoring_hint": "高分：量化采样与时长并要求多阶跃；中分：笼统提足够采样；低分：未提数据质量要求"
            },
            {
              "sub_criteria": "误差来源识别（测量链去嵌、V与P0误差）",
              "description": "指出V(I)、P0测量误差与去嵌对Rth、τth估计的影响与必要性",
              "score": 20,
              "evaluation_focus": "误差意识",
              "scoring_hint": "高分：列举光电转换、探头、热迟滞等并提去嵌；中分：泛提噪声；低分：未涉及误差"
            },
            {
              "sub_criteria": "模型升级触发条件（两节点热网络）",
              "description": "说明非单指数残差或封装效应显著时需升级两结模型",
              "score": 20,
              "evaluation_focus": "模型选择",
              "scoring_hint": "高分：给出非单指数/残差自相关为触发；中分：仅提可能需要更复杂模型；低分：不知何时升级"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "稳态与瞬态方程复述",
              "description": "准确写出Cth dT/dt=(I·V−P0)−(T−T0)/Rth与稳态T=T0+(I·V−P0)Rth并解释物理量",
              "score": 30,
              "evaluation_focus": "数理表达",
              "scoring_hint": "高分：两式齐全且变量含义清晰；中分：缺一式或符号含糊；低分：方程错误"
            },
            {
              "sub_criteria": "与L–I模型耦合关系复述",
              "description": "说明P0与η(T)、Ioff(T)耦合及V(I)在热方程中作用",
              "score": 30,
              "evaluation_focus": "耦合理解",
              "scoring_hint": "高分：阐明T通过η/Ioff影响P0，V影响注入功率；中分：只提温度影响；低分：割裂两模型"
            },
            {
              "sub_criteria": "输入输出与验证产物复述",
              "description": "列出输入(L–I–V、阶跃P0(t)、V(t))，输出(参数+置信区间、残差图、AIC/BIC)",
              "score": 40,
              "evaluation_focus": "范围界定",
              "scoring_hint": "高分：输入输出完整且对齐任务；中分：缺少不确定性或指标；低分：泛泛而谈"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "采样充分性与辨识性假设",
              "description": "假设每τth≥10采样且时长覆盖≥3–5τth，多幅值阶跃可分离Rth与Cth",
              "score": 30,
              "evaluation_focus": "可识别性",
              "scoring_hint": "高分：量化阈值并解释作用；中分：仅提足够长；低分：无假设"
            },
            {
              "sub_criteria": "η(T)、Ioff(T)参数化与正则化假设",
              "description": "假设低阶多项式或指数形式并说明避免过拟合的正则/交叉验证策略",
              "score": 30,
              "evaluation_focus": "模型先验",
              "scoring_hint": "高分：给出阶数选择与CV/信息准则；中分：仅说多项式；低分：固定常数无依据"
            },
            {
              "sub_criteria": "测量链去嵌与噪声模型假设",
              "description": "假设V与P0含系统偏差，采用去嵌与加性高斯噪声以便最小二乘/MCMC",
              "score": 25,
              "evaluation_focus": "误差建模",
              "scoring_hint": "高分：说明去嵌步骤与噪声分布；中分：只提噪声；低分：忽略测量误差"
            },
            {
              "sub_criteria": "单/双节点热模型适用域假设",
              "description": "定义单节点适用于单指数残差，小功率范围；两节点适用于封装主导或双时常",
              "score": 15,
              "evaluation_focus": "适用性",
              "scoring_hint": "高分：清晰界定并可检验；中分：模糊描述；低分：无适用域"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "一阶热模型与两节点拓扑构建",
              "description": "给出单节点与芯片-封装两节点RC网络方程、参数清单与物理含义",
              "score": 30,
              "evaluation_focus": "建模推导",
              "scoring_hint": "高分：方程完整且可实现；中分：缺参数或方程不全；低分：仅口述概念"
            },
            {
              "sub_criteria": "η(T)、Ioff(T)与V(I)耦合集成",
              "description": "在热方程中显式嵌入η(T)、Ioff(T)、V(I)或其拟合，并说明选择依据",
              "score": 25,
              "evaluation_focus": "系统集成",
              "scoring_hint": "高分：给出具体函数与标定策略；中分：仅提依赖；低分：未集成"
            },
            {
              "sub_criteria": "物理约束与边界条件",
              "description": "设置η>0, Rth>0, Cth>0, τth>0，温度与功率边界与初始条件T(0)=T0",
              "score": 20,
              "evaluation_focus": "物理一致",
              "scoring_hint": "高分：列出并用于约束优化；中分：部分提及；低分：无约束导致非物理解"
            },
            {
              "sub_criteria": "模型选择准则与复杂度控制",
              "description": "使用AIC/BIC与交叉验证选择多项式阶数与单/双节点结构",
              "score": 25,
              "evaluation_focus": "模型选择",
              "scoring_hint": "高分：明确准则与阈值；中分：仅提AIC/BIC；低分：无选择依据"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "稳态Rth初估与注入功率计算",
              "description": "用稳态ΔT与(I·V−P0)的线性关系初估Rth（或通过P0-V-I推断ΔT）",
              "score": 25,
              "evaluation_focus": "参数初值",
              "scoring_hint": "高分：提供线性回归步骤与稳健处理；中分：仅口述；低分：无初估"
            },
            {
              "sub_criteria": "瞬态拟合（lsqnonlin/least_squares+solve_ivp/ode15s）",
              "description": "采用刚性求解器数值积分并用受约束非线性最小二乘拟合τth与Cth，多起点避免局部极小",
              "score": 35,
              "evaluation_focus": "数值优化",
              "scoring_hint": "高分：给出求解器、边界与收敛准则；中分：仅提拟合；低分：缺方法细节"
            },
            {
              "sub_criteria": "不确定性评估（bootstrap或MCMC）",
              "description": "通过引导法或emcee获得参数置信区间/后验分布并报告",
              "score": 20,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：实现并量化区间；中分：仅定性；低分：无评估"
            },
            {
              "sub_criteria": "残差诊断与自相关检验",
              "description": "检验非单指数残差、自相关与异方差，指导两节点升级",
              "score": 20,
              "evaluation_focus": "诊断能力",
              "scoring_hint": "高分：提供统计检验或图示标准；中分：肉眼判断；低分：未诊断"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数值稳定与求解器选择（ode15s/solve_ivp stiff）",
              "description": "选择适配刚性的求解器、步长/容差设置，并处理收敛失败回退策略",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：给出rtol/atol与失败重试；中分：默认设置；低分：不稳定或崩溃"
            },
            {
              "sub_criteria": "受约束优化与多起点并行",
              "description": "实现边界约束、物理约束与多起点/并行加速，避免局部极小",
              "score": 25,
              "evaluation_focus": "算法工程",
              "scoring_hint": "高分：并行与约束齐备；中分：单次拟合；低分：无约束"
            },
            {
              "sub_criteria": "数据预处理与去嵌管线",
              "description": "单位统一、异常值剔除、V(I)与P0去嵌、同步与重采样",
              "score": 20,
              "evaluation_focus": "数据工程",
              "scoring_hint": "高分：完整可复现；中分：部分实现；低分：直接生数据入模"
            },
            {
              "sub_criteria": "可复用接口与文档化",
              "description": "提供热耦合L–I模型API（稳态/瞬态预测）与示例脚本、注释",
              "score": 25,
              "evaluation_focus": "可用性",
              "scoring_hint": "高分：清晰API与示例；中分：零散代码；低分：难以复用"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "拟合优度与对比图（P0(t)、T(t)与实测）",
              "description": "提供时间域对比、稳态曲线、误差指标（RMSE/MAE）与阈值判断",
              "score": 30,
              "evaluation_focus": "结果呈现",
              "scoring_hint": "高分：图+指标量化；中分：仅图或仅指标；低分：无定量"
            },
            {
              "sub_criteria": "模型选择与AIC/BIC、交叉验证",
              "description": "报告单/双节点与η(T)/Ioff(T)阶数选择的AIC/BIC与CV结果",
              "score": 25,
              "evaluation_focus": "模型评价",
              "scoring_hint": "高分：清楚对比并选优；中分：单一指标；低分：无依据选择"
            },
            {
              "sub_criteria": "敏感度与共线性分析（雅可比条件数）",
              "description": "量化参数敏感度、条件数并讨论可辨识性与实验改进",
              "score": 25,
              "evaluation_focus": "稳健性分析",
              "scoring_hint": "高分：提供条件数/局部灵敏度；中分：定性讨论；低分：未分析"
            },
            {
              "sub_criteria": "可实施改进建议",
              "description": "提出η(T)正则化、Ioff(T)阶数选择、去嵌流程、两节点拓扑与新实验方案（阶跃幅度、采样率、温度点）",
              "score": 20,
              "evaluation_focus": "可执行建议",
              "scoring_hint": "高分：具体数值与操作；中分：方向性建议；低分：笼统或脱题"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务 3（小信号幅频响应 S21 的建模、参数反演与温度/偏置影响分析）应独立完成以下工作：输入为题目提供的频域测量文件（例如 S21_5.mat，包含频率向量 f、幅度 S21(dB)、以及对应的偏置电流 I_b 和环境温度 Ta）和对应工况下的稳态输出光功率 P0（在没有该稳态值时应由实验数据给出或在同一测量条件下先行测量），任务目标是建立一个可解释且可拟合的小信号幅频响应模型 H(jω) = s(ω)/i(ω)，通过分层拟合方法从测得的 S21 曲线反演出关键物理参数并分析温度与偏置电流对带宽的影响；具体步骤和方法如下：1) 预处理与基准稳态：确认频率范围与采样（例如 0–30 GHz、步进 0.5 GHz，与提供数据一致），将测得 S21(dB)转换为线性幅度并校正测量噪声，确保使用对应工况的稳态光功率 P0 并据此定义稳态光子数 S_s = P0/k（若比例因子 k 未知，作为拟合参数处理）；2) 速率方程线性化并导出频域传递函数：以标准速率方程为起点（载流子/光子方程含差分增益 g 或 G0、载流子寿命 τn、光子寿命 τp、增益压缩 ε、耦合系数 β 等），在稳态点对小扰动线性化并做傅里叶变换，消去载流子量得到从电流扰动 i(ω) 到光子扰动 s(ω) 的解析或半解析传递函数表达式；3) 分层拟合策略——第一层以参数化二阶谐振近似 H2(jω)=H0·ω_r^2/(ω_r^2−ω^2 + j ω γ) 对测得幅度进行快速拟合（拟合参数 H0、ω_r、γ），采用 Levenberg–Marquardt 或信赖域最小二乘算法，拟合目标可选择线性幅度误差的最小二乘或 dB 误差加权最小二乘（注意在 dB 空间加权需谨慎）；4) 物理参数映射与第二层拟合——将拟合出的 ω_r、γ 与稳态 S_s 的关系用于反算物理量（例如 ω_r^2 ≈ (g·S_s)/τp，γ 与 ε、S_s、τp 的组合），并在此基础上构建物理参数向量 θ_phys = {g, τp, ε, k, …}；用该向量在完整线性化模型中数值计算 H_model(jω; θ_phys) 并以频域幅度与测量数据作精调拟合，采用约束非线性最小二乘并施加物理边界（如 g>0, τp>0, 0≤ε≤合理上限）；5) 处理外部/测量链影响：若测量链或探针引入显著低阶电路效应，应在模型中并入简单去嵌电路（例如串联 RLC 或并联 RC 元件，或者以低阶 S参数模型表示）并在联合拟合中一并识别其参数以避免将外部效应误归因于激光器内部参数；6) 统计与不确定性：计算参数协方差或采用自助（bootstrap）/贝叶斯 MCMC（如 emcee）评估参数不确定度和后验分布，报告拟合残差、拟合优度指标（例如归一化均方根误差、R^2）、以及频域的置信区间带；7) 温度与偏置敏感性分析：在具有物理意义的参数化关系上，通过改变稳态 P0（对应不同偏置 I）和将温度作为参数（允许 g、τp、ε 等随温度变化的经验函数）计算并绘制一系列 S21 曲线，量化 ω_r、γ、3 dB 与 10 dB 带宽随温度与偏置的函数关系；8) 输出与验证：必须给出至少一条在 20°C、7.5 mA 的仿真输出曲线以与 S21_5.mat 数据对比并给出拟合参数（含不确定度），同时输出用于不同温度与偏置情况下的预测 S21 曲线文件、参数表、模型实现代码（MATLAB 或 Python，建议使用 scipy.optimize / lmfit 用于最小二乘拟合，若需贝叶斯推断可用 emcee 或 pymc3），以及对模型拟合稳健性的诊断图（残差图、权重敏感性、参数相关性矩阵）。约束与实现注意事项：对各拟合步骤使用物理边界与多起点初始化以避免局部最优；优先从二阶近似入手以获得稳定初值，再转向完整线性化模型以提升物理可解释性；在拟合时对低信噪比频段可采用频率加权或剔除，以防不良点主导结果。",
      "criteria": {
        "task_understanding": {
          "core_goal": "基于 S21_5.mat 等频域数据对VCSEL小信号幅频响应S21进行拟合与参数反演，并预测温度与偏置电流变化下的带宽曲线与指标",
          "expected_output": "20°C、7.5 mA 工况的仿真S21曲线与测量对比图；不同温度/偏置下预测S21曲线图与3dB/10dB带宽表；分层拟合得到的参数表（H0、ω_r、γ 及物理参数 g、τp、ε、k 等，含不确定度）；拟合残差与置信区间图；可运行的模型与拟合代码",
          "key_inputs_constraints": "输入：S21_5.mat（f, S21(dB), I_b, Ta）、对应工况的稳态光功率P0；约束：频率范围应覆盖0–30 GHz（或以数据为准），S21需从dB转线性；物理边界 g>0, τp>0, 0≤ε≤上限，k>0；拟合流程需多起点与受约束最小二乘；若测量链显著影响需并入去嵌电路；输出至少包含20°C、7.5 mA的仿真曲线",
          "modeling_type": "拟合+仿真+评价",
          "role_in_pipeline": "作为频域小信号模型构建与参数识别环节，依赖前序稳态P0（由子任务一获得或实验提供），为后续温度/偏置敏感性分析与带宽优化提供参数与仿真工具；前序：数据预处理与稳态P0测定；后序：温度/偏置影响分析与带宽指标汇总",
          "assumptions": "若未提供P0，允许将比例因子k与P0合并为待估等效量；频率端点与步进按数据文件为准，低SNR频段可加权或剔除"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别核心目标：S21拟合与参数反演",
              "description": "明确任务是对VCSEL小信号S21进行分层拟合（H2近似→完整线性化模型），并反演 g、τp、ε、k 等物理参数，而非仅作曲线平滑或插值。",
              "score": 30,
              "evaluation_focus": "任务界定",
              "scoring_hint": "高分：清楚提出“分层拟合+物理反演”；中分：只提拟合未强调物理反演；低分：将任务误解为仅绘图或统计回归"
            },
            {
              "sub_criteria": "输入与约束识别：S21_5.mat、P0、物理边界",
              "description": "点名使用 f、S21(dB)、I_b、Ta 以及稳态P0，并指出 dB→线性转换与 g>0、τp>0、0≤ε 的物理约束。",
              "score": 25,
              "evaluation_focus": "要件把握",
              "scoring_hint": "高分：完整列出变量与边界；中分：缺少1–2项或边界未提；低分：未说明关键输入或无边界"
            },
            {
              "sub_criteria": "工况要求：20°C、7.5 mA对比曲线",
              "description": "强调必须输出20°C、7.5 mA仿真S21与数据对比，作为基准验证。",
              "score": 20,
              "evaluation_focus": "需求抓取",
              "scoring_hint": "高分：明确将其设为硬性输出；中分：提及但未设为必需；低分：未提到"
            },
            {
              "sub_criteria": "温度/偏置影响与带宽指标（3dB/10dB）",
              "description": "识别需量化ω_r、γ、3dB/10dB带宽随温度Ta与偏置I_b的变化。",
              "score": 25,
              "evaluation_focus": "指标定义",
              "scoring_hint": "高分：同时覆盖3dB与10dB并关联Ta、I_b；中分：仅一个指标或只随其一变量；低分：未定义指标"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述分层拟合流程（H2→物理模型）",
              "description": "清晰转述先拟合 H2(jω)=H0·ω_r^2/(ω_r^2−ω^2+jωγ)，后映射到 g、τp、ε、k 并再精调完整线性化模型。",
              "score": 30,
              "evaluation_focus": "流程把握",
              "scoring_hint": "高分：步骤顺序与目标一致；中分：顺序不全；低分：混淆或遗漏关键层次"
            },
            {
              "sub_criteria": "数据预处理与S21(dB)→线性幅度",
              "description": "复述需进行频率范围确认、dB到线性转换、噪声加权/剔除及P0一致性校验。",
              "score": 25,
              "evaluation_focus": "数据理解",
              "scoring_hint": "高分：覆盖转换与加权/剔除；中分：只提转换；低分：未提预处理"
            },
            {
              "sub_criteria": "物理边界与多起点约束",
              "description": "复述采用受约束最小二乘与多起点以避免局部最优，边界如 g>0、τp>0、0≤ε。",
              "score": 25,
              "evaluation_focus": "约束意识",
              "scoring_hint": "高分：同时提到边界与多起点；中分：仅其一；低分：均未提"
            },
            {
              "sub_criteria": "输出要求：对比图、带宽曲线、参数不确定度",
              "description": "复述必须输出20°C、7.5 mA对比，温度/偏置系列曲线，参数表与不确定度评估。",
              "score": 20,
              "evaluation_focus": "产出对齐",
              "scoring_hint": "高分：四项齐全；中分：缺少1项；低分：缺少≥2项"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "稳态光功率P0与比例因子k的处理",
              "description": "若缺失P0，声明以k为待估或以等效尺度合并，阐明对S_s与ω_r映射的影响。",
              "score": 25,
              "evaluation_focus": "合理假设",
              "scoring_hint": "高分：清楚量纲与映射影响；中分：仅说明缺失处理；低分：未处理或错误假设"
            },
            {
              "sub_criteria": "二阶谐振近似H2适用性",
              "description": "说明H2近似在单主极点-零点对/弱测量链影响下有效，必要时扩展外部RC/RLC去嵌。",
              "score": 25,
              "evaluation_focus": "模型适用",
              "scoring_hint": "高分：给出适用前提与扩展条件；中分：只给前提或扩展；低分：无说明"
            },
            {
              "sub_criteria": "温度/偏置对 g、τp、ε 的依赖形式",
              "description": "提出经验函数（如线性或低阶多项式）并限定物理边界，避免过拟合。",
              "score": 25,
              "evaluation_focus": "参数化选择",
              "scoring_hint": "高分：函数形式+边界+过拟合控制；中分：函数或边界其一；低分：未设函数关系"
            },
            {
              "sub_criteria": "频段权重与低SNR处理",
              "description": "假设对噪声主导频段采用加权或剔除并给出准则（如阈值或频带）。",
              "score": 25,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：具体阈值/频带策略；中分：仅笼统说明；低分：未处理噪声频段"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "速率方程线性化到 H(jω) 推导",
              "description": "给出由载流子/光子方程到频域H(jω)=s(ω)/i(ω)的关键推导与变量定义（g, τn, τp, ε, β）。",
              "score": 30,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：变量清晰、方程自洽；中分：缺少部分环节；低分：无推导或不一致"
            },
            {
              "sub_criteria": "二阶近似H2参数化（H0、ω_r、γ）",
              "description": "构造H2(jω)=H0·ω_r^2/(ω_r^2−ω^2+jωγ)并说明与完整模型参数的映射关系。",
              "score": 25,
              "evaluation_focus": "模型抽象",
              "scoring_hint": "高分：含映射关系；中分：仅给形式；低分：未建立H2"
            },
            {
              "sub_criteria": "外部测量链去嵌模型并联/串联RC/RLC",
              "description": "在需要时加入简单电路块并定义其在频域的乘性/加性影响与待估参数。",
              "score": 20,
              "evaluation_focus": "系统建模",
              "scoring_hint": "高分：给出具体电路与传递函数；中分：只提去嵌无细节；低分：未考虑去嵌"
            },
            {
              "sub_criteria": "温度/偏置参数化（g(T,I)、τp(T,I)、ε(T,I)）",
              "description": "给出可拟合的低阶函数并保证物理边界，避免参数发散。",
              "score": 25,
              "evaluation_focus": "参数设计",
              "scoring_hint": "高分：函数+边界+正则思想；中分：函数或边界其一；低分：未参数化"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "H2层快速拟合（Levenberg–Marquardt/信赖域）",
              "description": "以线性幅度或加权dB误差最小二乘拟合 H0、ω_r、γ，报告拟合优度。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：算法、误差度量与优度齐全；中分：缺少其一；低分：未说明方法"
            },
            {
              "sub_criteria": "物理参数精调（受约束最小二乘，多起点）",
              "description": "使用完整线性化模型拟合 g、τp、ε、k 等并施加 g>0、τp>0、0≤ε≤上限。",
              "score": 30,
              "evaluation_focus": "数值优化",
              "scoring_hint": "高分：边界+多起点+收敛性报告；中分：缺少其中一项；低分：无约束或单起点"
            },
            {
              "sub_criteria": "不确定度评估（协方差/Bootstrap/MCMC）",
              "description": "输出参数方差/置信区间并提供残差统计与频域置信带。",
              "score": 20,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：区间+残差图+置信带；中分：仅区间或残差；低分：无评估"
            },
            {
              "sub_criteria": "带宽计算（3dB/10dB）与鲁棒性",
              "description": "从拟合S21提取3dB/10dB带宽，说明插值/求根方法及对噪声的稳健处理。",
              "score": 20,
              "evaluation_focus": "指标计算",
              "scoring_hint": "高分：方法清晰且稳健；中分：方法简略；低分：未给或错误计算"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据预处理与dB↔线性转换正确性",
              "description": "实现 S21(dB)→线性、频率筛选/加权、P0读取或k参数化，含输入校验。",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：完备校验与单元测试；中分：有转换无校验；低分：转换错误或缺失"
            },
            {
              "sub_criteria": "拟合管线实现（H2层与物理层）",
              "description": "提供可复现的两层最小二乘流程，含边界与多起点；支持并行或向量化。",
              "score": 35,
              "evaluation_focus": "工程实现",
              "scoring_hint": "高分：参数可重现、随机种子、并行/向量化；中分：流程可跑但效率低；低分：流程断裂或不可复现"
            },
            {
              "sub_criteria": "去嵌模块与可选开关",
              "description": "代码中可选启用RC/RLC去嵌并自动判别是否需要（如依据残差形态）。",
              "score": 15,
              "evaluation_focus": "模块化设计",
              "scoring_hint": "高分：模块化与判别逻辑；中分：仅硬编码去嵌；低分：无去嵌支持"
            },
            {
              "sub_criteria": "结果输出：图表与参数不确定度",
              "description": "自动生成20°C、7.5 mA对比图、预测曲线、带宽表、参数表与置信区间。",
              "score": 25,
              "evaluation_focus": "可复用性",
              "scoring_hint": "高分：一键产出且格式规范；中分：手动拼接；低分：输出缺失"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "20°C、7.5 mA对比与误差指标",
              "description": "报告归一化均方根误差/MAE或dB误差，并讨论频段误差分布与可能原因。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：数值指标+频段诊断；中分：仅给整体误差；低分：无定量误差"
            },
            {
              "sub_criteria": "参数物理可解释性（g、τp、ε、k）",
              "description": "讨论参数量级是否合理并与文献或经验范围对比，指出不合理之处与可能的去嵌/模型修正。",
              "score": 25,
              "evaluation_focus": "物理一致性",
              "scoring_hint": "高分：定量对比与修正建议；中分：定性评价；低分：无讨论"
            },
            {
              "sub_criteria": "温度与偏置敏感性：ω_r、γ、3dB/10dB趋势",
              "description": "量化ω_r与带宽随Ta、I_b的变化，给出曲线或表并解释机理（如g与τp变化）。",
              "score": 25,
              "evaluation_focus": "敏感性分析",
              "scoring_hint": "高分：趋势图+机理分析；中分：仅趋势；低分：无敏感性结果"
            },
            {
              "sub_criteria": "稳健性与不确定度传播",
              "description": "展示置信带覆盖S21与带宽区间，并说明对低SNR频段的权重敏感性或剔除影响。",
              "score": 20,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：置信带+敏感性实验；中分：仅置信带；低分：无不确定性讨论"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（模型验证、灵敏度与不确定性量化、计算实现与加速与设计优化工具箱）应当作为独立、可执行的工作包，其目标是在给定实验数据集与已实现物理/半物理模型的基础上系统地评估模型预测精度与鲁棒性、量化关键参数对工程指标（如稳态输出功率P0、3 dB/10 dB带宽f3dB/f10dB和“最大允许工作温度”临界值）的敏感度与不确定度，开发并验证可替代的快速代理模型以用于设计优化和实时估算，并提供可复现的计算实现与性能对比；为实现这些目标，本子任务须包括如下必要步骤與方法：1) 明确输入数据与预处理：列出并读取用于验证的数据集（多温度点与多偏置电流下的稳态 L–I–V 测量、频域 S21 曲线、以及热瞬态阶跃响应），进行单位统一、噪声过滤、异常点检测、并对频域测量执行去嵌或给出去嵌方案；2) 验证指标与残差分析：定义并计算多种拟合与预测误差指标（均方根误差 RMSE、归一化 RMSE、R^2、频域 dB 误差统计），绘制残差随电流/温度/频率的分布与自相关图，检验系统误差与频率依赖偏差；3) 局部与全局灵敏度分析：先计算模型输出对参数的局部灵敏度与雅可比矩阵、参数协方差与条件数以识别可辨识性的弱点，再采用全局灵敏度方法（Sobol 或方差分解，使用 SALib 或等效工具）评估各参数对目标指标的总效应与一阶效应并输出参数排序；4) 不确定性量化（UQ）：基于估计的参数协方差做线性近似置信区间，并进一步通过非线性蒙特卡洛传播（多参数样本）或贝叶斯方法（MCMC，如 emcee/pymc）获得参数后验与预测的置信区间（建议给出 90%/95% 区间），为工程阈值判断（例如 P0≥2 mW 的最大环境温度）提供置信下界/上界；5) 模型选择与复杂度控制：用信息准则（AIC、BIC）与交叉验证（leave-one-temperature-out 或 k-fold）比较候选模型/项（例如热一结 vs 两结、η(T) 多项式阶数），并据此决定最终复杂度；6) 数值实现与求解器策略：指定求解与拟合工具链（推荐使用 Python：numpy/scipy.optimize（least_squares, trust-region）, lmfit, scipy.integrate.solve_ivp（BDF）或 MATLAB: lsqnonlin, ode15s），在拟合中采用约束与多起点初始化并记录收敛统计，处理刚性方程时采用隐式求解并并行化参数扫描以提高效率；7) 代理/加速模型开发：基于高保真模型的输入—输出训练数据，构建并比较多种快速代理（低阶物理参数化二阶传递函数、基于高斯过程的标定残差模型、或小型神经网络映射 (I,T,f)→S21 与 (I,T)→P0），采用交叉验证评估代理的速度-精度权衡，并报告代理训练时间、单次预测延迟及在关键指标上的近似误差；8) 设计优化接口与实用化：基于最终验证通过的（高保真或代理）模型实现约束优化示例（例如在满足 P0(20°C,Iref)≥Pmin 与热/阈值约束下最大化 f10dB），使用确定性（信赖域、SQP）或启发式算法（差分进化）并给出最优设计的参数敏感度与可行域图示；9) 报告与交付物：交付应包括可执行代码与脚本（数据读入、拟合、灵敏度、UQ、代理训练、优化）、完整的可复现实验日志、参数估计表及其不确定度、误差与残差图、灵敏度排名、代理模型性能对比表、优化结果与 Pareto 前沿（若适用）、以及对后续实验改进的具体建议（哪些额外测点或阶跃激励能最大提升参数可辨识性）；10) 计算资源与并行策略：说明所需的硬件资源与并行化方案（多核 CPU 并行化拟合/蒙特卡洛样本，或 GPU 用于神经网络代理训练），并给出预计运行时间量级估计与性能瓶颈。整个子任务应以可自动化的脚本化流程实现、对外明确输入/输出接口与数据格式，并在报告中清晰列出假设与适用范围，以便他人复现与将工具嵌入后续设计流程。",
      "criteria": {
        "task_understanding": {
          "core_goal": "系统性评估并量化已建 VCSEL L–I/热/小信号模型的预测误差、灵敏度与不确定性，开发快速代理模型并用于带宽与最大允许工作温度等工程指标的优化与验证。",
          "expected_output": "误差与残差报表（RMSE、NRMSE、R^2、频域dB误差）、残差分布与自相关图、参数协方差与条件数、Sobol全局灵敏度排名、UQ置信区间（90%/95%）与P0≥2 mW临界温度区间、AIC/BIC与交叉验证结果、数值求解与并行日志、代理模型文件与速度-精度对比表、优化结果与可行域/Pareto图、可执行代码与脚本。",
          "key_inputs_constraints": "输入：多温度多偏置的稳态L–I–V数据、S21频域曲线、热阶跃瞬态；前序已标定的高保真物理/半物理模型与参数后验或协方差；约束：单位统一、频域去嵌/或提供去嵌方案、物理边界（η>0,Rth>0,τp>0,ε≥0）；需提供20°C、7.5 mA的对比基准；计算资源可并行（CPU/GPU）。",
          "modeling_type": "评价+拟合+预测+优化",
          "role_in_pipeline": "作为最终验证与工具化环节，依赖前序子任务1–3的模型与数据；向后提供设计优化与快速评估接口。前序：静态L–I参数识别、热瞬态模型、S21小信号模型。后序：工程设计决策与实验追加测点规划。",
          "assumptions": "若部分数据缺失（如稳态P0对应S21测点）则以同工况最近测量或高保真模型外推并在UQ中反映额外不确定性；采用Python工具链（numpy/scipy/SALib/emcee）为默认实现。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "验证与评估目标界定（RMSE/NRMSE/R^2与频域dB误差）",
              "description": "是否明确区分稳态L–I–V与频域S21的误差指标，并给出RMSE、NRMSE、R^2及dB误差的定义与计算范围（如0–30 GHz）。",
              "score": 30,
              "evaluation_focus": "评价指标设计",
              "scoring_hint": "高分：给出清晰公式与频段/电流段并实现统计；中分：指标有定义但不全或范围不清；低分：仅口述或缺失关键指标。"
            },
            {
              "sub_criteria": "不确定性与灵敏度需求识别（Sobol/协方差）",
              "description": "是否明确需要局部雅可比与全局Sobol两类灵敏度，并指出参数协方差来源（前序拟合或近似）。",
              "score": 25,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：同时规划局部与全局并说明用途；中分：只做其一；低分：未识别或混淆灵敏度概念。"
            },
            {
              "sub_criteria": "工程指标与阈值（P0≥2 mW与f3dB/f10dB）",
              "description": "是否将最大允许工作温度、3 dB/10 dB带宽作为核心判据并与UQ联动输出区间。",
              "score": 25,
              "evaluation_focus": "需求提炼",
              "scoring_hint": "高分：指标明确且与UQ耦合；中分：指标有但无区间；低分：未将工程阈值纳入评估。"
            },
            {
              "sub_criteria": "数据前置条件与去嵌识别",
              "description": "是否识别单位统一、异常点处理、S21测量链去嵌为必要步骤并提出方法。",
              "score": 20,
              "evaluation_focus": "数据规范",
              "scoring_hint": "高分：列出步骤与可执行方法；中分：仅概述；低分：忽略或模糊。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "核心目标重述（评估+UQ+代理+优化）",
              "description": "准确复述为评估预测精度、量化不确定性、训练代理模型并进行工程优化的综合任务。",
              "score": 30,
              "evaluation_focus": "表达准确性",
              "scoring_hint": "高分：四要素齐全且边界清晰；中分：缺1项；低分：偏离或不成体系。"
            },
            {
              "sub_criteria": "输入/输出映射与依赖关系",
              "description": "清晰阐述输入（L–I–V、S21、阶跃）到输出（误差报表、UQ区间、优化解、代码）的映射与依赖前序模型。",
              "score": 30,
              "evaluation_focus": "流程把握",
              "scoring_hint": "高分：列出映射表述具体；中分：部分缺失；低分：未体现依赖。"
            },
            {
              "sub_criteria": "约束与边界条件复述（η>0,Rth>0等）",
              "description": "是否重述物理边界与频段/温度/偏置工作域限制并在评估中应用。",
              "score": 20,
              "evaluation_focus": "约束意识",
              "scoring_hint": "高分：落实到计算/筛选；中分：只口述；低分：未提。"
            },
            {
              "sub_criteria": "性能与并行化要求",
              "description": "复述并行策略与资源假设（CPU多核、GPU用于代理），并提出加速目标（如样本/秒）。",
              "score": 20,
              "evaluation_focus": "实现意识",
              "scoring_hint": "高分：量化目标与方案；中分：笼统描述；低分：忽略性能。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "数据完整性与替代策略假设",
              "description": "在缺失P0或去嵌信息时，是否设定可追踪的替代（近邻工况或模型外推）并在UQ放大不确定性。",
              "score": 30,
              "evaluation_focus": "假设严谨性",
              "scoring_hint": "高分：明确外推范围与不确定性放大倍数/先验；中分：有替代无量化；低分：直接忽略缺失。"
            },
            {
              "sub_criteria": "误差模型假设（高斯/频带权重）",
              "description": "对时域/频域误差分布、加权（如高频低SNR段权重降低）的明确假设并用于评估。",
              "score": 25,
              "evaluation_focus": "统计建模",
              "scoring_hint": "高分：说明权重函数或分布检验；中分：泛述；低分：未设误差模型。"
            },
            {
              "sub_criteria": "参数先验与边界（AIC/BIC选择影响）",
              "description": "对参数先验/边界与模型复杂度选择的假设可追溯并用于信息准则比较。",
              "score": 25,
              "evaluation_focus": "模型选择",
              "scoring_hint": "高分：先验/边界明确且用于AIC/BIC；中分：只给边界；低分：无先验与选择标准。"
            },
            {
              "sub_criteria": "独立同分布与残差相关性处理",
              "description": "说明是否假设独立同分布；若残差自相关存在，给出修正（如Newey–West或重采样）。",
              "score": 20,
              "evaluation_focus": "统计稳健性",
              "scoring_hint": "高分：检测与修正并实现；中分：检测未修正；低分：未检测。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "验证指标体系与残差分析框架",
              "description": "构建RMSE/NRMSE/R^2与dB误差、QQ图、ACF/PACF等残差分析流程并可复现。",
              "score": 25,
              "evaluation_focus": "评价体系",
              "scoring_hint": "高分：流程脚本化且跨数据集复用；中分：手工步骤多；低分：零散或缺失关键图。"
            },
            {
              "sub_criteria": "局部雅可比与全局Sobol灵敏度实现",
              "description": "推导/数值微分获得雅可比与条件数；用SALib进行Sobol一阶/总效应并校验收敛。",
              "score": 25,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：给出采样量与收敛检验；中分：仅一次评估；低分：只口述或实现错误。"
            },
            {
              "sub_criteria": "不确定性量化管线（协方差+MCMC/MC）",
              "description": "线性近似区间+非线性蒙特卡洛/贝叶斯MCMC生成90%/95%预测区间与参数后验。",
              "score": 25,
              "evaluation_focus": "统计推断",
              "scoring_hint": "高分：同时给出两类区间并一致性对比；中分：仅其一；低分：无区间或不可复现。"
            },
            {
              "sub_criteria": "模型选择与复杂度控制（AIC/BIC+CV）",
              "description": "建立一结/两结、η(T)阶数等候选集，采用AIC/BIC与leave-one-temperature-out交叉验证选择。",
              "score": 25,
              "evaluation_focus": "模型选择",
              "scoring_hint": "高分：指标一致且报告不确定性；中分：只用单一指标；低分：未进行对比。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "求解器与并行策略（BDF/least_squares/SALib）",
              "description": "针对刚性与非线性问题选用合适求解器并记录收敛统计；多核并行蒙特卡洛/灵敏度采样。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：提供收敛率、失败重启策略；中分：有并行但无统计；低分：串行且无鲁棒性。"
            },
            {
              "sub_criteria": "临界温度与带宽求解（P0≥2 mW、f3dB/f10dB）",
              "description": "采用稳健一维根法（二分/Brent）求最大允许工作温度与带宽点，报告容差与失败处理。",
              "score": 30,
              "evaluation_focus": "数值稳健",
              "scoring_hint": "高分：容差≤1e-3且边界检测齐全；中分：容差较松或偶发失败；低分：手工读值或不稳定。"
            },
            {
              "sub_criteria": "非线性UQ采样与收敛诊断",
              "description": "蒙特卡洛样本量、方差稳定性、MCMC R-hat/ESS等收敛报告齐全。",
              "score": 20,
              "evaluation_focus": "统计计算",
              "scoring_hint": "高分：报告ESS>200、R-hat≈1.0；中分：仅样本量；低分：无诊断。"
            },
            {
              "sub_criteria": "交叉验证与信息准则计算正确性",
              "description": "严格按定义实现k-fold或leave-one-temperature-out与AIC/BIC，避免数据泄漏。",
              "score": 20,
              "evaluation_focus": "实现正确性",
              "scoring_hint": "高分：显式防泄漏与复现实例；中分：流程未完全隔离；低分：混用训练/验证数据。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可执行脚本化流程与接口",
              "description": "提供一键运行的管线（数据读入→预处理→评估→灵敏度→UQ→代理→优化），明确输入/输出格式。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：CLI/配置文件化，失败退出码与日志完整；中分：需手动改代码；低分：零散Notebook。"
            },
            {
              "sub_criteria": "数值稳定与边界检查",
              "description": "实现物理边界约束、异常点剔除、NaN/Inf处理、根求解与优化失败重试。",
              "score": 25,
              "evaluation_focus": "鲁棒工程",
              "scoring_hint": "高分：覆盖率高并有单元测试；中分：少量检查；低分：运行易崩溃。"
            },
            {
              "sub_criteria": "并行与性能优化（向量化/多进程/GPU）",
              "description": "对蒙特卡洛与Sobol评估进行并行化，报告加速比与单次预测延迟；代理推理<毫秒级为佳。",
              "score": 25,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：有基准与≥3×加速；中分：轻度并行；低分：无加速或更慢。"
            },
            {
              "sub_criteria": "可复现性与环境依赖",
              "description": "固定随机种子、requirements/环境文件、版本记录与结果缓存。",
              "score": 20,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：锁定依赖与缓存；中分：仅列包名；低分：缺失导致复现失败。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "误差与残差诊断（系统偏差识别）",
              "description": "展示残差随电流/温度/频率的结构与自相关，定位系统性偏差与测量链影响。",
              "score": 25,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：提出并验证去嵌/修正；中分：仅描述现象；低分：无诊断。"
            },
            {
              "sub_criteria": "灵敏度与可辨识性结论（条件数/参数排序）",
              "description": "报告雅可比条件数、Sobol一阶/总效应，明确关键参数与弱可辨识参数并给出实验改进建议。",
              "score": 25,
              "evaluation_focus": "洞察能力",
              "scoring_hint": "高分：给出新增测点或阶跃设计；中分：仅排序；低分：无可操作建议。"
            },
            {
              "sub_criteria": "不确定性传播到工程阈值（T0_max区间）",
              "description": "以90%/95%区间报告P0≥2 mW的最大允许工作温度与f3dB/f10dB区间，并解释驱动因素。",
              "score": 25,
              "evaluation_focus": "风险量化",
              "scoring_hint": "高分：区间紧致且溯源参数；中分：仅点估计或单一区间；低分：缺少区间。"
            },
            {
              "sub_criteria": "代理模型速度-精度权衡与优化演示",
              "description": "比较代理与高保真在关键指标的误差与速度，并展示受约束优化结果与可行域/Pareto。",
              "score": 25,
              "evaluation_focus": "综合应用",
              "scoring_hint": "高分：误差<5–10%且>10×加速；中分：误差或加速一般；低分：无对比或代理失真。"
            }
          ]
        }
      }
    }
  }
}