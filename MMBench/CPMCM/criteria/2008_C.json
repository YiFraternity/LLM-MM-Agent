{
  "task_id": "2008_C",
  "problem": "附件2给出某一天24小时内经过该车站货运列车的相关数据，请根据实际情况和相关数据依次研究解决下列问题：\n\n（1）试设计快速自动实现车辆编组调度方案的优化模型或算法，并给出附件2中车辆可行的编组方案（包括解体程序、轨道编号、车辆数量、集结程序、新列车的组成等），主要使每班的中时尽量地少。\n\n（2）发往S1的货物和军用物资都为特别专供货物，需要保障优先运送。如果要求装载这类物资的车辆必须在2小时内发出（即中时不超过2小时）；同时发往地震灾区（向西方向某些车站）的救灾货物车辆要求中时不超过1小时，请你们给出相应的调度方案，并计算相应每班的中时。\n\n（3）如果调度室在列车到达前两小时能够获取列车的相关信息，请利用这些信息制定可行的列车编组调度方案，使每班的中时尽量少，发出的车辆尽量多。\n\n（4）如果因自然灾害导致S3以南的铁路中断，需要将有关的车辆转向东方向经E4向南绕行，请你们给出相应的调度方案，并计算相应每班的中时。\n\n（5）假设编组完成的列车都能及时发出，按照你们的编组调度方案分析研究该编组站一天24小时最多能编组完成多少车辆，相应每班的中时是多少？即根据所建立模型进一步分析该编组站能否再提高资源的利用率和运行效率。\n\n（6）目前我国的铁路资源紧张，需大于求，如何改进编组调度方案，才使得现有的铁路设施有更高的利用率，产生更高效益，谈谈建议和意见。",
  "subtask": {
    "1": {
      "subtask": "子任务一（数据准备与参数估计）旨在把附件2（事件/时序日志）与附件3（列车/车辆属性表）清洗、校验、融合并提炼出用于调度模型的规范化输入与关键工艺参数分布，为后续建模提供可重复、可验证的数据基线：具体工作包括（1）数据导入与格式统一：用可编程工具（推荐 Python+pandas / R / SQL）将两份数据读取为结构化表格，统一时间格式与单位（将所有时间戳规范为UTC或本地时间并以分钟为单位），统一重量与长度单位，明确主键（列车ID、车辆ID、事件ID）；（2）数据清洗与一致性校验：识别并去重异常记录、校验时间顺序（如到站时间≤离站时间）、检测并标注不一致的预报值与到站确认值，生成数据质量报告（缺失率、重复率、时间错位、异常值）；（3）记录关联与车辆层级展开：将附件2的事件序列与附件3的车辆属性通过列车ID及车序号关联，若附件只给列车属性则按编组信息展开到单车级条目，确保每辆车记录包含：到站时间a_v、原到站列车ID、车辆序号、确认目的地dest_v、车长l_v、车重w_v、优先级标签（S1/救灾/普通）、是否无调车、到达场轨道号等字段；（4）缺失值与异常处理策略：对缺失的关键字段（目的地、车长、车重、到站时间）采用分层填补策略：优先用同列车/同批次的已知值填充，再用统计回归或相似历史记录（近邻/分箱均值）估计，不能可靠估计者用保守默认并在记录中打标；对疑似错误时间戳使用规则（如超出合合理窗口）标注为异常并保留原值与修正建议以便人工审核；（5）时间离散化与网格选择：根据时间戳精度与工艺时间尺度评估并确定调度模型时间步长Δ（建议基于分布拟合选择5或10分钟的格子，需输出比较报告说明选择理由），并把所有事件映射到离散格索引t；（6）关键工艺参数估计与分布拟合：从事件序列统计并估计驼峰解体释放耗时分布（平均与标准差）、车辆惯性滑行至编组场的典型延迟、编组场牵引到出发场耗时、转发场通过时间、跨向转发总耗时、牵引机响应时间及驼峰并发释放能力H_max等，用直方图与拟合方法（正态/对数正态/伽马分布拟合、MLE或非参数核密度）给出参数的点估计与置信区间，并计算这些时间参数的离散或变动区间以便后续稳健建模；（7）轨道与资源能力估算：基于轨道占用记录推断每股道的最大可停车辆数(cap_len_r)与吨位上限(cap_wt_r)、不同出发/编组场的同时可用牵引机数量与空闲时段、转发场并行通过能力，并生成轨道资源矩阵与占用历史时间序列；（8）优先与约束标签化：为每辆车标注优先级（S1/救灾/普通）、是否无调车、是否需跨向转发，并计算每辆车从到站到首次可发出的最早理论完成时间以便检测是否可能满足2小时/1小时约束；（9）不确定性与预报误差分析：计算预报值与到站确认值之间的误差分布、典型提前/延迟时间（lead time）分布，为后续是否采用滚动提前信息提供量化依据；（10）输出规范化输入与元数据：生成若干标准化文件供建模使用——（a）车辆主表（CSV/Parquet/JSON）包含上述字段并带有缺失/修正标识，（b）轨道资源表与容量矩阵，（c）时间格元表与全日索引T，及（d）参数估计报告（点估计、分布类型、置信区间、推荐Δ、H_max等），并保留数据质量报告与所有清洗/填补操作的可追溯日志（用于审计与复现）；整个子任务应以可重现脚本实现，记录关键假设与替代填补策略以便审查和后续调整。",
      "criteria": {
        "task_understanding": {
          "core_goal": "清洗、校验、融合附件2/附件3数据并拟合与估计关键工艺参数分布，为编组调度模型提供规范化输入与不确定性评估",
          "expected_output": "可重现脚本（Python/R/SQL）；车辆主表（CSV/Parquet/JSON，含a_v、车辆序号、dest_v、l_v、w_v、优先级等字段与缺失/修正标识）；轨道资源表与容量矩阵；时间格元表（离散索引T，推荐Δ）；参数估计报告（驼峰解体耗时分布、牵引时延、转发时间、H_max，点估计与置信区间、拟合图表）；数据质量报告与操作日志",
          "key_inputs_constraints": "1) 输入：附件2（事件/时序日志，时间戳、事件ID、轨道号、列车ID等）与附件3（列车/车辆属性表，列车ID、车序号、目的地、车长、车重、预报值）；2) 必要前置：统一时间格式与单位（分钟、吨、车数），列车ID或车辆ID作为主键关联；3) 关键约束：时间顺序约束（到站时间≤离站时间）、单位不一致需转换、缺失关键字段须分层填补并打标；4) 资源约束：轨道长度与吨位上限需从占用记录推断；5) 可复现性：所有清洗/填补决策需脚本化并记录日志",
          "modeling_type": "拟合+评价",
          "role_in_pipeline": "作为建模流程的前置数据准备与参数估计环节：在特征工程/优化建模前完成（依赖原始附件2/附件3）；输出供后续编组调度优化/仿真模块使用，并被用于灵敏度与稳健性分析"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别需完成的清洗/格式统一与预期输出清单",
              "description": "明确列出必须实现的导入与格式统一步骤（时间、单位、主键）和预期产出（车辆主表、轨道资源表、参数报告、可重现脚本）。",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：列出全部输出且对应字段/格式明确；中分：部分输出或字段描述模糊；低分：未列出关键输出或未提时间/单位规范。"
            },
            {
              "sub_criteria": "识别需要校验的关键一致性约束（时间序列、主键、单位）",
              "description": "明确需要校验的规则，如到站时间≤离站时间、列车ID/车辆ID唯一性、单位一致性与换算规则。",
              "score": 25,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：列出并量化校验阈值/异常判定规则；中分：列出规则但无量化阈值；低分：忽略关键一致性规则。"
            },
            {
              "sub_criteria": "识别需估计的关键工艺参数（驼峰解体耗时分布等）",
              "description": "列明需拟合的时间参数（驼峰解体耗时、惯性滑行延迟、牵引耗时、转发通过时间、跨向总耗时、牵引机响应、H_max）。",
              "score": 25,
              "evaluation_focus": "模型构思",
              "scoring_hint": "高分：完整列出并说明数据来源；中分：部分列出；低分：遗漏重要参数如H_max或驼峰耗时。"
            },
            {
              "sub_criteria": "识别不确定性与预报误差需量化的项",
              "description": "明确预报与实际到站误差、填补不确定性、时间戳误差等需统计量化并纳入后续稳健性考察。",
              "score": 20,
              "evaluation_focus": "评价能力",
              "scoring_hint": "高分：给出误差指标（均值、σ、分位数）与用途说明；中分：指出需量化但无具体指标；低分：未考虑预报误差。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述导入与时间/单位规范化（导入与格式统一）",
              "description": "准确复述需用编程工具导入附件并统一时间为分钟与指定时区、统一重量长度单位并记录主键。",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：详述时间格式转换步骤与主键选择；中分：说明需统一但无具体方法；低分：未明确时间/单位转换。"
            },
            {
              "sub_criteria": "复述数据清洗与一致性校验流程（去重、时间顺序、预报对比）",
              "description": "复述去重策略、时间顺序校验规则、预报值与到站确认值的检测与标注流程。",
              "score": 25,
              "evaluation_focus": "数据工程",
              "scoring_hint": "高分：含具体阈值与举例；中分：流程明确但阈值缺失；低分：流程模糊或缺关键信息。"
            },
            {
              "sub_criteria": "复述车辆层级展开与字段标准化（车辆主表）",
              "description": "说明如何由列车级展开为单车级条目并确保字段包含a_v、车辆序号、dest_v、l_v、w_v、优先级、是否无调车等。",
              "score": 25,
              "evaluation_focus": "细节完整性",
              "scoring_hint": "高分：给出字段列表与展开规则；中分：列出字段但展开规则不够具体；低分：遗漏关键字段或未解释展开逻辑。"
            },
            {
              "sub_criteria": "复述输出文件与可重现性要求（脚本、日志、报告）",
              "description": "复述需要生成的输出文件格式、数据质量报告、填补标识与可重现脚本要求。",
              "score": 20,
              "evaluation_focus": "工程实施",
              "scoring_hint": "高分：明确文件格式、命名、日志与版本控制要求；中分：提及但无格式细节；低分：未提可重现性。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "缺失值填补假设与分层策略（缺失值填补）",
              "description": "明确分层填补优先级：同列车同批次优先、相似历史/分箱均值或回归估计、不可估者用保守默认并打标。",
              "score": 30,
              "evaluation_focus": "建模假设",
              "scoring_hint": "高分：列出数值阈值、回归/近邻参数与不确定性处理；中分：描述分层策略但无参数；低分：无分层或不合理默认。"
            },
            {
              "sub_criteria": "时间戳异常修正与标注规则（时间校验）",
              "description": "给出时间异常的判定规则（超出合理窗口、多段倒序等）以及保留原值与推荐修正的策略。",
              "score": 25,
              "evaluation_focus": "规则制定",
              "scoring_hint": "高分：给出具体窗口/阈值与自动/人工处理流程；中分：描述处理思路；低分：缺乏可操作规则。"
            },
            {
              "sub_criteria": "工艺参数分布假设（拟合与分布类型选择）",
              "description": "说明对驼峰解体耗时等采用正态/对数正态/伽马或非参数拟合的优先选择与选择依据（偏度、拟合优度准则）。",
              "score": 25,
              "evaluation_focus": "统计假设",
              "scoring_hint": "高分：根据样本分布给出优先分布并阐明检验方法（KS/AIC）；中分：列出候选分布但无选择依据；低分：随意选分布或不说明。"
            },
            {
              "sub_criteria": "轨道与资源能力推断假设（轨道占用推断）",
              "description": "说明如何通过占用记录推断cap_len_r、cap_wt_r与并行通过能力，并给出边界条件与保守估计原则。",
              "score": 20,
              "evaluation_focus": "工程假设",
              "scoring_hint": "高分：给出计算公式与保守上/下界；中分：描述方法无公式；低分：未阐述推断逻辑。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "驼峰解体耗时与其他工艺参数的拟合方法（拟合/估计）",
              "description": "具体说明使用MLE或非参数核密度估计驼峰耗时、惯性滑行、牵引耗时等，并给出拟合流程与参数输出格式。",
              "score": 25,
              "evaluation_focus": "统计拟合",
              "scoring_hint": "高分：实现MLE/KDE并输出点估计、σ与置信区间；中分：仅给出点估计；低分：无明确拟合方法或仅人工估计。"
            },
            {
              "sub_criteria": "时间离散化Δ的选择与映射方法（时间离散化）",
              "description": "基于时间戳精度与工艺时间尺度，比较5或10分钟格子并给出选择理由与映射算法。",
              "score": 20,
              "evaluation_focus": "建模决策",
              "scoring_hint": "高分：提供对比报告（分辨率对误差/计算量影响）并选择Δ；中分：仅推荐Δ无对比；低分：未讨论Δ或随意选择。"
            },
            {
              "sub_criteria": "车辆主表构造与记录关联算法（记录关联与展开）",
              "description": "描述如何通过列车ID/车序号将事件序列与车辆属性关联并展开到单车级，包含键冲突处理与示例映射。",
              "score": 20,
              "evaluation_focus": "数据工程",
              "scoring_hint": "高分：含关联SQL/Pandas伪代码与冲突处理；中分：逻辑描述但无实现细节；低分：缺失关联策略。"
            },
            {
              "sub_criteria": "轨道资源矩阵与H_max估计构建（轨道资源矩阵）",
              "description": "定义轨道资源矩阵格式，给出cap_len_r/cap_wt_r计算方法与驼峰并发释放能力H_max的估计方案。",
              "score": 20,
              "evaluation_focus": "系统建模",
              "scoring_hint": "高分：矩阵定义清晰并含历史占用计算公式；中分：矩阵描述但无计算细节；低分：未构建资源矩阵。"
            },
            {
              "sub_criteria": "优先与约束标签化规则（优先标签与最早完成时间）",
              "description": "给出对S1/救灾/普通的标注逻辑、无调车标识与计算每辆车最早理论完成时间的方法。",
              "score": 15,
              "evaluation_focus": "约束建模",
              "scoring_hint": "高分：公式化最早完成时间并示例计算；中分：描述逻辑但无公式；低分：未实现标签化或时间计算。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "工艺参数点估计与置信区间计算（参数估计）",
              "description": "输出各参数的点估计、标准误与置信区间，说明估计方法（MLE/Bootstrap）与置信水平。",
              "score": 30,
              "evaluation_focus": "统计估计",
              "scoring_hint": "高分：提供95% CI与方法说明并附表；中分：仅点估计或无置信区间；低分：估计方法不透明或缺乏误差度量。"
            },
            {
              "sub_criteria": "拟合优度与诊断（拟合诊断）",
              "description": "提供拟合优度指标（AIC/BIC/K-S或残差分析）及拟合诊断图表用于判断分布选择合理性。",
              "score": 25,
              "evaluation_focus": "模型评价",
              "scoring_hint": "高分：包含数值指标与图示说明；中分：仅给出部分指标；低分：无拟合诊断或指标错误。"
            },
            {
              "sub_criteria": "不确定性量化与Bootstrap/交叉验证（不确定性）",
              "description": "用Bootstrap或交叉验证评估参数稳健性，给出参数变动区间以便后续稳健调度建模。",
              "score": 25,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：执行Bootstrap并报告分位数；中分：提及方法未实施；低分：忽略不确定性评估。"
            },
            {
              "sub_criteria": "对时间离散化/参数变化的敏感性分析（敏感性）",
              "description": "量化Δ选择与关键参数变动（如H_max、平均驼峰耗时）对最终时间格映射和资源估计的影响。",
              "score": 20,
              "evaluation_focus": "灵敏度",
              "scoring_hint": "高分：给出敏感性定量表或图并解释影响；中分：定性讨论无量化；低分：无敏感性分析。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可重现脚本与数据流程实现（可重现脚本）",
              "description": "提供完整可执行脚本或Notebook，实现导入、清洗、填补、关联、离散化与输出文件，能在给定数据上复现结果。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：一键运行并复现所有输出；中分：脚本需少量手动配置；低分：无法运行或流程不完整。"
            },
            {
              "sub_criteria": "数据校验/单元测试与日志记录（校验与日志）",
              "description": "包含数据质量检查函数、关键断言（主键唯一、时间顺序）与操作日志/变更记录以保证可审计性。",
              "score": 25,
              "evaluation_focus": "工程实践",
              "scoring_hint": "高分：含自动化单元测试与详细日志；中分：含基本校验无自动测试；低分：无校验或日志。"
            },
            {
              "sub_criteria": "缺失值填补与拟合模块实现（填补与拟合代码）",
              "description": "实现分层填补策略与拟合模块（MLE/KDE/Bootstrap），并允许配置参数与随机种子以确保可复现性。",
              "score": 25,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：模块化实现且可配置；中分：实现但不可配置或无种子；低分：未实现或实现错误。"
            },
            {
              "sub_criteria": "输出文件与元数据自动生成（输出与元数据）",
              "description": "自动生成车辆主表、轨道资源表、时间格元表、参数报告与数据质量报告，且含填补标识与操作日志。",
              "score": 20,
              "evaluation_focus": "工程交付",
              "scoring_hint": "高分：所有文件格式正确且含元数据；中分：生成文件但部分字段缺失；低分：输出不完整或格式错误。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "数据质量报告完整性与可读性（数据质量报告）",
              "description": "报告应包含缺失率、重复率、时间错位统计、异常值列表及可视化摘要，便于审计与决策。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：报告含表格+可视化与逐项说明；中分：含统计但缺图示或解释；低分：报告不完整或无可操作结论。"
            },
            {
              "sub_criteria": "参数估计结果的业务解读（参数估计与影响）",
              "description": "将驼峰解体耗时等参数的点估计与置信区间解读为对编组中时/H_max的具体影响并给出例子。",
              "score": 30,
              "evaluation_focus": "业务联系",
              "scoring_hint": "高分：提供量化影响示例（如Δ中时变化率）；中分：定性描述影响；低分：无业务解读。"
            },
            {
              "sub_criteria": "时间格元Δ选择验证与映射效果（Δ验证）",
              "description": "给出选择Δ后的映射误差评估与对下游调度建模的适配性建议（如5或10分钟的优劣）。",
              "score": 20,
              "evaluation_focus": "实用性",
              "scoring_hint": "高分：量化映射误差并推荐Δ；中分：描述映射影响但无量化；低分：未验证Δ或忽略影响。"
            },
            {
              "sub_criteria": "可供下游使用的就绪度与改进建议（可用性与限制）",
              "description": "评估输出数据对后续调度优化的可用性，列出主要限制、潜在偏差与改进优先级。",
              "score": 20,
              "evaluation_focus": "决策支持",
              "scoring_hint": "高分：列出具体改进步骤与优先级；中分：指出限制无优先级；低分：未评估可用性或无建议。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2（数学模型构建）应明确构造一个以时间展开的混合整数规划（MIP）或约束规划（CP）为数学内核的精确模型：目标为最小化中时（可定义为所有车辆从到达时间a_v到其所属新列车发车时间d_{k(v)}的平均停留时间，或采用带权重的加权平均以突出优先货物），输入为车辆清单（每辆v的到达时间a_v、长度l_v、重量w_v、目的地dest_v、优先级标签、是否无调车标识等）、场区轨道清单（每股r的长度容量cap_len_r、吨位容量cap_wt_r及初始占用时窗）、时间离散步长Δ与整体时段T、工艺常数（驼峰解体平均耗时τ_rel、惯性滑行时间τ_slide、牵引至出发场耗时τ_pull、无调车通行耗时τ_direct、跨向转发额外耗时τ_cross）、以及资源可用性参数（每时隙驼峰最大释放组数H_max、可用牵引机数M_t、转发场并发通行能力等）；决策变量包括：二元分配变量x_{v,r,t}（车辆v在时刻t占用轨道r）、二元分配变量z_{v,k}（车辆v被分配到成形列车候选k）、列车生成指示y_k、整数时间变量s_v（车辆v开始解体/释放时刻格）、p_v（车辆到位时刻）、以及列车发车时刻d_k，同时可用u_{r,t}、h_t、m_t表征轨道/驼峰/牵引资源在每格的占用；约束包括（须逐项以线性或可被CP处理的形式给出）：（1）车辆分配完整性：每辆车恰有且仅有一个目标（成形列车或直接通过）；（2）轨道容量：任一时刻t对任意轨道r满足Σ_v x_{v,r,t}·l_v ≤ cap_len_r且Σ_v x_{v,r,t}·w_v ≤ cap_wt_r，并与初始占用时窗兼容；（3）时序与工艺：s_v ≥ a_v，p_v = s_v + τ_rel + τ_slide（或以离散格约束p_v ≥ s_v + ⌈τ_rel/Δ⌉等），对于z_{v,k}=1须有p_v ≤ d_k − ⌈τ_pull/Δ⌉，车辆在其被分配轨道上的占用区间由p_v至d_k−τ_pull线性表示并通过x与u联立；（4）列车成形容量：对每列k限制Σ_v z_{v,k}·l_v ≤ L_max（等价车辆数或长度上界）与Σ_v z_{v,k}·w_v ≤ W_max；（5）驼峰与牵引资源约束：每格t满足Σ_v I[s_v=t] ≤ H_max，牵引操作在每格消耗牵引资源Σ_k I[列车k在t进行牵引] ≤ M_t；（6）转发与跨向耗时：对需跨向转发的车辆/列车在发车时间或轨道占用上增加τ_cross占用并约束转发场并发能力；（7）优先与时限约束：对S1车辆强制d_{k(v)} ≤ a_v + 120min，对救灾车辆强制d_{k(v)} ≤ a_v + 60min（或将其作为高罚金项纳入目标）；（8）运行规则与安全约束：例如同一到站列车中车辆的解体顺序、单车最大停留时长（例如不得超过两个时段或8小时）等以不等式体现；（9）变量线性化：对于乘积项（例如x·z或时间指示与资源占用的联动）采用大M线性化或在CP中用全序关系处理；输出应包括每辆车的解体开始时刻s_v与到位轨道r、对应成形列车k的组成与发车时刻d_k、以及每格的轨道与牵引资源占用时刻表。模型规模为O(|V|·|R|·T)且为混合整数难解问题，因此在建模时应明确定义时间离散粒度Δ、候选列车集合K的生成规则（以减少z与y变量数量）、以及必要的预处理输入（初始占用、紧急优先集），并说明采用MIP（如Gurobi/CP-SAT）或CP求解器对该精确模型进行求解和可行性检查；所有约束与目标应以可求解的线性或可约束编程形式逐项表达，便于直接编码并供后续求解器调用。",
      "criteria": {
        "task_understanding": {
          "core_goal": "题目要考什么——按题型拆解关键能力：构造并优化基于时间展开的混合整数规划/约束规划（MIP/CP）模型以最小化车辆中时（包括加权优先项），并输出每辆车的解体时刻s_v、到位时刻p_v、轨道分配x_{v,r,t}、列车成形z_{v,k}及发车时刻d_k的可解方案。",
          "expected_output": "求解器可执行的MIP/CP模型文件或伪代码、决策变量列表与数学式、线性化说明（大M或CP关系）、候选列车集合K生成规则、求解器日志与可行解、每辆车的s_v/p_v/d_k/x/z分配表、每格资源占用表与约束满足报告、可复现代码脚本（Python/AMPL/ORTools/Gurobi）",
          "key_inputs_constraints": "1) 车辆清单表（a_v:到达时间分钟/整数、l_v:车长/数值、w_v:车重/数值、dest_v/字符串、优先级标签、无调车标识）；2) 场区轨道清单（每股r的cap_len_r、cap_wt_r、初始占用时窗/时间索引）；3) 时间离散步长Δ与时域T（整数格数）；4) 工艺常数τ_rel、τ_slide、τ_pull、τ_direct、τ_cross及资源参数H_max、M_t；5) 运行规则约束（列车长度/重量上限L_max/W_max、单车最长停留≤8h或≤2时段、优先时限2h/1h）",
          "modeling_type": "优化（MIP/CP建模）",
          "role_in_pipeline": "该子任务处于前序数据清洗（子任务一）之后、求解与仿真之前：依赖子任务一的车辆主表与参数估计，产出求解器可用的数学模型和求解器输入文件，供后续子任务进行求解、结果验证、场景分析与算法加速（后序：模型求解、调度仿真与结果优化）。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别最小化中时目标（最小化车辆中时/加权优先项）",
              "description": "检查是否明确识别并表述“最小化中时（平均停留时间）”为目标，且说明是否采用加权（突出S1/救灾）或硬约束形式。",
              "score": 25,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：明确写出目标函数形式并包含加权优先项或硬时限约束；中分：写出最小化中时但未区分加权与硬约束；低分：未明确把中时作为目标或混淆目标度量。"
            },
            {
              "sub_criteria": "识别关键决策变量（s_v/p_v/d_k/x_{v,r,t}/z_{v,k}）",
              "description": "检查是否列出并解释关键决策变量（时间变量与二元分配变量）及其物理含义，如s_v、p_v、d_k、x_{v,r,t}、z_{v,k}。",
              "score": 25,
              "evaluation_focus": "模型构造",
              "scoring_hint": "高分：完整列出并解释上述变量并说明域（整型/二元）；中分：列出大部分关键变量但缺少说明；低分：变量不全或含糊不清。"
            },
            {
              "sub_criteria": "识别资源与工艺参数（H_max、M_t、τ_rel等）",
              "description": "检查是否识别并列明驼峰释放能力H_max、牵引机数M_t、τ_rel/τ_slide/τ_pull/τ_cross等工艺常数并说明作用。",
              "score": 25,
              "evaluation_focus": "参数识别",
              "scoring_hint": "高分：列出全部关键工艺参数并说明在模型中如何影响约束；中分：列出多数参数但未说明建模细节；低分：忽视重要工艺参数或混淆其作用。"
            },
            {
              "sub_criteria": "识别规模与离散化影响（O(|V||R||T|)与Δ选择）",
              "description": "检查是否识别模型规模复杂度O(|V|·|R|·T)并讨论时间步长Δ与候选列车集合K对可解性的影响。",
              "score": 25,
              "evaluation_focus": "可解性评估",
              "scoring_hint": "高分：明确规模公式并给出Δ选择原则与K生成策略；中分：提及规模问题但无具体对策；低分：未考虑规模与Δ对求解的影响。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "用数学形式复述目标（平均中时或加权中时）",
              "description": "检查是否给出精确的目标函数表达式，例如平均中时 = Σ_v (d_{k(v)}−a_v)/|V|，或加权形式并写明权重。",
              "score": 25,
              "evaluation_focus": "数学表达",
              "scoring_hint": "高分：给出清晰可编码的目标函数并注明权重与归一化；中分：给出目标但符号不严谨；低分：目标表达错误或缺少数学形式。"
            },
            {
              "sub_criteria": "复述关键约束为可编程形式（轨道容量/时序/成形容量）",
              "description": "检查是否把轨道长度/吨位、时序与列车成形容量等约束以等式/不等式形式复述，便于直接编码。",
              "score": 25,
              "evaluation_focus": "约束翻译",
              "scoring_hint": "高分：逐条给出cap_len_r、cap_wt_r、p_v≥s_v+⌈τ_rel/Δ⌉等离散化表达；中分：约束描述完整但未离散化；低分：约束模糊或遗漏核心约束。"
            },
            {
              "sub_criteria": "复述资源联动（驼峰释放与牵引并发）",
              "description": "检查是否用数学不等式或指示量说明驼峰并发Σ I[s_v=t] ≤ H_max、牵引资源Σ I[牵引在t] ≤ M_t等联动关系。",
              "score": 25,
              "evaluation_focus": "资源建模",
              "scoring_hint": "高分：用明确指示变量或线性化方式表述并注明实现方法；中分：给出描述但无实现细节；低分：未考虑联动或表述错误。"
            },
            {
              "sub_criteria": "复述优先与时限（S1/救灾）约束",
              "description": "检查是否明确给出S1与救灾车辆的硬时限（d_k(v) ≤ a_v+120/60）或将其转化为高罚金目标项。",
              "score": 25,
              "evaluation_focus": "优先约束",
              "scoring_hint": "高分：明确实现为硬约束或带权目标并讨论冲突处理策略；中分：表述优先但无实现策略；低分：忽视或误用优先约束。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "关于时间离散化Δ与τ参数的假设明确性",
              "description": "检查是否陈述Δ选择理由（例如5或10分钟）、τ_rel等工艺常数如何离散化并给出向上取整规则。",
              "score": 30,
              "evaluation_focus": "工程假设",
              "scoring_hint": "高分：给出数据驱动的Δ选择理由并说明离散化取整策略及其误差界；中分：给出Δ和τ近似值但无充分理由；低分：Δ/τ未说明或与工艺冲突。"
            },
            {
              "sub_criteria": "关于车辆/列车成形与无调车行为的假设",
              "description": "检查是否对无调车车辆、同到站车辆顺序、列车车辆方向同一性的假设作出明确说明并说明如何在模型中处理。",
              "score": 35,
              "evaluation_focus": "业务假设",
              "scoring_hint": "高分：明确定义无调车处理、同到站顺序约束并给出例外规则；中分：部分说明但遗漏细节；低分：未声明或与题设矛盾。"
            },
            {
              "sub_criteria": "关于不确定性与预报误差的建模假设",
              "description": "检查是否说明预报误差是否被忽略、用稳健约束或场景化处理，并给出处理策略（保守默认/标记需人工审核）。",
              "score": 35,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：提供量化误差处理或滚动决策策略；中分：提及误差但无具体对策；低分：忽视预报误差影响。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "目标函数与优先加权的数学化（最小化中时/加权）",
              "description": "检查是否把平均中时或加权中时用线性或可线性化形式写出，并说明归一化与权重选择方法。",
              "score": 25,
              "evaluation_focus": "目标构建",
              "scoring_hint": "高分：提供线性化目标或等价转换并说明权重或罚金数值来源；中分：目标给出但未处理加权或线性化细节；低分：目标不可编码或与约束冲突。"
            },
            {
              "sub_criteria": "轨道容量与时序约束的线性/CP可行表达",
              "description": "检查轨道长度/吨位约束、车辆占用时窗与初始占用是否以线性不等式或CP序列关系给出，并考虑占用累加与释放时段映射。",
              "score": 25,
              "evaluation_focus": "约束表达",
              "scoring_hint": "高分：约束逐项列出并可直接编码（含占用从p_v至d_k−τ_pull映射）；中分：约束完整但需小修饰；低分：表达不当或遗漏占用时段映射。"
            },
            {
              "sub_criteria": "驼峰/牵引/转发并发约束与线性化策略（大M或CP）",
              "description": "检查是否说明驼峰并发Σ I[s_v=t] ≤ H_max、牵引并发Σ I[牵引在t] ≤ M_t的实现方法并给出大M或CP处理方式。",
              "score": 25,
              "evaluation_focus": "资源线性化",
              "scoring_hint": "高分：给出可实现的大M界、替代的切割或顺序变量并讨论数值稳定性；中分：提出大M但未给界值；低分：无线性化方案或不切实际。"
            },
            {
              "sub_criteria": "变量规模缩减策略与候选K生成规则",
              "description": "检查是否提出减少z/y变量的K生成规则（按目的地/时间窗口/长度分桶）并说明如何保证解的完整性。",
              "score": 25,
              "evaluation_focus": "可扩展性",
              "scoring_hint": "High：明确K生成算法并证明覆盖率；Mid：提出启发式但无覆盖讨论；Low：未提出或K过大不可求解。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "求解器选择与求解框架（MIP/CP）说明",
              "description": "检查是否根据问题特性推荐具体求解器（Gurobi/CP-SAT/ORTools）并说明为何选用MIP或CP。",
              "score": 25,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出针对规模与约束特性的明确选择及参数；中分：列出可选解器但无理由；低分：未说明或选择不匹配问题特性。"
            },
            {
              "sub_criteria": "松弛/界定与启发式策略（界限/分解/启发式）",
              "description": "检查是否提供LP松弛、时段分解、列生成或启发式初始解等提高可解性的具体策略。",
              "score": 25,
              "evaluation_focus": "求解策略",
              "scoring_hint": "高分：提供可实现的分解或启发式并给出预期效果；中分：提出策略但无实现细节；低分：无求解加速策略。"
            },
            {
              "sub_criteria": "最优性证明或可行性保证与gap指标",
              "description": "检查是否定义可接受的最优性gap阈值并提供验证方法（bound/gap/可行解的可证明性）。",
              "score": 25,
              "evaluation_focus": "性能度量",
              "scoring_hint": "高分：给出gap≤5%为高质量并附求解日志示例；中分：gap≤20%或无日志；低分：未提供gap或求解失败。"
            },
            {
              "sub_criteria": "不可解情形的回退策略（启发式/贪心/滚动）",
              "description": "检查是否设计了在MIP难解或超时情形下的可行回退策略（贪心排程、滚动时窗重规划等）。",
              "score": 25,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：提供完整回退算法并说明边界条件；中分：描述思路但无算法细节；低分：无回退计划。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "求解器可执行的模型实现与数据接口",
              "description": "检查是否提供可运行脚本（Python+Gurobi/OR-Tools/CP-SAT）并包含从子任务一输出到变量映射的解析器与示例输入文件。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：提供可运行脚本、示例数据、README与参数文件；中分：提供脚本但缺示例/说明；低分：无可运行脚本或数据接口缺失。"
            },
            {
              "sub_criteria": "可复现性、日志与结果导出（s_v/p_v/d_k/x/z表）",
              "description": "检查是否有可重现流程、运行日志、求解器输出与最终分配表的导出（CSV/Parquet/JSON）。",
              "score": 25,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：导出完整分配表并有运行日志与随机种子固定；中分：导出结果但缺日志或种子；低分：结果不可复现或缺导出。"
            },
            {
              "sub_criteria": "代码健壮性与单元测试/边界检查",
              "description": "检查是否包含输入校验、异常处理与关键函数单元测试（例如时间离散化、占用映射、线性化模块）。",
              "score": 25,
              "evaluation_focus": "代码质量",
              "scoring_hint": "高分：包含单元测试与边界检查；中分：有基本校验无测试；低分：无校验或易崩溃。"
            },
            {
              "sub_criteria": "性能说明与运行环境要求",
              "description": "检查是否说明典型实例的运行时间/内存预估、求解器参数与并行设置以便评估可行性。",
              "score": 20,
              "evaluation_focus": "工程文档",
              "scoring_hint": "高分：提供实例运行时间和内存测算与参数调整建议；中分：给出粗略估计；低分：无说明。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "中时（平均/加权）与优先满足率报告",
              "description": "检查是否计算并报告总体与分优先级（S1/救灾/普通）的平均中时及满足2小时/1小时硬约束的比例或违规明细。",
              "score": 30,
              "evaluation_focus": "指标解释",
              "scoring_hint": "高分：提供总体与分类中时、满足率并列出违约车辆；中分：提供总体或分类但不完整；低分：未提供中时或无分类报告。"
            },
            {
              "sub_criteria": "轨道与资源利用率时序表（每格占用）",
              "description": "检查是否输出每格的轨道占用、驼峰释放与牵引资源使用时序，并评估拥堵时段与瓶颈资源。",
              "score": 35,
              "evaluation_focus": "资源分析",
              "scoring_hint": "高分：提供时序表并识别瓶颈并给出可量化利用率；中分：提供部分时序或静态利用率；低分：无资源利用分析。"
            },
            {
              "sub_criteria": "敏感性分析与可行性验证（Δ/H_max/τ变动）",
              "description": "检查是否做关键参数的敏感性实验（如Δ、H_max、τ_pull变化）并评估对中时与可行性的影响。",
              "score": 35,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：包含至少2个参数的量化敏感性分析并讨论结果；中分：定性讨论或单一参数分析；低分：无敏感性分析。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3（求解策略与算法实现）目标是开发一个可运行的、分层混合求解器，用以在滚动时域内将车辆分组（列车成形）、轨道分配与时序调度转化为可执行计划，要求在给定输入（标准化车辆表：每辆车的到站时刻、目的地、长度、重量、优先级、是否无调车等；轨道/场区资源表：各轨道长度与吨位容量、初始占用时窗、驼峰并发能力、牵引机与转发场并发能力；工艺常数：解体/滑行/牵引/转发耗时；时间格参数Δ与滚动视窗H）下稳定输出每辆车的解体开始时刻、目标轨道、所属成形列车与发车时刻以及资源占用时序；为此需按以下步骤实现并集成若干算法模块：1) 预处理与聚类模块——基于目的地、优先级和到站时间按滚动视窗H对待调度车辆做快速聚类，输出若干候选聚合组以减少后续组合空间；2) 列生成/候选列车生成模块——对每个聚类求解打包子问题（多维背包/装箱）生成候选列车（列），每个候选列含车辆集合、总长度/重量与最早可发/最晚可发时窗，并配成本/收益度量（例如节省牵引次数与时限松弛收益）；该子问题可用动态规划或启发式一维/多维背包算法并行求解；3) 主问题（列选择）模块——将候选列车视为列的集合覆盖/选取问题，用混合整数规划（或约束规划）在当前视窗内选择一组互不冲突且资源可行的列车方案以最小化目标（加权中时或违约罚金），采用列生成迭代：用主问题的对偶价驱动定价子问题继续生成改善列直到边际收益不足；实现时使用商用MIP求解器（如 Gurobi）或 OR-Tools CP-SAT 并设置可调时间上限与并行线程；4) 轨道分配与时序微调模块——对选定的列车方案构建短时窗精排子问题（时间展开MIP/CP），明确每辆车的解体时刻、到位轨道与发车时刻，严格检查轨道长度/吨位、驼峰并发、牵引机与转发场并发等资源约束；该子问题在规模过大时退化为启发式求解；5) 在线启发式调度器（实时回退/快速模式）——设计一个高效贪心优先规则作为实时备选：为每辆车计算优先得分 = α·(时限紧迫度) + β·(合并增益) − γ·(已等待时长)，按得分从高到低分配轨道与解体时隙；当发生冲突或资源紧张时采用局部修复算子（单车迁移、两列互换、合并/拆分列车）并使用简单接受准则（改进目标或罚金下降），局部搜索可实现为若干启发式操作序列并设最大迭代与时间上限以保证响应性；6) 混合改进算子与元启发式模块——在离线或允许较长计算时间的窗口内，提供基于交换/重合并/分割的局部搜索、模拟退火或遗传算法对候选方案进行组合优化以降低中时或减少时限违约；7) 并行化与工程实现细节——将候选列生成、定价子问题与局部搜索任务并行化（多核/多进程），在实现层选用 Python 作协调，关键求解器调用 Gurobi 或 OR-Tools，性能敏感模块可用 C++ 重写；为保证在线可用性实现两级求解：实时模式（τ_update 推荐 10–30 分钟）以启发式快速生成可行计划并在后台以更长时间阈（如 5–15 分钟）运行精排 MIP 进行改进并用 warm-start 更新执行计划；8) 可靠性与回退机制——为每次求解设置严格时间限制与可行性优先策略（若MIP超时返回当前最优可行解或启发式解），并记录解质量指标与日志以便回滚与审计；9) 输入/输出接口与数据契约——定义清晰 API：输入为标准车辆表、轨道资源表、当前占用时序与策略参数，输出为车辆级调度表（解体时刻、轨道号、列车ID、发车时刻）与资源占用甘特图，另输出可视化与统计摘要供上层执行系统消费。实现时应提供可调参数（Δ、H、时间上限、优先权系数α,β,γ等），进行模块化设计以便单元测试与后续替换求解器或改进启发式，整个求解器须保证在规定在线时间窗内能返回可行解并支持后台增量改进。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在滚动时域内优化生成混合调度方案与列车成形计划，最小化加权中时并满足S1/救灾时限与轨道/驼峰/牵引资源约束。",
          "expected_output": "可行调度最优/近优解：车辆级计划表（解体开始时刻s_v、目标轨道r、所属列车k、发车时刻d_k）、资源占用时序（驼峰/牵引/转发/股道甘特图）、列生成与主问题日志、解质量指标（平均中时、违约数、资源利用率）、可复现代码与可调参数配置。",
          "key_inputs_constraints": "输入：标准车辆表{a_v,l_v,w_v,dest_v,priority(含S1/救灾),direct_flag,cross_flag}；资源表{cap_len_r,cap_wt_r,初始占用,牵引机并发M_t,转发并发,驼峰并发H_max}；工艺常数{τ_rel,τ_slide,τ_pull,τ_direct,τ_cross}；时间参数{Δ,滚动窗H}。约束：轨道容量与吨位、列车上限(L_max,W_max,≤70辆≤4800T)、S1≤120min与救灾≤60min、驼峰/牵引/转发并发、时间一致性与先后关系、无调车直达τ_direct。",
          "modeling_type": "优化+约束规划",
          "role_in_pipeline": "位于数据准备与参数估计（子任务一）和精确数学模型构建（子任务二）之后，承担在线求解与执行计划生成；向后续执行监控/仿真评估与滚动重优化提供计划与日志。直接依赖：标准化输入、参数分布与Δ、H_max；后续：执行下发与KPI统计、情景仿真。",
          "assumptions": "允许使用列生成+MIP/CP混合框架；实时模式须在10–30分钟内返回可行解，后台精排5–15分钟内改进；若求解器超时须返回当前最优可行解并保全日志。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "滚动时域H与时间格Δ的优化目标与约束识别",
              "description": "是否明确本任务在滚动窗口H与离散时间步Δ下以最小化加权中时为目标，同时识别S1≤120min/救灾≤60min、驼峰H_max、牵引M_t、轨道容量等硬约束。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：同时列出目标与全部关键资源/时限；中分：缺少1–2项资源或时限；低分：未体现滚动窗或关键时限。"
            },
            {
              "sub_criteria": "对象层级与决策粒度（车辆/列车/资源）",
              "description": "是否区分车辆级决策（s_v、轨道r）、列车级决策（成形集合、d_k）及资源级占用（u_{r,t}, h_t, m_t）。",
              "score": 35,
              "evaluation_focus": "抽象能力",
              "scoring_hint": "高分：三层对象与变量清晰；中分：缺少其一或混淆；低分：仅停留在单层描述。"
            },
            {
              "sub_criteria": "在线与离线模式与回退机制",
              "description": "是否识别实时启发式与后台精排MIP的双层结构与超时回退到可行解的需要。",
              "score": 30,
              "evaluation_focus": "系统意识",
              "scoring_hint": "高分：给出实时/后台时限与回退触发；中分：仅笼统提及；低分：未考虑在线可行性。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "目标函数（加权中时/违约罚金）精准复述",
              "description": "是否将中时定义为平均(d_k−a_v)，并对S1/救灾通过权重或罚金清楚表述。",
              "score": 30,
              "evaluation_focus": "目标刻画",
              "scoring_hint": "高分：明确数学表达或等价描述；中分：只口头描述；低分：混淆指标或未加权。"
            },
            {
              "sub_criteria": "关键工艺时间τ_rel/τ_slide/τ_pull/τ_direct/τ_cross复述与使用",
              "description": "是否逐一说明这些时间如何影响s_v→p_v与d_k及资源占用。",
              "score": 35,
              "evaluation_focus": "流程映射",
              "scoring_hint": "高分：映射到时间线与占用；中分：列出但未用；低分：忽略或误用。"
            },
            {
              "sub_criteria": "资源并发约束（H_max, M_t, 转发并发）",
              "description": "是否清晰转述并发能力如何限制同格t的操作数量。",
              "score": 35,
              "evaluation_focus": "约束理解",
              "scoring_hint": "高分：定量表述同格上限；中分：仅文字描述；低分：未体现并发限制。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "滚动更新频率τ_update与窗口H假设",
              "description": "是否给出τ_update（10–30min）与H选择依据，并说明对解稳定性影响。",
              "score": 30,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：数值范围+理由；中分：给范围无依据；低分：未设或不合理。"
            },
            {
              "sub_criteria": "候选列生成K规模控制假设",
              "description": "是否设定每簇候选列上限/剪枝规则以控制MIP规模。",
              "score": 25,
              "evaluation_focus": "可解性",
              "scoring_hint": "高分：具体阈值或准则；中分：笼统提及；低分：无控制导致不可解。"
            },
            {
              "sub_criteria": "时限违约处理（硬约束或大罚）",
              "description": "明确S1/救灾是否硬约束，若软化则给出大M罚或优先级权重设定。",
              "score": 25,
              "evaluation_focus": "策略清晰",
              "scoring_hint": "高分：界定清晰且一致；中分：两可其一；低分：未说明或相互矛盾。"
            },
            {
              "sub_criteria": "不确定性与超时回退假设",
              "description": "对求解超时、数据迟到的回退（启发式/上次方案warm-start）设定。",
              "score": 20,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：明确触发与动作；中分：仅提及；低分：无回退。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "预处理与聚类模块的分簇策略",
              "description": "基于dest/priority/到站时间在窗口H内聚类并量化簇内紧密度与规模阈值。",
              "score": 25,
              "evaluation_focus": "算法设计",
              "scoring_hint": "高分：可执行规则与阈值；中分：规则笼统；低分：无聚类或无依据。"
            },
            {
              "sub_criteria": "列生成（多维背包/装箱）形式化",
              "description": "是否构造长度/重量/时窗约束的背包模型并输出候选列成本/收益与最早/最晚发时窗。",
              "score": 25,
              "evaluation_focus": "数理建模",
              "scoring_hint": "高分：约束与目标清楚；中分：缺少某项约束；低分：未形式化。"
            },
            {
              "sub_criteria": "主问题（列选择）MIP/CP建模与对偶驱动定价",
              "description": "是否给出覆盖/选取模型、冲突约束、列生成循环与停止准则（边际改进阈）。",
              "score": 25,
              "evaluation_focus": "优化框架",
              "scoring_hint": "高分：迭代流程完备；中分：缺停止或冲突约束；低分：无主问题结构。"
            },
            {
              "sub_criteria": "轨道分配与时序微调的时间展开模型",
              "description": "在短窗内构建x_{v,r,t}/u_{r,t}与s_v,p_v,d_k关系、容量与并发约束的精排模型或启发式替代。",
              "score": 25,
              "evaluation_focus": "细化建模",
              "scoring_hint": "高分：变量与线性化清楚；中分：部分约束缺失；低分：未落实到时间格。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "求解器与参数（Gurobi/CP-SAT、时间上限、线程）",
              "description": "是否合理设置MIPGap/TimeLimit/Threads，并区分实时与后台不同配置。",
              "score": 25,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：参数成体系；中分：给出但不匹配场景；低分：未设或不合理。"
            },
            {
              "sub_criteria": "定价子问题并行化与停止规则",
              "description": "是否实现并行列生成，并以对偶价或收益阈指导停止。",
              "score": 25,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：并行与阈值明确；中分：单线程或阈值含糊；低分：无定价或无停止。"
            },
            {
              "sub_criteria": "在线启发式调度器（α,β,γ）实现与冲突修复",
              "description": "是否给出可计算的优先得分、资源检查与局部修复（迁移/互换/拆并）并设迭代上限。",
              "score": 25,
              "evaluation_focus": "启发策略",
              "scoring_hint": "高分：公式+操作+上限清楚；中分：少数要素缺失；低分：仅口头规则。"
            },
            {
              "sub_criteria": "混合元启发式（退火/GA）用于离线改进",
              "description": "是否提供邻域定义、接受准则、温度/代数上限等以提升中时或违约。",
              "score": 25,
              "evaluation_focus": "全局优化",
              "scoring_hint": "高分：参数与准则明确；中分：仅描述方法名；低分：未提供改进算子。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "模块化与API契约（输入标准车辆表/资源表、输出车辆级计划）",
              "description": "是否以可重用接口封装：cluster(), generate_columns(), solve_master(), fine_schedule(), heuristic_dispatch()。",
              "score": 25,
              "evaluation_focus": "代码结构",
              "scoring_hint": "高分：清晰接口与类型校验；中分：接口不完整；低分：脚本化耦合严重。"
            },
            {
              "sub_criteria": "并行与性能（多进程/线程池、批量求解器调用）",
              "description": "是否对列生成/定价/局部搜索并行，避免GIL影响，提供超时控制。",
              "score": 25,
              "evaluation_focus": "性能实现",
              "scoring_hint": "高分：可测并行与超时；中分：半并行；低分：串行且无超时。"
            },
            {
              "sub_criteria": "可配置性与日志（Δ,H,αβγ,TimeLimit,Gap）",
              "description": "是否集中配置并记录解迭代日志、随机种子、版本与回滚快照。",
              "score": 25,
              "evaluation_focus": "工程可靠性",
              "scoring_hint": "高分：配置文件+结构化日志；中分：部分可配；低分：硬编码无日志。"
            },
            {
              "sub_criteria": "求解器集成与warm-start",
              "description": "是否支持从上次方案/启发式解warm-start以缩短MIP时间。",
              "score": 25,
              "evaluation_focus": "求解加速",
              "scoring_hint": "高分：实际传入启动解；中分：接口提及未用；低分：不支持。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "KPI与解质量（平均中时、分优先级中时、违约率）",
              "description": "是否按S1/救灾/普通分别统计中时，并报告总违约数/比例与基线对比。",
              "score": 30,
              "evaluation_focus": "结果度量",
              "scoring_hint": "高分：分组KPI+基线对比；中分：仅总体；低分：无量化KPI。"
            },
            {
              "sub_criteria": "资源利用率与瓶颈定位（H_max、M_t、股道占用）",
              "description": "是否输出并解释甘特图/占用率，指出限制性资源与改进方向。",
              "score": 25,
              "evaluation_focus": "瓶颈分析",
              "scoring_hint": "高分：量化占用与瓶颈；中分：定性描述；低分：未分析资源。"
            },
            {
              "sub_criteria": "敏感性/鲁棒性（Δ,H,αβγ,罚金）",
              "description": "是否做参数敏感性，显示对中时与违约的影响，给出推荐设置。",
              "score": 25,
              "evaluation_focus": "稳健评估",
              "scoring_hint": "高分：2+参数敏感曲线或表；中分：单参数或定性；低分：无分析。"
            },
            {
              "sub_criteria": "可行性与约束检查报告",
              "description": "是否列出约束违规检查（轨道容量、并发上限、时限）与修复记录。",
              "score": 20,
              "evaluation_focus": "合规性",
              "scoring_hint": "高分：逐类违规计数与零违规或已修复说明；中分：部分检查；低分：未提供检查。"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（仿真验证、鲁棒性检验与部署准备）旨在把调度器产生的计划在细粒度的、带不确定性的运作环境中严格检验并产出可执行性评估与改进建议：其范围包括（1）输入准备：接收标准化的调度输出（每辆车的到达时间、解体开始时刻、目标轨道、所属列车与发车时刻）、历史事件日志与车辆/轨道资源表（用于参数估计与校准）、以及设备故障、人员可用性与信息提前量等不确定性分布或经验概率；（2）仿真模型构建：用离散事件仿真（DES）工具构建车站作业镜像模型（建议工具示例：SimPy、AnyLogic、Arena 或具有批量/并发资源建模能力的仿真平台），包括驼峰解体、惯性滑行、编组场集结、牵引作业、转发场通行等工艺流程，明确资源约束（轨道长度/吨位、驼峰并发释放上限、牵引机与转发场并发能力）和操作规则（优先级处理、到站车辆次序、同向合并规则）；（3）参数估计与校准：基于历史事件数据用最大似然/贝叶斯或非参数方法估计关键处理时间分布（均值、方差、尾部）、到站时间误差分布与设备故障率，并用留出集或交叉验证校准仿真模型，使仿真输出与历史观测在若干基准指标（例如轨道占用分布、平均解体间隔、历史中时分布）上统计显著匹配；（4）不确定性与情景设计：定义并生成一组代表性场景用于蒙特卡洛试验，包括正常负荷、峰值负荷、设备故障（不同频率与持续时长）、信息延迟（不同提前量）、优先货物激增与线路绕行等；采用 Latin Hypercube 或其他采样方法确保覆盖参数空间，并对关键不确定性做分位数/极端情形测试；（5）性能指标与验收准则：在每次仿真试验中计算并汇报关键KPI的分布与置信区间——总体与分班“中时”均值与分位数、优先货物按时发出率（例如 ≤2小时、≤1小时达成率）、轨道与牵引资源利用率、最大与95%分位单车停留时长、驼峰吞吐量、以及拥堵出现频率和持续时长；并根据业务要求设定可接受阈值（例如优先货达成率≥99%、班中时均值≤目标）作为验收标准；（6）灵敏度与价值分析：对关键参数（如解体平均时长、驼峰并发能力、轨道数量、牵引机数量、信息提前量）进行单因子与全局灵敏度分析（如Sobol指标或方差分解），并计算边际产能增益或中时改善对应的资源投入优先级，从而识别短期高效改进点与长期投资建议；（7）稳健性与改进策略评估：基于仿真结果评估若干鲁棒操作策略（例如时间缓冲/保留轨道、牵引机冗余、动态优先队列规则、滚动优化频率），用仿真比较这些策略在不同情景下对关键KPI的改进与成本/资源占用的权衡，并输出推荐的策略参数（如每班保留轨道数、缓冲时间分钟数、滚动重调度周期）；（8）压力测试与极端情况分析：对罕见但高影响的情形（如连续设备故障、大量优先货同时到达、S3以南线路中断导致绕行流量突增）做系统级压力测试，记录系统崩溃点与恢复时间，提出应急缓解措施与触发阈值；（9）输出成果与交付物：生成结构化报告（含假定与校准方法、仿真设置、场景清单、KPI分布表、敏感度图、瓶颈与拥堵甘特图/热力图）、可交互仪表盘草案（显示实时/预测中时、优先货达成率、轨道利用率与预警阈值）、以及一套可执行的改进建议与优先级清单（短期操作调整、所需资源冗余与长期投资排序）；（10）实施部署建议：给出推荐的仿真运行频率、所需计算资源估算、模型再校准周期及与运营系统的数据接口规范，以支持持续的在线验证与周期性评估。整个子任务应采用可复现的工作流（代码化的仿真脚本与数据处理管线）、明确统计显著性检验方法与置信区间报告格式，并在交付中附上运行说明与再现范例以便运维和决策者独立复核。",
      "criteria": {
        "task_understanding": {
          "core_goal": "基于离散事件仿真对调度器计划在不确定性场景下进行评估与鲁棒性检验，量化中时与按时发出率等KPI并提出改进策略。",
          "expected_output": "仿真代码与可复现实验脚本；场景集合与采样配置；KPI分布与置信区间报表；灵敏度与稳健性分析图表；压力测试结果与瓶颈诊断；策略参数推荐与部署建议文档。",
          "key_inputs_constraints": "输入：标准化调度输出(到达时间、解体开始、目标轨道、所属列车、发车时刻)、历史事件日志、车辆/轨道资源表；不确定性：处理时间分布、到站误差分布、设备故障率、信息提前量；约束：轨道长度/吨位、驼峰并发H_max、牵引机并发M_t、转发场并发；需提供时间步长Δ与仿真时钟精度一致；校准需留出集或交叉验证；KPI需含分班中时、优先货≤2h/≤1h达成率、资源利用率。",
          "modeling_type": "仿真+评价",
          "role_in_pipeline": "作为最终验证与鲁棒性评估环节，直接依赖子任务1的数据基线与参数分布、子任务2的数学模型输出结构与约束、子任务3的调度器计划；向后输出部署与策略参数建议供运营与滚动优化使用。",
          "assumptions": "使用SimPy实现DES；处理时间分布以伽马/对数正态为主并由最大似然估计；蒙特卡洛样本量≥200次/场景以稳定分位数；置信区间用BCa或正态近似(95%)。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别仿真+评价核心：中时与按时发出率评估",
              "description": "是否明确离散事件仿真的目标为评估“中时”与优先货≤2h/≤1h达成率，并非再次优化调度。",
              "score": 40,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：清晰点名两类KPI及其分班口径；中分：只提总体中时或未分班；低分：混淆为优化问题或忽略按时发出率。"
            },
            {
              "sub_criteria": "资源与约束识别：H_max/M_t/轨道容量",
              "description": "是否完整识别驼峰并发H_max、牵引机并发M_t、轨道长度/吨位与转发并发为仿真硬约束。",
              "score": 30,
              "evaluation_focus": "约束提炼",
              "scoring_hint": "高分：列出并量化约束在DES中的实现；中分：缺1项或无实现细节；低分：未识别或当作软约束。"
            },
            {
              "sub_criteria": "不确定性来源识别与场景需求",
              "description": "是否识别处理时间分布、到站误差、故障率、信息提前量为关键不确定性并需场景化测试。",
              "score": 30,
              "evaluation_focus": "风险识别",
              "scoring_hint": "高分：罗列≥3类并关联KPI影响；中分：仅列举未关联影响；低分：未提不确定性或单一因素。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "以DES复述业务流程：解体→滑行→集结→牵引→转发",
              "description": "是否将站内工艺顺序和资源竞争用离散事件术语准确复述并映射到事件/资源。",
              "score": 35,
              "evaluation_focus": "抽象表达",
              "scoring_hint": "高分：逐环节含占用与完成条件；中分：缺少1–2环节或资源映射模糊；低分：流程顺序错误。"
            },
            {
              "sub_criteria": "分班口径与Δ一致性",
              "description": "是否明确分班统计口径与仿真时钟/时间步长Δ一致并说明取整策略。",
              "score": 35,
              "evaluation_focus": "规范对齐",
              "scoring_hint": "高分：给出落格与班窗边界处理；中分：只述分班无落格细节；低分：未区分或口径混乱。"
            },
            {
              "sub_criteria": "输入契约复述：标准化调度输出字段",
              "description": "是否准确复述需要的调度输出字段(到达时间、解体开始、目标轨道、列车ID、发车时刻)。",
              "score": 30,
              "evaluation_focus": "数据契约",
              "scoring_hint": "高分：字段全且单位/时区明确；中分：字段齐但无单位；低分：字段缺失或命名不一致。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "处理时间分布假设与拟合方法(MLE/KDE/伽马/对数正态)",
              "description": "是否为解体、滑行、牵引、转发设定合理分布并说明拟合方法与检验。",
              "score": 35,
              "evaluation_focus": "统计建模",
              "scoring_hint": "高分：分布选择+拟合+检验(如KS)；中分：有分布无检验；低分：固定常数或无依据。"
            },
            {
              "sub_criteria": "到站误差与信息提前量建模",
              "description": "是否假设到站偏差分布与不同提前量场景并说明对计划执行的扰动方式。",
              "score": 30,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：给出误差分布与采样注入位置；中分：描述口头；低分：忽略提前量或到站误差。"
            },
            {
              "sub_criteria": "设备故障与修复时间假设",
              "description": "是否设定故障到达过程与修复时间分布并定义资源降级逻辑。",
              "score": 35,
              "evaluation_focus": "可靠性建模",
              "scoring_hint": "高分：过程(如泊松)+修复(如对数正态)+降级规则；中分：仅停机概率；低分：未考虑故障。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "SimPy/Arena等DES实现的资源与队列设计",
              "description": "是否用并发资源建模H_max、M_t、转发并发与轨道容量(长度/吨位)约束。",
              "score": 35,
              "evaluation_focus": "仿真设计",
              "scoring_hint": "高分：资源容量与占用时间窗准确；中分：缺长度或吨位其一；低分：资源未显式建模。"
            },
            {
              "sub_criteria": "事件调度与计划执行对接",
              "description": "是否将调度器计划(解体开始s_v、发车d_k、轨道r)转化为事件触发与占用释放。",
              "score": 25,
              "evaluation_focus": "接口集成",
              "scoring_hint": "高分：含延误/提前扰动处理；中分：仅按计划执行；低分：未利用计划字段。"
            },
            {
              "sub_criteria": "校准框架与留出/交叉验证",
              "description": "是否设计参数校准流程并用留出集或CV对轨道占用分布、历史中时进行匹配。",
              "score": 25,
              "evaluation_focus": "模型校准",
              "scoring_hint": "高分：指标与容差定义清晰；中分：有校准无验证；低分：无校准。"
            },
            {
              "sub_criteria": "场景与采样设计(Latin Hypercube/分位测试)",
              "description": "是否覆盖正常/峰值/故障/绕行/提前量变化并说明抽样和极端分位。",
              "score": 15,
              "evaluation_focus": "实验设计",
              "scoring_hint": "高分：≥5类场景+LHS或等效覆盖；中分：少量场景；低分：单一或随意采样。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "蒙特卡洛收敛与置信区间估计",
              "description": "是否给出每场景样本量、误差界与95%置信区间计算方法(BCa/正态近似)。",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：样本量依据与CI公式；中分：给CI无依据；低分：无CI与收敛讨论。"
            },
            {
              "sub_criteria": "灵敏度分析(Sobol/方差分解/单因子)",
              "description": "是否对Δ、H_max、M_t、轨道数、提前量进行单因子或全局灵敏度并量化影响。",
              "score": 35,
              "evaluation_focus": "不确定性分析",
              "scoring_hint": "高分：给出效应大小或排序；中分：定性描述；低分：无灵敏度分析。"
            },
            {
              "sub_criteria": "压力测试与崩溃点识别",
              "description": "是否进行极端场景(大量优先货、连续故障、绕行突增)并报告系统崩溃点与恢复时间。",
              "score": 30,
              "evaluation_focus": "鲁棒性检验",
              "scoring_hint": "高分：量化阈值与恢复；中分：仅描述现象；低分：未做压力测试。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "仿真代码结构与可复现工作流",
              "description": "是否提供模块化SimPy/AnyLogic脚本、可重复运行入口与固定随机种子控制。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：一键重现实验；中分：需手工多步；低分：无法复现或缺入口。"
            },
            {
              "sub_criteria": "数据接口与契约校验",
              "description": "是否实现对标准化调度输出/资源表的schema验证、单位/时区一致性检查与日志记录。",
              "score": 25,
              "evaluation_focus": "工程规范",
              "scoring_hint": "高分：自动校验与错误报告；中分：部分校验；低分：无校验。"
            },
            {
              "sub_criteria": "性能与并行：场景并行/多进程",
              "description": "是否实现场景蒙特卡洛并行、结果汇总与内存控制以支撑≥200次/场景。",
              "score": 25,
              "evaluation_focus": "效率实现",
              "scoring_hint": "高分：线性扩展良好；中分：有限并行；低分：串行且缓慢。"
            },
            {
              "sub_criteria": "可视化与报告生成自动化",
              "description": "是否自动产出KPI分布、分班中时、资源利用率热力图与PDF/HTML报告。",
              "score": 20,
              "evaluation_focus": "可用性",
              "scoring_hint": "高分：一键产报；中分：部分图表；低分：无自动报告。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "KPI分布与置信区间报告（分班中时、按时发出率）",
              "description": "是否按班次给出中时均值/分位数与优先货≤2h/≤1h达成率的95%CI并解释差异。",
              "score": 40,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：表+图+差异原因；中分：给均值无CI；低分：缺分班或缺按时率。"
            },
            {
              "sub_criteria": "瓶颈定位与资源利用率分析",
              "description": "是否用甘特/热力图识别驼峰、牵引机、轨道的拥堵窗口与利用率阈值。",
              "score": 25,
              "evaluation_focus": "诊断能力",
              "scoring_hint": "高分：量化占用>85%为瓶颈并定位时段；中分：定性描述；低分：无定位。"
            },
            {
              "sub_criteria": "稳健策略对比与推荐参数",
              "description": "是否比较缓冲时间、保留轨道、牵引冗余、滚动重调度周期对KPI的提升并给出推荐值。",
              "score": 25,
              "evaluation_focus": "决策支持",
              "scoring_hint": "高分：呈现收益-成本权衡与推荐区间；中分：仅给方向性建议；低分：无策略对比。"
            },
            {
              "sub_criteria": "部署与再校准建议",
              "description": "是否给出仿真运行频率、计算资源、再校准周期与数据接口规范建议。",
              "score": 10,
              "evaluation_focus": "落地能力",
              "scoring_hint": "高分：量化频率与资源配置；中分：笼统建议；低分：未提部署。"
            }
          ]
        }
      }
    }
  }
}