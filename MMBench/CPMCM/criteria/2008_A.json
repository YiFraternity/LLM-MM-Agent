{
  "task_id": "2008_A",
  "problem": "唐家山堰塞湖的堰塞体沿河流方向达800多米，从最终的实际情况看，从坝顶溢出而溃坝的可能性比其它原因溃坝的可能性大得多。我们收集了大量当时新闻媒体对唐家山堰塞湖进展情况的报道和博客上的数字地图，其中包括大量的珍贵的数据（数据见附件）。由于来源不同，如有冲突请以新华社报道的相关数据为依据，当然研究生们也可以收集其它数据作为参考。请研究堰塞湖及其泄洪规律，完成以下几项工作：\n\n1.建立唐家山堰塞湖以水位高程为自变量的蓄水量的数学模型 (见附件1）。并以该地区天气预报的降雨情况的50%，80%，100%，150%为实际降雨量建立模型预计自起至堰塞湖水位每日上升的高度(不计及泄洪)。（由于问题的难度和实际情况的复杂性及安全方面的考虑，建议不要过分追求模型的精度，以下同）；\n\n2.这次唐家山堰塞湖泄洪时科技人员记录下了大量宝贵的数据（见附件2），请研究生利用这批数据尝试在合理的假设下建立堰塞湖蓄水漫顶后在水流作用下发生溃坝的数学模型，建议包含缺口宽度、深度、水流速度、水量、水位高程，时间等变量。\n\n3.根据数字地图（地图和使用方法见附件3）给出坝体发生溃塌，造成堰塞湖内1/3的蓄水突然下泻时（实际上没有发生）的洪水水流速度及淹没区域（包括洪水到达各地的时间），并在此基础上考虑洪水淹没区域中人口密集区域的人员撤离方案。\n\n4.请根据你们所建立的数学模型分析当时所采取对策的正确性和改进的可能性（见附件4）。讨论为应对地震后次生山地灾害 (不限堰塞湖) ，科技工作中应该设法解决的关键问题，并提出有关建议。",
  "subtask": {
    "1": {
      "subtask": "子任务一（地形与静态水量关系构建）的目标是以可重复、可验证的流程从多源地形与测深数据生成堰塞湖在不同水位标高h下的蓄水量V(h)、水面面积A(h)和有效面积S(h)=dV/dh（亦称蓄水曲线斜率）及其不确定性描述，输出包括多分辨率DEM、用于查询的V(h)/A(h)/S(h)查表或快速代理模型以及相应的空间要素（每一水位对应的水淹边界多边形）；为实现这一目标，请按如下步骤执行：1) 数据收集与优先排序——汇集并登记所有可得地形与水深资料，优先采用新华社和权威测绘/无人机/航空激光雷达(LiDAR)/声纳测深数据，其次为卫星数字高程模型(SRTM/ASTER)、等高线、摄影测量点云与公众来源，记录每一数据集的原始采集时间、坐标参考系和垂直精度；2) 坐标与基准一致化——统一到工程指定的水平与垂直基准（例如CGCS2000/WGS84与国家高程基准），进行投影变换并保留元数据；3) 数据清洗与融合——用点云工具(PDAL/LAStools)和GDAL对点云/等高线/测深点进行过滤(去噪、去除孤立点、分类植被/建筑)、空洞识别并按优先级融合；对水下地形需优先使用测深资料，若测深稀疏则用等高线插值或基于岸线和历史水位的地形推断并明确标注高不确定区；4) DEM生成与多分辨率重采样——在保持原始高分辨率信息的同时生成至少两套格网：应急快速模式（格距50–100 m）与精细分析模式（格距5–10 m），采用适当插值(反距离加权、克里金或自然邻近)并保存为GeoTIFF/NetCDF，针对小尺度堰塞体细节可保留矢量剖面；5) DEM处理注意事项——在处理时区分真实地形洼地与测绘伪凹陷，避免盲目“填洼”以免破坏蓄水体形状；对显示为异常的深度或高程差用场地记录或原始点云回溯校正；6) V(h)、A(h)计算方法——在所选水位范围（从最低可存水标高到堰顶，推荐步长0.1–0.5 m或自适应细化关键区间）上对每一格点用离散积分计算蓄水体积：V(h)=Σ_{i: z_i<h} (h−z_i)·ΔA_i，A(h)=Σ_{i: z_i<h} ΔA_i，并用中心差分或光滑化差分计算S(h)=dV/dh；7) 不确定性估计与质量控制——基于每个输入数据集的垂直RMSE用蒙特卡洛扰动DEM样本(如N=100–1000)传播高程误差以获得V(h)、A(h)、S(h)的置信区间；校验步骤包括与原始测深点比对体积/深度残差、检查在已知观测水位下的水面边界一致性以及确保体积单调性和物理合理性（V(h)递增、S(h)非负）；8) 快速查表与代理建模——将计算得到的V(h)/A(h)/S(h)以CSV/NetCDF和空间矢量（每一h对应的水域边界shapefile）形式存档，并为实时查询构建快速代理（例如基于克里金、径向基或低阶多项式拟合的函数）以支持后续模块快速调用；9) 文档与交付物——提供详细元数据和处理日志（数据来源与优先级、插值方法、格距、假设说明、精度评估）、多分辨率DEM文件、V(h)/A(h)/S(h)表格与不确定区间、每水位的边界矢量以及可执行的脚本（Python: rasterio, numpy, scipy, pykrige; GIS: GDAL/OGR, QGIS）以确保结果可复现；10) 计算与实施建议——对大尺度格网和多水位循环运算采用向量化与并行化计算以缩短运行时间，并在处理缺测或高不确定性区域时在产出中明确标注以便决策时考虑数据局限。",
      "criteria": {
        "task_understanding": {
          "core_goal": "构建与评估唐家山堰塞湖在不同水位标高h下的蓄水量V(h)、水面面积A(h)与斜率S(h)=dV/dh的拟合+仿真模型，并量化不确定性。",
          "expected_output": "多分辨率DEM(GeoTIFF/NetCDF)、V(h)/A(h)/S(h)查表(CSV/NetCDF)与置信区间、每一水位h的淹没边界矢量(shapefile)、快速代理模型(如多项式/克里金/RBF)、可复现脚本与处理日志/元数据。",
          "key_inputs_constraints": "输入：多源地形与测深数据(LiDAR点云/声纳测深/等高线/卫星DEM/摄影测量)、坐标与垂直基准信息、岸线与历史水位。约束：新华社与权威数据优先；统一到CGCS2000/WGS84与国家高程基准；区分水下/地面高程；步长0.1–0.5 m(关键区间自适应)；保证V(h)单调、S(h)非负。前置：完成坐标一致化与数据清洗融合，记录各数据集RMSE用于蒙特卡洛扰动。",
          "modeling_type": "拟合+仿真+评价",
          "role_in_pipeline": "作为后续泄洪与演进仿真的基础地形-水量关系模块；前序依赖数据收集、坐标与基准一致化、清洗融合与DEM生成；后序供溃坝动力学、洪水演进、风险与应急优化调用。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别V(h)/A(h)/S(h)=dV/dh构建目标与不确定性评估",
              "description": "明确核心是以水位标高h为自变量计算V(h)、A(h)并通过差分得S(h)，且需给出置信区间而非单值。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：清楚列出V(h)、A(h)、S(h)与不确定性; 中分：仅有V(h)/A(h)或缺少S(h)或置信区间; 低分：未围绕h构建体量关系。"
            },
            {
              "sub_criteria": "多源DEM/测深与新华社优先级约束",
              "description": "指出数据来源分级（新华社/权威>Lidar/声纳>卫星DEM>公众），并纳入冲突处置策略。",
              "score": 25,
              "evaluation_focus": "数据理解",
              "scoring_hint": "高分：给出明确优先级与冲突规则; 中分：提及权威优先但无细则; 低分：未区分来源可信度。"
            },
            {
              "sub_criteria": "水位范围与步长设置",
              "description": "识别从最低可存水标高至堰顶的计算区间与0.1–0.5 m步长及关键区间自适应细化。",
              "score": 20,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出区间、固定步长与自适应策略; 中分：仅固定步长; 低分：无范围或步长说明。"
            },
            {
              "sub_criteria": "质量控制与物理约束",
              "description": "强调V(h)递增、S(h)非负、体积单调性与边界一致性检查。",
              "score": 20,
              "evaluation_focus": "评价校验",
              "scoring_hint": "高分：列出全部物理与一致性检查; 中分：列出其一; 低分：未提及校验。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "用积分公式复述V(h)、A(h)",
              "description": "明确离散公式V(h)=Σ_{z_i<h}(h−z_i)·ΔA_i，A(h)=Σ_{z_i<h}ΔA_i并与DEM格点对应。",
              "score": 30,
              "evaluation_focus": "数理表达",
              "scoring_hint": "高分：给出正确离散表达; 中分：仅口述体积面积; 低分：公式错误或缺失。"
            },
            {
              "sub_criteria": "S(h)=dV/dh的差分求取",
              "description": "说明采用中心差分或光滑化差分求S(h)，并提及平滑避免数值噪声。",
              "score": 25,
              "evaluation_focus": "数值方法",
              "scoring_hint": "高分：中心差分与平滑说明; 中分：仅差分无平滑; 低分：未定义S(h)算法。"
            },
            {
              "sub_criteria": "不确定性传播复述",
              "description": "阐明基于垂直RMSE的蒙特卡洛扰动DEM样本(N=100–1000)获得V/A/S置信区间。",
              "score": 25,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：给出RMSE、N范围与输出区间; 中分：仅说蒙特卡洛; 低分：无不确定性。"
            },
            {
              "sub_criteria": "多分辨率DEM与输出制品复述",
              "description": "准确复述5–10 m精细与50–100 m应急DEM、矢量边界与代理模型输出。",
              "score": 20,
              "evaluation_focus": "需求映射",
              "scoring_hint": "高分：两套格网+矢量+代理; 中分：缺其一; 低分：仅单一DEM或无制品。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "基准与投影一致化假设",
              "description": "明确统一到CGCS2000/WGS84与国家高程基准，说明转换误差可忽略或纳入RMSE。",
              "score": 25,
              "evaluation_focus": "数据假设",
              "scoring_hint": "高分：说明基准与误差处理; 中分：仅声明统一; 低分：无基准假设。"
            },
            {
              "sub_criteria": "水下地形补全与不确定区标注",
              "description": "对稀疏测深采用等高线插值/岸线推断，并显式标注高不确定区域。",
              "score": 30,
              "evaluation_focus": "风险控制",
              "scoring_hint": "高分：给出补全方法+标注规则; 中分：仅补全; 低分：既不补全也不标注。"
            },
            {
              "sub_criteria": "洼地处理与伪凹陷识别",
              "description": "假设不盲目填洼，需区分真实洼地与测绘伪凹陷，并可回溯点云核验。",
              "score": 25,
              "evaluation_focus": "质量控制",
              "scoring_hint": "高分：提出核验与不填洼策略; 中分：笼统提及; 低分：默认填洼。"
            },
            {
              "sub_criteria": "误差分布与相关性假设",
              "description": "说明DEM垂直误差分布(如高斯、空间相关性)及对蒙特卡洛扰动的处理。",
              "score": 20,
              "evaluation_focus": "统计建模",
              "scoring_hint": "高分：给出分布与相关性设定; 中分：仅高斯独立; 低分：未说明。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "DEM插值与融合策略(克里金/IDW/自然邻近)",
              "description": "根据数据密度选择插值方法，并阐明水下优先用测深、陆上用LiDAR/等高线的融合权重。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：方法选择有据并分区加权; 中分：仅单一方法; 低分：无策略或不当选择。"
            },
            {
              "sub_criteria": "V(h)/A(h)离散积分与S(h)平滑差分设计",
              "description": "给出栅格化积分与中心差分/样条平滑细节，确保数值稳定与物理约束。",
              "score": 30,
              "evaluation_focus": "数值设计",
              "scoring_hint": "高分：完整流程与约束; 中分：缺平滑或约束; 低分：计算不闭合。"
            },
            {
              "sub_criteria": "蒙特卡洛不确定性模型",
              "description": "定义N、扰动场生成(含空间相关)、统计汇总(均值/分位)、输出到V/A/S区间。",
              "score": 25,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：含相关性与分位结果; 中分：独立噪声+均值方差; 低分：未实现。"
            },
            {
              "sub_criteria": "快速代理模型构建(多项式/克里金/RBF)",
              "description": "在计算表上拟合V(h)/A(h)/S(h)函数并验证拟合误差与单调性保持。",
              "score": 15,
              "evaluation_focus": "拟合评估",
              "scoring_hint": "高分：报告误差与单调性; 中分：仅给模型; 低分：无验证。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "多分辨率DEM生成与重采样",
              "description": "生成5–10 m与50–100 m格网，验证与原始高分辨率一致性与关键地形保真。",
              "score": 30,
              "evaluation_focus": "实现细节",
              "scoring_hint": "高分：两套格网+一致性检验; 中分：仅一套或无检验; 低分：无重采样细节。"
            },
            {
              "sub_criteria": "水位循环与并行化/向量化",
              "description": "在水位区间做批量积分，使用向量化/并行缩短运行时间并报告耗时改进。",
              "score": 25,
              "evaluation_focus": "效率优化",
              "scoring_hint": "高分：量化加速比或耗时; 中分：有并行但无数据; 低分：逐点循环低效。"
            },
            {
              "sub_criteria": "质量控制与校验实现",
              "description": "对照测深点残差、已知观测水位的水面边界一致性、体积单调性检查与回溯修正。",
              "score": 25,
              "evaluation_focus": "验证",
              "scoring_hint": "高分：三项校验齐全并给指标; 中分：部分校验; 低分：无校验。"
            },
            {
              "sub_criteria": "空间要素生成(淹没边界)",
              "description": "从每一h生成水域边界多边形，拓扑正确、无自交，并与DEM一致。",
              "score": 20,
              "evaluation_focus": "GIS实现",
              "scoring_hint": "高分：拓扑检查与样例验证; 中分：边界有但无检查; 低分：未产出或错误。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现脚本与日志( rasterio/GDAL/PDAL )",
              "description": "提供端到端脚本与处理日志、元数据保留(坐标基准、RMSE、插值参数)。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：一键复现+完整日志; 中分：脚本可跑缺日志; 低分：零散不可复现。"
            },
            {
              "sub_criteria": "数值稳定与单元测试",
              "description": "对V(h)、A(h)、S(h)计算与差分平滑设单元测试与边界值测试。",
              "score": 25,
              "evaluation_focus": "工程质量",
              "scoring_hint": "高分：覆盖核心函数与边界; 中分：少量测试; 低分：无测试。"
            },
            {
              "sub_criteria": "性能与内存管理",
              "description": "采用向量化/并行与块处理，避免内存爆炸，记录峰值内存与耗时。",
              "score": 25,
              "evaluation_focus": "性能优化",
              "scoring_hint": "高分：给出峰值内存/耗时与优化前后对比; 中分：有优化但无量化; 低分：性能低下。"
            },
            {
              "sub_criteria": "数据IO与格式正确性",
              "description": "正确读写GeoTIFF/NetCDF/CSV/shapefile，携带坐标参考与单位。",
              "score": 20,
              "evaluation_focus": "IO正确性",
              "scoring_hint": "高分：元数据完备且可在GIS正确显示; 中分：偶有缺失; 低分：坐标错或单位不明。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "V(h)/A(h)/S(h)曲线与物理一致性",
              "description": "展示并解读曲线形态、单调性、关键转折与地形对应关系。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：图表+地形解释; 中分：仅图或仅述; 低分：无解读或违背物理。"
            },
            {
              "sub_criteria": "不确定性区间与敏感性分析",
              "description": "报告置信区间、对数据源RMSE/分辨率的敏感性与对关键区间的影响。",
              "score": 30,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：量化区间与敏感度; 中分：仅区间或仅敏感; 低分：未分析。"
            },
            {
              "sub_criteria": "空间边界验证与误差定位",
              "description": "对比观测水位边界、标注高不确定区域并定位误差来源(如水下推断区)。",
              "score": 20,
              "evaluation_focus": "空间验证",
              "scoring_hint": "高分：提供对比与误差图; 中分：口头说明; 低分：无空间验证。"
            },
            {
              "sub_criteria": "代理模型精度与可用性评估",
              "description": "给出代理模型在V(h)/A(h)/S(h)上的拟合误差、单调性保持与应用建议。",
              "score": 20,
              "evaluation_focus": "模型评估",
              "scoring_hint": "高分：误差指标与单调性检查; 中分：仅误差或仅结论; 低分：无评估。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2的目标是构建一个独立的、可运行的“降雨—径流入库并预测水位演化（不计泄洪）”模块，输入为时序降雨预报（按50%、80%、100%、150%四档放缩）、集水区面积Ac、流域径流参数（如径流系数Cr或SCS‑CN参数）、初始库容/水位h0及库容—水位关系表V(h)、水面面积A(h)和S(h)=dV/dh（或可由DEM离散计算得到的查表/代理模型）、时间分辨率与模拟时段；输出为按小时或日尺度的水位时间序列h(t)、蓄水量V(t)、水面面积A(t)及是否达到溢顶的事件标志。方法上提供两条实现路径：快速水量平衡路径以常微分方程dh/dt = (Qin(t) − Qout)/S(h)为核心，Qout在本子任务内设为零，Qin由两部分组成——（1）流域径流近似为Cr·Ac·P(t)（或经单位换算的SCS‑CN转化后的时序径流），（2）直接降雨落入湖面的贡献为A(h)·P(t)；更精细路径用时域单位线/脉冲响应（UH）或线性滞留模型将降雨时间分布卷积为上游来流Qup(t)，即Qin(t)=Ac·(P * UH)(t)+A(h)·P(t)，从而考虑降雨逕流的时滞与展布。数值实现建议采用显式Runge‑Kutta（如RK4）或自适应步长ODE求解器，时间步应与降雨资料分辨率一致或更细，水位到达溢顶应触发事件检测并记录触发时刻；单位和换算须明确（降雨mm→m:乘1e‑3，流量m^3/s按秒换算）。不确定性处理包括对Cr或CN、降雨放缩系数及V(h)查表误差做蒙特卡洛敏感性采样以产出水位区间置信带。实现工具建议采用Python生态（numpy、scipy.integrate、pandas）、GIS库(rasterio, geopandas)与可选的水文软件（HEC‑HMS或自建UH模块）以便并行多情景运算，输出为可绘制的h(t)/V(t)/A(t) CSV与触发报告（达到特定水位阈值的时刻和累计降雨量），并在模块文档中明确假设（短期忽略蒸散、渗漏和人工泄放），以保证该模块在应急条件下既能快速运行又能为后继决策模块提供一致且可复现的边界输入。",
      "criteria": {
        "task_understanding": {
          "core_goal": "预测唐家山堰塞湖在给定降雨预报放缩（50%、80%、100%、150%）下的水位演化h(t)，基于降雨—径流入库的水量平衡模型（不计泄洪）。",
          "expected_output": "按小时或日尺度的h(t)、V(t)、A(t)时间序列CSV；溢顶事件标志与触发时刻报告；可运行的Python模块/脚本；（可选）不确定性蒙特卡洛置信带图表；日志与单位换算说明。",
          "key_inputs_constraints": "输入：P(t)降雨序列与放缩系数{0.5,0.8,1.0,1.5}；Ac集水区面积；径流参数Cr或SCS‑CN；初始水位h0或库容V0；V(h)、A(h)、S(h)查表/代理模型；时间步Δt与模拟时段。约束：Qout=0；单位一致（mm→m；m3/s与时间步换算）；时间步与P(t)分辨率一致或更细；h不得超出V(h)定义域（需边界处理）。",
          "modeling_type": "仿真+预测",
          "role_in_pipeline": "作为上游降雨预报到库水位边界条件的生成模块，位于“子任务一（V(h)/A(h)/S(h)构建）”之后，为后续“泄洪/溃坝动力学与风险评估（子任务3、4）”提供h(t)/V(t)/A(t)输入；依赖已一致化的DEM查表与气象降雨数据。",
          "assumptions": "短期忽略蒸散、渗漏与人工泄放；湖面降雨均匀；Cr或CN为定值或场均等效；S(h)可由差分V(h)稳定获得；UH路径可选，默认快速水量平衡。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别预测目标：水位演化h(t)与溢顶事件",
              "description": "明确本任务是预测h(t)、V(t)、A(t)并判定是否达到溢顶（相对于堰顶高程）的时间，而非泄洪或溃坝过程。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：清楚区分“入库预测（Qout=0）”与“泄洪/溃坝”；中分：能提到h(t)但混淆事件定义；低分：将任务误写为泄洪模拟或未提溢顶判定。"
            },
            {
              "sub_criteria": "识别关键输入：P(t)、Ac、Cr/CN、V(h)/A(h)/S(h)、h0",
              "description": "列全必要输入并说明数据来源与约束（单位、分辨率、定义域）。",
              "score": 25,
              "evaluation_focus": "需求梳理",
              "scoring_hint": "高分：逐一列出并给单位与范围；中分：缺1–2项或单位不明；低分：未说明或与任务无关输入。"
            },
            {
              "sub_criteria": "识别两条实现路径：快速水量平衡与UH卷积",
              "description": "指出可选方法及适用场景（时滞重要性、计算成本）。",
              "score": 20,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：能比较两路径优缺点；中分：仅提名称；低分：未识别或方法不相关。"
            },
            {
              "sub_criteria": "单位与时间步一致性约束",
              "description": "识别mm→m、m3转化、Δt与P(t)一致或更细的数值约束。",
              "score": 20,
              "evaluation_focus": "数理规范",
              "scoring_hint": "高分：给出明确换算与Δt要求；中分：部分提及；低分：未考虑或单位错误。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述Qin组成：Cr·Ac·P(t)与A(h)·P(t)",
              "description": "准确表述流域径流与湖面直接降雨两项并区分单位（面雨量→体积/流量）。",
              "score": 30,
              "evaluation_focus": "精确表达",
              "scoring_hint": "高分：写清两项及换算；中分：只写一项或混淆单位；低分：表述错误。"
            },
            {
              "sub_criteria": "复述ODE：dh/dt = Qin(t)/S(h)（Qout=0）",
              "description": "给出核心水量平衡形式并说明S(h)=dV/dh来源。",
              "score": 30,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：式子正确并说明S(h)数值差分；中分：式子对但缺来源；低分：公式错误或遗漏。"
            },
            {
              "sub_criteria": "场景复述：50/80/100/150%降雨放缩与溢顶事件检测",
              "description": "明确多情景并说明如何触发和记录溢顶时刻。",
              "score": 40,
              "evaluation_focus": "场景覆盖",
              "scoring_hint": "高分：列四档并含事件输出；中分：缺一档或事件未定义；低分：未复述多情景。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "忽略项假设：蒸散、渗漏、人工泄放为零",
              "description": "说明忽略原因、时段适用性与潜在偏差方向。",
              "score": 25,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：给时效与偏差评述；中分：仅列出；低分：未说明或不合理。"
            },
            {
              "sub_criteria": "参数假设：Cr或CN为定值/等效",
              "description": "阐明取值依据、范围与对结果敏感性（将用于蒙特卡洛）。",
              "score": 25,
              "evaluation_focus": "参数设定",
              "scoring_hint": "高分：给范围与分布；中分：仅给单值；低分：缺乏说明。"
            },
            {
              "sub_criteria": "几何假设：V(h)/A(h)/S(h)查表稳定、定义域覆盖至堰顶",
              "description": "说明差分计算S(h)的平滑与边界外推策略。",
              "score": 25,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：提到中心差分/光滑与外推限制；中分：只说查表可用；低分：未考虑定义域。"
            },
            {
              "sub_criteria": "UH路径假设（可选）：线性时不变与脉冲响应",
              "description": "若采用UH，需说明单位线形态与参数来源。",
              "score": 25,
              "evaluation_focus": "模型设定",
              "scoring_hint": "高分：指明三角/NRCS UH与滞后参数；中分：泛称UH；低分：使用但无任何假设说明。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "水量平衡方程到离散实现：RK4/自适应步长",
              "description": "从dh/dt到数值积分方案选择与稳定性讨论（Δt与S(h)）。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：说明RK4/误差控制与步长；中分：固定步显式法无解释；低分：不当方法致不稳定。"
            },
            {
              "sub_criteria": "Qin(t)构造：Cr·Ac·P(t)与A(h)·P(t)单位一致",
              "description": "给出从面雨量到体积/流量的严格换算与插值对齐。",
              "score": 25,
              "evaluation_focus": "数理规范",
              "scoring_hint": "高分：含mm→m、Δt换算、插值；中分：部分；低分：单位/对齐错误。"
            },
            {
              "sub_criteria": "事件检测：溢顶阈值与根定位",
              "description": "设计阈值检测与插值/根查找以精确溢顶时刻。",
              "score": 20,
              "evaluation_focus": "数值细节",
              "scoring_hint": "高分：跨步插值或Brent法；中分：步点判断；低分：无检测或不准确。"
            },
            {
              "sub_criteria": "不确定性建模：Cr/CN、放缩系数、V(h)误差的蒙特卡洛",
              "description": "定义参数分布、样本量与汇总置信带。",
              "score": 25,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：给分布、N≥200并输出区间；中分：N小或未定义分布；低分：无不确定性。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "数值稳定与守恒：V(t)单调递增、S(h)非负",
              "description": "检查并强制物理合理性（必要时裁剪步长/限幅）。",
              "score": 30,
              "evaluation_focus": "数值质量",
              "scoring_hint": "高分：包含单调与非负检查；中分：仅口头说明；低分：结果违背物理。"
            },
            {
              "sub_criteria": "时间步与降雨分辨率一致性",
              "description": "Δt匹配P(t)或更细并处理插值/阶梯保持。",
              "score": 25,
              "evaluation_focus": "实现细节",
              "scoring_hint": "高分：明确策略并验证；中分：基本一致；低分：错配导致偏差。"
            },
            {
              "sub_criteria": "多情景批量求解与并行",
              "description": "对50/80/100/150%降雨放缩与蒙特卡洛高效运行。",
              "score": 20,
              "evaluation_focus": "工程效率",
              "scoring_hint": "高分：向量化/并行；中分：串行但可运行；低分：不能批量或错误。"
            },
            {
              "sub_criteria": "UH卷积实现（若采用）",
              "description": "稳定卷积/离散化与质量守恒校验。",
              "score": 25,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：FFT/时域卷积一致性测试；中分：能跑无校验；低分：错误或能量不守恒。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "单位换算与接口校验",
              "description": "代码层面强制mm→m、m3与时间步换算校验，输入schema验证。",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：断言/类型检查与报错清晰；中分：部分检查；低分：无校验。"
            },
            {
              "sub_criteria": "可重复性与参数化",
              "description": "配置化输入（CSV/JSON）、随机种子、固定版本依赖。",
              "score": 25,
              "evaluation_focus": "工程实践",
              "scoring_hint": "高分：一键运行与日志；中分：需手改代码；低分：难以复现。"
            },
            {
              "sub_criteria": "数值求解器实现（RK4/自适应）与事件记录",
              "description": "稳定实现dh/dt积分并输出h(t)/V(t)/A(t)与溢顶时刻。",
              "score": 30,
              "evaluation_focus": "数值实现",
              "scoring_hint": "高分：通过单元测试（守恒/单调）；中分：能跑少测；低分：求解不收敛或事件缺失。"
            },
            {
              "sub_criteria": "不确定性蒙特卡洛与结果汇总",
              "description": "向量化采样、并行与置信区间导出。",
              "score": 20,
              "evaluation_focus": "性能与统计",
              "scoring_hint": "高分：高效且输出P5–P95；中分：慢或仅均值；低分：未实现。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "水位预测h(t)合理性检查与对比",
              "description": "检查单调性、峰现时序，与历史或物理直觉一致性。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：系统检验并解释异常；中分：定性描述；低分：无检查。"
            },
            {
              "sub_criteria": "多情景（50/80/100/150%）比较与溢顶时刻报告",
              "description": "列出各情景溢顶与否、触发时刻和累计降雨量阈值。",
              "score": 30,
              "evaluation_focus": "对比分析",
              "scoring_hint": "高分：表格/报告齐全；中分：缺少1项；低分：未比较或错误。"
            },
            {
              "sub_criteria": "不确定性置信带解读",
              "description": "解释Cr/CN、V(h)误差对h(t)区间的贡献与敏感性。",
              "score": 25,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：量化区间与主导因素；中分：笼统；低分：未分析。"
            },
            {
              "sub_criteria": "限制与改进建议（UH、数据分辨率、S(h)平滑）",
              "description": "针对模型缺陷提出具体可执行改进路径。",
              "score": 15,
              "evaluation_focus": "改进思维",
              "scoring_hint": "高分：具体到参数与方法；中分：泛泛而谈；低分：无建议。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3（溃坝触发与溃口演化建模）——本子任务的目标是建立并实现一个能描述堰塞体自坝顶溢流或局部突破到溃口形成与扩展全过程的物理—经验耦合时间演化模型，输出溃口宽度W(t)、深度D(t)、横截面积Ab(t)、泄流Qb(t)、溃坝触发时刻与峰值流量及其不确定区间，并提供可用于下游洪水路由的时间序列边界条件；其范围仅限于流动力学驱动的冲刷侵蚀与溃口几何演化（可用经验放大因子近似处理泥砂与块体输移的增强效应），不涉及下游传播或人口疏散。为实现该目标，需按步骤完成：1) 明确并准备输入数据，包括堰塞体与坝顶附近的高程剖面（DEM或剖面数据）、堰体材料参数范围（临界剪应力τc、侵蚀系数K或单位流功率参数Ksp、材料层理信息及密度ρs）、初始溢流或湖面水位时间序列h(t)或相应的即时水头h_b(t)、以及用于校准的观测序列（附件2中的Q_obs(t)、W_obs(t)、溃坝时刻与局部水位观测）；2) 建立物理—经验耦合方程组，典型形式为连续性：dh/dt = (Qin(t) − Qb(t))/S(h)（若提供h(t)则可作为外生驱动），溃口流量采用清流或带能量损失的方程Qb(t) = Cd·Ab(t)·√(2 g h_b(t))（或改为收缩/孔口系数形式），溃口几何进化由侵蚀速率方程控制，如dW/dt = K_w·max(0, τ_b/τc − 1)^{m_w}, dD/dt = K_d·max(0, τ_b/τc − 1)^{m_d}，其中τ_b可由局部水力条件估算（例如τ_b ≈ ρ g R_h S_local）或替代为单位流功率Ω = Qb·h_b/Ab并采用dAb/dt = K_sp·Ω^α；3) 指定初始与边界条件（初始W0、D0、h(0)或h_b(0)）及物理常数（g、ρ），并明确何时触发溃口演化（例如水位超过坝顶或局部剪应力首次超过τc）；4) 设计数值解法：由于系统可能出现刚性突变，采用适应步长的隐显混合方法（IMEX）或小步长显式Runge‑Kutta并实现事件检测以捕捉突破瞬时、同时对Qb中的平方根项和侵蚀非线性采用局部正则化以避免数值震荡；5) 参数校准与不确定性估计：基于观测数据构建似然或目标函数，采用最小二乘和/或贝叶斯‑MCMC方法估计关键参数（Cd、K_w、K_d、τc、m参数、K_sp等）的后验分布，必要时用拉丁超立方或高斯过程代理加速高维样本的蒙特卡洛不确定性传播；6) 敏感性与稳健性分析：对参数和输入（如初始水位、材料参数）做局部灵敏度和全局Sobol分析，识别对溃坝时刻与峰流量影响最大的参数以指导现场优先观测；7) 校验与质量控制：用独立观测序列评估模拟的时间序列拟合度（RMSE、偏差、事件时间误差、预测区间覆盖率）并检查物理一致性（非负Ab、守恒水量在数值容差内）；8) 输出与格式：按预定时间步输出W(t)、D(t)、Ab(t)、Qb(t)、h(t)（或与输入驱动一致的残差）、关键事件标志及参数不确定性矩阵，格式为CSV/NetCDF并附模型配置文件（参数、求解器设置、边界条件、版本信息）；9) 推荐工具与实现细节：优先使用数值库（Python: scipy.integrate, JAX/NumPy for vectorization 或 Julia 的DifferentialEquations.jl）实现耦合ODE求解与MCMC（emcee/pyMC3或Turing），并在高计算负载时采用代理模型（Gaussian process、RBF或低秩多项式）以支持实时情景评估；10) 交付物应包括可复现的代码、参数估计记录、校验结果与不确定性报告，使模型能被独立运行与用于为下游洪水模拟提供时间序列边界条件。",
      "criteria": {
        "task_understanding": {
          "core_goal": "预测并拟合堰塞体自坝顶溢流或局部突破到溃口形成与扩展全过程，输出溃口宽度W(t)、深度D(t)、横截面积Ab(t)、泄流Qb(t)、溃坝触发时刻与峰值流量并给出不确定区间",
          "expected_output": "按时序的W(t), D(t), Ab(t), Qb(t) CSV/NetCDF 时序文件；溃坝触发时刻与峰值流量报告及不确定性（置信区间/后验分布）；模型代码、参数估计记录、配置文件与校验图表",
          "key_inputs_constraints": "1) 数值栅格或剖面DEM/剖面数据（GeoTIFF/CSV），含坐标与垂直精度；2) 堰体材料参数范围（τc, K_w/K_d 或 K_sp, 密度ρs）及初始几何W0,D0；3) 驱动水位时序h(t)或上游入库h_b(t)（CSV，时间分辨率）；4) 校准观测序列Q_obs(t), W_obs(t)；必要前置条件：需来自子任务1/2的V(h)/A(h)/S(h)或DEM；关键约束：仅考虑流动力学驱动侵蚀，忽略下游路由",
          "modeling_type": "仿真+拟合+预测",
          "role_in_pipeline": "作为中游的物理—经验溃口演化模块，依赖前序子任务1（V(h)/DEM）和子任务2（h(t)水位驱动）；为后序下游洪水路由提供时间序列边界条件和不确定度；同时依赖附件观测用于校准/验证",
          "assumptions": "题目要考什么——按题型拆解关键能力：强调先建模再选算法与验证。假定侵蚀过程可用经验K与τc放大因子近似，泥砂/块体输移影响用经验放大因子处理；忽略人工泄放与下游反馈。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别流动力学驱动的冲刷侵蚀与溃口演化机制",
              "description": "明确指出任务限定为“流动力学驱动的冲刷侵蚀与溃口几何演化”，并能分解出溃口演化中关键物理量（W(t)、D(t)、Ab(t)、Qb(t)）及触发条件（超过坝顶或τ_b>τc）",
              "score": 40,
              "evaluation_focus": "物理识别",
              "scoring_hint": "高分：逐项列出冲刷、床面剪应力、单位流功率等驱动机制并对应溃口变量；中分：列出部分机制但未与W/D/Ab/Qb直接关联；低分：未识别流动力学为主或遗漏触发条件（如坝顶超溢或τ_b>τc）"
            },
            {
              "sub_criteria": "识别并列出必需输入数据（DEM、材料参数、h(t)、观测序列）",
              "description": "必须明确列出所需的DEM/剖面、τc/K/K_sp等材料参数、驱动水位h(t)与校准用Q_obs/W_obs，并说明每项的格式与精度要求",
              "score": 30,
              "evaluation_focus": "数据需求",
              "scoring_hint": "高分：为每项数据给出格式（GeoTIFF/CSV）、空间/时间分辨率与允许误差；中分：列出数据项但未给出精度或格式；低分：缺少关键数据项如材料参数或校准序列"
            },
            {
              "sub_criteria": "识别输出指标及不确定性需求（溃坝时刻、峰值流量与置信区间）",
              "description": "明确要输出溃坝触发时刻、峰值流量及其不确定区间，并指定时间分辨率与文件格式要求（CSV/NetCDF）",
              "score": 30,
              "evaluation_focus": "目标定义",
              "scoring_hint": "高分：明确时间分辨率、输出变量名与不确定性度量方法（置信区间或后验样本）；中分：列出输出变量但未指明格式或不确定性定义；低分：未明确溃坝时刻或不报告不确定性"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述溃口演化的限定范围（仅流动力学、无下游传播）",
              "description": "在复述中必须写明模型范围限于流动力学驱动的冲刷侵蚀与溃口几何演化，不包括下游洪水传播与人口撤离",
              "score": 40,
              "evaluation_focus": "范围把握",
              "scoring_hint": "高分：文字明确且能举例说明哪些过程被排除（如泥沙远程堆积、下游路由）；中分：表述有限制但不具体；低分：未指出排除下游传播或混淆模块职责"
            },
            {
              "sub_criteria": "复述模型需产出的时序量（W(t),D(t),Ab(t),Qb(t)与溃坝时刻）",
              "description": "复述中应精确列出需预测的时间序列变量与关键事件（溃坝触发时刻、峰值流量）并指明逐时或逐日分辨率",
              "score": 30,
              "evaluation_focus": "目标重述",
              "scoring_hint": "高分：逐项列明变量名并指定时间步长与文件格式；中分：列明变量但未指明分辨率；低分：遗漏关键变量如Qb或溃坝时刻"
            },
            {
              "sub_criteria": "复述需进行的不确定性与校准工作（参数估计、MCMC/置信区间）",
              "description": "需阐明将执行参数校准（如Cd、K_w、τc）和不确定性估计（最小二乘与/或贝叶斯‑MCMC），并说明校验数据来源（Q_obs/W_obs）",
              "score": 30,
              "evaluation_focus": "校准要求",
              "scoring_hint": "高分：明确使用MCMC或贝叶斯并给出先验/似然构造；中分：提到校准与不确定性但无方法细节；低分：未提校准或不确定性评估"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "假设流动力学主导并用经验侵蚀律表示（如dW/dt=K_w·max(0,τ_b/τc−1)^{m_w})",
              "description": "明确假设侵蚀可用给定经验律表征，写出形式并说明参数含义与物理界限（τc, K_w, m_w）",
              "score": 25,
              "evaluation_focus": "方程假设",
              "scoring_hint": "高分：写出明确侵蚀方程并注明适用条件与物理含义；中分：给出方程形式但未说明参数或适用范围；低分：未给经验侵蚀律或形式不连贯"
            },
            {
              "sub_criteria": "假设溃口流量Qb采用或ifice/收缩系数形式（如Qb=Cd·Ab·√(2gh_b)）并说明Cd范围",
              "description": "明确采用的泄流公式并给出Cd估计区间或先验，或说明为何采用改进的能量损失表达",
              "score": 25,
              "evaluation_focus": "水力假设",
              "scoring_hint": "高分：指定公式并给出Cd值区间或来源；中分：给出公式但未说明Cd或能量损失；低分：未明确Qb表达或与W/Ab耦合缺失"
            },
            {
              "sub_criteria": "假设初始与触发条件（W0,D0,h_b触顶或τ_b>τc）",
              "description": "写明初始溃口几何W0、D0及触发溃口演化的判据（例如水位超过坝顶或局部剪应力超过τc）",
              "score": 25,
              "evaluation_focus": "边界条件",
              "scoring_hint": "高分：明确数值或来源并说明触发检测策略；中分：给出触发条件但无数值化处理；低分：未设触发条件或与输入h(t)脱节"
            },
            {
              "sub_criteria": "假设对泥砂/块体输移的处理（经验放大因子或忽略）",
              "description": "说明是否用经验放大因子处理泥砂/块体输移增强效应，或在何种情形下忽略其影响并评估这样做的后果",
              "score": 25,
              "evaluation_focus": "简化说明",
              "scoring_hint": "高分：明确放大因子形式或给出忽略理由与适用范围；中分：提到放大因子但未定量；低分：无说明或自相矛盾"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "建立耦合连续性方程与溃口泄流关系（dh/dt 与 Qb=Cd·Ab·√(2gh_b)）",
              "description": "必须给出水量连续方程与泄流Qb的耦合形式，说明如何用S(h)或离散DEM计算dh/dt耦合Ab与Qb",
              "score": 30,
              "evaluation_focus": "方程耦合",
              "scoring_hint": "高分：清楚写出方程组并说明Ab与S(h)的计算方式；中分：方程存在但耦合细节或单元转换不全；低分：缺失连续性方程或Qb与Ab耦合错误"
            },
            {
              "sub_criteria": "构建溃口几何演化方程（dW/dt, dD/dt 或 dAb/dt=K_sp·Ω^α）",
              "description": "给出用于描述W(t)、D(t)或Ab(t)演化的侵蚀速率方程和单位流功率Ω的定义，并说明参数意义",
              "score": 25,
              "evaluation_focus": "侵蚀律",
              "scoring_hint": "高分：公式完整并与水力量正确耦合；中分：公式给出但与Qb或Ω的定义模糊；低分：侵蚀律缺失或物理关系错误"
            },
            {
              "sub_criteria": "包含触发检测与边界条件（坝顶溢出、局部τ_b阈值）",
              "description": "明确什么时候开始数值更新溃口几何并说明事件检测逻辑（如水位跨越阈值的瞬时处理）",
              "score": 25,
              "evaluation_focus": "事件设计",
              "scoring_hint": "高分：清楚描述事件检测算法与处理细节；中分：给出触发条件但算法不够具体；低分：未设计事件检测或处理不一致"
            },
            {
              "sub_criteria": "设计参数校准与不确定性传播框架（最小二乘或贝叶斯‑MCMC）",
              "description": "说明参数估计方法、目标函数或后验构造，及如何用蒙特卡洛或代理传播V(h)/参数不确定性到Qb/峰值",
              "score": 20,
              "evaluation_focus": "校准方案",
              "scoring_hint": "高分：给出似然/先验、采样方法与收敛诊断策略；中分：提出校准方法但缺收敛或先验细节；低分：无校准策略或不可执行"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "数值解法与事件检测的实现（自适应步长/IMEX或RK并实现突破事件）",
              "description": "说明采用的ODE求解器（显式/隐式/IMEX）、步长策略与事件检测/局部正则化以避免因平方根项或非线性侵蚀造成震荡",
              "score": 40,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：说明具体求解器（如IMEX或RK4+事件检测）、步长控制与正则化措施；中分：提出求解器但无稳定性策略；低分：无事件检测或易产生数值震荡"
            },
            {
              "sub_criteria": "参数识别与不确定性估计的数值实现（MCMC/拉丁超立方/代理）",
              "description": "说明如何实现参数估计（emcee/pyMC3/Turing）与加速策略（代理模型或LHS）以完成后验或蒙特卡洛传播",
              "score": 30,
              "evaluation_focus": "参数求解",
              "scoring_hint": "高分：给出具体工具与并行策略并可重复运行；中分：方法合适但无工具细节；低分：无法实现或不考虑计算开销"
            },
            {
              "sub_criteria": "数值验证与守恒性检验（体积守恒、Ab非负、时间步收敛）",
              "description": "需设计数值验证步骤，证明在数值容差内保持水量守恒、Ab和D非负，且对步长收敛测试有记录",
              "score": 30,
              "evaluation_focus": "数值验证",
              "scoring_hint": "高分：给出守恒误差、步长敏感性表格与收敛图；中分：简单展示守恒或单一步长测试；低分：无验证或结果违背物理约束（负Ab等）"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现且结构化的代码与配置（含输入/输出格式、版本信息）",
              "description": "提供可运行代码库（Python/Julia），带requirements、配置文件、示例输入和生成W/D/Ab/Qb时序的脚本，输出CSV/NetCDF与配置元数据",
              "score": 40,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：代码能一键复现结果、有README与示例数据；中分：代码可运行但需手动调整参数或缺示例；低分：代码缺乏文档或不可运行"
            },
            {
              "sub_criteria": "数值实现的可靠性与性能（并行化/向量化与错误处理）",
              "description": "代码应包含向量化/并行化或代理加速选项，并具备输入检查与异常处理以避免数值发散",
              "score": 35,
              "evaluation_focus": "代码质量",
              "scoring_hint": "高分：实现并行/向量化并有单元测试与错误捕获；中分：部分优化但无测试；低分：单线程且无异常处理导致易崩溃"
            },
            {
              "sub_criteria": "输出接口与与下游耦合的易用性（边界时序可供下游调用）",
              "description": "代码应直接产出下游洪水路由可用的Qb(t)边界条件文件并支持时间/格式参数化",
              "score": 25,
              "evaluation_focus": "接口设计",
              "scoring_hint": "高分：输出格式符合规范并有示例供下游模块加载；中分：输出可用但需手动转换；低分：输出不规范或难以集成"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "与观测序列的拟合度与事件时刻误差评估（RMSE、偏差、事件时间误差）",
              "description": "定量报告Q_obs/W_obs拟合指标（RMSE、偏差）与溃坝时刻误差，并判断预测区间是否覆盖观测事件",
              "score": 25,
              "evaluation_focus": "拟合评价",
              "scoring_hint": "高分：提供RMSE≤观测峰值10%或明确阈值、事件时刻误差≤观测分辨率；中分：误差在10–25%或时刻误差适中；低分： 无定量指标或误差显著偏大"
            },
            {
              "sub_criteria": "不确定性量化与覆盖率检验（置信区间/后验分布与覆盖率）",
              "description": "报告关键量（溃坝时刻、峰值流量）置信区间或后验分布，并计算预测区间覆盖率与观测的一致性",
              "score": 25,
              "evaluation_focus": "不确定度",
              "scoring_hint": "高分：给出后验分布并报告95%区间覆盖率≥90%或解释偏差；中分：给出区间但无覆盖率检验；低分：不报告不确定性"
            },
            {
              "sub_criteria": "敏感性分析结果（局部灵敏度与全局Sobol识别关键参数）",
              "description": "提供对参数（τc、K_w、Cd、初始h）局部/全局敏感性分析，识别对溃坝时刻与峰值影响最大的参数并给出观测优先级建议",
              "score": 25,
              "evaluation_focus": "敏感性",
              "scoring_hint": "高分：包含Sobol或全局度量并列出TOP3敏感参数；中分：仅局部灵敏度或单变量扫描；低分：无敏感性分析"
            },
            {
              "sub_criteria": "物理一致性与守恒性检查（Ab非负、体积守恒、参数物理可行）",
              "description": "验证模拟过程中Ab和D非负、整体水量守恒在允许容差内，参数估计在物理合理范围内并作讨论",
              "score": 25,
              "evaluation_focus": "物理一致",
              "scoring_hint": "高分：给出守恒误差表、参数范围验证与物理讨论；中分：有部分检查但不全面；低分：出现物理矛盾（负Ab或大尺度失守）"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务 4（溃坝后洪水传播、淹没评估与撤离规划）的目标是：在给定溃坝释放时间序列或假设突发释放（例如瞬时释放体积ΔV或Qout(t)）和基础地形/要素数据下，计算下游空间—时间分布的水深、流速、最大淹没范围与到达时间，并基于这些时空要素生成可操作的人员撤离方案和容量约束下的分阶段疏散调度，同时对关键不确定性进行量化以支持决策。为实现此目标，本子任务应按下述明确步骤实施：1) 数据准备——收集并预处理所需输入：统一投影和基准的高分辨率DEM（至少两套分辨率：快速评估用50–100 m，精细分析用5–10 m）、河道中心线与剖面/断面数据、土地覆盖图与空间分布的曼宁n地图、道路网络与路段容量/通行速度（含坡度影响）、人口分布栅格或点位、避难场所位置与容量、以及边界条件（上游释放Qout(t)或瞬时ΔV、下游调节/潮汐边界如适用）；2) 模型选择与耦合策略——在河道主干采用1D非定常圣维南方程进行快速洪峰路由并在两侧洪泛区采用2D浅水方程或扩散波近似，或在需要时采用全域2D SWE，以保证在河道约束段与平原泛滥区均有合理表示；3) 数值方法与实现细节——采用质量守恒的有限体积格式（HLL/HLLC或Roe数值通量），摩擦项用曼宁公式离散，时间步按CFL条件自适应，必要时对湍流/悬沙影响以经验放大因子调整流速或水深；并为应急快速运行实现多分辨率流程（先低分辨率筛查关键情景，再在关键子域内以细格网并行/GPU加算）；4) 模拟场景与不确定性处理——通过蒙特卡洛采样或拉丁超立方体变异化关键不确定参数（DEM高度误差、曼宁n、释放体积与时序、堰口演化不确定性）并计算每一样本的时空输出，以生成最大淹没概率图、到达时间置信区间和峰值流量分布；采用Sobol或局部灵敏度分析识别敏感参数；5) 产出物与格式——输出包括格网时序字段（η(x,y,t)、u(x,y,t)）、每点最大水深与到达时间栅格、关键断面水位与流量时序、淹没边界矢量、以及用于疏散规划的到达时间表和不确定性指标，所有数据以标准格式（NetCDF/GeoTIFF/ESRI Shapefile/CSV）交付并附元数据；6) 撤离时间评估与路线优化——基于每个居民单元的警报可用时间（到达时间减去信息传播延迟）和道路网络的容量约束，计算最短路线与行程时间（采用OSMnx/NetworkX或pgRouting并考虑路段拥堵与动态通行能力），将撤离问题表述为受道路容量与避难所容量约束的最小未撤离人数或最小总撤离时间的流量分配/整数规划问题，使用确定性（线性/整数规划）或启发式算法（贪心、遗传或基于时片的分阶段调度）生成分阶段撤离时间表、主要疏散通道与替代路线；7) 关键节点与资源建议——基于流量—容量分析识别瓶颈路段与需要优先清疏或套用交通控制（单向通行、路口管控）的节点，并给出避难所分配与交通资源（车辆、指挥员）需求估计；8) 校验与实时更新能力——预留用观测水位、水痕与现场报告进行模型校验的机制（计算RMSE、到达时间误差和覆盖率），并设计可选的状态更新/数据同化接口（如EnKF或粒子滤波）以在现场观测进入时用实时数据修正模拟与撤离计划；9) 计算与运行要求——明确运行环境（本地工作站可做快速评估，高分辨率并行运算需多核或GPU集群），并提供可重复的工作流脚本和运行参数使该子任务能独立被部署与调用。最终交付应包括可视化淹没图与到达时间图、分阶段撤离方案表、路网容量风险报告、参数不确定性影响摘要与技术说明文档，所有输出足以支持紧急管理者在不同不确定情景下制定可执行的撤离决策。",
      "criteria": {
        "task_understanding": {
          "core_goal": "预测并评估溃坝后下游洪水的时空水深与流速分布，并基于此优化人员撤离方案与分阶段疏散调度",
          "expected_output": "时空格网水深η(x,y,t)、流速u(x,y,t)时序（NetCDF/GeoTIFF）、每点最大淹没深度与到达时间栅格、淹没边界矢量(Shapefile)、关键断面水位/流量时序CSV、不确定性概率图、分阶段撤离时刻表/路线分配/避难所分配表、代码与运行文档",
          "key_inputs_constraints": "高分辨率DEM（两套：50-100m与5-10m，含投影与垂直精度）、上游释放边界Qout(t)或瞬时释放体积ΔV（时序格式）、河道中心线与断面、曼宁n地图、道路网络与段容量/坡度、人口分布栅格与避难所容量、计算资源与时间窗口（应急时限）；若缺项需明确假设与不确定区间",
          "modeling_type": "仿真+预测+优化+评价",
          "role_in_pipeline": "作为下游洪水风险评估与应急撤离决策模块，依赖子任务1（DEM/V(h)/淹没边界）、子任务3（溃口释放Qout(t)或ΔV）与子任务2（可选的入库水文时序）为输入，并为应急管理生成撤离方案与为下游工程提供边界时序输出"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别所需输入数据（DEM、Qout/ΔV、曼宁n、道路、人口）",
              "description": "明确列出并优先排序溃坝传播所需的关键输入数据集：两套分辨率DEM、上游释放Qout(t)/ΔV、曼宁n分布、道路/路段容量、人口与避难所数据，并注明各自精度与获取时效。",
              "score": 30,
              "evaluation_focus": "数据识别",
              "scoring_hint": "高分：列出全部数据并给出精度/时间戳与优先级；中分：列出大部分关键数据但缺精度或时间信息；低分：缺少DEM或释放时序等任一核心输入。"
            },
            {
              "sub_criteria": "识别输出目标与格式（η,u、最大淹没、到达时间、撤离表）",
              "description": "明确需要输出的时空要素（η(x,y,t)、u(x,y,t)）、汇总产品（最大淹没深度、到达时间栅格、淹没边界）、撤离时间表与路网分配，并指定数据格式（NetCDF/GeoTIFF/Shapefile/CSV）。",
              "score": 30,
              "evaluation_focus": "输出定义",
              "scoring_hint": "高分：完整列出产品与格式并指定时空分辨率；中分：列出主要产品但未指定格式或分辨率；低分：输出模糊或缺关键要素如到达时间。"
            },
            {
              "sub_criteria": "识别关键不确定性源（DEM误差、释放量、曼宁n）",
              "description": "明确列举并量化或定性描述主要不确定性来源（DEM垂直RMSE、释放体积/时序不确定、曼宁n范围、模型近似误差），并指出将如何在后续处理（蒙特卡洛/LHS）中考虑。",
              "score": 20,
              "evaluation_focus": "不确定性识别",
              "scoring_hint": "高分：列出并给出量化范围或RMSE值并提出采样策略；中分：列出来源但无量化；低分：未识别或忽视主要不确定性。"
            },
            {
              "sub_criteria": "识别应急时限与计算资源约束",
              "description": "说明应急场景下的可接受运行时限、可用计算资源（单机/集群/GPU）与多分辨率流程需求（快速筛查→精细计算）。",
              "score": 20,
              "evaluation_focus": "应急约束",
              "scoring_hint": "高分：提出具体时间目标（如≤1h快速评估）和分辨率策略；中分：提及资源约束但无数值；低分：忽视运行时限与资源。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述‘预测溃坝后时空水深与流速’的分辨率与输出时序要求",
              "description": "明确复述需要预测的变量η(x,y,t)、u(x,y,t)的时间分辨率（日/小时/分钟）和空间格距（50–100m或5–10m），并说明触发事件的检测（到达时间、峰值）。",
              "score": 40,
              "evaluation_focus": "目标细化",
              "scoring_hint": "高分：清晰给出时间/空间分辨率并与应急需求对齐；中分：给出一个分辨率但无对齐说明；低分：未明确时空分辨率或触发定义。"
            },
            {
              "sub_criteria": "复述‘淹没范围与到达时间’的交付格式与用途",
              "description": "明确说明最大淹没边界、到达时间栅格、概率淹没图的交付格式（GeoTIFF/NetCDF/Shapefile）及其在撤离决策中的具体用途。",
              "score": 30,
              "evaluation_focus": "交付说明",
              "scoring_hint": "高分：指定格式并举例用途（警报、路网封闭）；中分：指定格式但未说明用途；低分：输出格式或用途模糊。"
            },
            {
              "sub_criteria": "复述撤离优化目标与约束（容量/通行/预警时限）",
              "description": "明确撤离方案优化目标（如最小未撤离人数或最小总撤离时间）及约束（避难所容量、路段通行能力、警报和行程时间），并说明是否考虑分阶段调度。",
              "score": 30,
              "evaluation_focus": "撤离目标",
              "scoring_hint": "高分：明确优化目标并列出全部约束；中分：目标明确但约束不全；低分：未给出清晰优化目标与约束。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "假设所用水动力学近似（1D+2D耦合/2D SWE/扩散波）及其适用性说明",
              "description": "说明选择1D/2D或扩散波的理由（例如河道受约束段用1D，平原泛滥用2D），并讨论由此引入的误差类型与适用条件。",
              "score": 30,
              "evaluation_focus": "物理假设",
              "scoring_hint": "高分：给出明确选择理由与适用范围并估计误差；中分：选择合理但缺少误差讨论；低分：选择与地形/流域不匹配或无说明。"
            },
            {
              "sub_criteria": "假设释放边界与下游调节（瞬时ΔV或给定Qout(t)）",
              "description": "明确采用瞬时释放或时序Qout(t)作为边界，并说明若信息不确定如何替代（多情景或概率化）。",
              "score": 25,
              "evaluation_focus": "边界假设",
              "scoring_hint": "高分：明确边界并提供多情景处理方式；中分：给出边界但未说明不确定处理；低分：边界不明确或与输入不一致。"
            },
            {
              "sub_criteria": "摩擦与沉沙处理假设（曼宁n、经验放大因子）",
              "description": "说明曼宁n的来源与空间分布假设，是否考虑沉沙/泥砂通过经验因子或耦合模块，并给出参数范围。",
              "score": 20,
              "evaluation_focus": "摩擦假设",
              "scoring_hint": "高分：提供空间化n地图来源与范围并说明沉沙处理；中分：提供单一n值或范围；低分：忽视摩擦或无参数说明。"
            },
            {
              "sub_criteria": "撤离行为与信息传播假设（警报延迟、行速、遵从率）",
              "description": "明确人口疏散假设：警报延迟、平均步行/车辆速度、出发率与遵从率，并说明对撤离方案的影响。",
              "score": 25,
              "evaluation_focus": "行为假设",
              "scoring_hint": "High:具体数值且有来源或敏感性方案；Mid:给出数值但无来源；Low:无行为假设或忽视信息传播延迟。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "构建洪水传播仿真（1D非定常+2D泛滥或全域2D SWE）",
              "description": "实现1D河道与2D洪泛区耦合或2D SWE求解，输出η(x,y,t)、u(x,y,t)，并说明数值格式与质量守恒实现（有限体积、数值通量选择）。",
              "score": 35,
              "evaluation_focus": "水动力构建",
              "scoring_hint": "高分：完整耦合实现并说明数值通量与守恒验证（示例残差）；中分：实现单一维度模型并给合理理由；低分：模型选择与任务不匹配或无守恒保障。"
            },
            {
              "sub_criteria": "构建不确定性传播（蒙特卡洛/LHS/Ensemble）生成概率淹没图",
              "description": "设计并实现对DEM误差、曼宁n与释放量的蒙特卡洛或拉丁超立方抽样，输出概率淹没图与到达时间置信区间。",
              "score": 25,
              "evaluation_focus": "不确定性构建",
              "scoring_hint": "高分：使用≥100样本且报告置信区间与覆盖率；中分：样本不足或未报告覆盖率；低分：无不确定性处理。"
            },
            {
              "sub_criteria": "构建撤离优化模型（容量约束的分阶段调度/整数规划）",
              "description": "将撤离表述为容量约束的优化问题（最小未撤离人或最小总撤离时间），明确决策变量、约束（道路通行、避难所容量）并选定求解策略（IP/分阶段启发式）。",
              "score": 25,
              "evaluation_focus": "撤离建模",
              "scoring_hint": "高分：数学化模型并提供求解器或算法与可行性证明；中分：模型描述清晰但求解策略粗糙；低分：撤离未数学化或忽视关键约束。"
            },
            {
              "sub_criteria": "耦合路网与洪水到达时间以生成路径可行性约束",
              "description": "将每个居民单元的警报可用时间与路段淹没到达时间耦合，生成动态可行路段集合并用于撤离路径/时刻分配约束。",
              "score": 15,
              "evaluation_focus": "耦合约束",
              "scoring_hint": "高分：实现动态路网可行性并考虑路段时变通行能力；中分：静态预筛但无时间耦合；低分：未将到达时间纳入路网可行性。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "数值求解稳定性与守恒性（有限体积、CFL、HLL/HLLC）",
              "description": "展示采用的数值格式（有限体积）、CFL控制、数值通量（HLL/HLLC或Roe）与摩擦项离散，并提供守恒性或残差检验结果。",
              "score": 30,
              "evaluation_focus": "数值可靠性",
              "scoring_hint": "高分：给出CFL策略并展示质量守恒或残差<1%案例；中分：描述方法但无量化检验；低分：数值方法不当或无稳定性说明。"
            },
            {
              "sub_criteria": "并行化/多分辨率流程以满足应急时限",
              "description": "实现低分辨率快速评估与高分辨率局部细算的流程，或并行/GPU实现以缩短运行时间，并给出典型运行时及资源需求估计。",
              "score": 25,
              "evaluation_focus": "性能/可用性",
              "scoring_hint": "高分：提供实际运行时测试（如50–100m快速评估≤1h）与并行实现；中分：提出方案但无运行数据；低分：忽视性能或无法在应急时间内运行。"
            },
            {
              "sub_criteria": "不确定性样本规模与敏感性分析（Sobol/局部）",
              "description": "说明不确定性采样规模与方法，并实施局部或全局敏感性分析识别关键参数影响峰值/到达时间。",
              "score": 25,
              "evaluation_focus": "敏感性分析",
              "scoring_hint": "高分：完成Sobol或等效全局分析并列出关键参数；中分：仅局部或有限样本分析；低分：无敏感性分析。"
            },
            {
              "sub_criteria": "事件检测（到达时间、峰值流量）准确性与记录",
              "description": "实现到达时间与峰值检测逻辑，记录触发时刻并量化事件时间误差或不确定区间。",
              "score": 20,
              "evaluation_focus": "事件检测",
              "scoring_hint": "高分：记录并给出到达时间置信区间与校验误差≤X（若有观测）；中分：检测实现但无误差量化；低分：事件检测缺失或不可靠。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现性与文档（代码、参数、运行指南）",
              "description": "提供可运行脚本、环境依赖与参数配置文件，包含示例数据与一步步运行指南，保证第三方可复现实验结果。",
              "score": 30,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：附完整脚本、环境文件与示例并能复现关键结果；中分：代码可运行但缺示例或环境说明；低分：无法复现或无运行指引。"
            },
            {
              "sub_criteria": "数据IO与标准输出格式支持（NetCDF/GeoTIFF/Shapefile/CSV）",
              "description": "实现标准化数据输入输出接口，按要求导出NetCDF/GeoTIFF/Shapefile/CSV并包含元数据与坐标参考信息。",
              "score": 25,
              "evaluation_focus": "数据接口",
              "scoring_hint": "高分：所有主要格式支持且坐标/元数据完整；中分：部分格式支持或元数据不全；低分：输出非标准格式或缺坐标信息。"
            },
            {
              "sub_criteria": "数值健壮性与错误处理（边界/异常DEM）",
              "description": "代码对异常输入（空洞DEM、边界不连通、极端Qout）有检测与处理策略并记录错误日志，保证不中断主流程。",
              "score": 25,
              "evaluation_focus": "健壮性",
              "scoring_hint": "高分：有全面异常检测与降级策略并记录日志；中分：有限检测但无完整处理；低分：遇异常崩溃或无日志。"
            },
            {
              "sub_criteria": "性能优化与并行实现（多核/GPU/分辨率流程）",
              "description": "提供并行化实现或多分辨率切换代码以加速计算，并给出性能基准（样例运行时）。",
              "score": 20,
              "evaluation_focus": "性能优化",
              "scoring_hint": "高分：并行/GPU或多分辨率实现并给出运行基准；中分：有优化思路但无基准；低分：无性能考虑导致不可用。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "最大淹没、到达时间图与不确定性置信区间的展示",
              "description": "提供最大淹没深度图、到达时间图及相应的不确定性概率/置信区间，说明图例、阈值和决策含义。",
              "score": 30,
              "evaluation_focus": "可视化",
              "scoring_hint": "高分：含概率图与置信区间并注释阈值；中分：有静态图但无概率信息；低分：图表缺乏决策要素或不可读。"
            },
            {
              "sub_criteria": "撤离方案可执行性评估（撤离时间、未撤离人数、瓶颈）",
              "description": "量化每阶段撤离所需时间、预计未撤离人数、路网瓶颈与避难所利用率，并给出优先级建议与备选路线。",
              "score": 35,
              "evaluation_focus": "方案可行性",
              "scoring_hint": "高分：给出数值化撤离绩效指标并识别瓶颈与资源需求；中分：提供撤离表但缺绩效量化；低分：撤离方案不可执行或无绩效评估。"
            },
            {
              "sub_criteria": "决策建议与敏感性（优先监测点与改进措施）",
              "description": "基于敏感性分析提出关键监测点排序、模型改进优先项与应急操作建议（如路段清疏、临时交通管制）。",
              "score": 20,
              "evaluation_focus": "决策支持",
              "scoring_hint": "高分：明确列出优先监测点与可执行建议并量化预期收益；中分：提出建议但无量化；低分：无具体改进或监测建议。"
            },
            {
              "sub_criteria": "校验与实时更新机制设计（同化/EnKF/观测利用）",
              "description": "给出利用现场观测（水位、水痕、目击）进行模型校验与实时状态更新的接口设计（如EnKF或粒子滤波）并说明数据频率要求。",
              "score": 15,
              "evaluation_focus": "校验/同化",
              "scoring_hint": "高分：提供具体同化方法与观测要求并示例校验结果；中分：提出更新思路但无实现细节；低分：未考虑实时更新或校验机制。"
            }
          ]
        }
      }
    }
  }
}