{
  "task_id": "2016_D",
  "problem": "问题一：某地域（地图坐标：北纬31.90～32.25度；东经118.02～118.91度）内拟建设一大型国防工程，计划利用境外卫星过顶的间隙组织施工。该地域长期受Q型、L型卫星（有关数据见附件1）监视。附件2-1、附件2-2、附件2-3是Q型、L型、K型卫星被配置在该区域内某观察站（北纬：32.0209度；东经: 118.7681度）观测到的情况，请你们据此完成以下任务（注：附件中数据不是附件4中定义的“过顶时间”，而是观察站本次最早观察到卫星的时刻、卫星与观察站距离最近的时刻和本次观察结束的时刻，但它们之间可以换算）：\n\n1. 附件2-1给出了D0、D1、D2日Q型卫星被该观察站观测到的情况，请预测此后一天（D3）、此后三天（D5）的卫星被观测到的情况及过顶情况，并结合Q型卫星的侦察范围给出D3、D5两天内确保安全施工的时段。\n\n2. L型卫星是双星（L-1、L-2）协作工作。附件2-2给出了L-1、L-2卫星在8月16日-21日被该观察站观测到的情况，请你们研究两星之间的相对位置的变化情况，由于L型卫星是雷达成像照相侦察卫星，能全天候、全天时进行侦察，并有一定的穿透能力，因而威胁比较大，请给出8月23日L-1、L-2卫星被观测到的情况及过顶情况和确保安全施工的时段（不考虑Q型卫星），并进一步寻找它们在侦察方面的薄弱环节。\n\n3. 附件2-3是某卫星（记为K型）十次被该观察站观测到的情况，除此对其一无所知。请你们预测其未来三次的被观测到的情况，并说明该卫星已经被连续观察最少n次才能够确定下次被观测到的情况所需要的n，以及观察次数对预报精度的影响。\n\n问题二：某部需要从新疆的阿勒泰隐蔽地经喀什运动到和田并在和田执行某任务，24小时后再隐蔽地返回阿勒泰（不必经喀什），部队可以按需要选择在高速公路（最大速度100公里/小时）或普速公路（除高速之外的其他公路，最大速度50公里）上行进，假设部队出发时（2016年11月1日凌晨5时整）Q型卫星、L-1卫星（它们的轨道要素见附件1，其他L型卫星都不考虑）均位于各自轨道的近地点。行车时车队最大长度2千米，部队每开进10~12小时可选择途经的县级以上（含县级）城市休息10小时以上（即连续开进时间不少于10小时，不多于12小时），请你们根据附件3给出的地图（必要时可借助因特网获取有关地理信息），设计合理的行军时机、路线和宿营地，避开L-1卫星侦察，并预测Q型卫星的过顶时刻，以便及时做好隐蔽工作，尽可能快地安全到达目的地。\n\n问题三：研究导弹发射装置的战时隐蔽问题。有专家提出，运动方式可能是移动发射装置规避卫星侦察的有效方案。请你们研究以下问题：假设某移动发射装置可在某一指定区域内自由运动，分别研究针对Q型、L型（包括L-1、L-2）、K型卫星的侦察能够规避的可行性、条件（区域大小、形状、路网状况及其他你们认为需要的条件）和方式。欢迎进一步针对两种或三种卫星的组合侦察能够规避的可行性、条件和方式。并考虑卫星参数变化对方案的影响。",
  "subtask": {
    "1": {
      "subtask": "子任务1（轨道反演与短中期传播）目标是：从观测站的时序观测记录（时间戳、方位角Az、仰角El、若有则距阵R；观测时区通常为UTC+8，观测站已知经纬度、海拔）和附件1给出的卫星先验轨道/平台参数出发，建立一套可重复、可更新的流程，用批量最小二乘与/或滤波方法估计每颗卫星在给定初始历元的状态向量（位置-速度或等价轨道要素）及其协方差，并将其在中短期（日级到数日）内予以物理传播以输出未来每次过顶（过境）时刻、对应的方位/仰角/斜距时间序列、地面轨道投影与传感器瞬时覆盖带，所有输出均伴随置信区间与诊断度量。为实现该目标，须按以下明确步骤实施：1) 数据预处理——将观测时间统一转换为UTC/UT1并校正秒差，校准观测站坐标为WGS84/ECEF，检查并标注观测类型（角度/角距/事件式“最早/最近/最后”三时刻）；若原始记录只给三事件点，将其视作该次过境的采样点并在时间上补插或用插值/采样假设生成多时间点观测以利拟合；对观测数据执行时间同步性检查并赋予合理的测量协方差（角测噪声σ_Az, σ_El，若有则σ_R），剔除明显离群点或采用鲁棒权重。2) 初值构造——若观测含距阵，用三点高斯法或直接解析转换得到三维位置初值；若为角测量仅数据，采用Gauss三点法或改进角测轨道确定法得到初步位置尺度并结合附件1中卫星近似高度/周期作为先验约束；当存在可用先验轨道元（附件1或公开TLE样式）时，把它作为初始猜测以加速收敛。3) 非线性估计与优化——建立观测方程 h(x,t) → (Az,El,R)（由卫星ECEF位置、观测站位置及大气折射模型计算），采用Levenberg–Marquardt批量非线性最小二乘或扩展卡尔曼滤波（EKF/UKF）对未知状态向量在初始历元进行估计，观测误差协方差用于加权最小二乘；对角测仅情形在估计过程中引入尺度正则化或多日联合拟合以消除退化。4) 动力学模型与传播——为了日级到数日预测，数值积分动力学方程 r̈ = -μ r/|r|^3 + a_J2(r) + optional a_drag(r,v,ρ)（J2项必用；对于低轨卫星建议加入简化大气阻力或调用NRLMSISE-00作为可选更精确模型），采用高精度自适应Runge–Kutta或现成动力学库（Orekit/GMAT/SPICE/自实现）进行传播；为快速复核可并行使用SGP4/TLE样式传播器。5) 不确定性传播与置信评估——基于估计的初始状态协方差P0，利用线性化状态转移矩阵Φ(t,t0)传播协方差（P(t)=ΦP0Φ^T+Q_proc）并计算目标量（过顶时间、过顶最大仰角、方位轨迹、覆盖带边界）的置信区间；同时用蒙特卡洛（从初态分布采样并非线性传播）对非线性影响做验证并产出经验置信带。6) 观测样本量分析（针对未知K型）——以增量拟合与留一交叉验证为方法，逐步用前k次观测估计轨道并预测第k+1次，计算预测时误差序列并拟合σ_t(N) = α/N^β + σ_floor型经验曲线，从而定量给出达到指定时间/位置精度所需的最小观测次数n及预测精度随观测次数变化的函数。7) 输出与诊断——输出标准化交付物：每颗卫星的最优状态向量与轨道要素、初始协方差矩阵、预测过顶时间表（点估与置信区间）、为指定观测站生成的Az/El/R时序与地面轨迹与传感器瞬时覆盖多边形（含时间标注），并提供拟合残差统计（RMS、χ^2、残差自相关）、条件数与灵敏度指标以评估估计质量与预测可靠性。实施时建议使用能处理轨道动力学与测量模型的工具包（如Orekit、GMAT、SGP4库、SciPy/NumPy做优化，NRLMSISE-00作大气密度模型、SPICE作为历元/历表工具），对测量噪声与模型不确定性采用加权最小二乘、鲁棒估计与蒙特卡洛并行化以确保在接收新观测时可通过EKF/批更新快速重算并输出更新后的过顶预报与置信区间。",
      "criteria": {
        "task_understanding": {
          "core_goal": "基于观测站Az/El/距阵时序与先验轨道参数，拟合卫星初始状态与协方差并在日级到数日范围内预测过顶时刻、方位/仰角/斜距及覆盖带并给出置信区间与诊断评估",
          "expected_output": "最优初始状态向量与轨道要素文件、初始协方差矩阵、过顶（过境）时间表（点估与置信区间）、Az/El/R时间序列、地面轨迹与覆盖带图/数据、多站可选、拟合残差统计与χ2、条件数与灵敏度报告、蒙特卡洛置信带",
          "key_inputs_constraints": "输入：观测时间戳(UTC+8→UTC/UT1)、观测类型(Az/El/R或三事件点)、观测站WGS84坐标与海拔、附件1先验轨道/平台参数；约束：时间统一与秒差校正、坐标统一至ECEF/ITRF、角测噪声σ_Az/σ_El与距阵噪声σ_R设定、剔除离群或鲁棒加权、J2必用、低轨建议简化阻力或NRLMSISE-00；先验TLE可作初值；三事件需插值生成多时刻观测。",
          "modeling_type": "拟合+预测+评价",
          "role_in_pipeline": "作为核心轨道反演与传播模块：依赖前序的数据预处理与站点/时间基准统一；输出将被后续任务用于施工时段规划、路线规避与薄弱环节分析。前序：观测清洗与标注；后序：覆盖/过顶结合安全时段决策与可视化发布。",
          "assumptions": "无缺失常数使用WGS84与标准地心引力常数μ；默认单站为主，必要时可扩展多站；若K型无先验，仅用角测三点法与多日联合拟合并做尺度正则化。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别核心目标：拟合初始状态并预测过顶",
              "description": "是否明确任务需通过批量最小二乘/滤波从Az/El/R反演初始状态与协方差，并进行日级到数日的过顶时刻与Az/El/R预测。",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：同时点出“协方差”“过顶时刻”“日级预测”；中分：仅提拟合或预测之一；低分：偏离轨道反演主题。"
            },
            {
              "sub_criteria": "输入与约束：UTC/UT1、WGS84/ECEF、测量噪声",
              "description": "是否指出时间统一（UTC/UT1与秒差）、站点坐标系（WGS84/ECEF）、测量协方差设定与离群处理的重要性。",
              "score": 25,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：三者俱全并提鲁棒权重/剔除；中分：提两项；低分：未提关键基准转换。"
            },
            {
              "sub_criteria": "动力学范围：J2必用与阻力可选",
              "description": "是否界定传播模型至少含J2项，低轨建议加入大气阻力（如NRLMSISE-00）。",
              "score": 25,
              "evaluation_focus": "模型边界",
              "scoring_hint": "高分：清楚J2必用与阻力条件；中分：只提J2；低分：仅两体或未述模型项。"
            },
            {
              "sub_criteria": "输出与诊断：置信区间与残差统计",
              "description": "是否要求输出过顶置信区间、Az/El/R预测区间、残差RMS/χ2与灵敏度诊断。",
              "score": 20,
              "evaluation_focus": "结果定义",
              "scoring_hint": "高分：明确区间与χ2、条件数；中分：仅RMS；低分：无定量诊断。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "观测类型细化：角度/角距/三事件点",
              "description": "是否复述需按角度、角距或三事件点分类并将三事件转为多时刻观测以利拟合。",
              "score": 30,
              "evaluation_focus": "需求澄清",
              "scoring_hint": "高分：说明插值/采样假设；中分：只识别类型；低分：未区分类型。"
            },
            {
              "sub_criteria": "初值构造与先验TLE/附件1约束",
              "description": "是否阐明高斯三点法/角测法与利用附件1或TLE作为初始猜测与尺度约束。",
              "score": 30,
              "evaluation_focus": "方法匹配",
              "scoring_hint": "高分：列出角测退化与尺度正则；中分：仅说用先验或三点法；低分：忽略初值策略。"
            },
            {
              "sub_criteria": "不确定性传播：Φ(t)与蒙特卡洛",
              "description": "是否重述需用STM传播协方差并以蒙特卡洛验证非线性影响。",
              "score": 25,
              "evaluation_focus": "统计意识",
              "scoring_hint": "高分：提P(t)=ΦP0Φ^T+Q；中分：只说蒙特卡洛；低分：无不确定性描述。"
            },
            {
              "sub_criteria": "中短期（日级）预测与过顶表",
              "description": "是否明确预测时域（日级到数日）与输出过境/过顶时刻清单。",
              "score": 15,
              "evaluation_focus": "范围界定",
              "scoring_hint": "高分：指出数日并含置信区间；中分：仅提未来预测；低分：无时域。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "时间与地球基准假设（UTC/UT1、WGS84/ITRF）",
              "description": "明确采用UTC/UT1校正、WGS84/ITRF与ECEF转换，阐明忽略极移/潮汐的条件或处理方式。",
              "score": 25,
              "evaluation_focus": "假设严谨",
              "scoring_hint": "高分：说明秒差来源与适用期；中分：仅声明采用UTC/WGS84；低分：未设基准。"
            },
            {
              "sub_criteria": "测量噪声与鲁棒权重假设（σ_Az/σ_El/σ_R）",
              "description": "给出角/距阵噪声量级与权重模型，说明离群阈值与加权策略（如Huber）。",
              "score": 25,
              "evaluation_focus": "统计建模",
              "scoring_hint": "高分：定量σ与阈值；中分：定性说明；低分：未设噪声模型。"
            },
            {
              "sub_criteria": "动力学模型简化（J2必用、阻力条件触发）",
              "description": "假设轨道高度/太阳活动条件下是否启用简化阻力或NRLMSISE-00及过程噪声Q设置。",
              "score": 25,
              "evaluation_focus": "物理建模",
              "scoring_hint": "高分：明确高度或BC阈值触发；中分：泛称可选阻力；低分：无说明。"
            },
            {
              "sub_criteria": "角测退化与尺度正则化假设",
              "description": "阐明仅角测下的距离尺度不可观性及通过多日联合拟合/高度先验/TLE正则化的处理。",
              "score": 25,
              "evaluation_focus": "可观性",
              "scoring_hint": "高分：清楚指出不可观方向与正则项；中分：只说用先验；低分：忽略退化。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "观测方程h(x,t)实现（Az/El/R与折射）",
              "description": "给出从ECEF卫星位置与站位计算Az/El/R的方程并考虑大气折射或其忽略条件。",
              "score": 25,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：含站心到地平坐标变换与折射模型；中分：仅理想几何；低分：公式缺失/错误。"
            },
            {
              "sub_criteria": "动力学方程与摄动项（两体+J2+阻力）",
              "description": "构建r¨=-μr/|r|^3 + a_J2 + a_drag，说明参数与地球常数选取。",
              "score": 25,
              "evaluation_focus": "物理建模",
              "scoring_hint": "高分：给出J2项形式与地球参数；中分：只列项；低分：缺J2或错误。"
            },
            {
              "sub_criteria": "估计框架（LM加权最小二乘/EKF/UKF）",
              "description": "定义状态向量、权阵、雅可比/增益，选择LM或EKF并解释选择依据与收敛准则。",
              "score": 25,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：含收敛阈值、迭代限、正则；中分：仅给方法名；低分：无可执行框架。"
            },
            {
              "sub_criteria": "协方差与STM构建（P(t)=ΦP0Φ^T+Q）",
              "description": "建立线性化STM、过程噪声Q与误差传播至过顶时间等派生量的区间估计方法。",
              "score": 25,
              "evaluation_focus": "统计推断",
              "scoring_hint": "高分：说明计算Φ与不确定性映射到可观测量；中分：只写公式；低分：未考虑协方差传播。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "初值求解（高斯三点/角测法+先验）",
              "description": "实现三点法或角测求初值并融合附件1/TLE以稳定收敛，处理尺度正则化。",
              "score": 25,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：展示失配大时仍收敛策略；中分：基本初值；低分：初值缺失或不稳。"
            },
            {
              "sub_criteria": "非线性优化与收敛控制（LM/EKF）",
              "description": "迭代步长、阻尼λ或滤波增益的设置，终止条件与异常（发散/奇异）处理。",
              "score": 25,
              "evaluation_focus": "数值实现",
              "scoring_hint": "高分：含信赖域/线搜索或增益调度；中分：固定参数；低分：无控制。"
            },
            {
              "sub_criteria": "传播积分器与步长控制（RK自适应/SGP4核验）",
              "description": "选择高精度自适应RK或库，并用SGP4快速复核；说明误差容限与效率权衡。",
              "score": 25,
              "evaluation_focus": "算法工程",
              "scoring_hint": "高分：给出绝对/相对容差与性能数据；中分：只给方法；低分：传播误差未控。"
            },
            {
              "sub_criteria": "不确定性与蒙特卡洛验证",
              "description": "从P0采样、非线性传播并对过顶时间/最大仰角给出经验置信区间，与线性化对比。",
              "score": 25,
              "evaluation_focus": "结果可靠性",
              "scoring_hint": "高分：样本量与一致性检验；中分：仅做采样；低分：无验证。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "时间/坐标管线（UTC/UT1、WGS84/ECEF）",
              "description": "代码是否正确实现时区转换、ΔT/闰秒处理与站心坐标到地平坐标转换。",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：含单元测试与边界（闰秒）用例；中分：基本正确；低分：转换错误。"
            },
            {
              "sub_criteria": "观测方程与雅可比的数值健壮性",
              "description": "Az/El/R与偏导实现稳定（接近天顶/地平边界），避免奇异与角度跳变。",
              "score": 25,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：包络处理/unwrap与阈值；中分：偶发不稳定；低分：频繁NaN/发散。"
            },
            {
              "sub_criteria": "动力学积分与J2/阻力模块化",
              "description": "RK积分器参数化、J2与阻力开关可配置，支持Orekit/GMAT/SPICE/SGP4替换。",
              "score": 25,
              "evaluation_focus": "工程设计",
              "scoring_hint": "高分：接口清晰与基准对照；中分：硬编码但可运行；低分：难以更换/错误。"
            },
            {
              "sub_criteria": "批量最小二乘/滤波与鲁棒加权实现",
              "description": "权阵、LM阻尼或EKF增益计算正确，支持Huber/切比雪夫权重与离群剔除日志。",
              "score": 25,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：收敛日志与残差下降曲线；中分：能收敛；低分：收敛失败或权重失效。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "拟合残差统计与χ2/条件数报告",
              "description": "报告RMS、χ2/自由度、法方程条件数与残差自相关，判断模型拟合充分性。",
              "score": 25,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：残差白噪声检验通过或解释异常；中分：仅RMS；低分：无统计。"
            },
            {
              "sub_criteria": "过顶时刻与Az/El/R预测置信区间",
              "description": "给出过顶时间、最大仰角、斜距的点估与区间，并量化区间来源（P(t)/MC）。",
              "score": 25,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：线性与MC一致性良好；中分：仅点估或宽泛区间；低分：无区间。"
            },
            {
              "sub_criteria": "地面轨迹与覆盖带正确性",
              "description": "验证地面投影与瞬时覆盖带生成方法（传感器锥角/地球扁率影响）与时间标注一致。",
              "score": 25,
              "evaluation_focus": "物理正确",
              "scoring_hint": "高分：含可视化与数值校核；中分：基本合理；低分：明显几何错误。"
            },
            {
              "sub_criteria": "敏感性与稳健性分析（模型项与噪声）",
              "description": "分析J2/阻力开关、噪声设定对过顶预测的敏感性，给出可操作的参数建议。",
              "score": 25,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：定量敏感度或曲线；中分：定性讨论；低分：未分析。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2旨在把卫星轨道与平台/传感器参数严格映射为在地面空间-时间上可量化的被观测/被识别概率场 Pdet(g,t)，其范围包括：对光学（Q型）和雷达（L型单星与双星）传感器几何、能见性约束、信噪比到检测概率的函数化建模；地形、遮挡与云/天气对观测有效性的定量化；以及在格网与时间离散上的数值实现与不确定性表征，输出为格点化的时序 Pdet 地图和按点/按区间的检测概率置信区间。具体要求和方法步骤如下：首先明确输入数据——卫星按时间的位姿/轨迹（经纬高或ECEF坐标随时间序列）、传感器参数（幅宽/视场、侧视角范围、瞬时幅宽与分辨率随方位/入射角的函数、接收机/发射机增益或等效口径、典型SNR阈值、成像模式如Stripmap/ScanSAR/Spot等）、太阳几何（太阳位置随时）、气象资料（云覆盖概率场或短期云预报）、数字地形模型（DTM）和地表覆盖分类（植被/建筑/裸地等影响回波或遮挡）。在此基础上，建立分解式的检测概率模型 Pdet(g,t) = f_geo(g,t) · f_snr(g,t) · f_atm(g,t) · f_proc(g,t)，其中 f_geo 表示几何可达性与视场权重（可选二元判断或按卫星观测角偏离中心按天线/光学响应曲线加权计算）；对于光学，f_geo 同时受太阳照明约束（只在地面被太阳照亮且太阳仰角/相位角满足阈值时非零）；f_snr 用物理量化模型将斜距 R、入射/斜视角、天线/光学增益和目标散射截面映射为期望信噪比（SAR可用雷达方程，光学可用辐照度-固有反射率与大气衰减模型），并以SNR到检测概率的经验函数（如Sigmoid/logistic或累积高斯）进行转换；f_atm 表示天气/云遮挡对光学的乘法抑制（0–1，基于历史气候概率或数值天气预报场插值得到），对SAR近似为1但可纳入潮湿/植被引起的后向散射变化；f_proc 表示成像后端的目标识别成功率，作为分辨率、地表背景复杂度和成像几何的函数，可用统计学习（例如对历史成像与标注的逻辑回归或随机森林）校准。几何计算采用从卫星到地面点的视线方向求入射角/离轴角并判断是否落入瞬时扫描带，考虑地球曲率与大气折射修正，并用DTM进行视线遮挡检测（若地形阻挡则f_geo=0）。在双星情形（如L-1/L-2）采用联合检测概率 P_total = 1 - ∏_i(1 - Pdet_i) 来合并独立观测，但同时保留对双星立体/干涉增强效应的可选放大因子以反映联合识别率提升。数值实现上建议将研究区域栅格化（施工级推荐空间分辨率100–500 m），时间离散步长取决于精度要求（常用Δt = 10–60 s），对每一格点和时间步计算上述分量并得到时序 Pdet；为有效计算可利用向量化数值库并行化处理（Python+NumPy/SciPy或C++实现，空间栅格与气象场用GDAL/rasterio管理，坐标变换用pyproj，卫星传播/姿态接口可用Orekit或SGP4库）。对模型不确定性须进行蒙特卡洛或样本情景分析：从卫星状态协方差、传感器参数不确定性与天气场集合采样，生成多情景 Pdet 分布并输出点位或区域的中位数与置信区间以及用于决策的百分位阈值。参数标定与验证应采用可得的历史观测/成像结果，通过最大似然或机器学习方法拟合SNR→Pdet映射与 f_proc 参数，并用ROC曲线评估检测概率模型的可判别性。最终交付物为：时间序列栅格化Pdet(g,t)（含置信区间）、给定点或给定路径的时间序列检测概率、以及可配置的接口（阈值判定函数）供上层决策模块调用；实现代码应支持批量场景仿真、并行计算与参数快速调整，输出格式建议为地理参考栅格+时间切片（GeoTIFF/NetCDF）和点/矢量时间序列CSV。",
      "criteria": {
        "task_understanding": {
          "core_goal": "将卫星轨道与传感器参数映射为地面格网-时间上的检测概率Pdet(g,t)并评估其置信区间与不确定性传播（预测+评估）。",
          "expected_output": "时序格网化Pdet(g,t)地图（GeoTIFF/NetCDF切片）、给定点/路径的检测概率时间序列CSV、联合双星P_total时间序列、置信区间与百分位阈值、模型诊断与ROC/PR指标、可配置阈值判定接口与可复现实验代码。",
          "key_inputs_constraints": "输入：卫星位姿/轨迹时间序列（ECEF或经纬高，含姿态）、传感器参数（视场/幅宽、增益、SNR阈值、成像模式）、太阳位置时间序列、气象/云覆盖概率场、数字地形模型（DTM）、地表覆盖分类；约束：时间步长Δt=10–60 s、空间栅格100–500 m、几何可达性与地形遮挡必须计算、光学需太阳照明约束、SAR需雷达方程、双星采用P_total=1-∏(1-Pdet_i)；需不确定性表征（协方差/蒙特卡洛）。",
          "modeling_type": "仿真+预测+评价",
          "role_in_pipeline": "作为轨道反演与传播（子任务1）之后的可探测性仿真与风险评估环节；前序依赖：已传播的卫星位姿与协方差、传感器参数、气象与DTM；后序输出供时机/路线优化与安全施工窗口判定使用。",
          "assumptions": "若缺失高分辨率气象与DTM，允许使用气候平均云量与SRTM 30m降尺度到100–500 m；传感器参数不全时采用典型值并在不确定性采样中覆盖。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "明确Pdet(g,t)预测目标与置信区间评估",
              "description": "是否将核心目标表述为地面格网-时间上的检测概率Pdet预测与其不确定性/置信区间输出，而非仅可见性判定。",
              "score": 30,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：明确Pdet与置信区间并给出输出格式；中分：仅有Pdet无置信区间；低分：停留在过顶/可见性二值判断。"
            },
            {
              "sub_criteria": "区分Q型光学与L型雷达传感器机理",
              "description": "是否识别光学需太阳照明与云遮挡、雷达需雷达方程与全天候差异，并映射到f_geo、f_snr、f_atm、f_proc。",
              "score": 30,
              "evaluation_focus": "需求分解",
              "scoring_hint": "高分：分别列出Q/L差异与对应函数；中分：提到差异但未落地到模型分量；低分：混淆或未区分。"
            },
            {
              "sub_criteria": "双星L-1/L-2联合检测P_total",
              "description": "是否提出独立观测合成P_total=1-∏(1-Pdet_i)及可选立体/干涉增强。",
              "score": 20,
              "evaluation_focus": "要点抓取",
              "scoring_hint": "高分：写出公式并说明独立性假设与增强因子；中分：仅口头合成；低分：忽略双星。"
            },
            {
              "sub_criteria": "栅格与时间离散约束识别",
              "description": "是否给出Δt=10–60 s与100–500 m分辨率选择权衡与并行需求。",
              "score": 20,
              "evaluation_focus": "实现约束",
              "scoring_hint": "高分：量化步长与分辨率并讨论计算代价；中分：只泛称离散；低分：未提。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "分解式Pdet=f_geo·f_snr·f_atm·f_proc",
              "description": "是否用乘法分解准确重述四个分量的物理含义与输入依赖。",
              "score": 35,
              "evaluation_focus": "结构表达",
              "scoring_hint": "高分：清晰映射输入到各分量；中分：分量不全；低分：未采用分解式。"
            },
            {
              "sub_criteria": "光学照明与相位角阈值复述",
              "description": "是否明确地面被太阳照亮、太阳仰角/相位角阈值对f_geo的影响与时间依赖。",
              "score": 25,
              "evaluation_focus": "业务细节",
              "scoring_hint": "高分：给出阈值示例或可配置参数；中分：只提日照；低分：遗漏。"
            },
            {
              "sub_criteria": "DTM遮挡与地球曲率/折射处理",
              "description": "是否说明视线追踪、曲率与大气折射对几何可达性判断的作用。",
              "score": 20,
              "evaluation_focus": "细节完备",
              "scoring_hint": "高分：提出LOS与DTM射线法；中分：仅提地形影响；低分：忽略。"
            },
            {
              "sub_criteria": "输出形态与接口复述",
              "description": "是否复述GeoTIFF/NetCDF切片、CSV时序与阈值判定接口。",
              "score": 20,
              "evaluation_focus": "交付意识",
              "scoring_hint": "高分：列举三类输出；中分：部分；低分：未定义输出。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "SNR→检测概率映射假设",
              "description": "是否假设Sigmoid/累积高斯并说明阈值与参数可标定、适用范围。",
              "score": 30,
              "evaluation_focus": "模型假设",
              "scoring_hint": "高分：给函数形态与参数来源；中分：仅称经验函数；低分：无映射。"
            },
            {
              "sub_criteria": "独立性与相关性假设（双星/多情景）",
              "description": "是否声明P_total独立性假设及何时需相关修正或增强因子。",
              "score": 25,
              "evaluation_focus": "统计假设",
              "scoring_hint": "高分：讨论独立性局限与修正；中分：只写独立；低分：未提。"
            },
            {
              "sub_criteria": "气象与f_atm建模假设",
              "description": "是否给出云覆盖作为0–1或概率抑制的处理，并说明缺测时用气候均值。",
              "score": 20,
              "evaluation_focus": "数据假设",
              "scoring_hint": "高分：说明数据源与插值；中分：笼统提云；低分：忽略天气。"
            },
            {
              "sub_criteria": "传感器参数不确定性与协方差来源",
              "description": "是否对增益、阈值、姿态误差设定分布用于蒙特卡洛。",
              "score": 25,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：列出分布与样本量；中分：仅提采样；低分：未考虑。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "几何可达性f_geo构建（视场/离轴/遮挡）",
              "description": "是否基于卫星-地面视线计算入射角/离轴角、瞬时扫描带落点，并结合DTM遮挡决定f_geo。",
              "score": 35,
              "evaluation_focus": "几何建模",
              "scoring_hint": "高分：含离轴权重或天线响应；中分：二元视场判定；低分：仅可见性近似。"
            },
            {
              "sub_criteria": "f_snr物理建模（雷达方程/光学辐照）",
              "description": "是否针对SAR使用雷达方程、对光学使用辐照-反射与大气衰减，输出SNR并映射为Pdet。",
              "score": 35,
              "evaluation_focus": "物理建模",
              "scoring_hint": "高分：区分入射角/斜距依赖；中分：经验SNR随距衰减；低分：无SNR建模。"
            },
            {
              "sub_criteria": "f_atm与f_proc统计/机器学习建模",
              "description": "是否将天气抑制与识别率作为分辨率、背景复杂度、几何函数并可用逻辑回归/随机森林标定。",
              "score": 15,
              "evaluation_focus": "统计建模",
              "scoring_hint": "高分：提出可训练参数与验证方法；中分：固定经验系数；低分：忽略。"
            },
            {
              "sub_criteria": "双星合成与增强机制",
              "description": "是否实现P_total公式并允许配置立体/干涉增强因子。",
              "score": 15,
              "evaluation_focus": "组合建模",
              "scoring_hint": "高分：可配置增强并说明依据；中分：仅合成；低分：未合成。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "时空离散与并行计算设计",
              "description": "是否合理选择Δt=10–60 s与100–500 m并采用向量化/并行以满足效率与精度。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：有复杂度估计与并行方案；中分：仅给步长；低分：不合理或未给。"
            },
            {
              "sub_criteria": "不确定性传播（协方差与蒙特卡洛）",
              "description": "是否从状态协方差、参数分布、天气集合采样生成Pdet分布并输出置信区间。",
              "score": 35,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：给样本量与百分位输出；中分：仅口头不确定性；低分：无。"
            },
            {
              "sub_criteria": "几何/遮挡数值求解稳健性",
              "description": "是否处理地平线、边界像元、DTM射线相交的数值稳定问题与异常情况。",
              "score": 20,
              "evaluation_focus": "数值稳健",
              "scoring_hint": "高分：边界处理与容差设置；中分：提到但无细节；低分：未考虑。"
            },
            {
              "sub_criteria": "验证与基准（SGP4快速复核等）",
              "description": "是否提供快速几何/SNR基准或与简化传播对比以验证结果合理性。",
              "score": 15,
              "evaluation_focus": "正确性验证",
              "scoring_hint": "高分：有对比与误差阈值；中分：定性对比；低分：无验证。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据管线与IO（GeoTIFF/NetCDF/CSV）",
              "description": "是否实现标准地理参考输出与高效读取（GDAL/rasterio/xarray），包含时间切片管理。",
              "score": 30,
              "evaluation_focus": "工程实现",
              "scoring_hint": "高分：成功读写并含元数据/CRS；中分：部分格式；低分：非标准或无。"
            },
            {
              "sub_criteria": "几何与坐标转换正确性",
              "description": "是否正确使用ECEF/经纬高、pyproj变换、太阳位置计算与姿态接口。",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：含单元测试或数值校验；中分：实现但无测试；低分：坐标混乱。"
            },
            {
              "sub_criteria": "并行与向量化性能",
              "description": "是否利用NumPy/numba/并行批处理显著降低运行时间，支持批量场景仿真。",
              "score": 25,
              "evaluation_focus": "性能优化",
              "scoring_hint": "高分：有性能基准或>3x加速；中分：部分向量化；低分：纯循环低效。"
            },
            {
              "sub_criteria": "参数配置与可重现性",
              "description": "是否提供可配置阈值、随机种子、参数文件与日志以重现实验。",
              "score": 20,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：配置文件+固定种子；中分：代码内常量；低分：不可重现。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "Pdet地图与时序解读（点/路径）",
              "description": "是否展示并解释格网Pdet(g,t)切片与关键点/路径的时间序列，指出高风险时段与区块。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：定量阈值与时间窗口；中分：定性描述；低分：无可视化或解读。"
            },
            {
              "sub_criteria": "置信区间与百分位阈值报告",
              "description": "是否给出中位数、95%区间或p95阈值并用于决策阈值判定接口。",
              "score": 25,
              "evaluation_focus": "不确定性表达",
              "scoring_hint": "高分：多位置/多时段区间表；中分：单点或单统计量；低分：缺失不确定性。"
            },
            {
              "sub_criteria": "模型诊断与ROC/PR评估",
              "description": "是否基于历史标注或模拟真值绘制ROC/PR，报告AUC/阈值灵敏度并讨论f_proc影响。",
              "score": 25,
              "evaluation_focus": "模型评价",
              "scoring_hint": "高分：提供AUC与最佳阈值；中分：仅ROC曲线；低分：无定量评价。"
            },
            {
              "sub_criteria": "敏感性与情景分析",
              "description": "是否分析传感器阈值、云量、时间步长对Pdet的敏感性与稳健性。",
              "score": 20,
              "evaluation_focus": "稳健性分析",
              "scoring_hint": "高分：多参数敏感性图或表；中分：单参数；低分：未进行。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3目标是针对给定路网与时间窗、车辆与编队约束以及逐时、逐地点的被侦察风险场，计算并输出满足作战约束的最小暴露时空行军与宿营计划（即出发时刻、路线、每段路的行进速度/档位、到达/离开时刻与休息节点与时长），并给出可操作的备选方案与重规划触发规则。该子任务的输入包括：（1）地理路网（带路段长度、限速、是否为高速、公路等级、县级以上城市节点标注及可停车宿营节点）；（2）时间分辨的风险场或过顶时段（每一栅格/路段在每个时间步的检测概率Pdet(t,x)）；（3）车辆/车队参数（最大速度档位：高速100 km/h、普速50 km/h、车队长度Lc=2 km及由此引起的通过时间附加量或车队通过模型）；（4）时序约束：连续行驶时间τc∈[10 h,12 h]、休息节点必须为县级以上且休息时长≥10 h、任务往返与总时限等；以及（5）计算参数（时间离散步长Δt、优化时域）。实现步骤为：1) 数据预处理——将路网转为带空间坐标与属性的图结构并标注可宿营节点，栅格化或按路段插值风险场，使每个路段在每个时间步有确定的Pdet；2) 时空展开——将路网按时间步扩展为时间依赖图或时间层次网络，边的通行时间由路段长度与选择速度决定，并将车队长度对通过时间的影响建模为额外延迟项（例如通过时间 = 距离/速度 + Lc/有效通行带宽）；3) 风险累积建模——将在某边或节点占用时间段内的被侦察风险定义为对该时间区间内Pdet的积分或离散求和；4) 优化模型构建——建立整数/混合整数规划（MILP）或时间依赖最短路径模型：决策变量包括二元变量x_{e,t,v}表示在时间t从边e以速度档v出发、二元变量r_{n,t}表示在节点n开始休息与休息时长变量，连续变量记录累计连续行驶时间；目标可设为最小化累计暴露概率（Σ over time and edges Pdet·occupancy）或在暴露概率≤阈值下最小化总耗时/到达时间，并加入流守恒、时间一致性、速度选择二元约束、连续行驶时间上下界与休息节点限制等；5) 鲁棒与概率约束——为应对卫星轨道与天气不确定性，可采用情景法（对若干Pdet/过顶时间情形并行求解或在MILP中加入情景约束）、机会约束（保证暴露概率超阈的概率≤α）或预算化不确定集（最坏情形下最小化最大暴露），并在模型中加入风险预算或最坏情形约束；6) 求解与规模化策略——对中小规模问题使用商业求解器（Gurobi/CPLEX）直接求解MILP以获最优解；对大规模或需实时响应问题采用分层/启发式方法（时间依赖A*与多目标标签定级法、滚动时域规划、遗传算法或局部搜索），并使用并行化或图论加速（NetworkX/OSMnx用于路网处理，GDAL/shapely用于GIS集成）；7) 输出、验证与重规划接口——输出规范化计划（精确到时间步的路线、速度指令、停歇点与时间、累计暴露概率及其在选定不确定情景下的置信区间）、若干备选窗口与备选路线、以及重规划触发规则（如实际观测到卫星机动、超出暴露阈值或延误触发即时重新计算）；此外应提供敏感性报告（关键约束对结果的影响）与执行时的快速重算流程（用预生成情景或近似模型以在分钟级重规划）。工具建议：路网与GIS处理用 OSMnx/NetworkX、GDAL、pyproj；建模求解用 Gurobi/CPLEX、OR-Tools 或自实现的时变A*/标签法；并行风险评估/情景仿真用 Python + NumPy 并行或 C++ 实现。该子任务的可验收交付物为：机器可读的时空行军计划（CSV/GeoJSON/时序表）、暴露估算报告（含情景置信区间）、求解器日志与若干备选方案以及重规划接口说明。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在给定Pdet(t,x)与路网和行军约束下优化最小累计暴露概率的时空行军与宿营计划，并提供备选方案与重规划规则",
          "expected_output": "最优/次优行军与宿营时序表CSV、带时间戳的路线与速度指令GeoJSON、累计暴露概率与情景置信区间报表、求解器日志、备选方案列表、重规划触发规则说明",
          "key_inputs_constraints": "输入：时间分辨检测概率Pdet(t,x)、路网图（长度、限速、道路类型、县级以上城市节点）、车辆与车队参数（速度档位100/50 km/h，Lc=2 km）、时序约束（连续行驶10–12 h、休息≥10 h、休息节点为县级以上）、时间离散步长Δt与优化时域。约束：时间一致性与流守恒、速度档选择二元、车队通过时间=距离/速度+Lc/带宽、风险累计为占用区间内Pdet积分、机会/鲁棒约束可选。",
          "modeling_type": "优化+仿真+评价",
          "role_in_pipeline": "作为上游子任务1/2输出轨道传播与Pdet场后的决策优化环节；前序依赖：子任务1（过顶预测与不确定性）、子任务2（Pdet场与置信）；后序输出：行动执行与在线重规划模块使用。",
          "assumptions": "若缺少带宽参数则以车队附加时间用Lc/速度近似；Pdet在路段内按线性插值；Δt=5–15分钟可调；鲁棒情景数≥3（基准/乐观/悲观）。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "最小化累计暴露概率目标识别（Pdet积分）",
              "description": "明确将风险定义为沿路径与时间的Pdet(t,x)积分/求和，并以其最小化为主目标或主次目标之一。",
              "score": 35,
              "evaluation_focus": "目标设定/评价",
              "scoring_hint": "高分：给出离散公式Σ Pdet·Δt或线积分形式并说明占用区间映射；中分：口头描述最小暴露但未给出明确公式；低分：将目标误设为最短路或仅最短时间。"
            },
            {
              "sub_criteria": "时序与休息约束识别（10–12 h与≥10 h）",
              "description": "正确识别连续行驶10–12小时限制与休息≥10小时且仅在县级以上节点允许休息。",
              "score": 25,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：约束区间边界均被建模并与节点类型绑定；中分：仅实现部分（如仅下限）；低分：忽略或错误实现。"
            },
            {
              "sub_criteria": "速度档与道路类型（高速100/普速50）",
              "description": "识别高速/普速限速与速度档决策对过边时间与风险累计的影响。",
              "score": 20,
              "evaluation_focus": "业务规则",
              "scoring_hint": "高分：速度档二元选择与道路属性一致并影响通行时间；中分：限速有用但未与档位绑定；低分：忽略限速或统一速度。"
            },
            {
              "sub_criteria": "车队长度Lc=2 km对通过时间的影响",
              "description": "识别并建模车队附加通过时间（如距离/速度+Lc/有效带宽或等效延迟）。",
              "score": 20,
              "evaluation_focus": "建模细节",
              "scoring_hint": "高分：明确附加项并可校准参数；中分：仅口头说明有附加延迟；低分：完全忽略。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "Pdet(t,x)到路段占用区间的映射",
              "description": "清晰复述如何将时间栅格的Pdet分配到边/节点占用时段（进入/离开时间对齐Δt）。",
              "score": 30,
              "evaluation_focus": "表述严谨",
              "scoring_hint": "高分：给出离散对齐与部分覆盖权重；中分：仅整步对齐；低分：未提映射。"
            },
            {
              "sub_criteria": "时空展开图/时间层网络表述",
              "description": "复述将路网扩展为时间依赖图或时间层次网络以表达出发/到达事件。",
              "score": 30,
              "evaluation_focus": "抽象能力",
              "scoring_hint": "高分：定义层、状态与转移；中分：泛谈时间依赖最短路；低分：仅静态图。"
            },
            {
              "sub_criteria": "鲁棒/机会约束与情景法",
              "description": "复述不确定性来自Pdet与过顶时段，并说明情景合并或机会约束形式。",
              "score": 20,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：写出1-∏(1-P)或max/预算集形式；中分：仅提情景；低分：无提及。"
            },
            {
              "sub_criteria": "输出与重规划触发规则",
              "description": "复述输出为时序计划与备选方案，并说明触发（延误、暴露超阈、卫星机动）。",
              "score": 20,
              "evaluation_focus": "可执行性",
              "scoring_hint": "高分：列出3类触发并给出Δt重算窗口；中分：仅列举1类；低分：未提。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "Pdet插值与时间步Δt选择假设",
              "description": "阐明Pdet沿路段线性/最近邻插值与Δt（5–15 min）对精度与计算量权衡。",
              "score": 30,
              "evaluation_focus": "建模假设",
              "scoring_hint": "高分：给敏感性或误差上界；中分：给出选择理由；低分：不说明。"
            },
            {
              "sub_criteria": "车队通过时间模型假设",
              "description": "给出Lc/速度或有效带宽模型并说明在拥堵/单车道下的保守近似。",
              "score": 25,
              "evaluation_focus": "机制假设",
              "scoring_hint": "高分：给出公式与参数来源；中分：仅公式；低分：未设。"
            },
            {
              "sub_criteria": "休息节点可用性与占位风险假设",
              "description": "说明休息期间风险累计按节点Pdet积分，若缺失用邻接边近似。",
              "score": 25,
              "evaluation_focus": "边界条件",
              "scoring_hint": "高分：定义节点Pdet构造与占用窗口；中分：简单近似；低分：忽略休息期风险。"
            },
            {
              "sub_criteria": "不确定性情景与机会约束参数",
              "description": "设定情景数≥3或机会约束置信水平α（如5%），并说明来源。",
              "score": 20,
              "evaluation_focus": "风险设定",
              "scoring_hint": "高分：明确α/情景权重；中分：口头给范围；低分：未设。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "时间依赖图/MILP的正式化",
              "description": "给出x_{e,t,v}、r_{n,t}等变量、流守恒、时间一致性、速度档二元与休息约束的数学表达。",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：变量/约束完整且无时间循环错误；中分：缺少部分约束；低分：仅口头描述。"
            },
            {
              "sub_criteria": "风险累积目标函数构造（Σ Pdet·占用）",
              "description": "明确边与节点占用的Pdet加权方式与Δt/分段覆盖权重。",
              "score": 25,
              "evaluation_focus": "目标建模",
              "scoring_hint": "高分：覆盖部分使用比例权重；中分：整步近似；低分：未与占用耦合。"
            },
            {
              "sub_criteria": "连续行驶10–12 h与休息≥10 h约束建模",
              "description": "通过累积连续行驶时间变量与休息启动二元控制窗长度。",
              "score": 20,
              "evaluation_focus": "约束建模",
              "scoring_hint": "高分：滑动窗口或库存式变量正确；中分：只设上/下限之一；低分：缺失。"
            },
            {
              "sub_criteria": "鲁棒/机会约束或情景集成",
              "description": "构建情景并联目标或加入机会约束P(total暴露>阈)≤α或预算化不确定集。",
              "score": 20,
              "evaluation_focus": "鲁棒优化",
              "scoring_hint": "高分：给出情景耦合或二阶锥/线性近似；中分：只做情景独立求解选优；低分：无处理。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "求解器与算法选择（Gurobi/CPLEX或标签法）",
              "description": "根据规模选择MILP商业求解器或时间依赖A*/多标签定级，说明复杂度与停止准则。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给定Gap阈值、时间限制与可扩展策略；中分：仅声明工具；低分：不说明或不当选择。"
            },
            {
              "sub_criteria": "规模化与加速策略",
              "description": "时间窗裁剪、候选速度档稀疏化、分层/滚动时域规划、并行情景求解。",
              "score": 25,
              "evaluation_focus": "工程能力",
              "scoring_hint": "高分：至少两项具体策略并量化缩减；中分：提到但无量化；低分：无。"
            },
            {
              "sub_criteria": "可行性与约束验证",
              "description": "求解后检查时间一致性、休息规则、速度与道路类型一致性、暴露计算复核。",
              "score": 25,
              "evaluation_focus": "解校验",
              "scoring_hint": "高分：自动校验脚本与报告；中分：人工检查说明；低分：未验证。"
            },
            {
              "sub_criteria": "鲁棒/机会解的对比与选择",
              "description": "报告基准/乐观/悲观情景下的暴露分布或置信区间，用以选解。",
              "score": 20,
              "evaluation_focus": "不确定性求解",
              "scoring_hint": "高分：提供中位数与95%区间；中分：仅均值；低分：单场景。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "路网与时间层实现（OSMnx/NetworkX + 时间层）",
              "description": "将路网构造成时间依赖图，正确生成时间层节点与边并存储属性（长度、限速、Pdet切片）。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：单元测试覆盖映射与属性；中分：功能可跑但无测试；低分：结构不正确。"
            },
            {
              "sub_criteria": "Pdet插值与风险积分模块",
              "description": "实现按占用区间对Pdet离散积分，支持部分时间步覆盖与节点停驻累计。",
              "score": 25,
              "evaluation_focus": "数值实现",
              "scoring_hint": "高分：向量化实现且误差测试；中分：循环实现；低分：整步近似误差大且未说明。"
            },
            {
              "sub_criteria": "MILP/启发式求解接口与参数化",
              "description": "可切换Gurobi/CPLEX/OR-Tools或A*；包含Gap、时间限、Δt、情景数等可配置参数。",
              "score": 25,
              "evaluation_focus": "工程可配置",
              "scoring_hint": "高分：配置文件驱动与日志；中分：代码内常量；低分：不可调。"
            },
            {
              "sub_criteria": "输出与重规划API",
              "description": "导出CSV/GeoJSON与置信区间；支持因触发事件重算并保留版本号。",
              "score": 20,
              "evaluation_focus": "可用性",
              "scoring_hint": "高分：提供CLI/函数接口和示例；中分：仅导出文件；低分：输出零散。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "累计暴露概率与时间代价权衡",
              "description": "给出Pareto或备选方案，对比暴露ΣPdet与总旅行时间/到达时刻。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：展示2–3个Pareto点并量化差异；中分：仅最优解；低分：无对比。"
            },
            {
              "sub_criteria": "约束敏感性（Δt、休息规则、速度档）",
              "description": "分析Δt变更、休息≥10 h边界、速度档可选对解与暴露的敏感性。",
              "score": 25,
              "evaluation_focus": "敏感性",
              "scoring_hint": "高分：至少两项参数扫并给曲线/表；中分：定性描述；低分：未分析."
            },
            {
              "sub_criteria": "不确定性下的稳健性评估",
              "description": "报告情景中位/百分位暴露与解可行率，解释机会约束α是否满足。",
              "score": 25,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：提供95%分位与违约频率≤α；中分：仅均值；低分：无统计。"
            },
            {
              "sub_criteria": "可执行计划检查与重规划触发验证",
              "description": "核对休息节点为县级以上、连续行驶窗满足10–12 h，并演示延误触发下的快速重算。",
              "score": 20,
              "evaluation_focus": "可操作性",
              "scoring_hint": "高分：给出一例触发与重算用时；中分：口头说明；低分：未覆盖。"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（移动发射装置规避可行性分析）目标是系统性、可量化地评估在给定地理区域、路网与车辆机动能力约束下，移动发射装置对单颗或多颗侦察卫星（包括但不限于Q型光学、L型雷达与未知的K型）执行时间序列机动以规避侦察的可行性、必要条件和最佳战术，并给出可操作的参数阈值与工程建议；为实现上述目标，本子任务需按以下流程独立实施：首先明确定义输入数据集（必需项：区域边界与数字地形模型DTM、细化路网与可宿营点标注、车辆/编队动力学与后勤约束参数如最大速度/加速度/续航与车队长度、卫星威胁模型输入包括轨道根数/历元或TLE、传感器参数—幅宽、侧视角、分辨率、能量/增益、成像模式及可识别阈值、气象/云场历史或预报概率场、以及可用的伪装/遮蔽资源分布）；其次构建威胁与探测模型：对雷达与光学分别实现物理化的能见性判定（包括几何视场、太阳照明几何、斜距衰减与SAR/光学方程或经验SNR→检测概率映射）、基于DTM的视线遮挡检测、以及对云/天气、地表覆盖和背景复杂度的概率修正；第三步建立移动策略空间与仿真框架：定义可评估的机动策略族（如固定巡航、间歇性位移、日夜切换、分散与伪装、诱饵/误导动作、预设撤离路径等），以路网与车辆动力学为约束在时间步长下用代理/智能体实现位置时间序列；第四步采用蒙特卡洛/情景化仿真将卫星轨道不确定性、传感器参数不确定性与天气场不确定性联合抽样，对每种机动策略并行仿真大量场景并记录性能指标（关键指标包括检测概率分布、首次被探测时间分布、规避成功率、必要撤离速度/响应时间、在给定时间内可安全驻留的最大区域尺度与路网冗余需求）；第五步通过优化与敏感性分析量化阈值与最小要求：采用全局敏感性方法（如Sobol方差分解）与局部灵敏度分析识别影响规避成功率的关键参数，利用场景优化或整数/启发式优化求解最小区域尺寸、最小道路冗余（可达的绕行条数或环路长度）、最小机动速度/加速能力及必要的隐藏点密度以满足预设成功率（例如99%或95%）；第六步评估组合侦察（多星同时或交替侦察）的协同影响，通过计算各卫星覆盖窗口的并集和交叠概率量化联合规避难度并给出针对性战术建议（如优先避让哪类传感器、如何利用地形或时间窗口切换伪装）；第七步给出工程化输出与接口：可执行的规则表（如在何种云概率/日照条件下安全驻留多长时间、最小撤离触发阈值）、按区域与路网生成的规避可行性表（包含概率区间、所需最小速度、路网冗余指标、推荐隐蔽点位置）、以及用于实时决策的快速近似模型或查表法；第八步技术实现与工具建议：采用现成轨道传播库（SGP4或数值积分工具如Orekit/GMAT）生成威胁时序，利用GDAL/pyproj处理地形与栅格、NetworkX/OSMnx处理路网、用雷达/光学方程与经验SNR→Pdet映射建立检测模型，用并行化蒙特卡洛或分布式仿真（Python+NumPy/Numba或C++并行实现）进行大规模场景评估，敏感性分析可用SALib，优化可选用Gurobi/CPLEX或启发式算法；最后交付物应包括方法说明、可重复的仿真代码与参数配置、量化结论表（阈值与推荐战术）、若干代表性策略的场景验证报告以及对输入数据质量与关键假设的明示限定，以便在实际部署前进行必要的现场参数标定与实时数据同化升级。",
      "criteria": {
        "task_understanding": {
          "core_goal": "评估并优化移动发射装置在给定区域与路网约束下对Q型光学、L型雷达与K型卫星的规避侦察可行性与条件阈值，通过仿真与敏感性分析输出可操作战术与参数阈值。",
          "expected_output": "场景化仿真报告与图表（规避成功率、首次被探测时间分布）、参数阈值表（最小区域尺寸/速度/路网冗余）、策略规则表与建议、联合侦察影响评估、快速近似模型或查表、可复现实验代码与配置。",
          "key_inputs_constraints": "输入：区域边界与DTM（栅格），路网与可宿营点（矢量），车辆参数（最大速度/加速度/续航/车队长度），卫星轨道/TLE与传感器参数（幅宽、侧视角、成像模式、识别阈值），云/天气概率场，伪装/遮蔽资源分布。约束：机动受路网与动力学限制；时间步长Δt需≤60 s以刻画过顶窗口；检测模型需区分光学f_solar与雷达SNR；组合侦察需并联合成P_total。",
          "modeling_type": "仿真+评价+优化",
          "role_in_pipeline": "作为下游规避决策评估与战术生成环节；直接依赖子任务1的卫星轨道传播与不确定性、子任务2的Pdet(g,t)风险场；为子任务3的行军规划提供规避阈值与规则，并回馈策略到实时重规划模块。",
          "assumptions": "若K型参数未知，采用子任务1输出的状态分布近似；若气象实时数据缺失，使用历史云概率场代表；若缺地形遮挡高精度数据，用30 m SRTM/ASTER近似；传感器SNR→检测概率采用逻辑函数并以公开典型阈值校准。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "明确评估对象：Q型光学、L型雷达、K型与组合侦察",
              "description": "是否清楚区分光学与雷达侦察机理差异（太阳照明/云 vs SAR全天候），并包含K型不确定性处理与多星并联P_total=1-∏(1-Pdet_i)。",
              "score": 30,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：三类传感器均覆盖且给出联合概率公式；中分：覆盖两类且提及联合但无公式；低分：仅单星或混淆光学/雷达差异。"
            },
            {
              "sub_criteria": "核心目标聚焦：规避可行性与阈值评估而非仅预测",
              "description": "是否把重点放在规避成功率、最小区域/速度/路网冗余等阈值，而非仅输出过顶时间或Pdet地图。",
              "score": 30,
              "evaluation_focus": "目标对齐",
              "scoring_hint": "高分：列出成功率、首次被探测时间、阈值表；中分：有成功率或阈值之一；低分：停留在可视化或定性描述。"
            },
            {
              "sub_criteria": "约束识别：路网与车辆动力学、DTM遮挡、天气",
              "description": "是否完整识别机动受路网拓扑、速度/加速度、DTM遮挡与云/照明约束，并在问题界定中提出。",
              "score": 40,
              "evaluation_focus": "约束梳理",
              "scoring_hint": "高分：四类约束皆明确且可量化；中分：缺少1–2项或未量化；低分：约束模糊或遗漏关键项。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "仿真与敏感性分析需求复述",
              "description": "是否明确提出蒙特卡洛/情景化仿真与Sobol等敏感性方法以量化不确定性对规避评估的影响。",
              "score": 25,
              "evaluation_focus": "需求还原",
              "scoring_hint": "高分：点名蒙特卡洛与Sobol并说明输出；中分：提到不确定性分析但无方法；低分：未提。"
            },
            {
              "sub_criteria": "优化目标与决策变量复述",
              "description": "是否表述最小区域尺寸、最小速度/加速度、最小路网冗余、策略选择等优化目标与变量。",
              "score": 35,
              "evaluation_focus": "优化表述",
              "scoring_hint": "高分：列出≥3个目标与对应变量；中分：1–2个目标；低分：未形成优化表述。"
            },
            {
              "sub_criteria": "输入输出映射复述：从TLE/DTM到规则表",
              "description": "是否清楚说明输入（TLE、DTM、路网、天气）到输出（成功率曲线、阈值表、规则表、近似模型）的链路。",
              "score": 40,
              "evaluation_focus": "流程清晰",
              "scoring_hint": "高分：端到端映射完整；中分：部分链接清楚；低分：输入输出脱节。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "K型未知参数假设与合理性",
              "description": "针对K型，是否提出基于子任务1协方差的轨道不确定性采样或高度/周期先验，并讨论对结果敏感性。",
              "score": 30,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：给出分布与采样策略；中分：有先验但无量化；低分：忽略K型不确定性。"
            },
            {
              "sub_criteria": "SNR→检测概率模型假设",
              "description": "是否为光学与SAR分别设定逻辑函数/累高斯映射与阈值，并说明参数来源或校准思路。",
              "score": 30,
              "evaluation_focus": "模型假设",
              "scoring_hint": "高分：区分两类并给参数范围；中分：统一模型；低分：无映射或仅二值判定。"
            },
            {
              "sub_criteria": "时间步长与地形遮挡近似",
              "description": "是否说明Δt选择依据（如≤60 s）与地形遮挡射线判定近似（DEM分辨率、折射修正）。",
              "score": 40,
              "evaluation_focus": "数值设定",
              "scoring_hint": "高分：给出定量阈值与误差影响；中分：定性说明；低分：未设或不一致。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "Pdet(g,t)威胁模型与联合P_total构建",
              "description": "是否实现f_geo·f_snr·f_atm·f_proc分解，光学含太阳几何与云，SAR含雷达方程；多星采用P_total合成。",
              "score": 30,
              "evaluation_focus": "模型设计",
              "scoring_hint": "高分：四因子齐全并分星种差异；中分：缺1因子或不分星种；低分：简单可见性判定。"
            },
            {
              "sub_criteria": "机动策略空间与代理模型",
              "description": "是否定义固定巡航、间歇位移、日夜切换、诱饵/伪装等策略并由路网与动力学约束生成轨迹。",
              "score": 25,
              "evaluation_focus": "策略建模",
              "scoring_hint": "高分：≥3类策略且含约束；中分：1–2类；低分：无明确策略。"
            },
            {
              "sub_criteria": "敏感性与阈值优化模型",
              "description": "是否建立Sobol/局部灵敏度与场景优化（最小区域、路网冗余、最小速度/加速度）的数学表述。",
              "score": 25,
              "evaluation_focus": "优化建模",
              "scoring_hint": "高分：给出目标/约束与变量定义；中分：仅口述目标；低分：无优化。"
            },
            {
              "sub_criteria": "DTM遮挡与视线几何实现细节",
              "description": "是否给出射线-DEM交叉或地形自阴影算法，并考虑地球曲率/折射校正。",
              "score": 20,
              "evaluation_focus": "几何建模",
              "scoring_hint": "高分：算法与数值稳定性说明；中分：简化近似；低分：忽略遮挡。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "蒙特卡洛/情景化仿真设计",
              "description": "是否给出卫星状态、传感器参数、天气场的联合采样方案与样本量收敛性说明。",
              "score": 35,
              "evaluation_focus": "数值仿真",
              "scoring_hint": "高分：联合分布与样本量依据（如≥1e3）; 中分：独立采样或小样本；低分：无采样设计。"
            },
            {
              "sub_criteria": "敏感性分析与阈值搜索",
              "description": "是否执行Sobol指数或网格/自适应搜索得到最小区域尺寸、速度、路网冗余并报告不确定区间。",
              "score": 35,
              "evaluation_focus": "参数探索",
              "scoring_hint": "高分：给出指数/置信区间；中分：仅点估；低分：缺结果或不可复现。"
            },
            {
              "sub_criteria": "组合侦察协同效应求解",
              "description": "是否计算覆盖窗口并集、重叠概率与对规避成功率的影响，提出优先规避顺序。",
              "score": 30,
              "evaluation_focus": "联合分析",
              "scoring_hint": "高分：定量曲线与建议；中分：定性判断；低分：未分析。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "轨道传播与Pdet接口集成",
              "description": "是否用SGP4/Orekit对TLE传播并与Pdet(g,t)高效对接（向量化、并行）。",
              "score": 30,
              "evaluation_focus": "工程集成",
              "scoring_hint": "高分：模块化接口与基准性能；中分：能跑但低效；低分：手工或不可扩展。"
            },
            {
              "sub_criteria": "地理数据处理与路网仿真",
              "description": "是否使用GDAL/pyproj/OSMnx/NetworkX处理DTM与路网，支持时间步推进与动力学约束。",
              "score": 30,
              "evaluation_focus": "GIS实现",
              "scoring_hint": "高分：坐标一致性与单元测试；中分：能读写但缺验证；低分：自定义错误实现。"
            },
            {
              "sub_criteria": "并行蒙特卡洛与性能优化",
              "description": "是否采用Numba/多进程/向量化实现大规模场景仿真并报告吞吐（如场景/秒）。",
              "score": 25,
              "evaluation_focus": "性能优化",
              "scoring_hint": "高分：量化性能与可复现实验；中分：部分并行；低分：串行缓慢。"
            },
            {
              "sub_criteria": "可重复性与配置化",
              "description": "是否提供配置文件、随机种子、日志与版本锁定以支持复现。",
              "score": 15,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：一键重现实验；中分：部分脚本；低分：缺配置与种子。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "规避成功率与首次被探测时间分布",
              "description": "是否提供成功率曲线、CDF/箱线图并解释与策略/参数的关系。",
              "score": 30,
              "evaluation_focus": "统计解读",
              "scoring_hint": "高分：含置信区间与对比；中分：仅平均值；低分：无分布分析。"
            },
            {
              "sub_criteria": "阈值与工程建议的可操作性",
              "description": "是否输出最小区域尺寸、速度/加速度、路网冗余、隐蔽点密度等阈值表与规则表。",
              "score": 30,
              "evaluation_focus": "落地建议",
              "scoring_hint": "高分：量化阈值+规则触发；中分：定性建议；低分：无可执行输出。"
            },
            {
              "sub_criteria": "组合侦察薄弱环节与战术建议",
              "description": "是否识别多星薄弱时间/地形窗口，给出优先避让传感器与日夜/天气切换战术。",
              "score": 25,
              "evaluation_focus": "战术洞察",
              "scoring_hint": "高分：基于数据的窗口与策略；中分：一般性建议；低分：未涉及。"
            },
            {
              "sub_criteria": "不确定性与鲁棒性讨论",
              "description": "是否报告对卫星/天气不确定的鲁棒性、敏感参数与风险边界。",
              "score": 15,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：提供区间与敏感性排序；中分：定性描述；低分：忽略不确定性。"
            }
          ]
        }
      }
    }
  }
}