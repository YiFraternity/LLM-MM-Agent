{
  "task_id": "2021_F",
  "problem": "航空公司的运营管理非常复杂，很多过程需要经过长期-中期-短期等多层次的往复循环。机组排班问题假设航班规划阶段已经完成，机型分配已经结束，对机组人员数量及资格的需求已经明确，而且可用机组人员也已经确定。机组优化排班问题的描述通过以下概念的介绍展开。\n\n时间：航空公司的运营是跨时空的。本题时间的表达由年月日时分组成，秒以下的精度不计。所有时间均按单一指定时区定义（比如北京时区），相邻两天的时间分割点是给定时区的半夜零点。\n\n机场：航班的起飞和到达，及机组人员的出发和到达，都是以机场为节点。机场的标识一般按照国际民航组织 IATA 标准。比如北京首都机场 PEK，上海浦东国际机场 PVG。\n\n机组人员（Crew）：本题的描述只针对飞行员，但对乘务员和乘警完全适用。现代民航飞机的驾驶通常需要两种资格的飞行员：正机长（也叫机长或正驾驶，Captain）和副机长（也叫副驾驶，First Officer）。\n\n1. 每个机组人员都有一个固定的基地，用所在地机场表达。\n2. 每个机组人员都具有一个且仅有一个主要资格，但也可以具备其它的替补资格。机组排班优先安排主要资格，但当主要资格不足时，可以安排替补资格。本题假定具备正机长资格的飞行员其主要资格是正机长，否则其主要资格是副机长。部分正机长可以替补副机长执行飞行任务。机组人员按主要资格或替补资格执行的任务都叫飞行任务。 \n3. 机组人员除了执行飞行任务外，还可以执行乘机（Deadhead）任务。乘机任务是指机组人员乘坐正常航班从一机场摆渡到另一机场去执行飞行任务。注：乘机人数一般会有限制。\n\n航班（Flight）：指飞机的一次起飞和降落。本题假定每个航班都是唯一的，虽然实际情况下的航班号可能按天或星期重复。注：当航班应用于机组人员排班时也叫航段（英文Leg或Sector）。\n1. 每个航班都有给定的起飞日期、时间，和到达日期、时间。\n2. 每个航班都有给定的起飞和到达机场。\n3. 每个航班都有给定的最低机组资格配置（Composition），用格式C<数> F<数> 描述，其中C<数>为正机长数，F<数>为副机长数。一个航班只有满足了最低机组资格配置才能起飞。注：本题假定只有一种机型一种配置，实际情况可以有所不同。\n图2. 航段及机组分配流动示例图\n比如，航班FA121机组配置C1F2，到达机场BBB后，其中C1F1转服务FA231，剩余C0F1转服务FA232。航班FA122机组配置C1F1，另有C1F2乘机去机场BBB。\n\n\n执勤（Duty）：一次执勤由一连串航段（飞行或乘机）和间隔连接时间组成，相当于一次上班。同一次执勤的航段之间满足如下关系：\n1. 上一趟航段的到达和下一趟航段的出发机场一致。\n2. 上一趟航段的到达和下一趟航段的出发之间的间隔时间必须满足最短连接时间约束。\n3. 同一次执勤里的每个航段必须在同一天起飞，但到达时间不受此限制。按起飞时间，我们说这次执勤属于那一天。\n航段之间的连接时间计入执勤时间，但不计入飞行时间。执勤起始时间从当天所执行的第一趟航班的起飞时间算起，结束时间按最后一趟航班的到达时间计算。因此，执勤结束时间可以不和该执勤开始时间在同一天。\n\n任务环（Pairing）：任务环由一连串的执勤和休息时间组成，从自己的基地出发并最终回到自己的基地，相当于一次出差。属于同一任务环的执勤之间满足如下关系：\n1. 上一次执勤的结束机场必须和下一次执勤的起始机场相一致； \n2. 两个相邻执勤之间的休息时间必须满足最少休息时间限制，但没有上限；\n3. 每个任务环里的第一次执勤必须从基地出发，最后一次执勤必须回到基地。\n\n\n排班计划（Roster）及排班周期：每个机组人员在每个排班周期都有一个排班计划，这个计划由一系列的任务环和休假组成，任务环之间满足一定的休假天数。一个排班周期通常是两个星期（双周计划）或者一个月（月计划）。机组人员的排班计划按排班周期编排，每个周期开始前几天完成编排并向机组人员发布。\n\n排班周期之间有严格的时间分割，机组人员在给定排班周期内的最后一个任务环可能跨越这个时间分割点而进入下一个排班周期。为减少模型复杂度，本赛题假定所有机组人员的初始位置和排班周期结束时的终了位置都是在其基地，并把排班周期进行了适当的延展。\n\n\n三、赛题\n本赛题由三个子问题组成，每个子问题都基于前一个子问题并与之相容。如果概念定义和过程描述与业界有所出入，皆以本赛题为准。凡是本赛题没有提及，均不在考虑之列。本题假定：\n1. 机组人员之间可以任意组合；\n2. 允许存在因为无法满足最低机组资格配置而不能起飞的航班；\n3. 不满足最低机组资格配置的航班不能配置任何机组人员；\n4. 机组人员可以乘机摆渡，即实际机组配置可以超过最低配置要求，乘机机组人员的航段时间计入执勤时间，但不计入飞行时间。\n\n子问题1：基本题。要求建立线性规划模型给航班分配机组人员（或者说给机组人员分配航班），依编号次序满足目标\n①.  尽可能多的航班满足机组配置;\n④.  尽可能少的总体乘机次数；\n⑦.  尽可能少使用替补资格。\n约束：\n1. 每个机组人员初始从基地出发并最终回到基地；\n2. 每个机组人员的下一航段的起飞机场必须和上一航段的到达机场一致；\n3. 每个机组人员相邻两个航段之间的连接时间不小于 MinCT分钟。\n本子题要求编程，并按所给数据运行，输出结果要求见第五部分。\n\n子问题2：引进执勤概念。假定每个机组人员 的每单位小时执勤成本给定（可以设想为小时工资）。本子问题除了需要满足子问题1的所有目标外，还需满足如下目标（依编号次序）\n②.  机组人员的总体执勤成本最低；\n⑤.  机组人员之间的执勤时长尽可能平衡。\n同时在满足子问题1约束的基础上进一步要求：\n1. 每个机组人员每天至多只能执行一个执勤；\n2. 每次执勤的飞行时间最多不超过MaxBlk分钟；\n3. 每次执勤的时长最多不超过 MaxDP分钟； \n4. 每个机组人员下一执勤的起始机场必须和上一执勤的结束机场一致；\n5. 每个机组人员的相邻两个执勤之间的休息时间不小于 MinRest分钟。\n本子题要求编程，并按所给数据运行，输出结果要求见第五部分。\n\n子问题3：编制排班计划。假定每个机组人员 的每单位小时任务环成本给定（注：不包括执勤成本，可以设想为出差补贴）。本子问题除了需要满足子问题1和2的所有目标外，还需满足如下目标（依编号次序）\n③.  机组人员的总体任务环成本最低；\n⑥.  机组人员之间的任务环时长尽可能平衡。\n同时在满足子问题1和2的约束的基础上进一步要求：\n1. 每个机组人员每个排班周期的任务环总时长不超过 MaxTAFB 分钟；\n2. 每个机组人员相邻两个任务环之间至少有MinVacDay天休息。\n3. 每个机组人员连续执勤天数不超过MaxSuccOn天\n本子题要求编程，并按所给数据运行，输出结果要求见第五部分。\n\n四、输入数据说明\n本题有两套检测数据，要求参赛者先优先运行 A 套数据，然后再 B 套数据。如下表所示：\n\n数据表：\n| 数据 | 基地数 | 计划周期开始 | 计划周期结束 | 航班数 | 机组人数 | 机场数 |\n|------|--------|--------------|--------------|--------|----------|--------|\n| A 套 | 1 | 2021-08-11 | 2021-08-25 | 206 | 21 | 7 |\n| B 套 | 2 | 2021-08-01 | 2021-08-31 | 13954 | 465 | 39 |\n\n注：部分航班到达时间可能会在计划周期结束后的第一天。\n\n每套输入数据由三部分组成，除输入参数在这里给出外，航班计划和机组人员数据需要另外下载，这里仅给出格式描述。\n1. 输入参数：\n航段之间最小连接时间 MinCT = 40分钟\n一次执勤飞行时长最多不超过 MaxBlk = 600分钟\n执勤时长最多不超过 MaxDP = 720分钟\n相邻执勤之间的休息时间不少于 MinRest = 660分钟\n每趟航班最多乘机人数 MaxDH = 5\n排班周期单个机组人员任务环总时长不超过 MaxTAFB = 14400分钟\n连续执勤天数不超过MaxSuccOn = 4天\n相邻两个任务环之间至少有MinVacDay =2天休息\n\n2. 航班计划数据格式\n| 航班号 | 出发日期 | 出发时间 | 出发机场 | 到达日期 | 到达时间 | 到达机场 | 最低资格配置 |\n|--------|----------|----------|----------|----------|----------|----------|--------------|\n| FA865  | 8/14/2021 | 20:00 | PXB | 8/14/2021 | 21:45 | NKX | C1F1 |\n| FB1100 | 8/18/2019 | 23:10 | TUK | 8/19/2019 | 1:00 | TGD | C1F1 |\n\n3. 机组人员信息数据格式：\n| 员工号 | 正机长 | 副机长 | 允许乘机 | 基地 | 每单位小时执勤成本 | 每单位小时任务环成本 |\n|--------|--------|--------|----------|------|------------------|------------------|\n| A00052 | Y | N | Y | NKX | 640 | 20 |\n| B02002 | N | Y | N | TGD | 680 | 20 |\n| B00500 | N | Y | N | HOM | 600 | 20 |\n\n五、提交结果要求\n参赛选手必须按比赛规则提交规定格式的论文报告。此外，本赛题还有如下要求：\n\n1. 建立完整的数学模型\na. 模型所用变量和参数都需要解释清楚。变量一般用单个小写英文字母表示；参数可以是希腊字母，也可以是第一个字母大写的英文字符串，但需要尽可能简洁；下标尽可能只用单个小写的英文字母表示。为简洁易读易懂起见，变量可以有上撇（’），上横（$\\bar$ ）等辅助记号；\nb. 所有变量、参数和记号都必须通篇前后一致。\n\n2. 根据模型设计求解算法\na. 模型和算法是两个独立的概念。提交的论文必须对数学模型的特点进行分析，包括模型的规模和结构，求解的难易，等等；\nb. 算法必须针对数学模型的特点设计。论文需要解释算法的合理性，包括算法实现的难易，复杂度估计和运行时间分析。如果采用实用性算法，必须解释算法的思路；\nc. 模型算法描述必须逻辑严谨，条理清晰，同时简单易懂。\n\n3. 编写程序算法，并使用给定数据进行实验\na. 程序编写可以按自己的专长选用高级语言或脚本语言，或多种方法的组合，求解器可以是商用、开源、自主开发，由参赛者根据自己的情况选择。\nb. 程序必须模块化，结构要面向目标，注释清晰；\nc. 参赛选手需要在报告附录中介绍程序和数据结构。\n\n4. 论文报告必须明确包括如下数据，同时欢迎作者采用其它图表形式对实验结果进行描述，但要求设计简单易懂，线条清晰，色彩分明，重点突出，标注恰到好处。\n| 结果指标 | 子问题1 | 子问题2 | 子问题3 |\n|----------|---------|---------|---------|\n| 不满足机组配置航班数 | 要求 | 要求 | 要求 |\n| 满足机组配置航班数 | 要求 | 要求 | 要求 |\n| 机组人员总体乘机次数 | 要求 | 要求 | 要求 |\n| 替补资格使用次数 | 要求 | 要求 | 要求 |\n| 机组总体利用率 | 要求 | 要求 | 要求 |\n| 最小/平均/最大一次执勤飞行时长 | 要求 | 要求 | 要求 |\n| 最小/平均/最大一次执勤执勤时长 | 要求 | 要求 | 要求 |\n| 最小/平均/最大机组人员执勤天数 | 要求 | 要求 | 要求 |\n| 一/二/三/四天任务环数量分布 | 要求 | 要求 | 要求 |\n| 总体执勤成本（万元） | 要求 | 要求 | 要求 |\n| 总体任务环成本（万元） | 要求 | 要求 | 要求 |\n| 程序运行分钟数 | 要求 | 要求 | 要求 |\n【注1】：除“不满足机组配置航班数”外，其它所有结果统计指标都是针对满足了机组配置的航班。\n【注2】：除“程序运行分钟数”外，其它所有时长单位都是小时，比如4.25.\n【注3】：机组总体利用率 = 最低配置总体飞行时长 / 总体执勤时长，其中，\n最低配置总体飞行时长 = 总体执勤时长 - 总体连接时长 - 总体乘机时长\n\n5. 本赛题还需提交程序实现的计算结果，及如下两个文本文件：\na. 按拟起飞日期和时间，出发和到达机场的次序，罗列没有机组配置的航班号和其最低配置需求。此结果需从Excel 表格按CSV 格式导出，数据项名称简单易懂，用文件名 “UncoveredFlights.csv” 提交。\nb. 按机组人员，按日期，按航段次序，罗列该机组人员的航班分配，需注明航班号，起飞日期时间/机场和到达日期时间/机场，任务性质（机长，副机长，替补，乘机）等。如休假日也需注明。此结果需从Excel 表格按CSV 格式导出，数据项名称简单易懂，用文件名 “CrewRosters.csv” 提交。",
  "subtask": {
    "1": {
      "subtask": "子任务1（基本题）要求以“航段直接分配给机组人员”的形式建立并求解一个精确的二元整数线性规划模型，其范围仅包括：用给定航班表和机组表在单一时区内判定哪些航班被覆盖并把每个被覆盖航班分配到具体机组成员上（分配时标注角色为机长/副驾驶/替补或乘机Deadhead），同时严格满足基地始末约束、时间-地点连贯性和最短连接时间等硬约束，并在这些约束下按优先级实现（1）尽可能多地覆盖航班、（4）在覆盖最优前提下尽可能减少总体乘机次数、（7）在前述目标下尽可能少使用替补资格。为此应按以下步骤精确实施： (1) 输入与预处理：读取指定的航班CSV（航班号、起降日期时间、起降机场、最低配置Comp如C1F1）与机组CSV（员工号、主资格标识、是否允许乘机、基地机场、每小时成本可留存但本子题无需用于目标），将时间统一为自定义纪元的分钟计数以便计算航段时长与连接时差，预计算并以布尔掩码 feasConn_{f,g}=1 标记所有满足 o_g = d_f、起飞同日（按起飞时间所属日）且 dep_g - arr_f ≥ MinCT 的可连接对以尽量削减连边变量； (2) 决策变量与域：为每位机组 c 与航班 f 定义二元变量 z_f∈{0,1}（航班f被覆盖指示）， y_{c,f}^{role}∈{0,1}（c在f上以 role∈{Cpt,FO,Backup} 执行飞行任务）， dh_{c,f}∈{0,1}（c作为乘客在f上乘机），以及连接变量 s_{c,f,g}∈{0,1}（c在同一次执勤中在f之后立即执行g；仅在feasConn_{f,g}=1且day_g=day_f时允许）；所有变量通过预计算掩码和资格参数 qual_{c,role} 约束其可行性以避免大M滥用； (3) 可行性约束：对每航班 f 以被覆盖指示z_f耦合分配变量并保证最低配置： Σ_c y_{c,f}^{Cpt} ≥ Creq_f * z_f， Σ_c y_{c,f}^{FO} ≥ Freq_f * z_f；若 z_f=0 则强制 Σ_c (y_{c,f}^{*}+dh_{c,f}) = 0；乘机人数上限约束 Σ_c dh_{c,f} ≤ MaxDH；资格掩码约束 y_{c,f}^{role} ≤ qual_{c,role}；机场/时间连贯性与先后关系用流守恒形式强制：对任一c与任一f，若 c 被分配到 f（作为飞行或乘机）则在其个人时间线中 f 必有入口与出口（入口等于 Σ_g s_{c,g,f} + b_{c,f}^{start}，出口等于 Σ_g s_{c,f,g} + e_{c,f}^{end}，并要求入口＝出口＝ assigned_{c,f}），并用 s_{c,f,g} ≤ yAssigned_{c,f}, s_{c,f,g} ≤ yAssigned_{c,g} 和 s_{c,f,g} ≤ feasConn_{f,g} 保证只有合法连接被激活；禁止时间重叠：对任一c且任意互相时间重叠的航班对(f,g)强制 yAssigned_{c,f}+yAssigned_{c,g} ≤ 1；基地始末约束通过对每个c确保其在整个排班周期的第一次出发航班出发地为 base_c 且最后一次到达航班到达地为 base_c（可用对从基地出发次数与返回次数相等的流量约束或对所有非基地始发/终到的连通性变量加以限制）； (4) 目标处理：按题目优先级采用严格的序贯（lexicographic）优化：第一步求解 MIP maximize Σ_f z_f 得到最大覆盖数 Z*；第二步在 Σ_f z_f = Z* 约束下求解 minimize Σ_{c,f} dh_{c,f}（或同时最小化乘机与替补可通过进一步分阶段固定前两阶段最优并继续优化 minimize Σ y^{Backup}），或者为了减少求解次数可用单一目标将覆盖缺口用极大权重惩罚并在其后按较小权重合并最小化总体乘机与替补使用； (5) 数值与实现建议：为规模可控的A套（约206航班、21机组）直接构建上述MIP并用商用求解器（Gurobi、CPLEX）或开源CBC求解器求解，充分利用预计算的feasConn掩码、禁止不可能变量与时间重叠约束以显著减少变量数与约束数； (6) 后处理与输出：从解中导出未覆盖航班列表并按起飞时间顺序输出为 UncoveredFlights.csv（包含航班号及其最低配置），以及按员工号和日期按航段次序输出 CrewRosters.csv（列明每段的起飞/到达时间与机场及任务性质：Cpt/FO/Backup/DH/休假），并汇总报告覆盖数、总体乘机次数、替补使用次数及用于验证的可行性检查（每被覆盖航班满足配置、每位机组首末回到基地、所有连接满足 MinCT、乘机人数上限满足）。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在单一时区内构建并求解二元整数线性规划优化模型，将航段直接分配给机组以最大化航班覆盖并按序最小化乘机与替补使用，同时满足基地始末、时间-地点连贯与最短连接时间等硬约束。",
          "expected_output": "1) 最优解：z_f、y_{c,f}^{Cpt/FO/Backup}、dh_{c,f}、s_{c,f,g} 的可行最优取值；2) 报表：UncoveredFlights.csv、CrewRosters.csv；3) 汇总指标：覆盖航班数、总体乘机次数、替补使用次数与可行性校验日志；4) 可运行代码与求解配置。",
          "key_inputs_constraints": "输入：Flights CSV(航班号、起降时刻、机场、配置CkFℓ)，Crew CSV(员工号、主资格、替补许可、乘机许可、基地)。关键约束：MinCT最小连接时间、同日执勤起飞限制、feasConn_{f,g}可连接掩码、MaxDH乘机上限、资格匹配qual_{c,role}、基地始发终到、时间重叠互斥、lexicographic目标(覆盖→乘机→替补)。必要条件：时间统一为分钟纪元、按起飞日定义执勤日。",
          "modeling_type": "优化",
          "role_in_pipeline": "作为整体机组排班的第一阶段(子问题1)精确分配与可行性基座，前序依赖数据清洗/时间标准化与feasConn预计算；后序为执勤成本(子问题2)与任务环成本(子问题3)的进一步优化与统计输出。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "最大化航班覆盖(z_f)的优化目标识别",
              "description": "明确第一优先级为max Σ_f z_f，并区分其与次级目标(乘机、替补)的词典序关系。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：写出lexicographic或等价硬约束固定Z*；中分：写出权重法但未确保严格优先；低分：未区分覆盖与次级目标。"
            },
            {
              "sub_criteria": "硬约束边界与可行域识别(MinCT/基地/连贯)",
              "description": "完整列出基地始末、时间-地点连贯、feasConn、同日起飞、时间重叠禁配等硬约束构成可行域。",
              "score": 25,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：覆盖上述全部并无矛盾；中分：缺1–2项或表述含糊；低分：显著缺漏(如未处理重叠或基地)。"
            },
            {
              "sub_criteria": "乘机与替补的角色定位",
              "description": "区分dh_{c,f}仅计乘机上限且不计配置，y^{Backup}计入飞行任务但不满足主要资格优先。",
              "score": 20,
              "evaluation_focus": "概念界定",
              "scoring_hint": "高分：清晰区分并与目标(④、⑦)关联；中分：有区分但与约束耦合不清；低分：混淆乘机与备份。"
            },
            {
              "sub_criteria": "输入数据前置处理需求",
              "description": "指出需统一时间为分钟纪元，生成feasConn_{f,g}掩码以裁剪变量与约束。",
              "score": 20,
              "evaluation_focus": "数据理解",
              "scoring_hint": "高分：给出dep/arr与起飞日判定逻辑；中分：仅笼统描述；低分：未提预处理或与约束脱节。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "任务语义到数学对象映射(z,y,dh,s,feasConn)",
              "description": "将航段直接分配、连边、资格、乘机限制准确映射为变量与参数。",
              "score": 30,
              "evaluation_focus": "形式化能力",
              "scoring_hint": "高分：变量/参数含义与域完整一致；中分：少量遗漏；低分：映射错误或缺主变量。"
            },
            {
              "sub_criteria": "词典序(覆盖→乘机→替补)复述",
              "description": "阐明分阶段求解或等价权重法且能保证覆盖严格优先。",
              "score": 30,
              "evaluation_focus": "目标表述",
              "scoring_hint": "高分：分两/三阶段或硬固定Z*；中分：大权重但无证明；低分：单一目标不可控。"
            },
            {
              "sub_criteria": "时间-地点连贯与同日执勤的复述",
              "description": "强调o_g=d_f、dep_g-arr_f≥MinCT且起飞同日，非此不连边。",
              "score": 20,
              "evaluation_focus": "约束复述",
              "scoring_hint": "高分：含同日条件与MinCT；中分：缺其一；低分：未提或错误。"
            },
            {
              "sub_criteria": "基地始末与流守恒复述",
              "description": "用个人时间线入口/出口或流量平衡表达始发基地与返回基地。",
              "score": 20,
              "evaluation_focus": "约束复述",
              "scoring_hint": "高分：给出start/end或基地计数等价表达；中分：只口头描述；低分：遗漏。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "同一航班不可重复分配与时间重叠假设",
              "description": "假设每名机组不可在重叠航班上被指派，且每航班的角色分配不超过需求。",
              "score": 30,
              "evaluation_focus": "建模假设",
              "scoring_hint": "高分：明示互斥集生成或冲突检测；中分：只陈述不落地；低分：未提。"
            },
            {
              "sub_criteria": "资格与替补策略假设(qual_{c,role})",
              "description": "明确正机长可下派为Backup/FO的边界，副驾驶不可上派，违规变量被屏蔽。",
              "score": 25,
              "evaluation_focus": "规则设定",
              "scoring_hint": "高分：用变量掩码限制生成；中分：文本说明；低分：允许非法指派。"
            },
            {
              "sub_criteria": "feasConn生成与同日界定假设",
              "description": "定义起飞日计算法及跨日到达不影响‘同日起飞’要求。",
              "score": 25,
              "evaluation_focus": "数据假设",
              "scoring_hint": "高分：给出基于分钟纪元与本地时区的计算；中分：模糊；低分：未定义。"
            },
            {
              "sub_criteria": "不可行航班处理(z_f=0屏蔽)",
              "description": "若航班未覆盖(z_f=0)则强制无任何y或dh分配。",
              "score": 20,
              "evaluation_focus": "可行性控制",
              "scoring_hint": "高分：写出Σ(y+dh)≤M z_f并用M=1避免大M；中分：口头；低分：遗漏。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "变量与域定义(z_f,y_{c,f}^{role},dh_{c,f},s_{c,f,g})",
              "description": "给出二元域、索引集合与掩码裁剪；避免无谓变量(如不可连接对)。",
              "score": 30,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：域/索引清晰并裁剪；中分：变量齐但未裁剪；低分：域错或缺失。"
            },
            {
              "sub_criteria": "最低配置与乘机上限约束",
              "description": "Σ_c y^{Cpt}≥Creq z_f，Σ_c y^{FO}≥Freq z_f，Σ_c dh≤MaxDH。",
              "score": 25,
              "evaluation_focus": "约束建模",
              "scoring_hint": "高分：式子正确且无双计；中分：少量符号错误；低分：缺其一或逻辑错。"
            },
            {
              "sub_criteria": "流守恒与连接(s)约束",
              "description": "入=出=assigned_{c,f}，s≤assigned与s≤feasConn；定义start/end与基地一致。",
              "score": 25,
              "evaluation_focus": "网络流建模",
              "scoring_hint": "高分：完整入/出与基地闭环；中分：漏start/end；低分：无流守恒。"
            },
            {
              "sub_criteria": "时间重叠互斥与同日限制",
              "description": "对重叠(f,g)施加assigned_{c,f}+assigned_{c,g}≤1；同日仅允许feasConn生成。",
              "score": 20,
              "evaluation_focus": "可行域控制",
              "scoring_hint": "高分：给出生成或冲突图；中分：描述不落地；低分：缺失。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "词典序优化实现(阶段化或硬固定Z*)",
              "description": "先max Σ z_f得Z*，再在Σ z_f=Z*下min Σ dh，最后min Σ y^{Backup}。",
              "score": 35,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出多次MIP或懲罰权重证明不破坏优先；中分：权重法但无保证；低分：单次且无解释。"
            },
            {
              "sub_criteria": "规模控制与裁剪(feasConn/禁配/资格屏蔽)",
              "description": "用掩码构造变量与约束，预先删除非法(y,dh,s)。",
              "score": 25,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：量化裁剪比例或复杂度估计；中分：口头；低分：未裁剪。"
            },
            {
              "sub_criteria": "求解器与数值稳定(避免大M)",
              "description": "使用指示/半连续或上下界替代大M；若用权重法给出数量级分层。",
              "score": 20,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：无大M或M=1类型；中分：有限大M且解释；低分：巨大M无说明。"
            },
            {
              "sub_criteria": "可行性与最优性验证",
              "description": "解后检查配置满足、MinCT、基地闭环、MaxDH、无重叠；报告Gap或证书。",
              "score": 20,
              "evaluation_focus": "结果校验",
              "scoring_hint": "高分：系统化校验与日志；中分：抽样检查；低分：无验证。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据预处理与时间纪元转换",
              "description": "从CSV读取并将时刻转分钟纪元，计算航段时长与起飞日。",
              "score": 25,
              "evaluation_focus": "数据工程",
              "scoring_hint": "高分：时区统一与边界(跨日)覆盖；中分：基本转换；低分：错误或缺失。"
            },
            {
              "sub_criteria": "feasConn与冲突集构建",
              "description": "高效生成feasConn_{f,g}与重叠冲突对，支持约束生成。",
              "score": 25,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：索引优化/向量化；中分：朴素二次复杂度但可运行；低分：未实现或错误。"
            },
            {
              "sub_criteria": "MIP建模与词典序驱动",
              "description": "能调用求解器(Gurobi/CPLEX/CBC)按阶段或硬约束实现目标序。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：阶段化管线可复用；中分：手工重跑；低分：单次目标且不符合词典序。"
            },
            {
              "sub_criteria": "结果导出(UncoveredFlights.csv/CrewRosters.csv)",
              "description": "按指定字段顺序与排序规则导出两份CSV。",
              "score": 20,
              "evaluation_focus": "输出规范",
              "scoring_hint": "高分：严格字段与排序；中分：字段齐但排序欠缺；低分：格式不符或缺文件。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "覆盖数与未覆盖航班原因分析",
              "description": "报告Σ z_f与未覆盖航班的主要瓶颈(资格、连通、基地)。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：分类计数并溯源；中分：总体描述；低分：仅给数字无解释。"
            },
            {
              "sub_criteria": "总体乘机次数与替补使用次数",
              "description": "量化Σ dh与Σ y^{Backup}并说明其与词典序目标的一致性。",
              "score": 25,
              "evaluation_focus": "指标解读",
              "scoring_hint": "高分：与基线/无乘机情形对比；中分：仅报告数值；低分：缺任一指标。"
            },
            {
              "sub_criteria": "可行性校验报告(MinCT/基地/MaxDH/重叠)",
              "description": "列出关键约束的违规计数应为0并给出抽样核对。",
              "score": 25,
              "evaluation_focus": "一致性检查",
              "scoring_hint": "高分：零违规并含断言；中分：部分缺校验；低分：未提供或存在违规。"
            },
            {
              "sub_criteria": "求解性能与可扩展性(A套规模)",
              "description": "给出运行时间、变量/约束规模、节点数或Gap，并讨论扩展到B套的策略。",
              "score": 20,
              "evaluation_focus": "性能分析",
              "scoring_hint": "高分：量化并提出裁剪/并行/启发式；中分：仅时间记录；低分：无性能数据。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2（执勤层面建模与求解）目标是基于给定航班与机组数据，在分钟级时间刻度上把航段直接分配给具体机组成员并把同一天按机场和最短连接时间串联的航段划分为“执勤”（Duty），在严格满足基地始末、机场/时间连贯性、最短连接时间 MinCT、每航班乘机人数上限 MaxDH、航段互不重叠等硬约束的基础上实现两级优先目标：首先尽可能多地覆盖航班（覆盖指标必须作为首要目标），在覆盖最优前提下其次使总体执勤成本最小化（每位机组每小时执勤成本已给定），并在此基础上推动机组间执勤时长的平衡（以线性化的绝对偏差或最小化最大偏差实现）；此外本任务需显式引入并强制下列执勤层约束：每位机组每天至多一个执勤、每次执勤的累计飞行时间（Block）不超过 MaxBlk、每次执勤的时长（从该日第一趟起飞至最后一趟到达）不超过 MaxDP、相邻两次执勤之间的休息时间至少为 MinRest、连续执勤天数不超过 MaxSuccOn。为可操作地实现上述目标与约束，建议按以下步骤实施：输入与预处理——读取航班表（航班号、起飞/到达时间与机场、最低配置 C/F）与机组表（员工号、主/替补资格、是否允许乘机、基地、每小时执勤成本），统一时间为自选纪元的分钟数并按起飞日划分“同日”关系；预计算并存储布尔可行连接矩阵 feasConn[f,g]（o_g = d_f、day_g = day_f 且 dep_g - arr_f ≥ MinCT）和航班时间长度 FlightTime[f]、对任意机组的重叠航段对以禁止同人同时被分配。决策变量与线性化手段——采用二元分配变量 y_{c,f,role} 表示机组 c 在航班 f 以角色 role∈{Cpt,FO,Backup} 执行飞行（或不分角色时统一 y_{c,f}），二元变量 dh_{c,f} 表示 c 乘机于 f，二元变量 s_{c,f,g} 表示 c 在同一次执勤中从 f 直接连接到 g（仅在 feasConn[f,g]=1 时允许），并用 b_{c,f}^{start}, e_{c,f}^{end} 标识某航段是否为该次执勤的首段或末段，从而用流守恒约束在每个被分配航段上保证入口=出口=assigned_{c,f}（assigned_{c,f}=Σroles y_{c,f,role}+dh_{c,f}）；通过这些变量线性化并计算每次执勤的飞行时间 FlightOnDuty_{c,u} = Σ_{f∈duty_u} FlightTime[f] 与执勤时长 DutyTime_{c,u} = arr_{last(f)} - dep_{first(f)}（用大M与 start/end 标识或在小规模下直接枚举首段以避免大量 big-M），并为每位机组对每天只允许一个 start 变量为1（从而保证每天至多一执勤）。约束集——（1）覆盖与最低配置：对每航班 f 引入被覆盖指示 z_f，并强制 Σ_c y_{c,f,Cpt} ≥ Creq_f * z_f 与 Σ_c y_{c,f,FO} ≥ Freq_f * z_f，同时若 z_f = 0 则强制所有 y_{c,f,*}=dh_{c,f}=0；（2）资格与乘机限制：y_{c,f,role} ≤ qual_{c,role}，Σ_c dh_{c,f} ≤ MaxDH；（3）时间连贯性与连接：s_{c,f,g} ≤ feasConn[f,g] 且 s_{c,f,g} ≤ assigned_{c,f}, s_{c,f,g} ≤ assigned_{c,g}，并用流守恒在每 c 的时间序列上保持一致；（4）资源上限：对每个执勤 DutyOnes 强制 FlightOnDuty ≤ MaxBlk 与 DutyTime ≤ MaxDP；（5）休息与连续天：对同一 c 的相邻两次执勤用 dep_next_first - arr_prev_last ≥ MinRest，定义并约束滑动窗口或累加计数变量以保证连续执勤天数 ≤ MaxSuccOn。目标函数与求解策略——因题目为优先级多目标问题，推荐采用严格序贯（lexicographic）求解：第一步仅最大化 Σ_f z_f 得到覆盖上界 Z*；第二步在约束 Σ_f z_f = Z* 下最小化总体执勤成本 Σ_c wDuty_c * (Σ_u DutyTime_{c,u}/60)（小时计价），若需要在最小成本解集中进一步改善均衡可在第三步固定前两步目标值并最小化 Σ_c devDuty_c（devDuty_c ≥ DutyHours_c - AvgDuty 与 devDuty_c ≥ AvgDuty - DutyHours_c 线性化），也可最小化最大偏差变量 Mdev（devDuty_c ≤ Mdev）；为求解器实施可采用直接整数线性规划（适用于中小规模问题）并尽量通过预计算掩码减少 s 变量数量、用每天首段枚举避免过多大M，或在较大规模时将“执勤”作为列生成单元并在主问题中计入执勤成本（若延伸为列生成则需实现 pricing），但本任务在方法上仅要求直接 MIP 实现要点。实现细节与输出—实现时建议使用 Python + Gurobi/CPLEX：构建模型、设置序贯求解器调用与时间限；求解后把每位机组按日期和 s 变量串联的顺序重构出每天的执勤序列，计算并导出所需文件（按要求生成每位机组的日执勤明细 CSV 和未覆盖航班 CSV），并统计并报告覆盖数、总体执勤成本、最小/平均/最大一次执勤飞行时长与执勤时长、各机组执勤小时的最小/平均/最大及平衡性度量、总体乘机次数与替补使用次数、机组总体利用率和求解运行时间；同时在实现中必须包含可行性检查（覆盖航班的配置满足性、所有连接满足 MinCT、每日最多一执勤、休息与连续天约束满足、乘机人数上限满足、所有机组周期首末位置为基地等）。",
      "criteria": {
        "task_understanding": {
          "core_goal": "基于分钟级时间刻度的优化：构建并求解二元整数线性规划以最大化航班覆盖，随后最小化总体执勤成本并平衡机组执勤时长。",
          "expected_output": "最优/次优解的MIP解集；两个CSV报表（UncoveredFlights.csv、CrewRosters.csv）；覆盖数、总体执勤成本、执勤时长分布与平衡度等统计；可行性校验结果日志。",
          "key_inputs_constraints": "输入：Flights CSV(航班号、起降时间、机场、C/F最低配置)、Crew CSV(员工号、主/替补资格、是否允许乘机、基地、每小时执勤成本)；参数：MinCT、MaxBlk、MaxDP、MinRest、MaxDH、MaxSuccOn；约束：基地始末、同日执勤、feasConn[f,g]、航段互不重叠、每天至多一个执勤、休息时间与连续执勤天数限制、C/F最低配置满足、乘机上限。",
          "modeling_type": "优化",
          "role_in_pipeline": "作为整体求解流程的核心优化环节：继数据清洗/时间统一与feasConn预计算之后，进行MIP建模与求解；其后执行后处理生成CSV报表与指标统计，并为后续子问题3（任务环成本与均衡）提供执勤级结果与基础变量。",
          "assumptions": "时间统一为单一时区；执勤定义为同一自然日内串联的可连接航段；执勤成本按Duty时长(到达-起飞)计费；使用序贯(词典序)多目标：先最大覆盖，再最小执勤成本，最后平衡执勤时长。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "覆盖优先的优化目标识别",
              "description": "准确指出“最大化航班覆盖(Σ z_f)”为首要目标，后续目标(最小化总体执勤成本、平衡执勤时长)必须在固定覆盖最优前提下进行。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：明确词典序优化或严格等式固定覆盖Z*；中分：有多目标但未严格固定；低分：覆盖未列为首要或与成本混合权重不当。"
            },
            {
              "sub_criteria": "关键约束范围界定（MinCT/MaxBlk/MaxDP/MinRest/MaxSuccOn）",
              "description": "识别并列出所有执勤层硬约束，强调“每天至多一个执勤、同日连接、休息时间、连续执勤天数”等对可行域的决定性作用。",
              "score": 25,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：逐一点名并解释其作用与相互关系；中分：遗漏1–2项；低分：多项缺失或描述与任务不符。"
            },
            {
              "sub_criteria": "数据到模型的映射（Flights/Crew→变量与参数）",
              "description": "说明航班表与机组表字段如何转化为z_f、y_{c,f,role}、dh_{c,f}、s_{c,f,g}及feasConn[f,g]等模型元素。",
              "score": 20,
              "evaluation_focus": "抽象能力",
              "scoring_hint": "高分：字段到变量/参数一一对应清晰；中分：映射含糊；低分：几乎未建立映射。"
            },
            {
              "sub_criteria": "同日执勤的定义与边界",
              "description": "明确执勤跨越定义为“同一天起飞的串联航段”，到达可跨日，且Duty时长为首段起飞至末段到达。",
              "score": 20,
              "evaluation_focus": "规则理解",
              "scoring_hint": "高分：给出清晰同日边界与时长测度；中分：只提同日未给时长定义；低分：误将跨日串联计为同一执勤。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "词典序目标复述（覆盖→执勤成本→均衡）",
              "description": "以正式表述复写三层目标，强调第二、三层在前层等式约束下求解。",
              "score": 30,
              "evaluation_focus": "表达严谨",
              "scoring_hint": "高分：含等式固定Z*与均衡的线性化方式；中分：顺序正确但未提固定；低分：顺序或含义错误。"
            },
            {
              "sub_criteria": "资格/最低配置与乘机上限复述",
              "description": "清楚表述C/F最低配置与资格掩码、MaxDH乘机上限如何体现在约束中。",
              "score": 25,
              "evaluation_focus": "规则转译",
              "scoring_hint": "高分：阐明y≤qual与Σ dh≤MaxDH；中分：只提其一；低分：两者未体现或表述错误。"
            },
            {
              "sub_criteria": "基地始末与时间-地点连贯性",
              "description": "复述每人基地出发与回归、feasConn与流守恒/首末段标识保证链路连贯。",
              "score": 25,
              "evaluation_focus": "系统性",
              "scoring_hint": "高分：说明入口=出口=assigned且首/末段与基地绑定；中分：只提基地或连贯性之一；低分：未复述关键机制。"
            },
            {
              "sub_criteria": "执勤资源上限与休息/连续天",
              "description": "用简洁数学语言复述MaxBlk、MaxDP、MinRest、MaxSuccOn及“每天至多一个执勤”。",
              "score": 20,
              "evaluation_focus": "数学表述",
              "scoring_hint": "高分：给出变量层面的不等式思路；中分：口头描述；低分：未涵盖或逻辑矛盾。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "时间统一与同日界定假设",
              "description": "明确单一时区、分钟纪元、同日以“起飞日”定义，抵消跨日到达的影响。",
              "score": 25,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：解释对feasConn与DutyTime计算的影响；中分：只提统一时间；低分：未说明或与任务冲突。"
            },
            {
              "sub_criteria": "执勤成本计量口径假设",
              "description": "假设执勤成本按Duty时长(末到-首发)计费，计价单位小时，明确换算。",
              "score": 25,
              "evaluation_focus": "口径一致",
              "scoring_hint": "高分：说明分钟到小时/成本单价使用；中分：仅口头；低分：口径混乱。"
            },
            {
              "sub_criteria": "连接与不可重叠集合预生成假设",
              "description": "假设预先生成feasConn与重叠航段对以削减变量与约束规模。",
              "score": 25,
              "evaluation_focus": "可计算性",
              "scoring_hint": "高分：明确削减策略与过滤条件；中分：仅提到预计算；低分：无或不恰当。"
            },
            {
              "sub_criteria": "资格与替补、乘机权限假设",
              "description": "阐明qual_{c,role}与是否允许乘机的掩码使用；备用资格不计入该子任务目标，仅影响可行性与计数。",
              "score": 25,
              "evaluation_focus": "规则一致",
              "scoring_hint": "高分：区分Cpt/FO/Backup与dh限制；中分：部分覆盖；低分：混淆或遗漏。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "变量设计（z_f, y_{c,f,role}, dh_{c,f}, s_{c,f,g}, start/end）",
              "description": "给出二元变量定义、域与屏蔽规则（feasConn、qual掩码）以避免大M滥用。",
              "score": 30,
              "evaluation_focus": "数理建模",
              "scoring_hint": "高分：变量最小充分且含屏蔽；中分：变量齐全但冗余；低分：缺关键变量。"
            },
            {
              "sub_criteria": "覆盖与最低配置约束的线性化",
              "description": "Σ_c y^{Cpt}≥Creq·z_f，Σ_c y^{FO}≥Freq·z_f，z_f=0⇒所有分配/乘机为0。",
              "score": 25,
              "evaluation_focus": "约束推导",
              "scoring_hint": "高分：含蕴含线性化或等价强制；中分：只给主要不等式；低分：表达错误。"
            },
            {
              "sub_criteria": "连贯性与流守恒/非重叠",
              "description": "s约束与入口=出口=assigned_{c,f}；s≤feasConn；对重叠对(f,g)强制assigned之和≤1。",
              "score": 25,
              "evaluation_focus": "可行域正确性",
              "scoring_hint": "高分：三类约束齐全；中分：缺其一；低分：逻辑缺失。"
            },
            {
              "sub_criteria": "执勤层约束（每天≤1、MaxBlk、MaxDP、MinRest、MaxSuccOn）",
              "description": "给出DutyTime与Block聚合的计算与线性化，休息与连续天窗口的线性建模思路。",
              "score": 20,
              "evaluation_focus": "线性化技巧",
              "scoring_hint": "高分：可操作性强且无明显大M滥用；中分：思路有但模糊；低分：未给出线性实现。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "词典序(lexicographic)求解流程",
              "description": "先maximize Σ z_f得Z*，再在Σ z_f=Z*下minimize执勤成本，最后平衡执勤时长。",
              "score": 35,
              "evaluation_focus": "求解策略",
              "scoring_hint": "高分：三步清晰可执行；中分：两步或未固定Z*；低分：单一步混合权。"
            },
            {
              "sub_criteria": "规模控制与预计算（feasConn/重叠对裁剪）",
              "description": "通过预筛选减少s变量与重叠约束，说明复杂度影响与时间收益。",
              "score": 25,
              "evaluation_focus": "效率优化",
              "scoring_hint": "高分：量化或明确阈值；中分：泛述；低分：无控制措施。"
            },
            {
              "sub_criteria": "稳定性与可行性强化",
              "description": "使用掩码、紧约束、有效不等式避免大M数值问题，确保求解稳定。",
              "score": 20,
              "evaluation_focus": "数值稳健",
              "scoring_hint": "高分：具体强化举措；中分：泛化建议；低分：未考虑。"
            },
            {
              "sub_criteria": "求解器设置与终止准则",
              "description": "合理设置MIPGap/时间限/并行线程；不同阶段不同容差。",
              "score": 20,
              "evaluation_focus": "工程实践",
              "scoring_hint": "高分：阶段化设置；中分：基本设置；低分：缺省或不合理。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据读取与时间统一（分钟纪元）",
              "description": "正确解析CSV、时区统一、起飞日标注、生成feasConn与FlightTime。",
              "score": 25,
              "evaluation_focus": "数据工程",
              "scoring_hint": "高分：含边界(跨日到达)处理；中分：基本解析；低分：时间处理错误。"
            },
            {
              "sub_criteria": "模型构建与变量屏蔽",
              "description": "仅为feasConn=1与qual允许的组合建变量与约束，减少规模。",
              "score": 25,
              "evaluation_focus": "代码效率",
              "scoring_hint": "高分：显著裁剪；中分：部分裁剪；低分：全量暴力构建。"
            },
            {
              "sub_criteria": "序贯求解与解固定实现",
              "description": "阶段1获取Z*，阶段2添加Σ z_f=Z*等式，阶段3添加均衡约束/目标。",
              "score": 25,
              "evaluation_focus": "正确性",
              "scoring_hint": "高分：代码层面确实固定并再求；中分：用大权重近似；低分：未实现序贯。"
            },
            {
              "sub_criteria": "后处理与CSV生成（CrewRosters/UncoveredFlights）",
              "description": "基于s变量重构每天执勤序列，生成两CSV并统计成本与执勤分布。",
              "score": 25,
              "evaluation_focus": "可交付性",
              "scoring_hint": "高分：顺序正确且含任务性质；中分：部分字段缺失；低分：未生成或错误。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "覆盖率与未覆盖航班分析",
              "description": "报告Σ z_f、未覆盖清单，解释主要瓶颈（资格、连贯性、MinCT等）。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：定位主因并量化；中分：只给总数；低分：无分析。"
            },
            {
              "sub_criteria": "总体执勤成本与驱动因素",
              "description": "给出总成本与各机组成本分布，关联Duty时长与连接/乘机对成本的影响。",
              "score": 25,
              "evaluation_focus": "因果洞察",
              "scoring_hint": "高分：含分位或均值/方差；中分：仅总值；低分：缺失或自相矛盾。"
            },
            {
              "sub_criteria": "执勤时长平衡度评估",
              "description": "报告最小/平均/最大DutyHours及偏差(如最大偏差或L1偏差)。",
              "score": 25,
              "evaluation_focus": "均衡评估",
              "scoring_hint": "高分：采用线性化的绝对偏差或max偏差指标；中分：定性；低分：无平衡度。"
            },
            {
              "sub_criteria": "可行性校验与约束合规",
              "description": "验证MinCT、MaxBlk、MaxDP、MinRest、MaxSuccOn、每天≤1执勤、MaxDH、基地始末等全部满足。",
              "score": 20,
              "evaluation_focus": "合规模验",
              "scoring_hint": "高分：逐项检查并列出违规为0；中分：抽查部分；低分：未校验或存在未解释违规。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3的目标是以“任务环（pairing）为决策单元”在排班周期层面构造并选择每位机组的若干可行任务环，从而在严格满足所有作业可行性与法规性约束的前提下（每个任务环须从成员基地出发并回到基地、每个任务环总时长不超过 MaxTAFB、任务环内每次执勤已满足最小连接时间 MinCT、每次执勤的飞行与执勤时长分别不超 MaxBlk 与 MaxDP、任务环内部连续执勤日数不超过 MaxSuccOn），并且在同一成员被选择的任意两项任务环之间至少间隔 MinVacDay 天（通过对候选任务环按日期建立互斥约束或在列生成时只产生互不冲突的列来实现），使得在保持航班覆盖与日常执勤约束（由输入的航班与机组资格数据、基地信息及常数参数定义）得到满足的前提下：首先最小化全公司总任务环成本（每位机组按其每小时任务环成本 wPair 计入对应任务环持续小时数的加权和），然后在该最小成本值不被打破的前提下最小化机组间任务环时长不平衡（用线性化的绝对偏差或最小化最大偏差变量实现）；为此采用面向列生成的集分配主问题与为每位机组分别求解的资源约束定价子问题的混合算法：主问题以二元变量 x_{c,p} 表示为机组 c 选择候选任务环 p（每列 p 明确列出其包含的航段集合、起止时间、任务环时长、构成的执勤段、乘机与替补次数等属性），主问题约束保证每个需覆盖的航班在机长/副驾驶角色上被足够列覆盖并对同一机组所选列之间的 MinVacDay 互斥进行线性约束；定价子问题对单个机组以标签设定的有资源最短路/最小化约化成本路径算法产生可行任务环列，状态需跟踪当前时间/地点、累计飞行时间、累计执勤时间、累计任务环时长、连续执勤天数以及所覆盖航班集合，使用强支配规则剪枝并并行化不同机组的定价计算；算法流程为：用启发式或贪婪规则生成初始列集以构造可行 master LP，迭代通过读取主问题对航班覆盖约束和互斥约束的对偶价强化定价，向主问题加入负约化成本的列直至无可改进列，然后在 master 上转为整数规划求解（采用 branch-and-price 若需严格性，或在时间受限时采用启发式整形与 LNS 局部改进获得高质量可行整数解）；实现细节包括：对候选任务环在生成时即满足 MaxTAFB/MaxBlk/MaxDP/MaxSuccOn 等资源约束以简化主问题约束、在列属性中预计算并保存任务环成本 = Σ(执勤小时·wDuty_c)+（任务环小时·wPair_c）+乘机/替补惩罚项以便于 reduced cost 计算、对违反 MinVacDay 的列对添加互斥约束或用时间索引化选择变量限制同一机组相邻周期选列，另在序贯优化中先固定航班覆盖与（如有）更高层次的执勤成本最优值再对任务环成本与平衡性做次级优化以严格实现优先级；推荐工具与实现环境为 Python 控制流、Gurobi/CPLEX 求解 master LP/IP、并行化的 C/Python 实现的标签DP 用于定价、以及启发式列产生器与 LNS 作为时限内的补偿手段，输入数据为航班表（航段起/到时间和机场、最低资格配置）、机组表（基地、主/替补资格、可否乘机、每小时执勤/任务环成本）及参数常数（MinCT, MaxBlk, MaxDP, MinRest, MaxDH, MaxTAFB, MaxSuccOn, MinVacDay）；最终输出为被选任务环的二元选择 x_{c,p}，可直接展开为每位机组的排班周期表并用于计算总体任务环成本与不平衡指标。",
      "criteria": {
        "task_understanding": {
          "core_goal": "优化机组任务环（pairing）选择以最小化总任务环成本并在不增加成本前提下最小化任务环时长不平衡，同时满足航班覆盖与法规约束",
          "expected_output": "最优或近似最优的任务环选择解 x_{c,p}、未覆盖航班清单、每机组排班表（展开的任务环含航段/执勤/休息）、总任务环成本与不平衡指标、求解日志",
          "key_inputs_constraints": "输入：航班CSV（航班号、起降时间、机场、最低配置C/F）、机组CSV（员工号、基地、主/替补资格、是否允许乘机、每小时任务环成本wPair）、全局参数（MinCT, MaxBlk, MaxDP, MinRest, MaxDH, MaxTAFB, MaxSuccOn, MinVacDay）。硬约束：任务环起止于基地；航段连接需同日且间隔≥MinCT；每执勤飞行时间≤MaxBlk、执勤时长≤MaxDP；任务环总时长≤MaxTAFB；任务环内连续执勤天数≤MaxSuccOn；同一机组相邻任务环间隔≥MinVacDay；满足航班机长/副驾驶最低配置；乘机人数≤MaxDH；时间/地点连贯无重叠。",
          "modeling_type": "优化",
          "role_in_pipeline": "作为最终排班阶段：在子任务1/2提供的航段与执勤可行性规则基础上，以列生成的主问题+定价子问题构造可行任务环并选择；前序依赖数据清洗与时间标准化、可行连接矩阵；后序输出用于报表与运行统计",
          "assumptions": "采用列生成（branch-and-price或LP松弛+整形）实现；任务环成本=任务环时长小时数×wPair，乘机/替补仅作约束不入目标（或极小权重）；所有时间为单一时区分钟刻度"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "优先级目标识别：最小化总任务环成本→最小化时长不平衡",
              "description": "是否准确识别为序贯（lexicographic）优化，先最小化公司总任务环成本，再在该最优成本下最小化任务环时长不平衡（如最大偏差或绝对偏差和）。",
              "score": 40,
              "evaluation_focus": "目标分解/优先级",
              "scoring_hint": "高分：明确两阶段或等价严格序贯建模并给出固定成本值的二次优化；中分：描述多目标但未落实序贯或用权重近似；低分：混淆目标或缺失次级不平衡目标"
            },
            {
              "sub_criteria": "约束边界识别：MaxTAFB/MinVacDay/MinCT/MaxBlk/MaxDP/MaxSuccOn",
              "description": "是否完整枚举并解释任务环层与执勤层关键法规约束及其作用边界。",
              "score": 30,
              "evaluation_focus": "约束理解",
              "scoring_hint": "高分：逐项点名并区分任务环与执勤层含义；中分：列出大部分但有1–2项缺漏或表述不清；低分：遗漏多项或混淆层级"
            },
            {
              "sub_criteria": "覆盖要求与资格配置（C/F）",
              "description": "识别航班覆盖需满足机长/副驾驶最低配置，并与任务环选择变量的覆盖映射关系。",
              "score": 30,
              "evaluation_focus": "需求约束",
              "scoring_hint": "高分：清晰绑定列与航班角色覆盖矩阵；中分：只提覆盖不区分C/F；低分：未提覆盖或与列选择无映射"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "任务环定义：基地出发回基地与同成员列选择",
              "description": "用本任务语言复述任务环概念，强调从基地出发回基地且与具体机组成员绑定的列。",
              "score": 35,
              "evaluation_focus": "精确表述",
              "scoring_hint": "高分：复述含起止、成员绑定、时窗；中分：缺1处关键点；低分：泛化或与行程/执勤混淆"
            },
            {
              "sub_criteria": "同成员任务环冲突与MinVacDay互斥",
              "description": "清晰表达同一机组任意两任务环需相隔≥MinVacDay天的互斥关系。",
              "score": 35,
              "evaluation_focus": "冲突建模",
              "scoring_hint": "高分：明确互斥集或时间索引线性化；中分：只口头说明；低分：未提或错误实现思路"
            },
            {
              "sub_criteria": "执勤内连接与资源限制在列内满足",
              "description": "说明列生成时已在任务环内部强制MinCT/MaxBlk/MaxDP/MaxSuccOn等资源约束。",
              "score": 30,
              "evaluation_focus": "层级划分",
              "scoring_hint": "高分：明确子问题封装资源；中分：部分放到主问题；低分：未说明资源封装位置"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "时间统一与同日连接（MinCT）假设",
              "description": "假设单一时区分钟刻度、执勤内航段需同日起飞，并据此限定连接可行性。",
              "score": 30,
              "evaluation_focus": "可操作假设",
              "scoring_hint": "高分：给出分钟刻度与同日条件；中分：只给时间统一；低分：未说明或与题意违背"
            },
            {
              "sub_criteria": "成本构成与计量假设（wPair×任务环小时）",
              "description": "明确任务环成本按每成员wPair与任务环总时长计费，单位一致（小时）。",
              "score": 30,
              "evaluation_focus": "成本建模",
              "scoring_hint": "高分：单位与计算公式清晰；中分：缺单位或含糊；低分：未定义成本或混入非本目标成本"
            },
            {
              "sub_criteria": "列生成范围与支配规则",
              "description": "说明定价子问题生成仅可行列，并使用标签支配剪枝。",
              "score": 40,
              "evaluation_focus": "算法假设",
              "scoring_hint": "高分：具体提及状态与支配；中分：笼统说剪枝；低分：无说明导致不可扩展"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "主问题列选择变量 x_{c,p} 与覆盖矩阵",
              "description": "正确定义x_{c,p}并构建航班-角色覆盖约束，使Σ_{c,p} A_{f,role}^{c,p} x_{c,p} ≥ 需求。",
              "score": 30,
              "evaluation_focus": "结构化建模",
              "scoring_hint": "高分：给出A矩阵含C/FO维度；中分：无角色区分；低分：未形成线性覆盖约束"
            },
            {
              "sub_criteria": "MinVacDay互斥线性化",
              "description": "对同成员冲突列对(p,q)添加x_{c,p}+x_{c,q} ≤ 1或时间索引化约束。",
              "score": 25,
              "evaluation_focus": "约束线性化",
              "scoring_hint": "高分：明确冲突集构造；中分：只口述；低分：缺失或错误线性化"
            },
            {
              "sub_criteria": "成本与不平衡目标的线性表述",
              "description": "目标1：min Σ_{c,p} cost_{c,p} x_{c,p}；目标2：引入dev_c与均值/最大偏差线性化并支持序贯优化。",
              "score": 25,
              "evaluation_focus": "目标函数",
              "scoring_hint": "高分：完整dev建模与固定成本阶段；中分：仅成本或仅均衡；低分：非线性或缺失"
            },
            {
              "sub_criteria": "列属性预计算（时长/资源/覆盖）",
              "description": "每列包含任务环时长、执勤切片、覆盖航班与角色、资源可行标记以降低主问题复杂度。",
              "score": 20,
              "evaluation_focus": "可解性设计",
              "scoring_hint": "高分：明确属性列表；中分：部分属性；低分：未定义列属性"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "定价子问题：资源约束最短路/标签DP",
              "description": "为每机组以对偶价构造约化成本，并用标签设定搜索可行任务环，含状态与支配。",
              "score": 35,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：列出状态向量与支配准则；中分：只提最短路无细节；低分：无定价机制"
            },
            {
              "sub_criteria": "列生成循环与收敛判定",
              "description": "描述初始列、求解主LP、读取对偶、定价、添加负约化成本列、停机条件。",
              "score": 25,
              "evaluation_focus": "流程设计",
              "scoring_hint": "高分：给出完整循环与停机；中分：缺初始列或停机标准；低分：循环不闭合"
            },
            {
              "sub_criteria": "整数化策略：branch-and-price或整形",
              "description": "给出转整数的路径（分支定价或固定列后IP整形），确保x_{c,p}为{0,1}。",
              "score": 20,
              "evaluation_focus": "整数化",
              "scoring_hint": "高分：说明分支变量与节点处理；中分：仅说求IP；低分：忽略整数性"
            },
            {
              "sub_criteria": "序贯优化实现",
              "description": "先最小化成本，再固定成本值进行均衡优化（或等价Lexicographic实现）。",
              "score": 20,
              "evaluation_focus": "多目标实现",
              "scoring_hint": "高分：明确固定成本约束或两阶段运行；中分：权重法但解释不足；低分：未体现优先级"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据读入与时间标准化（分钟刻度）",
              "description": "正确解析CSV为单一时区分钟时间，生成同日与feasible连接判定。",
              "score": 25,
              "evaluation_focus": "数据工程",
              "scoring_hint": "高分：统一时区与校验；中分：能解析但无校验；低分：时间混乱或错误单位"
            },
            {
              "sub_criteria": "主问题建模与求解器接口",
              "description": "使用Gurobi/CPLEX等构建x_{c,p}、覆盖与互斥约束、目标与两阶段求解。",
              "score": 25,
              "evaluation_focus": "求解接口",
              "scoring_hint": "高分：模型可运行且输出对偶；中分：模型可跑但缺对偶或阶段；低分：模型不一致或报错"
            },
            {
              "sub_criteria": "定价实现与支配剪枝",
              "description": "实现标签DP/最短路定价，含状态、支配、约化成本计算与并行化（可选）。",
              "score": 30,
              "evaluation_focus": "算法工程",
              "scoring_hint": "高分：有有效剪枝与显著加速；中分：能产列但效率一般；低分：无定价或极慢"
            },
            {
              "sub_criteria": "解展开与排班输出",
              "description": "将x_{c,p}展开成CrewRosters与UncoveredFlights，字段完整一致。",
              "score": 20,
              "evaluation_focus": "结果落地",
              "scoring_hint": "高分：CSV结构正确且可复核；中分：小瑕疵；低分：缺少或格式错误"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "总任务环成本与覆盖率报告",
              "description": "报告最优总任务环成本、覆盖航班数/未覆盖清单，并与约束一致性核对。",
              "score": 35,
              "evaluation_focus": "结果核验",
              "scoring_hint": "高分：成本与覆盖可复算且一致；中分：报告但缺核验；低分：数值自相矛盾"
            },
            {
              "sub_criteria": "任务环时长不平衡指标",
              "description": "给出不平衡度量（最大偏差或绝对偏差和）及机组分布统计。",
              "score": 25,
              "evaluation_focus": "公平性评估",
              "scoring_hint": "高分：指标明确并与目标一致；中分：仅均值方差；低分：未给公平性指标"
            },
            {
              "sub_criteria": "约束可行性与违规统计",
              "description": "核查并统计MinCT/MaxBlk/MaxDP/MaxTAFB/MaxSuccOn/MinVacDay/MaxDH等是否有违规（应为0）。",
              "score": 25,
              "evaluation_focus": "可行性验证",
              "scoring_hint": "高分：逐项零违规并提供检查脚本或逻辑；中分：部分检查；低分：无检查或存在未解释违规"
            },
            {
              "sub_criteria": "敏感性与鲁棒性（可选）",
              "description": "分析参数（如MinVacDay、MaxTAFB）微调对成本与不平衡的影响或给出对偶价解读。",
              "score": 15,
              "evaluation_focus": "洞察能力",
              "scoring_hint": "高分：有对比或对偶解释；中分：定性讨论；低分：无分析"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（工程实现、输出生成、统计测量、鲁棒性与敏感性分析与部署）应作为一个独立的软件工程与运维工作包，其目标是把已设计的数学模型和求解算法转化为可重复、可验证、可部署的程序，自动生成题目要求的两份 CSV 输出并提供完整的统计报表、验证检查、容错回退与参数灵敏度试验能力；为此要求按模块化、可配置、可并行的架构实现以下步骤与功能：输入与配置——从给定数据文件（例如“机组排班Data_A-Crew.csv/机组排班Data_A-Flight.csv”或 B 组对应文件）用可配置的 parser（支持 CSV 编码、日期时间格式）读取并将时间统一为分钟纪元，所有运行参数（最小连接时间、最大执勤时长、乘机上限、求解器时限、随机种子、并行线程数等）由单一配置文件或命令行参数指定；预处理模块——计算并缓存航班之间的可连接掩码、航班时长、按日索引、资格掩码和基础一致性检查（无效时间、机场代码一致性）以尽量减少在求解阶段的在线计算；模型与求解接口——提供统一的模型构建器接口（支持将数学模型转换为 Gurobi/CPLEX 可解的 LP/MIP 或作为列生成主问题/子问题的接口），包括序贯（lexicographic）求解控制器用于按优先级分阶段求解、允许设置时间上限和求解器参数、支持 warm-start、解的检查点保存与中断恢复；并行与可扩展计算——对计算密集步骤（如定价子问题、启发式列生成或多参数并行灵敏度试验）采用多进程/多线程并行化，并支持在单机多核或集群（通过任务调度脚本）上运行；启发与回退机制——实现若干启发式方法（贪心构造、局部搜索/LNS、随机修复）作为时间受限或大规模实例的回退策略，保证在求解器超时时能输出当前最佳可行解；输出生成与统计——把最终排班展开为两份标准 CSV：UncoveredFlights.csv（按起飞时间排序列出未被覆盖的航班号与最低配置）和 CrewRosters.csv（按员工、按日期、按航段序列列出每段起飞/到达时间与机场及任务性质或休假），同时自动计算并导出题目要求的统计量（覆盖/未覆盖航班数、总体乘机次数、替补次数、利用率、各类时长的最小/平均/最大、执勤天数分布、任务环天数分布、总体执勤成本与任务环成本及程序运行分钟数）；验证与一致性检查——在输出前执行完整的约束校验脚本（对所有被覆盖航班验证资格与人数满足、每位机组每天不重叠航班、机场与时间的连贯性、乘机人数上限、基地始末返回、最短连接与休息间隔、连续执勤日数与任务环总时长上限等不违反），把检查结果和潜在违规记录为日志与报告；鲁棒性与滚动重优化支持——实现解的周期性检查点与增量重优化接口以支持滚动时域调度（在收到延误或请假等实时事件时可基于现有解进行局部重优化），并提供高惩罚“应急覆盖”变量或启发式补救流程以保证在不可行情形下依然输出可执行方案；敏感性分析工具——自动化参数扫描模块，可对关键参数（如最小连接、最小休息、最大执勤时长等）做批量求解并收集覆盖率、成本、乘机/替补次数等响应曲线，结果以机器可读的表格保存并支持绘图导出以便决策分析；可重复性、日志与测试——所有运行均记录完整日志（时间戳、solver 状态、迭代与列生成统计、内存与 CPU 使用），支持固定随机种子以复现启发式结果，并提供单元测试与集成测试套件对数据读写、掩码生成、约束检查与输出格式进行验证；部署与交付——提供 Docker 容器镜像与示例运行脚本（包含参数模板与资源建议），并附带运行说明与性能预估（推荐的并行度与内存需求），最终交付物应包括可执行程序、配置样例、完整日志、两份 CSV 输出、统计报告与校验报告，且在发生求解超时或错误时自动保存当前最优可行解和诊断信息以便后续审计与再优化。",
      "criteria": {
        "task_understanding": {
          "core_goal": "将机组排班子问题的优化模型与求解流程工程化，实现可重复求解、自动生成UncoveredFlights.csv与CrewRosters.csv并输出覆盖率/成本等统计与校验报告，同时支持鲁棒回退与参数敏感性分析。",
          "expected_output": "两份标准CSV（UncoveredFlights.csv, CrewRosters.csv）、统计报表（覆盖/乘机/替补/利用率/时长分布/成本/运行时间）、完整日志与校验报告、可执行程序与配置文件（含Docker镜像/脚本）、可恢复的求解检查点与敏感性分析结果表。",
          "key_inputs_constraints": "输入：航班CSV（航班号、起降时间与机场、配置C/F）、机组CSV（员工号、主/替补资格、可否乘机、基地、成本），参数配置（MinCT, MaxDP, MaxBlk, MinRest, MaxDH, MaxTAFB, MaxSuccOn, MinVacDay, 求解器时限、线程数、随机种子）；约束：单一时区、时间统一为分钟纪元、编码/日期格式可配置；必须满足基地始末、时间-地点连贯、最短连接、乘机上限；输出排序与字段名固定；在超时或异常时必须输出当前最优可行解和日志。",
          "modeling_type": "优化+工程化实现+评价",
          "role_in_pipeline": "作为工程实现与运维打包环节：前序依赖已确定的数学模型与求解算法（子任务1–3）；后序为部署运行、滚动重优化与管理决策使用。负责数据读取/预处理→模型构建与序贯（lexicographic）求解→验证→输出与统计→敏感性分析→部署与日志。",
          "assumptions": "求解器可用（Gurobi/CPLEX或开源替代），A/B两套数据路径可通过配置指定；若求解超时采用启发式回退并保证可行性；所有时间字段有效且可解析为统一时区。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "覆盖优先与序贯（lexicographic）优化识别",
              "description": "明确将“尽可能多地覆盖航班”定位为首要目标，随后最小化乘机次数与替补使用，并在工程控制器中体现分阶段求解。",
              "score": 35,
              "evaluation_focus": "目标分层",
              "scoring_hint": "高分：清晰列出阶段1/2/3与固定上界Z*的约束；中分：提到分层但未说明固定方式；低分：将多目标简单加权未保证覆盖优先。"
            },
            {
              "sub_criteria": "硬约束闭环识别（基地始末/连贯/MinCT/MaxDH）",
              "description": "完整罗列并区分硬约束：基地始末、时间-地点连贯、最短连接MinCT、乘机上限MaxDH、航段不重叠等。",
              "score": 30,
              "evaluation_focus": "约束完备",
              "scoring_hint": "高分：逐条映射到检查器/求解模型；中分：缺1–2条或未落实到校验；低分：遗漏关键约束或表述含糊。"
            },
            {
              "sub_criteria": "工程化目标：可重复、可恢复、可部署",
              "description": "识别检查点保存、日志、容器化与配置化运行为核心工程目标。",
              "score": 20,
              "evaluation_focus": "工程意识",
              "scoring_hint": "高分：包含checkpoint/恢复与容器镜像；中分：有日志与配置但无恢复；低分：仅提运行无工程措施。"
            },
            {
              "sub_criteria": "敏感性分析与鲁棒回退定位",
              "description": "将参数扫描（MinCT/MinRest/MaxDP等）与超时回退（启发式/LNS）识别为必要能力。",
              "score": 15,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：定义批量运行与结果汇总；中分：仅口头提及；低分：未涉及。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "输入与配置复述（CSV/日期格式/单一时区）",
              "description": "准确复述数据源、字段、时间统一为分钟纪元与可配置解析。",
              "score": 30,
              "evaluation_focus": "需求把握",
              "scoring_hint": "高分：列出必需字段与解析策略；中分：字段不全；低分：未提统一时区和解析。"
            },
            {
              "sub_criteria": "输出规范复述（UncoveredFlights.csv与CrewRosters.csv）",
              "description": "明确两份CSV字段、排序规则（按起飞时间/员工-日期-航段顺序）与角色标注。",
              "score": 35,
              "evaluation_focus": "规范意识",
              "scoring_hint": "高分：字段与排序全对；中分：遗漏排序或角色；低分：未区分两文件或字段错误。"
            },
            {
              "sub_criteria": "统计指标与定义复述（利用率等）",
              "description": "准确给出覆盖数、乘机/替补次数、利用率定义及时长统计维度（最小/平均/最大）。",
              "score": 35,
              "evaluation_focus": "指标理解",
              "scoring_hint": "高分：利用率分子分母定义正确；中分：指标不全；低分：错误公式或缺失大部分指标。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "求解器与资源假设（时限/线程/内存）",
              "description": "对Gurobi/CPLEX或开源替代、时限与并行度的合理假设并可配置。",
              "score": 30,
              "evaluation_focus": "可行性",
              "scoring_hint": "高分：参数化且有默认值；中分：有假设无配置；低分：无说明。"
            },
            {
              "sub_criteria": "异常与缺失值处理假设",
              "description": "声明对无效时间、机场代码、越界参数的处理（跳过/修正/报错）。",
              "score": 30,
              "evaluation_focus": "健壮性",
              "scoring_hint": "高分：分类处理与日志记录；中分：仅报错；低分：未提。"
            },
            {
              "sub_criteria": "滚动重优化与检查点假设",
              "description": "明确延误/请假事件到增量重优化的接口与状态假设。",
              "score": 40,
              "evaluation_focus": "运维设计",
              "scoring_hint": "高分：定义状态保存粒度与恢复流程；中分：仅提可恢复；低分：缺少任何设定。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "模型与求解接口抽象（构建器/控制器）",
              "description": "提供统一建模接口，支持LP/MIP与列生成主问题/子问题的切换，暴露lexicographic控制。",
              "score": 35,
              "evaluation_focus": "架构设计",
              "scoring_hint": "高分：模块边界清晰、可替换求解后端；中分：单一后端；低分：逻辑耦合混杂。"
            },
            {
              "sub_criteria": "预处理与掩码生成（feasConn/资格掩码）",
              "description": "实现并缓存feasConn、航班时长、按日索引、资格掩码以减少在线计算。",
              "score": 30,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：量化节省并用于裁剪变量；中分：生成但未用于裁剪；低分：未实现。"
            },
            {
              "sub_criteria": "验证器设计（基地始末/MinCT/MaxDH/重叠）",
              "description": "将硬约束映射为独立校验模块，覆盖所有被分配航段。",
              "score": 35,
              "evaluation_focus": "一致性",
              "scoring_hint": "高分：校验逐条输出违规明细；中分：仅总体通过/失败；低分：无验证器或覆盖不全。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "序贯（lexicographic）求解实现与Z*固定",
              "description": "先最大化覆盖Σz_f得到Z*，再在Σz_f=Z*下最小化乘机次数，再最小化替补使用。",
              "score": 40,
              "evaluation_focus": "算法落实",
              "scoring_hint": "高分：代码/配置支持阶段锁定与warm-start；中分：分阶段但无锁定；低分：单目标加权。"
            },
            {
              "sub_criteria": "并行与时限控制（线程/节点并行/回调）",
              "description": "合理设置并行度、时限、停止准则，并记录求解状态与gap。",
              "score": 25,
              "evaluation_focus": "性能控制",
              "scoring_hint": "高分：含gap/节点统计；中分：仅设置时限；低分：无控制与统计。"
            },
            {
              "sub_criteria": "启发式与回退策略（贪心/LNS/随机修复）",
              "description": "在超时或失败时生成可行解并保证导出CSV与报告。",
              "score": 35,
              "evaluation_focus": "可用性",
              "scoring_hint": "高分：至少两类启发式与质量对比；中分：单一启发式；低分：无回退或可能无输出。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "配置化与可移植（CLI/配置文件/Docker）",
              "description": "命令行参数与单一配置文件驱动，提供Docker镜像与示例脚本。",
              "score": 30,
              "evaluation_focus": "可部署性",
              "scoring_hint": "高分：一条命令可复现实验；中分：有配置无容器；低分：硬编码路径。"
            },
            {
              "sub_criteria": "日志与监控（时间戳/内存CPU/求解迭代）",
              "description": "完整日志含求解器状态、资源占用、阶段统计、随机种子。",
              "score": 25,
              "evaluation_focus": "可观测性",
              "scoring_hint": "高分：结构化日志与级别控制；中分：文本日志有限；低分：基本无日志。"
            },
            {
              "sub_criteria": "单元与集成测试（解析/掩码/校验/输出）",
              "description": "提供测试覆盖关键模块，含小样例与CI脚本或报告。",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：覆盖>70%关键路径；中分：少量单测；低分：无测试。"
            },
            {
              "sub_criteria": "错误处理与检查点恢复",
              "description": "异常分类、优雅降级、自动保存与从检查点继续求解。",
              "score": 20,
              "evaluation_focus": "健壮性",
              "scoring_hint": "高分：可复现中断恢复；中分：仅保存不恢复；低分：异常直接中止。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "指标计算正确性（覆盖/乘机/替补/利用率）",
              "description": "严格按定义计算并在报告中呈现关键指标与单位。",
              "score": 35,
              "evaluation_focus": "结果校核",
              "scoring_hint": "高分：含公式与交叉校验；中分：指标不全；低分：错误或缺失。"
            },
            {
              "sub_criteria": "可行性校验报告（MinCT/MaxDH/基地始末/重叠）",
              "description": "输出违规明细与比例，所有被覆盖航班逐条验证。",
              "score": 30,
              "evaluation_focus": "一致性验证",
              "scoring_hint": "高分：零违规或明确列出并解释；中分：仅总体通过；低分：未验证或大量未解释违规。"
            },
            {
              "sub_criteria": "敏感性分析与响应曲线",
              "description": "对MinCT/MinRest/MaxDP等参数扫描并给出覆盖率/乘机/替补的变化表或图。",
              "score": 20,
              "evaluation_focus": "洞察力",
              "scoring_hint": "高分：多参数多点扫描与趋势解释；中分：单参数或点数少；低分：无分析。"
            },
            {
              "sub_criteria": "运行性能与资源复盘",
              "description": "报告程序运行分钟数、节点/Gap、内存CPU峰值与瓶颈定位。",
              "score": 15,
              "evaluation_focus": "性能分析",
              "scoring_hint": "高分：提出优化建议；中分：仅给时间；低分：无性能数据。"
            }
          ]
        }
      }
    }
  }
}