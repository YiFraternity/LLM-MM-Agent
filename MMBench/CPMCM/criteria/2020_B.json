{
  "task_id": "2020_B",
  "problem": "二、目标\n\n依据从催化裂化汽油精制装置采集的325个数据样本（每个数据样本都有354个操作变量），通过数据挖掘技术来建立汽油辛烷值（RON）损失的预测模型，并给出每个样本的优化操作条件，在保证汽油产品脱硫效果（欧六和国六标准均为不大于10\\(\\mu\\)g/g，但为了给企业装置操作留有空间，本次建模要求产品硫含量不大于5\\(\\mu\\)g/g）的前提下，尽量降低汽油辛烷值损失在30\\%以上。三、问题\n\n1. 数据处理：请参考近4年的工业数据（见附件一“325个数据样本数据.xlsx”）的预处理结果，依“样本确定方法”（附件二）对285号和313号数据样本进行预处理（原始数据见附件三“285号和313号样本原始数据.xlsx”）并将处理后的数据分别加入到附件一中相应的样本号中，供下面研究使用。\n2. 寻找建模主要变量：\n由于催化裂化汽油精制过程是连续的，虽然操作变量每3分钟就采样一次，但辛烷值（因变量）的测量比较麻烦，一周仅2次无法对应。但根据实际情况可以认为辛烷值的测量值是测量时刻前两小时内操作变量的综合效果，因此预处理中取操作变量两小时内的平均值与辛烷值的测量值对应。这样产生了325个样本（见附件一）。\n建立降低辛烷值损失模型涉及包括7个原料性质、2个待生吸附剂性质、2个再生吸附剂性质、2个产品性质等变量以及另外354个操作变量（共计367个变量），工程技术应用中经常使用先降维后建模的方法，这有利于忽略次要因素，发现并分析影响模型的主要变量与因素。因此，请你们根据提供的325个样本数据（见附件一），通过降维的方法从367个操作变量中筛选出建模主要变量，使之尽可能具有代表性、独立性（为了工程应用方便，建议降维后的主要变量在30个以下），并请详细说明建模主要变量的筛选过程及其合理性。（提示：请考虑将原料的辛烷值作为建模变量之一）。\n3. 建立辛烷值 (RON) 损失预测模型：采用上述样本和建模主要变量，通过数据挖掘技术建立辛烷值 (RON) 损失预测模型，并进行模型验证。\n4. 主要变量操作方案的优化：要求在保证产品硫含量不大于 $5 \\mu \\mathrm{g} / \\mathrm{g}$ 的前提下，利用你们的模型获得 325 个数据样本（见附件四“325 个数据样本数据.xlsx”）中，辛烷值 (RON) 损失降幅大于 30\\% 的样本对应的主要变量优化后的操作条件（优化过程中原料、待生吸附剂、再生吸附剂的性质保持不变，以它们在样本中的数据为准）。\n5. 模型的可视化展示：工业装置为了平稳生产，优化后的主要操作变量（即：问题 2 中的主要变量）往往只能逐步调整到位，请你们对 133 号样本（原料性质、待生吸附剂和再生吸附剂的性质数据保持不变，以样本中的数据为准），以图形展示其主要操作变量优化调整过程中对应的汽油辛烷值和硫含量的变化轨迹。（各主要操作变量每次允许调整幅度值 $\\Delta$ 见附件四“354 个操作变量信息.xlsx”）。\n\\end{enumerate}",
  "subtask": {
    "1": {
      "subtask": "子任务一 — 数据预处理与样本整合（目标：得到高质量的、可用于建模的325条样本并将285号与313号按“样本确定方法”并入主表）：依据“样本确定方法”的流程，将285号和313号的原始观测数据通过“辛烷值测量时刻前2小时操作变量取均值”生成样本特征并并入附件一相应样本号；对全部样本统一做缺失值处理（优先用基于时间和相似工况的局部回归或 KNN 填补，必要时对长缺失段剔除样本）、异常值与超出物理/工艺上下限的测点剔除、以及常量/方差极小变量过滤；对变量保留其工程原始尺度以便后续解释与施行，但在建模前对数值型变量进行中心化与缩放以利于数值稳定性；严格遵循两小时窗口假设（A1）与不可控/可控变量划分（A3）：把原料性质（含题目要求必须保留的原料辛烷值 RON_feed）、待生/再生吸附剂性质视为外生不可控 Z 并在后续优化中固定，剩余操作变量视为可控候选集；记录每个可控变量的上下界 L_i、U_i 与允许调整步长 Δ_i（来源：354个操作变量信息表）并把这些边界/步长信息作为后续优化与逐步调整约束的硬性输入；同时保存采样时间信息用于后续按时间分层的交叉验证与漂移检测。该子任务的产出为：经清洗与质量控制的统一数据表（325 行 × 原始变量数），并专门生成285与313号的处理记录、每个变量的工程上下限与 Δ 值文件、以及一份用于后续特征工程的不可控变量清单 Z。",
      "criteria": {
        "task_understanding": {
          "core_goal": "题目要考什么——按题型拆解关键能力：将原始工业观测数据按“样本确定方法”严格转化为可用于建模与优化的高质量325条样本数据表。具体是把285号和313号的原始观测序列按“辛烷值测量时刻前2小时操作变量取均值”的规则生成样本特征并并入主表；统一对所有样本做缺失值填补（优先局部回归或KNN，必要时剔除长缺失段）、异常值和超出工艺/物理上下限点的剔除、常量/极低方差变量过滤；保留工程原始尺度输出供人工解释，并生成中心化/缩放后的数值副本以利数值稳定；明确并保存不可控外生变量Z（必须含RON_feed、待生/再生吸附剂性质）、每个可控变量的上下界L_i/U_i与步长Δ_i（从354变量信息表），以及采样时间信息以支持时序交叉验证与漂移检测。",
          "expected_output": "结构化文件集合：1) 经清洗与质量控制的统一主数据表（325行 × 原始变量列，含时间戳和原始尺度值）；2) 285号与313号的逐字段处理记录（包括用于构造两小时均值的时间窗口、被平均的原始测点索引、与最终数值）；3) 每个变量的工程上下限L_i、U_i与允许调整步长Δ_i文件；4) 不可控变量清单Z（含RON_feed、待生/再生吸附剂性质标注）；5) 为建模准备的数值型变量中心化/缩放副本；6) 数据质量诊断报告（缺失/插补日志、异常点剔除日志、常量/低方差变量列表）。",
          "key_inputs_constraints": "关键输入：附件一（325样本主表）、附件三（285与313原始观测序列）、附件四（354个操作变量信息含L_i/U_i/Δ_i）、题目中假设A1（2小时窗口）与A3（不可控/可控变量划分）。强约束：两小时窗口映射必须严格执行；缺失值处理优先顺序为基于时间和相似工况的局部回归或KNN填补，长缺失段应剔除样本；变量上下界与Δ_i为后续优化的硬约束；原料与吸附剂性质视为外生不可控并在后续优化中固定；保留采样时间以便时间分层交叉验证与漂移检测；在清洗后输出同时保留工程原始尺度与用于数值稳定性的中心化/缩放副本。",
          "modeling_type": "数据预处理/数据工程（为后续预测模型与优化问题提供高质量输入），属于预测建模与优化前的准备环节。",
          "role_in_pipeline": "关键前置环节：此子任务决定后续RON损失预测模型与操作优化方案的可行性与可靠性。难点在于高维度（367变量）、稀疏且非同步测量（RON稀测、操作变量频繁）、复杂缺失模式与强耦合工况；此外需生成可解释、工程可落地的边界与步长文件以约束后续优化。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "核心目标明确度（包含285/313并入规则）",
              "description": "判断是否准确识别并陈述：按题目要求将285号与313号原始观测按“辛烷值测量时刻前2小时操作变量取均值”处理并并入325样本主表，最终目标是得到经清洗、可供建模的325条样本。",
              "score": 30,
              "evaluation_focus": "任务目标理解与问题抽象能力（是否抓住并凸显285/313并入与两小时窗口的核心操作）",
              "scoring_hint": "高分：明确写出两小时窗口映射规则、并入主表的必要性与输出形式；低分：仅泛指“数据清洗”或忽略285/313特殊处理。"
            },
            {
              "sub_criteria": "关键输入与产物识别（含附件与必需文件）",
              "description": "能否明确列出需要使用的输入文件（主表、285/313原始序列、354变量信息表）以及必须产出的文件（统一主数据表、285/313处理记录、L_i/U_i/Δ_i文件、不可控变量清单Z、标准化副本、诊断报告）。",
              "score": 25,
              "evaluation_focus": "工程化思维与交付物定义能力",
              "scoring_hint": "高分：列齐所有文件并说明其用途；低分：遗漏L_i/U_i/Δ_i或未指明要保存时间戳和不可控变量清单。"
            },
            {
              "sub_criteria": "约束与优先级识别（A1/A3与缺失处理优先顺序）",
              "description": "识别并排序题目中对处理过程的硬性约束：严格遵循A1两小时窗口、A3不可控/可控划分、缺失值填补优先级（局部回归/KNN→剔除长缺失段）、边界与步长为硬约束等。",
              "score": 25,
              "evaluation_focus": "约束识别与优先级设定能力",
              "scoring_hint": "高分：准确列出A1/A3与缺失处理优先级并说明对后续优化的影响；低分：无法区分强制约束与可选处理策略。"
            },
            {
              "sub_criteria": "风险点与难点识别（高维、非同步测量、漂移风险）",
              "description": "能否指出数据质量风险与工程难点，例如：高维变量容易引入噪声、RON的稀测与时间对齐问题、长期漂移导致训练/验证误差、提供变量上下限的必要性。",
              "score": 20,
              "evaluation_focus": "风险预见与工程落地考虑",
              "scoring_hint": "高分：列出明确风险并提出验证或跟踪方法（如保存时间戳、后续漂移检测）；低分：仅笼统陈述无具体关联。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "两小时窗口映射的可操作化表述",
              "description": "将题目中‘辛烷值测量时刻前两小时操作变量取均值’复述为可执行步骤：确定RON测量时间点、选取前2小时内的操作变量观测、计算加权/简单均值、处理边界情况（观测不足时的策略）。",
              "score": 30,
              "evaluation_focus": "细粒度时间对齐与特征合成能力",
              "scoring_hint": "高分：给出处理不足观测的明确规则（例如KNN填补后计算均值或判定剔除）；低分：只写一句话复述而无可操作化细节。"
            },
            {
              "sub_criteria": "缺失值与异常值处理流程化表述",
              "description": "把题中优先顺序转化为流程图或伪代码式步骤：先基于时间和相似工况做局部回归插补→若局部方法不可行用KNN相似工况填补→长缺失段或关键变量缺失则剔除样本；异常点基于工艺上下限或多变量一致性检验剔除。",
              "score": 25,
              "evaluation_focus": "流程化设计与工程可执行性",
              "scoring_hint": "高分：提供明确阈值/条件和回退策略（何谓“长缺失段”）；低分：仅列方法名无顺序和停止准则。"
            },
            {
              "sub_criteria": "变量分类与边界信息的复述（Z、可控变量、L_i/U_i/Δ_i）",
              "description": "明确把原料性质（含RON_feed）、待生/再生吸附剂性质归入不可控Z并固定；其余操作变量作为可控候选；并说明L_i/U_i/Δ_i来自354变量信息表并作为硬约束用于后续优化与逐步调整。",
              "score": 25,
              "evaluation_focus": "变量分层与后续优化约束理解",
              "scoring_hint": "高分：列出典型不可控变量与理由并说明怎样在数据表中标注；低分：忽视RON_feed或不指出Δ_i的约束角色。"
            },
            {
              "sub_criteria": "输出与交付细则的可执行复述",
              "description": "将预期输出转为交付清单与质量要求：325行×原始变量表（无超限点）、285/313处理记录需包含原始样点索引、插补与剔除日志、并提供用于建模的中心化/缩放版本。",
              "score": 20,
              "evaluation_focus": "交付物可验收性能力",
              "scoring_hint": "高分：给出具体字段与格式要求（如CSV/Excel中的列名、时间戳格式）；低分：模糊交付要求。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "两小时窗口假设A1的适用性与限制说明",
              "description": "评估并陈述A1（RON测量值为测量时刻前两小时内操作变量的综合效果）的可接受性、可能的偏差来源（如过程滞后变长、测量时间不精确）以及在何种情况下需要调整窗口或采用加权平均。",
              "score": 40,
              "evaluation_focus": "建模假设的工程合理性与边界识别能力",
              "scoring_hint": "高分：给出支持A1的工艺理由并列出若干验证方法（如滞后相关分析）；低分：盲目接受A1或无风险/验证说明。"
            },
            {
              "sub_criteria": "不可控/可控变量划分假设A3的陈述与影响分析",
              "description": "明确说明把原料性质和吸附剂性质视为外生不可控Z的原因，并分析该划分对后续优化（这些变量在优化中固定）与数据处理的影响（如这些变量不参与可控变量的缺失填补策略）。",
              "score": 30,
              "evaluation_focus": "变量角色划分与后果评估能力",
              "scoring_hint": "高分：解释为何保留RON_feed为必保变量并说明在数据处理与后续优化中如何固定；低分：简单声明A3而不分析影响。"
            },
            {
              "sub_criteria": "缺失机制与样本剔除准则假设（MAR/MCAR/非随机）",
              "description": "陈述关于缺失数据机制的假设（例如假设大部分为时间相关的MAR），并明确‘长缺失段’的判定规则（如连续缺失超过T小时或关键变量缺失比例超过P%），以及这些假设的验证或敏感性检查方案。",
              "score": 30,
              "evaluation_focus": "统计假设认识与质控准则设定能力",
              "scoring_hint": "高分：给出具体阈值并说明如何验证假设（例如缺失前后变量分布对比）；低分：无明确剔除准则或未考虑缺失机制。"
            }
          ],
          "模型构建（此处指预处理流水线与规则设计）": [
            {
              "sub_criteria": "时间对齐与两小时均值合成模块设计",
              "description": "设计并说明实现两小时窗口数据选取与均值计算的具体方法（包括如何处理不等间隔采样、是否使用加权均值、边界条件如观测不足时的补救策略），并说明如何记录用于285/313的原始测点索引以形成可审计的处理记录。",
              "score": 25,
              "evaluation_focus": "时序数据工程与可审计合成能力",
              "scoring_hint": "高分：给出明确算法（伪代码或流程）、加权方案及观测不足的回退策略；低分：只说‘取平均’未说明细节。"
            },
            {
              "sub_criteria": "缺失值填补与异常值剔除方法设计（包括优先级与参数）",
              "description": "构建优先使用局部回归或基于时间/工况相似的KNN填补的具体实现方案，并制定异常点判定规则（基于工艺上下限L_i/U_i、Z变量一致性或统计阈值），明确“长缺失段”的量化标准及剔除策略。",
              "score": 30,
              "evaluation_focus": "算法选择理由、参数化能力与工程可行性",
              "scoring_hint": "高分：给出具体实现方法、邻域定义、窗口大小、K值、异常判定阈值及对不同变量类型的差异化处理；低分：仅列方法名未给参数或回退规则。"
            },
            {
              "sub_criteria": "变量筛选（常量/低方差过滤）与尺度处理方案",
              "description": "明确常量/方差极小变量的判定阈值，并说明为何保留工程原始尺度的同时生成中心化/缩放副本（用于模型数值稳定性），以及如何保证后续可解释性（例如在元数据中保留缩放因子）。",
              "score": 25,
              "evaluation_focus": "特征工程与可解释性平衡能力",
              "scoring_hint": "高分：给出方差阈值、保留原始尺度的实现细节及元数据记录格式；低分：未对尺度处理与解释性做权衡。"
            },
            {
              "sub_criteria": "边界与步长(L_i/U_i/Δ_i)记录与不可控变量Z的标注",
              "description": "设计元数据文件结构以保存每个可控变量的工程上下限L_i/U_i与允许调整步长Δ_i，且在数据表中明确标注不可控变量Z，确保这些信息作为后续优化与逐步调整约束的硬输入。",
              "score": 20,
              "evaluation_focus": "工程化元数据设计与规则化约束记录能力",
              "scoring_hint": "高分：提供字段名、单位说明及示例行，并说明如何在后续流程中校验这些约束；低分：未提供元数据结构或忽视Δ_i重要性。"
            }
          ],
          "模型求解（此处指预处理管线的执行与结果产出）": [
            {
              "sub_criteria": "285号与313号样本的正确构造与并入执行",
              "description": "核验并说明285与313号样本的并入是否严格遵循两小时窗口并记录了组成原始测点索引、插补操作与剔除说明，最终在主表中正确占位并保留时间戳与原始尺度值。",
              "score": 40,
              "evaluation_focus": "执行准确性与可追溯性",
              "scoring_hint": "高分：提供并入前后记录对比、示例索引及完整处理日志；低分：无并入记录或并入后数据不一致。"
            },
            {
              "sub_criteria": "整体数据质量核验与一致性检查",
              "description": "对清洗后的325条样本做一致性检查：样本数是否为325行、关键变量（RON_feed、硫）无超限、无未处理的长缺失段、各变量统计描述合理（无异常偏移），并提供自动化检查脚本或报表。",
              "score": 30,
              "evaluation_focus": "质量控制与自动化验证能力",
              "scoring_hint": "高分：提供完整自动化核验结果（通过/失败项列表）及修正记录；低分：仅口头声明数据已核验无证据。"
            },
            {
              "sub_criteria": "约束强制执行（变量上下界与Z固定）",
              "description": "验证并说明在清洗输出中每个可控变量均记录了L_i/U_i/Δ_i，且不对不可控变量Z进行填补或变更（或说明对Z的特殊处理），保证后续优化阶段能直接使用这些硬约束。",
              "score": 30,
              "evaluation_focus": "约束一致性与对下游优化的准备",
              "scoring_hint": "高分：提供约束校验脚本与示例验证；低分：没有将L_i/U_i/Δ_i或Z信息与主表关联。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现实验/管线化实现（模块化、参数化）",
              "description": "代码是否以可复现、模块化的方式实现预处理流程（时间对齐、插补、异常检测、过滤、尺度变换），并通过配置文件或函数参数暴露关键超参数（窗口长度、K值、方差阈值、长缺失段阈值）。",
              "score": 30,
              "evaluation_focus": "工程化编码能力、可复现性与参数可调性",
              "scoring_hint": "高分：提供可运行脚本/Notebook与配置文件，且模块间接口清晰；低分：一次性脚本耦合严重、难以复现。"
            },
            {
              "sub_criteria": "处理日志与审计记录（285/313的逐字段处理日志）",
              "description": "实现详细日志记录机制，能输出285/313的逐字段处理记录（包含用于均值的原始测点索引、插补方法与参数、剔除原因），并保存缺失/异常处理摘要以供审计。",
              "score": 25,
              "evaluation_focus": "可追溯性与数据治理能力",
              "scoring_hint": "高分：日志结构化且可检索，并有示例输出；低分：仅打印少量信息或日志无法关联到具体样本字段。"
            },
            {
              "sub_criteria": "性能与鲁棒性（对高维数据的处理能力）",
              "description": "代码在处理367维/数千至数万条时序观测时的效率与内存使用情况，是否包含批处理、内存友好实现或并行化选项，以及对异常输入（缺失格式、时间错乱）的鲁棒性处理。",
              "score": 20,
              "evaluation_focus": "软件工程能力与大数据处理考虑",
              "scoring_hint": "高分：有分页/流式处理或并行实现，并对坏输入有容错；低分：易崩溃或对大表非常慢。"
            },
            {
              "sub_criteria": "单元测试与文档（使用说明与示例）",
              "description": "是否提供关键功能的单元测试（时间对齐、插补、异常检测、尺度变换）以及使用说明文档和示例运行流程，便于裁判复现与审阅。",
              "score": 25,
              "evaluation_focus": "质量保障与可维护性",
              "scoring_hint": "高分：覆盖关键模块的自动化测试和使用示例；低分：无测试或文档难以理解。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "数据质量诊断报告完整性（缺失/插补/剔除统计）",
              "description": "提供详尽的诊断报告：各变量缺失比例与模式、采用的插补方法与影响、被剔除样本与字段的列表及原因，特别标注285和313号的逐字段处理记录与最终值对比。",
              "score": 30,
              "evaluation_focus": "数据质量评估与透明度",
              "scoring_hint": "高分：报告含表格与关键统计量（插补前后均值/方差对比），并对285/313给出示例对比；低分：诊断薄弱或缺乏具体数字。"
            },
            {
              "sub_criteria": "统计与工程合理性检查（变量分布与边界校验）",
              "description": "在清洗后检验各关键变量（如RON_feed、硫含量、主要操作变量）是否在工程上下限内，检查中心化/缩放副本的均值和标准差是否如预期，以及插补是否引入偏移或异常方差。",
              "score": 25,
              "evaluation_focus": "统计校验与工程一致性分析能力",
              "scoring_hint": "高分：给出变量分布图/统计摘要并解释偏差来源；低分：仅断言变量合格不提供证据。"
            },
            {
              "sub_criteria": "交付物合规性与下游准备度（元数据、Z清单、L/U/Δ）",
              "description": "评估交付的文件是否满足下游RON预测与优化的需求：主表包含原始尺度值与标准化副本、时间戳齐全、不可控变量Z标注完备、并提供L_i/U_i/Δ_i供后续硬约束调用。",
              "score": 25,
              "evaluation_focus": "工程交付与下游流程衔接能力",
              "scoring_hint": "高分：所有元数据与表格可直接被建模/优化程序读取并使用；低分：缺少关键字段或格式不一致。"
            },
            {
              "sub_criteria": "变动与漂移检测建议与初步分析",
              "description": "给出对时间序列漂移的初步检测（基于时间分层统计或滑动窗口检验）和对未来验证策略的建议（如何利用保存的时间戳做分层交叉验证、漂移监控指标）。",
              "score": 20,
              "evaluation_focus": "时序健壮性评估与后续验证规划能力",
              "scoring_hint": "高分：提供初步漂移检验结果并给出可执行监控指标；低分：忽视时间漂移和交叉验证策略。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务二 — 监督式降维与主要变量筛选（目标：从367个候选变量中筛选出≤30个具有代表性、相对独立且工程可操作的主要变量，并（可选）构建低维潜变量用于代理建模）：首先做统计预过滤（剔除常量、极低方差变量及高度缺失变量），并按工艺单元或功能分组（如再生器温度组、吸附塔蒸汽/氮气/燃料气流量组、加热炉参数等），在每组内优先保留代表性的工程变量以保证单元信息不丢失；其次用监督相关度衡量（Pearson/Spearman 相关系数与互信息）筛出与 RON 损失 y_R 关系较强的候选变量，同时检查与硫 y_S 的关系以避免只对 RON 有利但明显违法硫限的变量；第三步采用稳定化的嵌入式选择（stability selection）：对若干随机子样本重复训练 Lasso/ElasticNet 与基于树的模型（RandomForest、XGBoost），记录各变量被选中的频率并按阈值保留高频变量；对高度多重共线的变量簇（相关系数>0.9）以“代表变量替换策略”降维，优先保留更易于现场控制或更具物理可解释性的变量；务必把原料辛烷值 RON_feed 强制保留；最终将候选变量数控制在≤30，以便工程实施。为兼顾共线性与信息保持，建议在该集合上进行监督降维（PLS 或稀疏 PLS）得到 k 个潜变量 t（k可选 ≤10），这些潜变量以最大化与 y_R 的协方差为目标并作为后续非线性/代理建模的低维输入；此子任务输出为最终的主要可控变量清单、对应的分组代表映射、以及若采用的 PLS 投影矩阵与潜变量时间序列。",
      "criteria": {
        "task_understanding": {
          "core_goal": "从367个候选变量（含7个原料性质、2+2吸附剂性质、2产品性质与354个操作变量）中通过监督式降维与稳定性选择筛出≤30个具有代表性、相对独立且工程可操作的主要可控变量，并（可选）构建≤10个PLS潜变量作为低维代理，用以最大程度保留与汽油辛烷值损失（y_R）相关的信息同时避免显著违背产品硫含量（y_S≤5 μg/g）约束。",
          "expected_output": "（1）最终主要可控变量清单（≤30）并标注所属工艺组与代表映射；（2）若采用，PLS投影矩阵与≤10个潜变量时间序列；（3）稳定性选择频率表、共线簇与代表变量替换策略文档；（4）用于后续优化的不可控变量清单（包含RON_feed）与每个可控变量的工程上下界L_i、U_i与步长Δ_i文件。",
          "key_inputs_constraints": "输入：325条样本的清洗后数据表（含时间戳、原料与吸附剂性质、354操作变量、y_R与y_S）；约束：必须保留原料辛烷值RON_feed为外生不可控；最终可控变量数≤30；在筛选阶段须考虑y_S敏感性（避免选出对降低RON损失有利但会导致硫超限的变量）；对高度共线变量簇（相关>0.9）需采用代表变量替换优先保留现场易控或物理可解释性强者；保留变量工程原始尺度（建模前可中心化/缩放）；保存每个变量的上下界与Δ_i并记录采样时间用于时序分层验证与漂移检测。",
          "modeling_type": "监督式特征选择与降维（预测类子任务的输入准备与特征工程）——兼具筛选（变量选择）、投影（PLS稀疏潜变量构建）与评估（稳定性、相关性与与硫的权衡）属性。",
          "role_in_pipeline": "作为建模流程的关键特征工程环节：为后续RON损失预测模型与优化模块提供低维、可控且工程可执行的输入集合；对最终模型的预测能力、可解释性与工程可操作性有决定性影响。主要难点在于高维强耦合变量的稳定选择、确保与硫指标的兼容性、以及把统计度量转化为现场可实施的代表变量。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "核心目标明确度（针对RON损失与变量数量约束）",
              "description": "是否明确指出本子任务的核心目标为：从367个候选变量中筛选出≤30个对汽油辛烷值损失(y_R)具有代表性和控制价值的主要可控变量，并保证筛选过程兼顾产品硫含量(y_S≤5 μg/g)的约束。",
              "score": 30,
              "evaluation_focus": "将工程目标转化为可操作建模目标的能力",
              "scoring_hint": "高分：准确写出'≤30变量'、'以y_R为监督目标'和'兼顾y_S≤5'；中等：提到y_R与变量筛选但未量化上限或忽略y_S约束；低分：目标模糊、不涉及y_R或未提及变量数上限。"
            },
            {
              "sub_criteria": "数据与变量范围识别（367候选变量与RON_feed强制保留）",
              "description": "是否准确识别输入数据维度（7项原料、待生/再生吸附剂性质、2产品性质、354操作变量共367）并明确将原料辛烷值 RON_feed 视为外生不可控且强制保留。",
              "score": 25,
              "evaluation_focus": "数据结构理解与关键变量识别能力",
              "scoring_hint": "高分：明确列出367变量组成并标注RON_feed为不可控必须保留；低分：变量构成理解错误或未强调RON_feed的重要性。"
            },
            {
              "sub_criteria": "工程约束与交付物识别（上下界与Δ_i、时间信息）",
              "description": "是否识别并说明需保存每个可控变量的工程上下界L_i、U_i与允许调整步长Δ_i、采样时间信息以便后续优化与分层验证，并将不可控变量清单输出供后续固定。",
              "score": 25,
              "evaluation_focus": "工程约束识别与可实施性考虑",
              "scoring_hint": "高分：清晰列出L_i/U_i/Δ_i和时间戳保存要求；低分：忽视边界/步长或采样时间的重要性。"
            },
            {
              "sub_criteria": "风险点与难点识别（共线性、硫指标冲突与缺失处理影响）",
              "description": "是否识别到关键难点：高维变量强共线性、可能与y_S发生冲突的变量、缺失值与异常值处理对稳定选择的影响等，并提出需在筛选策略中考虑这些风险。",
              "score": 20,
              "evaluation_focus": "风险感知与建模优先级判断能力",
              "scoring_hint": "高分：明确列出三大风险并指明在后续步骤中对策（如代表变量替换、y_S联动考察、稳健填补）；低分：未识别或轻视这些风险。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "建模目标的数学化表述",
              "description": "能否将工程表述翻译为可执行的数学/算法目标，例如：最大化所选变量与y_R的预测信息（相关或互信息），在满足y_S敏感性约束下将变量数限制为≤30并输出映射关系。",
              "score": 30,
              "evaluation_focus": "把工程问题转化为可算的优化/选择目标的能力",
              "scoring_hint": "高分：给出明确的监督度量（如相关/互信息/PLS协方差）与变量数约束并包含y_S联动；低分：仅口头描述无数学或算法目标。"
            },
            {
              "sub_criteria": "输入/输出与变量类型划分（不可控Z/可控X/观测Y）",
              "description": "是否清晰地将数据划分为：外生不可控Z（原料与吸附剂属性，含RON_feed），可控候选X（剩余操作变量），输出Y包括y_R与y_S，并指出后续优化中Z需固定。",
              "score": 25,
              "evaluation_focus": "变量角色划分与工程实施约束理解",
              "scoring_hint": "高分：精确划分三类变量并说明Z在优化中固定；低分：划分模糊或未指明RON_feed的角色。"
            },
            {
              "sub_criteria": "成功标准与评估指标的明确化",
              "description": "是否明确量化筛选成功标准（最终集合≤30个变量、保持对y_R的预测力、对y_S无明显负面影响）、并列出用于判断的指标（相关度、互信息、稳定性频率、与y_S的相关或条件效应）。",
              "score": 25,
              "evaluation_focus": "建立可度量的成功判据与评价指标的能力",
              "scoring_hint": "高分：给出具体指标及阈值或评估方法（如稳定性频率阈值）；低分：指标笼统或缺乏量化标准。"
            },
            {
              "sub_criteria": "交付物与交接要点的陈述",
              "description": "是否列明要提交的结果文件（主要变量清单、代表映射、PLS投影矩阵、频率表、不可控变量清单及每变量L/U/Δ），并说明这些交付物如何供下一步预测/优化模块使用。",
              "score": 20,
              "evaluation_focus": "工程化交付思维与后续集成考虑",
              "scoring_hint": "高分：交付物完整并说明用途；低分：交付物不明确或缺少重要文件（如步长Δ_i）。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "两小时窗口假设(A1)的陈述与可行性分析",
              "description": "是否在假设层面明确两小时窗口即辛烷值测量对应前2小时操作变量均值，并讨论该假设对特征构造与时序交叉验证、漂移检测的影响和可能的偏差来源。",
              "score": 30,
              "evaluation_focus": "时序假设合理性分析与潜在偏差识别",
              "scoring_hint": "高分：清楚写明A1并讨论其对样本对应、时间分层CV以及可能的滞后效应的影响；低分：仅复述A1而不讨论后果。"
            },
            {
              "sub_criteria": "不可控/可控变量划分假设(A3)与RON_feed固定说明",
              "description": "是否明确把原料与吸附剂性质视为外生不可控Z（并在后续优化中固定），并说明这一假设在筛选时的含义（例如放宽对这些变量的选择概率但保留RON_feed）。",
              "score": 25,
              "evaluation_focus": "对控制策略与变量角色假设的清晰陈述与工程合理性",
              "scoring_hint": "高分：明确指出哪些变量视为Z并解释在筛选与后续优化中的处理；低分：划分模糊或与题目要求不符。"
            },
            {
              "sub_criteria": "缺失值机制与优先填补策略假设",
              "description": "是否明确缺失值的处理优先顺序（优先基于时间和相似工况的局部回归或KNN填补，长缺失段则剔除样本），并讨论这种假设对变量稳定性选择的影响。",
              "score": 25,
              "evaluation_focus": "数据质量假设与对选择稳健性的影响分析",
              "scoring_hint": "高分：说明优先使用时序/相似工况填补的理由并设置剔除阈值；低分：填补策略不明确或与题目要求冲突。"
            },
            {
              "sub_criteria": "工程尺度保留与建模前标准化假设",
              "description": "是否假定在数据表中保留变量的工程原始尺度以便解释与现场施行，但在建模/选择算法前对数值型变量做中心化与缩放以确保数值稳定性。",
              "score": 20,
              "evaluation_focus": "平衡工程解释性与数值算法稳定性的能力",
              "scoring_hint": "高分：明确区分工程表征与建模输入预处理；低分：混淆两者或忽略缩放必要性。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "统计预过滤与组内代表变量选择",
              "description": "是否按照步骤先剔除常量/极低方差/高度缺失变量，并按工艺单元或功能分组（再生器温度组、吸附塔蒸汽/氮气/燃料气流量组、加热炉参数等），在每组内优先保留工程代表变量以保证单元信息不丢失。",
              "score": 25,
              "evaluation_focus": "数据驱动与工程知识结合的特征预筛选能力",
              "scoring_hint": "高分：实现分组并给出每组保留规则与理由；低分：仅做盲目统计过滤或忽略工艺分组。"
            },
            {
              "sub_criteria": "监督相关性筛选及与硫(y_S)的联动检查",
              "description": "是否使用Pearson/Spearman相关与互信息等监督度量筛出与y_R关系强的候选，并同时检验这些候选与y_S的关系以避免选入显著提高硫的变量。",
              "score": 20,
              "evaluation_focus": "监督信号挖掘与多目标约束的整合能力",
              "scoring_hint": "高分：展示相关/互信息筛选结果并对y_S敏感变量提出过滤或折中策略；低分：只看y_R相关性、忽略y_S风险。"
            },
            {
              "sub_criteria": "稳定化嵌入式选择（stability selection）设计与实现",
              "description": "是否采用重复随机子样本训练Lasso/ElasticNet与基于树模型（RandomForest、XGBoost），记录变量被选中频率并根据频率阈值保留变量，且说明抽样策略、超参范围与频率阈值选择理由。",
              "score": 25,
              "evaluation_focus": "稳健变量选择方法设计与统计可信度构建能力",
              "scoring_hint": "高分：明确重复次数、子样本比例、模型超参搜索范围与频率阈值并给出理论或经验依据；低分：未说明稳定化细节或参数设置随意。"
            },
            {
              "sub_criteria": "多重共线处理与代表变量替换策略、PLS稀疏潜变量构建建议",
              "description": "是否针对相关>0.9的变量簇提出代表变量替换策略（优先保留现场易控或物理可解释者），并建议在最终集合上采用监督降维（PLS或稀疏PLS）构建≤10个潜变量以兼顾信息保持与多重共线问题。",
              "score": 30,
              "evaluation_focus": "共线性治理与降维方法论结合的能力",
              "scoring_hint": "高分：给出簇识别方法、代表选择优先级（可控性、解释性）、并展示PLS的目标与k选择原则；低分：只做统计剔除或未给出PLS可选方案。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "最终变量集合确定与≤30变量约束证明",
              "description": "是否对稳定性频率、相关性、与y_S的联动检验与工程可控性综合打分，给出最终≤30变量集合及每个变量入选理由，并说明为何从统计与工程角度该集合可代表原始信息。",
              "score": 30,
              "evaluation_focus": "将统计证据与工程可实施性结合以确定最终集合的能力",
              "scoring_hint": "高分：提供逐变量频率、相关与y_S影响表并给出明确入选理由；低分：仅罗列变量无充分证据或超出30个。"
            },
            {
              "sub_criteria": "PLS潜变量构造与信息保留度量（若采用）",
              "description": "若使用PLS/稀疏PLS，是否给出潜变量数k（≤10）、每个潜变量与y_R协方差解释量或方差贡献，并提供投影矩阵以便后续建模与解释。",
              "score": 25,
              "evaluation_focus": "监督降维的数值实现与信息度量报告能力",
              "scoring_hint": "高分：列出k的选择依据（交叉验证、累计协方差），并提供投影矩阵与潜变量时间序列；低分：无P LS细节或k选择无据。"
            },
            {
              "sub_criteria": "时序分层验证与漂移检测实施",
              "description": "是否用按时间分层的交叉验证（保留采样时间信息）评估所选特征的稳定推广能力，并进行概念漂移检测（如在不同年度/工况下的频率差异分析）。",
              "score": 25,
              "evaluation_focus": "时间序列下验证与模型稳健性评估能力",
              "scoring_hint": "高分：实施时间分层CV并报告性能波动与漂移指标；低分：仅做随机CV或忽略时间依赖性。"
            },
            {
              "sub_criteria": "交付物完整性（映射表、频率表、上下界文件）",
              "description": "是否交付稳定性频率表、变量簇代表映射、最终变量清单、PLS投影矩阵（若有）和每个可控变量的L_i/U_i/Δ_i文件，格式便于下游优化模块直接调用。",
              "score": 20,
              "evaluation_focus": "工程化交接与产出可用性",
              "scoring_hint": "高分：所有文件齐全且格式化；低分：缺少关键文件或格式不便于后续使用。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现的预处理与样本并入流程（包含285与313号记录）",
              "description": "代码是否实现并记录将285号与313号原始观测按两小时窗口均值并入主表的全过程（含时间对齐、均值计算、并写入325行主表），并能复现缺失/异常处理决策日志。",
              "score": 30,
              "evaluation_focus": "数据工程实现能力与可复现性",
              "scoring_hint": "高分：提供可运行脚本、示例运行日志与变更记录；低分：描述性代码或缺少285/313并入细节。"
            },
            {
              "sub_criteria": "稳定性选择实现细节与参数记录",
              "description": "代码实现是否包含稳定性选择流程（随机子样本生成、Lasso/ElasticNet/RF/XGBoost训练、选择频率统计），并记录随机种子、重复次数与超参数空间供复现与审计。",
              "score": 25,
              "evaluation_focus": "算法实现的严谨性与可复检性",
              "scoring_hint": "高分：代码注释齐全、参数可配置、有默认合理设置；低分：黑箱实现或参数未记录。"
            },
            {
              "sub_criteria": "工程边界/步长文件化与变量映射接口",
              "description": "是否在代码中生成并保存每个可控变量的L_i、U_i、Δ_i文件，以及变量名到工程设备/单元的映射表，且接口便于优化器读取。",
              "score": 20,
              "evaluation_focus": "工程接口与系统集成能力",
              "scoring_hint": "高分：输出标准化CSV/JSON并有读取示例；低分：边界以说明文字给出但无可机器读取文件。"
            },
            {
              "sub_criteria": "软件工程规范（版本控制、随机性控制、效率）",
              "description": "是否在实现中使用版本控制、固定随机种子、提供运行时间复杂度估计并对大规模重复训练做并行或采样优化以保证可在工业数据规模下运行。",
              "score": 25,
              "evaluation_focus": "工程化实现与可部署性",
              "scoring_hint": "高分：有Git记录、seed设置、并行实现或效率说明；低分：脚本混乱、无版本控制、随机性不可控。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "变量选择的统计与工程解释（含RON_feed）",
              "description": "是否对最终选出变量逐一给出统计证据（选择频率、与y_R相关系数或互信息）并结合工艺物理意义解释为何这些变量会影响RON损失，特别说明RON_feed的作用与保留理由。",
              "score": 30,
              "evaluation_focus": "从统计证据到工程解释的桥接能力",
              "scoring_hint": "高分：每变量有频率+相关性指标并给出工艺解释；低分：仅列变量名无解释或解释与数据证据不符。"
            },
            {
              "sub_criteria": "稳定性与鲁棒性检验（bootstrap、不同时间片的表现）",
              "description": "是否对变量选择进行稳健性检验（如bootstrap重采样、不同年度/工况子集上频率对比）并报告在不同子集下变量入选的一致性与可能的漂移问题。",
              "score": 25,
              "evaluation_focus": "结果稳健性分析与风险揭示能力",
              "scoring_hint": "高分：提供多种稳健性检验并量化一致性；低分：无稳健性检验或仅做一次性验证。"
            },
            {
              "sub_criteria": "与硫指标的权衡分析（避免违法风险）",
              "description": "是否量化并展示候选变量或最终变量对y_S的影响（相关性、条件期望变化），并说明在筛选或代表替换中如何权衡减少RON损失与保持硫≤5的冲突。",
              "score": 25,
              "evaluation_focus": "多目标权衡分析与合规性意识",
              "scoring_hint": "高分：给出具体y_S变化表、阈值风险预警并说明剔除或替换策略；低分：忽视硫影响或仅口头承诺合规。"
            },
            {
              "sub_criteria": "交付物可读性与下游适用性（映射表、PLS矩阵、文件完整性）",
              "description": "是否以工程友好的格式提供关键交付物（主要变量清单、组内代表映射、PLS投影矩阵、频率表、L/U/Δ文件），并给出如何在后续预测/优化模块中调用的说明与示例。",
              "score": 20,
              "evaluation_focus": "结果呈现与工程交付能力",
              "scoring_hint": "High: 文件齐全、格式规范并含调用示例；Low: 文件缺失或难以直接用于下游任务。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务三 — RON 损失与硫含量的预测建模与不确定度估计（目标：建立并验证对 y_R 与 y_S 有良好精度且能提供不确定度估计的预测器）：采用“混合建模”策略以兼顾可解释性和非线性能力：先拟合可解释性的基线模型（带正则化的线性回归/广义线性模型，含有限数量的工程选定交互项）以捕获主要线性效应（包含 Z 与 X 的主效应），然后在残差上训练非线性集成模型（XGBoost 或 RandomForest/LightGBM）以拟合复杂交互与非线性部分，分别针对 y_R 与 y_S 建模（y_R = linear_model + residual_ML，y_S 同理）。训练与验证采用严格的时间序列分层/滚动窗口交叉验证以避免未来信息泄露，并用贝叶斯优化或网格/随机搜索调优超参数；性能评估用 MAE、RMSE、R^2 以及对硫预测尤其关注的误判率（将超限样本误判为合规的概率），同时检验预测区间覆盖率（例如95%预测区间的实际覆盖率）以校准不确定度。不确定度估计可通过模型集合（不同随机种子/Bootstrap/子样本）或对残差建高斯过程（若维度允许运行）实现，或用基于树模型的 jackknife+/quantile regression forest 方法获得 μ 与 σ（即 μ_f, σ_f；μ_g, σ_g），为后续鲁棒约束提供统计量；此外用 SHAP 值与部分依赖图（PDP）解释模型、展示变量对输出的方向性与边际影响，并用 Sobol 全局灵敏度或局部梯度分析识别对目标和硫最敏感的变量。该子任务的交付包括训练好的 f_hat 与 g_hat（含预测均值与不确定度输出）、交叉验证性能报告、SHAP 可解释性结果、敏感性分析报告以及模型重训练与漂移监控策略（例如定期重训练规则与 CUSUM/KL-drift 检测阈值）。",
      "criteria": {
        "task_understanding": {
          "core_goal": "建立对催化裂化汽油精制过程的两项监督回归器：对汽油辛烷值损失 y_R（RON损失）和产品硫含量 y_S 的预测模型，并为每次预测同时给出不确定度估计（均值与方差/预测区间），以支持在保证 y_S≤5 μg/g 约束下对可控操作变量 X 的后续优化与稳步调整。",
          "expected_output": "数值预测（每个样本的 y_R 与 y_S 的点预测 μ 及不确定度 σ 或置信/预测区间）、交叉验证性能指标（MAE、RMSE、R^2）、硫合规误判率与预测区间覆盖率报告、可解释性输出（SHAP/PD 图）及敏感性分析结果，并产出可用于约束优化的 μ/σ 统计量文件与模型持久化对象。",
          "key_inputs_constraints": "输入：325 条样本的特征表（包含不可控原料/吸附剂性质 Z、可控操作变量 X、采样时间信息）；约束/先验：两小时窗口假设（A1）、不可控变量 Z 在优化中固定（A3）、每个可控变量的工程上下界 L_i/U_i 与步长 Δ_i；必须采用时间序列分层/滚动窗口验证以避免未来信息泄露；输出要求提供不确定度估计并严格报告硫超限误判（把违规样本误判为合规的概率）。",
          "modeling_type": "监督式回归与不确定度估计（预测类/拟合类），并为后续约束优化提供统计量（依赖预测与不确定度的评估类/决策支持）。",
          "role_in_pipeline": "中游核心模块：为后续‘主要变量操作方案优化’提供可信的预测与不确定度度量。强依赖前序的数据清洗/变量筛选（子任务一与二）。其难点在于同时满足两个目标（y_R 与 y_S）的精度、不确定度校准与时序独立验证，以避免在优化中放大误判风险。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "核心目标明确度（y_R 与 y_S）",
              "description": "清晰识别并书面表述本子任务的双重目标：对 RON 损失 y_R 与硫含量 y_S 的点预测与不确定度估计，并说明这些预测用于后续在 y_S≤5 μg/g 约束下优化可控操作变量 X。",
              "score": 40,
              "evaluation_focus": "任务目标理解、工程任务对接能力",
              "scoring_hint": "高分：明确写出 y_R 和 y_S 双重目标、输出 μ/σ 或预测区间及其在后续优化中的用途；低分：只提到单一目标或忽略不确定度/硫限用途。"
            },
            {
              "sub_criteria": "输入要素与约束识别",
              "description": "识别并列出关键输入与约束：不可控外生变量 Z（原料辛烷值 RON_feed 必须保留）、可控操作变量 X、两小时窗口假设 A1、每变量上下界 L_i/U_i 与步长 Δ_i、以及采样时间用于时序交叉验证。",
              "score": 35,
              "evaluation_focus": "变量分类能力与工程约束识别",
              "scoring_hint": "高分：完整列出 Z、X、L/U/Δ、时间信息及其对建模/优化的影响；低分：漏掉原料/吸附剂作为 Z 或忽视步长/上下界信息。"
            },
            {
              "sub_criteria": "性能与风险指标识别",
              "description": "指定用于评估模型的性能指标集（MAE、RMSE、R^2）以及针对硫预测的合规风险指标（将违规样本误判为合规的误判率），并提出需检验预测区间覆盖率（如95%覆盖率）。",
              "score": 25,
              "evaluation_focus": "风险意识与性能度量设计",
              "scoring_hint": "高分：明确列出指标并解释为何对硫误判率与覆盖率尤为重要；低分：只提常规误差度量而忽视硫合规风险与区间覆盖。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "数学化任务表述",
              "description": "将工程问题形式化为监督回归问题：寻找 f_hat, g_hat 使得 y_R ≈ f_hat(X,Z) 与 y_S ≈ g_hat(X,Z)，并同时输出不确定度量（μ_f, σ_f；μ_g, σ_g），说明采用‘线性基线 + 残差非线性模型’的混合建模策略。",
              "score": 30,
              "evaluation_focus": "将工程需求转为数学模型的能力",
              "scoring_hint": "高分：给出明确数学表达式并说明混合建模结构；低分：只做口头描述无数学化表述。"
            },
            {
              "sub_criteria": "时序约束与验证策略重申",
              "description": "把时间序列分层/滚动窗口交叉验证的必要性写入问题复述，说明防止未来信息泄露与漂移检测（如 CUSUM/KL）的目的。",
              "score": 30,
              "evaluation_focus": "数据泄露识别与验证设计能力",
              "scoring_hint": "高分：明确说明滚动 CV 的窗口选择原则与漂移检测接口；低分：忽视时序验证或仅用随机 CV。"
            },
            {
              "sub_criteria": "不确定度用途与约束整合",
              "description": "在复述中明确不确定度估计如何用于后续优化（例如用 μ_g + k·σ_g 来构建稳健硫上界以约束优化）以及要求对硫的误判风险做量化界定。",
              "score": 20,
              "evaluation_focus": "统计决策思维与工程可用性考虑",
              "scoring_hint": "高分：给出用 μ±kσ 的实际决策规则示例；低分：仅提不确定度但不说明如何用于约束。"
            },
            {
              "sub_criteria": "可解释性与敏感度需求重申",
              "description": "在复述中写明需要 SHAP/PDP 及全局/局部灵敏度分析以支持变量优先级判定和工程可实施的变量选择。",
              "score": 20,
              "evaluation_focus": "模型可解释性需求识别",
              "scoring_hint": "高分：明确把 SHAP/PDP、Sobol/局部梯度作为必备分析项；低分：忽视可解释性或仅泛指“解释模型”。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "时序窗口与因果性假设（A1）",
              "description": "明确并阐述两小时窗口假设：辛烷值测量对应测量时刻前两小时 X 的平均值作为因果驱动，并讨论该假设的合理性与潜在偏差来源（例如滞后效应超过两小时）。",
              "score": 25,
              "evaluation_focus": "物理时序假设与可检验性",
              "scoring_hint": "高分：不仅陈述假设且提出检验方法（滞后敏感性分析）；低分：仅机械接受假设不讨论检验。"
            },
            {
              "sub_criteria": "可控/不可控变量划分（A3）",
              "description": "明确把原料与吸附剂性质列为外生不可控 Z，并说明在建模中以其主效应入模但在后续优化中固定的理由与影响。",
              "score": 25,
              "evaluation_focus": "变量角色划分与工程约束理解",
              "scoring_hint": "高分：正确列出 Z 并讨论其对模型泛化与优化的制约；低分：误把 Z 视为可调或未讨论其固定化影响。"
            },
            {
              "sub_criteria": "残差分布与不确定度模型假设",
              "description": "对残差建模的假设（例如可用基于样本重抽样的非参数不确定度，或在低维残差上近似高斯过程）进行陈述并评估可行性与计算成本。",
              "score": 25,
              "evaluation_focus": "统计假设与方法可行性判断",
              "scoring_hint": "高分：列举备选不确定度方法并评估各自假设与成本；低分：简单假设高斯而无论证或备选方案。"
            },
            {
              "sub_criteria": "模型稳定性与漂移假设",
              "description": "说明是否假定过程在训练-部署期内统计稳定或允许缓慢漂移并给出漂移检测与重训练触发规则的初步假设（例如基于 KL/CUSUM 的阈值）。",
              "score": 25,
              "evaluation_focus": "长期运行与模型维护意识",
              "scoring_hint": "高分：给出可操作的漂移检测与重训练策略；低分：忽视模型部署后的漂移问题。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "混合建模架构设计（线性基线 + 残差 ML）",
              "description": "构建包含可解释线性基线（含 Z 与 X 主效应与少量工程交互项）及其残差上训练的非线性集成模型（如 XGBoost/LightGBM/RandomForest）的混合架构，分别对 y_R 与 y_S 建模，明确为何分开建模并如何组合输出 μ/σ。",
              "score": 25,
              "evaluation_focus": "建模策略与可解释/性能折衷能力",
              "scoring_hint": "高分：给出完整架构图与组合规则（点估计＋残差不确定度来源）；低分：仅列出模型名称无组合逻辑。"
            },
            {
              "sub_criteria": "特征预处理与共线性处理",
              "description": "说明对数值型变量的中心化/缩放方案（建模前保留工程尺度但训练前标准化）、对常量/极小方差变量的剔除、对高度共线簇的代表变量替换或 PLS/稀疏 PLS 降维策略，并保证 RON_feed 强制保留。",
              "score": 20,
              "evaluation_focus": "特征工程与物理可解释性维护",
              "scoring_hint": "高分：详述具体阈值与替换优先级（如基于现场可控性）；低分：泛泛而谈无具体阈值或忽视 RON_feed。"
            },
            {
              "sub_criteria": "不确定度估计设计",
              "description": "提出具体的不确定度估计方法（模型集合 bootstrap、quantile regression forest/jackknife+、或低维残差上的 Gaussian Process），并说明如何得到 μ 与 σ 及如何校准预测区间（例如通过交叉验证覆盖率校准）。",
              "score": 20,
              "evaluation_focus": "统计推断与不确定度量化能力",
              "scoring_hint": "高分：比较方法优缺点并选择可行的主方案与备选方案；低分：仅堆模型却无不确定度输出途径或校准方法。"
            },
            {
              "sub_criteria": "可解释性与敏感性工具集成",
              "description": "描述如何使用 SHAP 值、PDP 以及全局 Sobol 灵敏度或局部梯度来解释模型与识别对 y_R/y_S 敏感的变量，以便工程上优先调整。",
              "score": 20,
              "evaluation_focus": "解释性分析设计与工程可操作性",
              "scoring_hint": "高分：给出具体实现细节（基于训练集/分层样本的 SHAP 汇总策略）；低分：提名工具但不说明如何用于变量优先级排序。"
            },
            {
              "sub_criteria": "正则化与模型复杂度控制",
              "description": "制定正则化与复杂度控制策略（线性部分的 L1/L2，树模型的最大深度/叶子数、early stopping）以及避免过拟合的具体方法。",
              "score": 15,
              "evaluation_focus": "泛化能力与过拟合防护",
              "scoring_hint": "高分：给出具体超参数范围与正则化理由；低分：无复杂度控制方案或参数罔顾工程尺度。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "训练与时间序列验证方案执行",
              "description": "采用分层/滚动窗口时间序列交叉验证进行训练与验证，明确窗口长度、步进策略与样本外测试集划分，确保无未来泄露并评估随时间的性能变动。",
              "score": 30,
              "evaluation_focus": "时序数据的训练/验证执行能力",
              "scoring_hint": "高分：实现滚动窗口并给出窗口参数与样本外性能；低分：用随机 CV 或未说明时序细节。"
            },
            {
              "sub_criteria": "超参数优化与稳定性评估",
              "description": "使用贝叶斯优化或合理的随机/网格搜索对线性与树模型超参数调优，并做多次随机子样本训练以评估模型选择的稳定性（用于 stability selection 的基础）。",
              "score": 25,
              "evaluation_focus": "算法调参与模型稳定性检验",
              "scoring_hint": "高分：展示调参曲线与多重训练结果的稳定性指标；低分：仅给默认参数或未报告稳定性。"
            },
            {
              "sub_criteria": "性能评估与硫合规风险度量",
              "description": "报告 MAE、RMSE、R^2，并对硫预测特别计算将违规（y_S>5）样本误判为合规的 False Compliance Rate，以及 95% 预测区间的实际覆盖率并进行校准。",
              "score": 25,
              "evaluation_focus": "性能解释与工程风险量化",
              "scoring_hint": "高分：完整给出各项指标及其在不同时间段/数据子集上的差异；低分：只给单一指标或忽略硫误判率与覆盖率。"
            },
            {
              "sub_criteria": "不确定度校准与可靠性检验",
              "description": "对预测区间进行校准检验（覆盖率检验、PIT或置信校准图），并在必要时调整 σ 输出（例如缩放因子）以达到名义覆盖率。",
              "score": 20,
              "evaluation_focus": "不确定度校准能力与统计诊断",
              "scoring_hint": "高分：提供原始与校准后覆盖率对比并解释调整；低分：提供不确定度但未校准或未检验可靠性。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可重复的建模管线与数据接口",
              "description": "实现模块化、可复现的数据加载、预处理、特征工程、训练、验证与预测不确定度的代码管线，输入/输出接口与随机种子固定，能重现报告中的结果。",
              "score": 30,
              "evaluation_focus": "工程化实现与可重复性",
              "scoring_hint": "高分：提供脚本/Notebook及流水线代码，固定随机种子并能重现关键结果；低分：零散代码、无运行说明或结果不可复现。"
            },
            {
              "sub_criteria": "健壮性与错误处理",
              "description": "代码能健壮处理缺失/异常值、异常边界输入（超出 L/U）、并在模型训练失败时有合理的回退或日志记录，具备单元测试或验证断言（例如数据分割一致性）。",
              "score": 25,
              "evaluation_focus": "软件工程质量与鲁棒性",
              "scoring_hint": "高分：有单元测试/断言并能处理边界情况；低分：代码对异常输入直接崩溃或无日志。"
            },
            {
              "sub_criteria": "不确定度与解释性输出接口",
              "description": "实现可导出的预测包含点估计 μ、σ/区间、以及 SHAP 值/PDP 图数据结构，支持导出模型工件（pickles/ONNX）和评估报告以便后续优化调用。",
              "score": 25,
              "evaluation_focus": "结果可复用性与解释性工具集成",
              "scoring_hint": "高分：提供标准化输出格式（μ,σ,shap数组）并保存模型；低分：只输出点预测无不确定度或解释性数据。"
            },
            {
              "sub_criteria": "运行效率与可扩展性",
              "description": "代码在给定硬件下有合理运行时间，并采用并行训练/向量化预测等手段提升效率，考虑未来在线更新与增量训练的接口设计。",
              "score": 20,
              "evaluation_focus": "计算效率与生产化考虑",
              "scoring_hint": "高分：展示训练/预测耗时并采用并行化策略；低分：单线程低效且无可扩展设计。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "总体性能与分群性能解读",
              "description": "详述模型在总体与关键子集（例如高硫原料、极端工况、时间段）上的 MAE/RMSE/R^2，解释误差来源并评估模型在不同工况下的稳健性。",
              "score": 20,
              "evaluation_focus": "结果洞察与故障/边界识别",
              "scoring_hint": "高分：给出分群性能并解释原因；低分：只给总体指标无子集分析。"
            },
            {
              "sub_criteria": "不确定度与硫合规风险解读",
              "description": "基于 μ_g, σ_g 讨论硫合规风险（如使用 μ_g + kσ_g 的稳健上界），计算并解释误判风险的工程后果，提出保守阈值供优化器采用。",
              "score": 20,
              "evaluation_focus": "风险沟通与决策支持能力",
              "scoring_hint": "高分：量化误判率并给出可执行的稳健约束示例；低分：不把不确定度与合规风险结合讨论。"
            },
            {
              "sub_criteria": "解释性结论与变量优先级",
              "description": "利用 SHAP/PDP 与灵敏度分析给出对 y_R 与 y_S 影响最大的变量清单（工程可执行的前N项），并指出这些变量改变方向对两个目标的权衡关系（是否存在冲突）。",
              "score": 20,
              "evaluation_focus": "从模型到工程调度的可操作建议能力",
              "scoring_hint": "高分：提供排优次序并讨论冲突/协同效应；低分：只有变量重要性排名但无工程解释。"
            },
            {
              "sub_criteria": "可视化与示例路径（含133号样本轨迹）",
              "description": "生成支持工程操作的可视化：例如 133 号样本在主要变量逐步调整（受 Δ_i 限制）下 y_R 与 y_S 的预测轨迹图，展示点预测与不确定区间，并讨论操作步幅对风险与收益的影响。",
              "score": 20,
              "evaluation_focus": "可视化呈现与工程沟通能力",
              "scoring_hint": "高分：图形清晰显示μ与置信区间及步次约束并解释操作含义；低分：无轨迹图或图中缺乏不确定度/步幅信息。"
            },
            {
              "sub_criteria": "局限性陈述与后续建议",
              "description": "客观陈述模型的局限（样本量/分布、A1 假设风险、潜在外推问题），并提出后续改进方向（如更多标注数据、在线学习、增加 GP 残差模型等）和部署监控规则（重训练频率、漂移阈值）。",
              "score": 20,
              "evaluation_focus": "批判性分析与工程化后续规划",
              "scoring_hint": "高分：具体列出局限并提供可行改进路线与监控阈值；低分：结论过度自信或无具体改进建议。"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务四 — 受约束的工艺优化、逐步可实施路径生成与现场部署方案（目标：在保证产品硫含量≤5 μg/g 的鲁棒性前提下，为每个样本给出主要变量的优化操作条件并生成逐步调整路径与可视化）：把优化问题表述为：对给定样本的不可控参数 Z 固定，求 X* = argmin μ_f(X,Z) subject to μ_g(X,Z) + κ·σ_g(X,Z) ≤ 5（鲁棒单侧约束，其中 κ 根据所需置信度设定，如 κ=1.645 或 1.96），且满足 L_i ≤ X_i ≤ U_i 与步长/逐步调整约束 |X_i^{(k+1)} − X_i^{(k)}| ≤ Δ_i；若模型由 PLS 降维得到低维潜变量 t，则优先在 t 空间构建稀疏高斯过程代理并用带约束的贝叶斯优化（Expected Improvement with Constraints或KG）高效搜索最优点；若在原始空间且模型为黑箱树模型，则采用带约束的全局启发式优化（受限遗传算法、粒子群或CMA-ES）并用局部 SQP 精化；对必须离散调整的变量，将整数步长约束纳入求解（形成 MINLP），可用启发式混合策略处理。为满足工程平稳性与现场可执行性，采用信赖域式迭代局部优化生成逐步路径：每一步在当前点的信赖域内求解带硫鲁棒约束的子优化并保证满足 Δ 限制，直至达到静态目标或达到步数上限；对每一步同时评估硫的置信概率 P(g≤5)，仅在 P≥p_min（建议 p_min=0.95）时建议执行，并提供回退策略与安全阈值（例如实时硫若超过4 μg/g即触发人工审查）。对全部325个样本并行执行该求解流程，筛选出可实现 RON 损失降低≥30%的样本并输出每个样本的优化前后变量与预期收益；针对题目要求的133号样本生成逐步变量调整序列并以图形显示每步主要变量值、预测的 RON 与硫及其95%预测区间（利用模型的不确定度输出），以便直观展示调整轨迹与风险。最后制定现场部署与验证流程：先在仿真或小范围试点实施 A/B 实验以收集真实响应、更新模型并校准不确定度，建立在线决策支持系统（含可视化、报警与回退），制定模型监控与再训练策略（周期性重训练或按漂移检测触发），并在优化建议中嵌入 SHAP 解释与敏感性提示以辅助操作人员判断与接受。",
      "criteria": {
        "task_understanding": {
          "core_goal": "题目要考什么——按题型拆解关键能力：本子任务的核心目标是为每个历史样本（固定不可控外生变量 Z，如原料性质与吸附剂性质）在工程约束（每个可控变量的上下界 L_i、U_i 与调整步长 Δ_i）和硫排放鲁棒约束（μ_g(X,Z)+κ·σ_g(X,Z) ≤ 5 μg/g）下，自动求解使预测的汽油辛烷值损失 μ_f(X,Z) 最小化的可实施操作方案 X*，并以逐步、信赖域式可执行路径输出（特别为样本133绘制逐步调整轨迹及对应的RON与硫的预测区间）。该目标要求把预测建模（RON与硫及其不确定度估计）与受约束优化（含离散步长和逐步调整限制）相结合，强调先建模再选算法再验证的数学建模思维。",
          "expected_output": "数值型最优或次优操作向量 X*（针对每个样本）、每步的逐步调整序列（满足 |ΔX_i|≤Δ_i）、每步对应的预测RON损失 μ_f及其置信区间与硫的预测均值 μ_g与不确定度 σ_g、是否满足鲁棒约束的置信概率 P(g≤5)，样本筛选报告（达到RON降低≥30%的样本列表与预期经济收益估算）、以及133号样本的可视化轨迹（每步主要变量、RON与硫及95%区间、SHAP解释）。",
          "key_inputs_constraints": "输入包括：已清洗的325行样本数据（不可控外生Z：原料7项、待生/再生吸附剂4项等需固定；以及354个操作变量中筛选出的可控变量候选X）、每变量的工程上下界L_i/U_i与步长Δ_i、样本采样时间戳（用于时序CV）、训练得到的预测器 f_hat(·)=μ_f(·)与 g_hat(·)=(μ_g(·),σ_g(·))；关键约束包括鲁棒单侧硫约束 μ_g+κσ_g ≤5、变量箱约束、步长与单步调整约束、对可执行性的信赖域迭代及对离散/整数步长的处理（MINLP）。假设包括两小时窗口均值与RON测量对应性（A1）、外生不可控Z在优化中固定（A3）、预测器的误差能用σ_g量化以做鲁棒决策等。",
          "modeling_type": "混合建模：以监督预测为基础（回归：预测RON损失 y_R 与硫 y_S 的均值与不确定度），并嵌入受约束数值优化（鲁棒优化/受限贝叶斯优化或启发式全局+局部优化）、以及生成逐步可实施路径（信赖域式迭代）。还包含不确定度估计与可解释性分析（PDP/SHAP）和部署/监控设计（评估/仿真类成分）。",
          "role_in_pipeline": "在整个建模流程中为关键的“操作建议生成与工程落地”环节：它严格依赖前序的子任务（子任务二、三）的变量选择和训练好的预测器；难点在于在保证硫法规约束与工艺可执行性的约束下求得可实施的、风险可控的操作路径，并给出并行对325个样本的可验证建议，最终推动现场试验和部署。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "核心目标明确度（最优化与鲁棒硫约束）",
              "description": "准确识别并表述子任务的真正目标：在不可控外生变量 Z 固定下，求解使预测的 RON 损失 μ_f(X,Z) 最小化，同时满足鲁棒硫约束 μ_g(X,Z)+κ·σ_g(X,Z) ≤ 5 μg/g，输出可执行逐步调整路径及样本筛选结果（≥30%降低）。",
              "score": 4,
              "evaluation_focus": "把抽象工程目标转化为具体数学目标的能力",
              "scoring_hint": "高分：把鲁棒不确定度约束、步长/边界约束与逐步路径要求都明确写出；低分：只写最小化RON而忽略硫的鲁棒约束或步长/可执行性要求。"
            },
            {
              "sub_criteria": "对关键输入与输出要素的识别（L_i/U_i/Δ_i、Z、f_hat、g_hat）",
              "description": "能清晰列出本子任务需要的输入（经清洗的325样本、每变量工程上下限L_i/U_i、允许步长Δ_i、固定的外生变量Z、训练出的μ_f与(μ_g,σ_g)预测器）及期待的输出形式（X*、逐步路径、预测均值与不确定度、133号可视化轨迹）。",
              "score": 3,
              "evaluation_focus": "变量与数据工程认知、对接口与约束的把握",
              "scoring_hint": "高分：完整列出并区分可控/不可控变量并指出数据表与变量源；低分：遗漏Δ_i或不区分可控/不可控变量。"
            },
            {
              "sub_criteria": "对前序依赖与验证需求的识别",
              "description": "识别本子任务对前序子任务（降维/变量筛选、RON/硫预测模型与不确定度估计）的依赖性，并指出需要的验证环节（并行求解325样本、133号逐步仿真、A/B小规模现场试验与模型再校准）。",
              "score": 3,
              "evaluation_focus": "系统性与工程闭环意识",
              "scoring_hint": "高分：明确列出所需模型接口（μ_f, μ_g, σ_g）、时序CV验证与试点A/B机制；低分：未提及模型校准或现场验证流程。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "把优化问题数学化（目标、约束、变量、参数）",
              "description": "将口头任务复述为清晰的数学优化问题（例如：min_X μ_f(X,Z) s.t. μ_g(X,Z)+κσ_g(X,Z) ≤5, L_i ≤ X_i ≤ U_i, |X_i^{(k+1)}−X_i^{(k)}| ≤ Δ_i），并标明 κ 与 p_min 的含义与默认值建议（如κ=1.645或1.96，p_min=0.95）。",
              "score": 4,
              "evaluation_focus": "将工程目标转成数学约束与决策变量的能力",
              "scoring_hint": "高分：给出完整的数学形式并解释κ与置信度的选择；低分：只给出自然语言描述或忽略鲁棒项。"
            },
            {
              "sub_criteria": "逐步调整路径与信赖域方案的表述",
              "description": "清楚表述如何从全局最优/候选点生成逐步可执行路径：采用信赖域迭代，每步在 |Δ_i| 限制内求解带硫鲁棒约束的子问题，直到满足目标或达到步数上限，并定义每步的执行判据（如P(g≤5)≥p_min）。",
              "score": 3,
              "evaluation_focus": "工程可执行性与逐步实现思想",
              "scoring_hint": "高分：明确每步决策准则与回退策略（如实时硫超4 μg/g触发人工审查）；低分：没有具体每步判据或回退策略。"
            },
            {
              "sub_criteria": "样本级并行求解与筛选输出要求",
              "description": "复述对325个样本需并行/批量执行优化并筛选出达到RON降低≥30%的样本，提供每个样本的优化前后变量、预测RON和硫及预期经济效益估算（如吨/年或元/年）。",
              "score": 3,
              "evaluation_focus": "工程交付物的可操作性与经济量化意识",
              "scoring_hint": "高分：明确并行策略与必须输出（样本ID、X_before、X_after、ΔRON%、预期收益）；低分：只给出部分信息或未提及收益估算。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "两小时窗口与外生Z固定假设的合理性说明",
              "description": "对两小时操作变量均值对应RON测量值的假设（A1）与把原料与吸附剂性质视为不可控外生变量（A3）给出工程或统计上的论证，并讨论其局限性与可能的偏差来源（如快速过程动态、测量延迟）。",
              "score": 4,
              "evaluation_focus": "假设的工程合理性与风险意识",
              "scoring_hint": "高分：给出支持数据或逻辑（如工艺时间常数、采样频率）并指出风险与补救（重训练或在线校准）；低分：机械采信假设而无论证。"
            },
            {
              "sub_criteria": "关于不确定度模型与鲁棒参数 κ 与 p_min 的设定理由",
              "description": "说明用模型提供的σ_g作为不确定度量化的合理性，并针对不同置信度给出 κ 的值选择（例如κ=1.645对应95%单侧），同时设定P(g≤5)门槛p_min并讨论保守性与经济性权衡。",
              "score": 3,
              "evaluation_focus": "统计不确定度与决策风险权衡能力",
              "scoring_hint": "高分：能量化风险并给出可调参数与敏感性分析方案；低分：对κ/p_min无说明或任意选择。"
            },
            {
              "sub_criteria": "关于变量可调整性的工程假设（步长Δ_i、连续/离散处理）",
              "description": "明确哪些控制量可连续调整、哪些需整数步长或离散跳变，说明将整数步长纳入优化的处理方式（MINLP或启发式处理），并说明对设备安全性的基本假定（如单步最大变幅、安全阈值）。",
              "score": 3,
              "evaluation_focus": "工艺约束与离散决策建模能力",
              "scoring_hint": "高分：逐一分类变量并给出处理策略；低分：未区分连续/离散或忽略步长影响。"
            },
            {
              "sub_criteria": "关于模型稳健性与漂移的假定与监测策略",
              "description": "说明假定训练的 f_hat, g_hat 在短期内可适用，并给出漂移检测（CUSUM/KL）与再训练触发规则的初步设定（频率或阈值）。",
              "score": 2,
              "evaluation_focus": "模型运维与监控意识",
              "scoring_hint": "高分：提出具体检测量与阈值/重训周期；低分：无监控计划或笼统表述。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "混合建模框架设计（基线+残差非线性器）",
              "description": "为 μ_f 与 μ_g 设计混合建模结构：先用正则化线性模型捕捉主效应（含外生Z和重要交互项），再在残差上训练非线性模型（XGBoost/RandomForest/LightGBM）以拟合复杂交互，并确保能导出不确定度（如集成/Bootstrap或QR-Forest）。",
              "score": 6,
              "evaluation_focus": "以先建模再选算法的建模思维与可解释性平衡能力",
              "scoring_hint": "高分：明确基线模型形式、残差学习器及不确定度估计方法并说明理由；低分：直接用黑箱未考虑不确定度或不区分残差建模。"
            },
            {
              "sub_criteria": "变量筛选与监督降维（稳定选择 + PLS/稀疏PLS）",
              "description": "在模型输入层明确采用稳定化嵌入式变量选择（多次Lasso/树模型记录选择频率、相关簇代表替换）并强制保留 RON_feed；如采用降维，说明用 PLS/稀疏PLS 以保留与 y_R 最大协方差并控制潜变量数（k≤10）。",
              "score": 5,
              "evaluation_focus": "特征工程与可实施变量集成设计",
              "scoring_hint": "高分：给出稳定选择流程、阈值、共线簇处理策略与PLS参数选择依据；低分：变量选择泛泛而谈或忽视 RON_feed 强制保留。"
            },
            {
              "sub_criteria": "硫预测器及不确定度建模（μ_g, σ_g）与违例代价考量",
              "description": "构建对硫 y_S 的预测模型，并量化σ_g（可通过模型集合或QR-Forest等），同时在模型设计中关注将超限样本误判为合规的误判率并作为优化的约束要素。说明如何把σ_g输出用于鲁棒约束（μ_g+κσ_g）。",
              "score": 5,
              "evaluation_focus": "风险敏感建模与约束可用性",
              "scoring_hint": "高分：给出σ_g估计方法、预测区间校准方法与误判率评估；低分：仅给出μ_g而无σ_g或无误判率讨论。"
            },
            {
              "sub_criteria": "可解释性与敏感性分析并行设计（SHAP/PDP/Sobol）",
              "description": "在建模流程中嵌入可解释性（SHAP值、PDP）与全局/局部敏感性（Sobol或局部梯度）分析计划，用于后续生成操作建议时的风险提示与变量优先级排序。",
              "score": 4,
              "evaluation_focus": "解释性与工程可接受性支持",
              "scoring_hint": "高分：指定哪些解释方法用于何种决策环节并举例；低分：仅泛泛提及而无具体用途。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "受约束全局+局部优化策略选择与正当性",
              "description": "针对原始空间或潜变量空间明确优化算法：在潜变量空间优先用带约束的贝叶斯优化（EI with constraints/ KG），在原始黑箱空间用受限遗传算法/PSO/CMA-ES结合局部SQP精化；说明如何处理离散步长（MINLP）与计算预算（并行化）。",
              "score": 6,
              "evaluation_focus": "数值优化算法选择与工程可行性判断",
              "scoring_hint": "高分：依据问题结构选择算法并说明优缺点与并行化方案；低分：算法选择不符问题特性或无处理离散变量的策略。"
            },
            {
              "sub_criteria": "鲁棒性与概率可行性检验（P(g≤5)与κ选择）",
              "description": "实现并验证鲁棒约束：在候选解处计算 P(g≤5)（基于 μ_g,σ_g 的正态假定或模拟），只在 P≥p_min 时接受步骤，并说明κ和p_min的数值设定与敏感性测试方案以确保在现场执行时合规性。 ",
              "score": 5,
              "evaluation_focus": "将不确定度纳入约束求解的能力与统计检验",
              "scoring_hint": "高分：给出P计算方法、默认p_min与κ并做敏感性检验；低分：仅用点估计μ_g判断合规。"
            },
            {
              "sub_criteria": "逐步信赖域迭代与回退策略的实现细则",
              "description": "给出逐步路径生成的算法细节：信赖域半径更新规则、每步求解的子问题定义、若实时硫>4 μg/g的回退与手工审查触发机制，以及最大步数/时间限制的设定。 ",
              "score": 4,
              "evaluation_focus": "工程执行流程与安全保障设计",
              "scoring_hint": "高分：详细写出信赖域更新准则、回退阈值与终止条件；低分：只有高层次描述无具体规则。"
            },
            {
              "sub_criteria": "并行化、可扩展和计算成本控制",
              "description": "说明对325样本并行求解的实现策略（批量化、分布式并行或样本聚类降维以降低求解次数）并估算计算资源/时间，以保证在合理时间内产出全部样本的优化建议。 ",
              "score": 3,
              "evaluation_focus": "工程调度与计算资源管理能力",
              "scoring_hint": "高分：提供并行化方案或时间估算并提出样本级加速策略；低分：无并行策略或不现实的时间预估。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现的数据与模型训练管线实现",
              "description": "实现一个端到端、可复现的数据处理与模型训练脚本（含时间序列分层CV、特征选择稳定化过程、PLS投影保存、模型持久化），并保证代码有版本控制与数据输入检查。 ",
              "score": 4,
              "evaluation_focus": "工程化实现能力与可复现性",
              "scoring_hint": "高分：提交清晰脚本/Notebook、依赖说明、持久化模型与配置文件；低分：仅有零散代码或不可重现的训练步骤。"
            },
            {
              "sub_criteria": "不确定度估计与置信区间实现",
              "description": "在代码中实现 μ_g 与 σ_g 的计算（例如Bootstrap、ensemble或QR-Forest），并能输出95%预测区间与样本级P(g≤5)的估计程序。 ",
              "score": 4,
              "evaluation_focus": "统计编程与不确定度量化实现能力",
              "scoring_hint": "高分：实现并校准预测区间覆盖率；低分：只输出点预测或无σ_g实现。"
            },
            {
              "sub_criteria": "受约束优化与逐步路径生成代码实现",
              "description": "实现带箱约束、步长约束和鲁棒硫约束的优化模块（调用贝叶斯优化库、遗传算法或自实现信赖域迭代），并能为单个样本输出逐步X序列与每步预测值及区间。 ",
              "score": 4,
              "evaluation_focus": "数值求解实现与工程约束编码能力",
              "scoring_hint": "高分：代码能处理离散步长、生产逐步路径并记录回退信息；低分：仅能做无约束或单步优化。"
            },
            {
              "sub_criteria": "代码质量、单元测试与运行效率",
              "description": "代码应包含基本单元测试、输入异常处理、日志记录，并对关键步骤（模型预测、约束判定）有时间性能度量与优化建议。 ",
              "score": 3,
              "evaluation_focus": "软件工程与运行可靠性",
              "scoring_hint": "高分：有测试用例、异常捕获与性能数据；低分：无测试或对异常情形忽略。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "优化结果的合规性与鲁棒性验证（硫概率与置信区间覆盖）",
              "description": "对每个优化输出验证硫约束的概率可行性（P(g≤5)）和预测区间覆盖率（例如95%区间的实际覆盖率），并报告误判（将超限判为合规）的比率与可能后果。 ",
              "score": 5,
              "evaluation_focus": "统计验证与风险量化能力",
              "scoring_hint": "高分：提供统计量（P值、覆盖率、误判率）并对不满足项给出改进方案；低分：仅给出点值变化无统计检验。"
            },
            {
              "sub_criteria": "样本筛选与经济效益估算（≥30%降低样本清单）",
              "description": "列出达到RON损失降低≥30%的样本清单、每个样本的ΔRON%、对应的原料/吸附剂条件不变的前后变量对比、以及按装置规模估算的经济收益（如元/年或吨/年）。",
              "score": 4,
              "evaluation_focus": "工程经济量化与决策支持能力",
              "scoring_hint": "高分：完整输出样本表格并做合理收益换算；低分：仅列出样本ID或不给出经济量化。"
            },
            {
              "sub_criteria": "133号样本逐步路径的可视化与风险标注",
              "description": "为133号样本绘制逐步变量调整轨迹图（每步主要变量值）、对应的预测RON与硫及其95%预测区间，并在图中标注关键风险点（如P(g≤5)下降、硫接近阈值、回退触发点）及 SHAP 基于该路径的解释。 ",
              "score": 3,
              "evaluation_focus": "可视化表达与操作人员决策支持",
              "scoring_hint": "高分：图形清晰、含预测区间与风险标注并附SHAP解释；低分：仅列数表或无不确定度信息。"
            },
            {
              "sub_criteria": "部署、试点验证与监控建议的可操作性",
              "description": "给出现场部署流程（小范围A/B试点→数据收集→模型更新→全面放开）、在线决策支持系统要素（可视化、报警、回退）、以及模型监控与再训练触发规则（漂移检测阈值、周期或事件驱动）。",
              "score": 3,
              "evaluation_focus": "工程实施路线与长期运维规划能力",
              "scoring_hint": "高分：给出分步骤实施计划并量化监控阈值；低分：仅空泛建议或无监控策略。"
            }
          ]
        }
      }
    }
  }
}