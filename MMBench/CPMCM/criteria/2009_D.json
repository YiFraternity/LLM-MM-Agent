{
  "task_id": "2009_D",
  "problem": "请回答以下问题：\n\n一. 若要求满足D1,该区最少需要配置多少辆警车巡逻？\n\n二. 请给出评价巡逻效果显著程度的有关指标。\n\n三．请给出满足D1且尽量满足D2条件的警车巡逻方案及其评价指标值。\n\n四.. 在第三问的基础上，再考虑D3条件，给出你们的警车巡逻方案及其评价指标值。\n\n五．如果该区域仅配置10辆警车，应如何制定巡逻方案，使D1、D2尽量得到满足？ \n\n六. 若警车接警后的平均行驶速度提高到50km/h，回答问题三。\n\n七. 你们认为还有哪些因素、哪些情况需要考虑？给出你们相应的解决方案。\n\n第三、五、六问的巡逻方案结果请按规定格式分别存入文件“队号-Result3.txt”、“队号-Result5.txt”及“队号-Result6.txt”中。",
  "subtask": {
    "1": {
      "subtask": "子任务一旨在将给定道路数据与三处重点坐标精确抽象为一个带权图并在静态、无动态占用假设下计算满足D1硬约束的最小警车数下界；其范围仅限于静态驻守／待命覆盖模型（即车辆驻守于若干候选位置且不考虑处警占用对可用性的动态影响）。具体步骤与方法如下：一、输入与预处理——输入包括道路拓扑（交叉口坐标、相邻路段连通关系）、不可通行水域边界、三处重点坐标以及给定速度参数（巡逻速度 v_p=20 km/h、接警速度 v_r=40 km/h）；先用水域掩膜删除穿越水域的边或节点，按相邻交叉口坐标用欧氏距离计算每条边的几何长度并构建无向连通图 G=(V,E)。二、时距转换与候选集设置——将边长度转换为时间权重 t_r(e)=length(e)/v_r（用于接警可达性判定）；确定候选驻守位置集合 S（默认取 V，即所有交叉口，亦可在长路段上等距插入中点作为候选），确定需求点集合 D：至少包含题中三处重点，可将道路网按交叉口或沿路段等距离散为若干需求节点并为每节点指定权重 w_k（若无历史数据则采用均匀权重或按路段长度/人口密度加权）。三、最短路径与覆盖矩阵计算——对每个候选驻守点 s∈S，采用 Dijkstra 或多源最短路径算法计算其到每个需求点 k∈D 的最短行驶时间 τ(s,k)（基于 t_r 权重）；针对时间阈值 T3=3 min 和 T2=2 min 构造覆盖矩阵 A^3 与 A^2，其中 A^t_{s,k}=1 当且仅当 τ(s,k) ≤ t。四、整数规划表述与求解策略——用最大覆盖/集覆盖的整数规划给出最小车辆数问题：设二元决策变量 y_s∈{0,1}（是否在候选点 s 配置一辆车辆）与 z_k∈{0,1}（需求点 k 在 3 min 内被覆盖），求解 minimize ∑_s y_s subject to ∑_{s:A^3_{s,k}=1} y_s ≥ z_k ∀k, ∑_k w_k z_k ≥ 0.90·∑_k w_k, z_k=1 ∀k∈{三重点且用 A^2 强制覆盖集合}（或用约束 ∑_{s:A^2_{s,k}=1} y_s ≥ 1 保证每一重点在2分钟内至少有一个驻守点覆盖），y_s∈{0,1}, z_k∈{0,1}；为求最小车辆数，可将容量约束改为 ∑_s y_s ≤ n 并对 n 进行增量或二分搜索以找到最小可行 n。五、可扩展的规模化求解方案——若候选集或需求节点规模较大，可使用启发式近似（贪心集覆盖：每步选择能覆盖最大未覆盖加权需求的候选点，直至覆盖率达到90%且三重点被覆盖）以获得上界解并作为整数规划初解；也可先用 p-center 变体估计覆盖半径下界。六、输出与可复现交付物——输出包括：最小可行车辆数 n 下的驻守位置集合 S*、对应的覆盖矩阵、满足约束的 z_k 值、并记录所有建模假设（候选点选择规则、需求权重设定、速度单位与转换公式、算法与求解器版本），推荐使用的工具为 NetworkX/igraph（图构建与最短路径）、Gurobi或CPLEX（整数规划）以及Python实现的贪心启发式作为备选；所有计算过程应以明确、可重复的脚本实现以便验证。此子任务不涉及巡逻路径、动态调度或仿真，仅提供静态驻守覆盖的最小警车数下界与相应位置配置。",
      "criteria": {
        "task_understanding": {
          "core_goal": "优化静态驻守覆盖模型以求解满足D1（≥90%在3分钟内到达且三重点在2分钟内）约束的最小可行车辆数并给出驻守位置配置",
          "expected_output": "最小可行车辆数 n（整数）、驻守位置集合 S*（候选点索引/坐标）、覆盖矩阵 A^3 与 A^2、需求覆盖二元向量 z_k、可复现计算脚本/solver model 文件、假设与参数说明文档",
          "key_inputs_constraints": "道路拓扑 G=(V,E)（交叉口坐标与相邻路段连通关系，数组/列表）；水域掩膜（多边形边界，用于删除不可通行边/节点）；三处重点坐标（点坐标列表）；速度参数 v_p=20 km/h（巡逻速度，仅说明）与 v_r=40 km/h（接警速度，用于 t_r=length/v_r）；时间阈 T3=3 min 与 T2=2 min（用于构造 A^3 与 A^2）；候选驻守集合 S（默认取 V，可扩展为路段中点）；需求点集合 D 与权重 w_k（向量，若无历史数据则均匀权重）；静态占用假设（车辆驻守不考虑处警占用导致不可用）。",
          "modeling_type": "优化（图论+整数规划）",
          "role_in_pipeline": "作为整体建模流程中静态覆盖与资源下界计算模块：依赖前序的数据清洗/道路与水域掩膜处理、坐标标准化；为后序的巡逻路径规划、动态调度与仿真提供最小车辆数下界与驻守位置初值。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别最小可行车辆数目标与静态驻守模型",
              "description": "明确提出要优化‘最小可行车辆数 n’并限定为静态驻守/待命覆盖模型（不考虑处警占用动态影响）。",
              "score": 40,
              "evaluation_focus": "建模目标",
              "scoring_hint": "高分：明确写出最小可行车辆数的数学目标和静态驻守假设，且指出该结果为下界；中分：描述最小车辆数但未明示为静态下界；低分：未识别为最小可行车辆数或混淆动态调度。"
            },
            {
              "sub_criteria": "识别时间阈与时距转换 t_r=length/v_r",
              "description": "准确识别 T3=3min、T2=2min 且将边长转换为接警行驶时间 t_r(e)=length(e)/v_r（单位一致）。",
              "score": 30,
              "evaluation_focus": "单位转换",
              "scoring_hint": "高分：提供明确单位换算并给出示例计算（米→km→min）；中分：给出公式但单位或分钟换算有小错误；低分：缺失 t_r 定义或单位错误导致时间阈判断错误。"
            },
            {
              "sub_criteria": "识别道路图构建与水域掩膜需求",
              "description": "识别需构建无向连通图 G=(V,E)并用水域掩膜删除穿越水域的边/节点，及相邻交叉口间用欧氏距离近似路段长度。",
              "score": 30,
              "evaluation_focus": "数据预处理",
              "scoring_hint": "高分：明确提出水域掩膜步骤并说明如何删除边/节点；中分：提到水域但未说明删除规则；低分：未考虑水域或错误使用欧氏距离。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述覆盖矩阵 A^3 与 A^2 的构造",
              "description": "清晰复述 A^3_{s,k}=1 当且仅当 τ(s,k)≤3min，A^2_{s,k}=1 当且仅当 τ(s,k)≤2min，并说明 τ 由 Dijkstra 基于 t_r 计算。",
              "score": 40,
              "evaluation_focus": "图论建模",
              "scoring_hint": "高分：准确给出 A^3、A^2 定义并指明使用 Dijkstra/多源最短路计算 τ；中分：定义正确但未说明算法；低分：矩阵构造含糊或时间阈错误。"
            },
            {
              "sub_criteria": "复述整数规划决策变量与约束",
              "description": "明确 y_s∈{0,1}、z_k∈{0,1}，目标 minimize ∑_s y_s，约束 ∑_{s:A^3_{s,k}=1} y_s ≥ z_k, ∑_k w_k z_k ≥0.9∑_k w_k，并对三重点用 A^2 强制覆盖或约束 ∑_{s:A^2_{s,k}=1} y_s ≥1。",
              "score": 40,
              "evaluation_focus": "整数规划",
              "scoring_hint": "高分：完全准确写出变量、目标和所有关键约束（含三重点2分钟约束）；中分：丢失 z_k 或 90% 权重约束之一；低分：未给出整数规划或约束逻辑错误。"
            },
            {
              "sub_criteria": "复述候选驻守点 S 与需求点 D 的选择策略",
              "description": "说明默认 S=V（交叉口），可在长路段插入路段中点；需求点 D 包含三重点并可沿路段等距散点，且需求权重 w_k 可取均匀或按路段长度/人口加权。",
              "score": 20,
              "evaluation_focus": "输入设定",
              "scoring_hint": "高分：明确 S、D 的默认规则与可替代策略并给出权重生成方法；中分：只给出 S=V 或 D 的一半信息；低分：未说明候选或需求点选择。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "明确静态驻守/不考虑占用假设",
              "description": "明确写出‘静态驻守/待命覆盖模型’假设，即车辆驻守不被处警任务占用，不考虑出动后可用性变化。",
              "score": 40,
              "evaluation_focus": "假设设定",
              "scoring_hint": "高分：明确陈述并讨论对解的影响（作为下界）；中分：指出静态假设但未讨论影响；低分：未陈述或误将其作为动态模型。"
            },
            {
              "sub_criteria": "候选点与需求权重假设的透明度",
              "description": "说明 S 取法（V或插点）、D 离散规则与权重 w_k 取法（均匀或基于路段长度/人口），并在无数据时说明采用均匀权重。",
              "score": 30,
              "evaluation_focus": "合理性",
              "scoring_hint": "高分：给出明确规则并量化插点间距或权重计算；中分：给出默认但无量化细节；低分：未说明权重或候选点选择。"
            },
            {
              "sub_criteria": "道路几何与速度一致性假设",
              "description": "说明将相邻交叉口间道路近似为直线、用欧氏距离计算长度，并假设接警速度 v_r 在整个网络一致为40 km/h。",
              "score": 30,
              "evaluation_focus": "可行性",
              "scoring_hint": "高分：明确这些近似并评估其误差来源；中分：陈述假设但未讨论误差；低分：未提或与题目给定冲突。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "图构建与时距转换实现细节（使用 Dijkstra）",
              "description": "说明如何用交叉口坐标与欧氏距离构建无向图 G、用水域掩膜删除边/节点，并用 t_r(e)=length(e)/v_r 为边赋时权，使用 Dijkstra/多源最短路计算 τ(s,k)。",
              "score": 25,
              "evaluation_focus": "图算法",
              "scoring_hint": "高分：给出具体算法、复杂度估计与边权单位一致性检查；中分：算法正确但缺复杂度或单位说明；低分：图构建或时距转换错误。"
            },
            {
              "sub_criteria": "覆盖矩阵 A^3/A^2 与权重化覆盖目标建模",
              "description": "构造 A^3 和 A^2，描述 z_k 与加权覆盖约束 ∑_k w_k z_k ≥0.9∑_k w_k，且三重点用 A^2 强制覆盖或等价约束保障2分钟要求。",
              "score": 25,
              "evaluation_focus": "覆盖模型",
              "scoring_hint": "高分：完整写出矩阵构造、权重总和判断和强制重点约束；中分：忽略权重加权而用节点计数；低分：未形成覆盖矩阵或忽视2分钟约束。"
            },
            {
              "sub_criteria": "整数规划表述（y_s,z_k与目标）",
              "description": "用二元变量 y_s、z_k 表述最小覆盖整数规划，列出所有约束（覆盖、权重阈、三重点2分钟强制、变量域）。",
              "score": 30,
              "evaluation_focus": "数学建模",
              "scoring_hint": "高分：列出完整数理模型且变量域清晰；中分：模型不完全（缺少 z_k 或重点约束）；低分：变量或目标错误。"
            },
            {
              "sub_criteria": "可扩展的启发式备选（贪心/ p-center 下界）",
              "description": "给出贪心集覆盖启发式作为可行上界及 p-center 或其它方法作为下界估计，并说明何时使用。",
              "score": 20,
              "evaluation_focus": "扩展性",
              "scoring_hint": "高分：给出贪心算法伪码与 p-center 下界计算方法；中分：仅提及但无细节；低分：未提或误用启发式。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "精确求解策略与求解器说明（Gurobi/CPLEX）",
              "description": "说明用 Gurobi/CPLEX 求解整数规划或用二分/逐增 n 的可行性检测策略，包含求解停止标准与可行性判定方法。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出求解器设置、二分搜索或增量法的具体流程与终止条件；中分：提及求解器但无搜索策略；低分：未说明如何求解整数规划或使用不当求解器。"
            },
            {
              "sub_criteria": "启发式求解与可行性上界构造",
              "description": "实现贪心集覆盖以快速得到可行解并作为上界；说明如何用该解初始化整数规划或验证可行性。",
              "score": 30,
              "evaluation_focus": "启发式",
              "scoring_hint": "高分：提供贪心算法实现细节并比较上界与精确解差距；中分：实现贪心但无对比；低分：未提供或贪心实现错误。"
            },
            {
              "sub_criteria": "结果可复现性输出（覆盖矩阵、S*、z_k 与日志）",
              "description": "要求输出可复现文件：S*、A^3、A^2、z_k、solver 状态、参数与版本信息以便验证最小 n。",
              "score": 20,
              "evaluation_focus": "可重复性",
              "scoring_hint": "高分：所有指定内容均导出且含solver版本与随机种子；中分：导出部分关键文件；低分：无可复现输出。"
            },
            {
              "sub_criteria": "复杂度与规模适配策略",
              "description": "针对大规模候选集/需求集给出时间复杂度估计并提供分区/稀疏化/并行计算或舍入策略以保证可解性。",
              "score": 20,
              "evaluation_focus": "可扩展性",
              "scoring_hint": "高分：给出复杂度分析并实现分区或并行方案；中分：提出思路但无量化；低分：忽略规模问题。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "图构建与最短路代码正确性（NetworkX/igraph Dijkstra）",
              "description": "实现网络构建、水域掩膜处理、边权 t_r 赋值与 Dijkstra 多源最短路，代码需处理单位转换及异常连通子图。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：代码正确运行并通过示例验证，处理孤岛节点与单位一致；中分：算法实现正确但未处理边缘情况；低分：实现错误或无法运行。"
            },
            {
              "sub_criteria": "整数规划接口与求解器调用（Gurobi/CPLEX python 接口）",
              "description": "给出建模代码（变量、约束、目标）并能调用 Gurobi/CPLEX 求解，或使用开源替代并注明差异，含求解日志输出。",
              "score": 30,
              "evaluation_focus": "求解接口",
              "scoring_hint": "高分：代码能复现整数规划求解并记录 solver 日志；中分：建模代码完整但求解器不可用或未记录日志；低分：无求解接口或模型实现错误。"
            },
            {
              "sub_criteria": "可复现脚本与文档（参数/版本/随机种子）",
              "description": "提供一键复现脚本，包含输入路径、参数说明、solver 版本与依赖库列表与运行说明文档。",
              "score": 20,
              "evaluation_focus": "文档性",
              "scoring_hint": "高分：一键复现且文档齐全；中分：提供脚本但文档不全；低分：无复现指引。"
            },
            {
              "sub_criteria": "测试与结果校验（单元测试/贪心对比）",
              "description": "包含单元测试或简单验证：如用小规模实例验证覆盖矩阵正确性，用贪心结果与 IP 解交叉检验可行性和差距。",
              "score": 20,
              "evaluation_focus": "验证",
              "scoring_hint": "高分：包含自动化测试并展示误差/差距；中分：有手工验证示例；低分：无验证或验证错误。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "报告最小车辆数 n 与驻守集合 S* 的解释",
              "description": "提供最小可行车辆数 n、驻守点 S* 列表、A^3/A^2 行列摘要及说明为什么满足≥90%与三重点2分钟约束。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：给出 n、S*、具体覆盖率数值与热点示意；中分：给出 n 与 S* 但覆盖率表述不充分；低分：未给出或解释错误。"
            },
            {
              "sub_criteria": "灵敏度分析（候选集、权重、速度变动）",
              "description": "分析 n 对候选点选择 S、需求权重 w_k、以及速度 v_r 变化的敏感性并量化影响（表或图）。",
              "score": 25,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：量化给出多个场景表格/图并解释变化原因；中分：讨论影响但无量化；低分：忽略敏感性分析。"
            },
            {
              "sub_criteria": "上下界证据（贪心上界与 p-center 下界与差距）",
              "description": "提供启发式贪心上界、p-center 或其它下界估计，并给出上下界差距以评估最小 n 的可信度。",
              "score": 20,
              "evaluation_focus": "证据强度",
              "scoring_hint": "高分：给出数值上下界与相对差距并讨论可接受性；中分：给出一个界但无差距讨论；低分：无上下界对比。"
            },
            {
              "sub_criteria": "局限性与假设影响讨论",
              "description": "讨论静态假设、不考虑处警占用、欧氏距离近似、水域边界误差对结果的可能影响并给出改进建议。",
              "score": 25,
              "evaluation_focus": "批判性",
              "scoring_hint": "高分：具体列出若干影响并给出可行改进（动态调度仿真、增加候选点、使用实际路长数据）；中分：列出问题但无改进方案；低分：忽略局限性。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2聚焦于在给定路网图与需求分布下设计并生成移动巡逻回路库与巡逻分配策略，以在满足到达时效约束的前提下最大化可见性并为隐蔽性随机化提供候选策略；其范围限于回路构造、定量化回路覆盖/可见性指标的计算、候选回路库R的生成以及基于这些回路的确定性分配或混合概率分配的多目标优化与启发式求解方法（不包含事件级别的离散事件仿真或在线调度实现）。具体步骤与方法如下：输入为已构建的连通路网G=(V,E)（边权为基于给定速度的最短行驶时间）、需求点集合D及其权重w_k（可为路段中点、交叉口或历史报警密度离散化结果）、速度参数（巡逻速度v_p与接警速度v_r）、和关键时间阈值（例如2min/3min）；预先用Dijkstra/A*计算候选驻点或任意点到所有需求点的最短接警时间矩阵以供后续快速查询。第一步，用需求加权的网络聚类（如基于网络距离的k‑means、谱聚类或层次聚类）将服务区划分为n或候选数m个子区以降低路径规模；第二步，在每一簇内用路径构造启发式生成若干闭合巡逻回路候选：可采用Christofides、Savings 算法、LKH/Concorde TSP 求解器、CVRP 启发式或遗传/局部搜索组合以生成不同周期T_i、方向和包含短环或驻点的回路变体，并对每条回路输出有序节点序列及对应几何坐标与周期时间；第三步，对每条回路解析计算覆盖向量与可见性指标：将回路参数化为相位u∈[0,T_i)，对任意需求点x计算相位集合{u: shortest_time(pos(u),x; v_r)≤t0}的测度比例从而得到该回路在随机相位下对x在t0内的覆盖概率p_i(x,t0)（该计算依赖于预先的最短路径时距表并可向量化实现），并计算单位时间访问频率F_i(s)=1/T_i或更细粒度的路段访问率；第四步，构建候选回路库R（为每簇保留若干高可见性回路、若干短周期隐蔽回路及若干方向/相位变体），并为每条回路记录元数据：周期、路径坐标序列、p_i(·,t0)向量、F分布、预计车辆可用性参数π_i（作为输入参数化）；第五步，制定多目标优化模型以输出最终分配：决策变量可为二元变量指派某车到某回路（确定性分配）或回路选择概率p_r（混合策略）；目标包括（A）硬约束形式地保证关键点在规定时间阈内的覆盖下限，(B) 最大化加权可见性V=Σ_k w_k Σ_r p_r F_r(k)（或确定性分配下的累积访问率），(C) 提高隐蔽性可用熵H=−Σ_r p_r log p_r或通过线性最小化最坏‑情形未覆盖概率z（以对抗模型形式表述）；约束包括车辆总数、单车最大回路周期、回路可行性与互斥性等。第六步，求解/近似策略：对中小规模可用MIP求解器（Gurobi/CPLEX）直接解混合策略 LP 或分配 MIP；对大规模问题提出启发式方案——贪心增益选择（每步选择能最大化边际可见性/覆盖增益的回路）、基于遗传算法/模拟退火的回路集合优化、或两阶段法（先用贪心确定回路集合再用LP优化混合概率）。输出须包含：最终选定的回路集合（或概率分布）、每回路的有序坐标序列与周期、对每一需求点的p_cov(x,t0)汇总、可见性评分V与隐蔽性指标H或最坏‑情形z，以及可供后续仿真使用的确定性或概率化巡逻轨迹参数（起始相位种子、回路切换概率等）。推荐工具与实现要点：用NetworkX/igraph处理图与最短路、Concorde/LKH或OR‑Tools处理TSP/CVRP子问题、Python/Pandas做数据处理与向量化覆盖计算，Gurobi/CPLEX或开源线性规划器做分配/混合策略求解，并为大规模问题实现并行化候选回路生成与覆盖向量计算。该子任务的交付物为详细的候选回路库R、用于决策的多目标优化模型及结果（回路分配或概率）、每回路的覆盖与可见性定量指标以及可直接被仿真模块读取的回路坐标与相位参数文件。",
      "criteria": {
        "task_understanding": {
          "core_goal": "生成并优化候选巡逻回路库R及其分配/混合策略，优化并评估巡逻可见性（V）与隐蔽性（H）指标，同时满足基于最短路径的到达时效覆盖约束（p_cov/p_i 对应于 2min/3min 阈值）",
          "expected_output": "候选回路库R（每回路有序坐标序列与周期T_i）、每回路的覆盖概率向量p_i(x,t0)、路段访问率F_i(·)、回路分配或混合概率分布p_r、优化模型文件与求解结果、可见性V/隐蔽性H/最坏情形未覆盖z等数值报表与可复现代码",
          "key_inputs_constraints": "输入: 连通路网G=(V,E)（边权为基于v_r/v_p的行驶时间，图对象/数组）、需求集合D及权重w_k（数组/向量）、速度参数v_p/v_r与阈值T2=2min/T3=3min（标量）、车辆总数与单车最大周期T_max（标量）、预先计算的最短路径时距矩阵（可选但强烈建议）；关键约束: 必须保证三重点在2min覆盖、总体3min覆盖率≥90%、静态驻守假设（无占用冲突）",
          "modeling_type": "优化+评价（回路生成与分配的多目标优化，附带可见性/隐蔽性评价）",
          "role_in_pipeline": "作为子任务2，在子任务1构建并清洗路网与最短路径矩阵后执行；输入依赖：G、D、最短路径/时距表；输出为R和回路分配方案供后续仿真/在线调度模块使用（后序依赖：离散事件仿真或在线处警调度）",
          "assumptions": "假设需求点D已离散化为网点且权重w_k给定或均匀分布；候选回路在图上闭合并可被车辆持续巡逻；p_i(x,t0)以回路相位均匀随机化计算（随机起始相位）；忽略事件占用导致的车辆临时不可用性"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别生成候选回路库R与回路元数据需求（回路、周期T_i、坐标序列）",
              "description": "检查是否识别并列明需生成候选回路库R及每回路的周期T_i、坐标序列与元数据（p_i、F_i、π_i）。",
              "score": 40,
              "evaluation_focus": "问题拆解",
              "scoring_hint": "高分：明确列出R及每项元数据并给出存储格式；中分：提到R但元数据不完整；低分：未提及回路库R或元数据缺失。"
            },
            {
              "sub_criteria": "识别并量化可见性V与隐蔽性H作为优化目标",
              "description": "检查是否把可见性V（Σ_k w_k Σ_r p_r F_r(k)）与隐蔽性H（熵或最坏‑情形z）纳入目标或约束。",
              "score": 30,
              "evaluation_focus": "目标设定",
              "scoring_hint": "高分：明确给出V与H的数学表达并指出平衡方式；中分：只定性描述V或H；低分：未识别V或H。"
            },
            {
              "sub_criteria": "识别时效性硬约束（2min/3min及三重点要求）与静态假设",
              "description": "检查是否识别T2=2min对三重点的严格覆盖及T3=3min总体覆盖率≥90%等硬约束，并确认静态无占用假设。",
              "score": 30,
              "evaluation_focus": "约束把握",
              "scoring_hint": "高分：明确列出T2/T3数值约束与三重点强制覆盖并写出实现策略；中分：提到但未用数值；低分：未提及或误写阈值。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "准确复述生成回路并计算p_i(x,t0)/p_cov的任务",
              "description": "要求复述如何从回路参数化相位并基于最短路径表计算回路对需求点的p_i(x,t0)覆盖概率。",
              "score": 40,
              "evaluation_focus": "方法复述",
              "scoring_hint": "高分：给出相位参数化与覆盖测度计算流程及所用时距表（Dijkstra）；中分：流程描述含糊但大体正确；低分：无法复述或方法与原任务不符。"
            },
            {
              "sub_criteria": "复述多目标优化变量与约束（p_r或指派y_r、车辆数等）",
              "description": "检查是否能把决策变量（混合概率p_r或分配二元变量）、目标（最大V、最大H或最小z）与车辆数约束明确表达。",
              "score": 40,
              "evaluation_focus": "模型要素",
              "scoring_hint": "高分：列出变量与数学约束并区分确定性分配/混合策略；中分：只给出变量名或只提优化目标；低分：未能描述关键变量与约束。"
            },
            {
              "sub_criteria": "复述候选回路生成与规模化求解策略（贪心/两阶段/GA）",
              "description": "要求复述在大规模时用贪心、遗传或两阶段法生成与筛选回路的策略。",
              "score": 20,
              "evaluation_focus": "可扩展性",
              "scoring_hint": "高分：列举至少两种可扩展启发式并说明适用情形；中分：仅提一种方法；低分：无扩展策略。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "明确p_i/p_cov计算中的随机相位与独立性假设",
              "description": "需说明用回路相位均匀分布计算p_i，及是否假设不同车辆回路相位独立或可控。",
              "score": 30,
              "evaluation_focus": "概率假设",
              "scoring_hint": "高分：明确相位均匀假设并讨论相位相关性影响；中分：仅声明均匀相位；低分：未声明或与任务不符。"
            },
            {
              "sub_criteria": "候选回路生成的图论/路径假设（图连通性、边为最短路径等）",
              "description": "需说明使用Dijkstra/A*基于图G计算最短时距，并假设边权代表真实行驶时间且图已剔除水域不可通行边。",
              "score": 25,
              "evaluation_focus": "图论假设",
              "scoring_hint": "高分：列明边权定义、单位换算与水域掩膜处理；中分：部分说明；低分：未提或矛盾。"
            },
            {
              "sub_criteria": "关于需求离散化与权重w_k的假设",
              "description": "需说明D的离散化规则（交叉口/路段中点等）与w_k设定（均匀/按路长/历史密度）。",
              "score": 25,
              "evaluation_focus": "需求设定",
              "scoring_hint": "高分：给出具体离散化方法并论证权重分配；中分：只给替代方案；低分：无说明或不合理。"
            },
            {
              "sub_criteria": "静态可用性与无占用假设明确性",
              "description": "需声明本子任务采用静态巡逻库模型，不考虑事件占用车辆导致的可用性变化。",
              "score": 20,
              "evaluation_focus": "适用范围",
              "scoring_hint": "高分：明确并讨论影响与后续如何接入动态模块；中分：声明但无讨论；低分：未声明。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "构建回路生成与簇内回路构造模型（Christofides/Savings/LKH等）",
              "description": "需明确在簇内如何生成闭合巡逻回路的算法选项并说明对周期T_i的控制方法。",
              "score": 25,
              "evaluation_focus": "回路生成",
              "scoring_hint": "高分：给出具体算法并说明参数及输出格式；中分：只列出算法名称；低分：无具体构造方案。"
            },
            {
              "sub_criteria": "形式化定义p_i(x,t0)、F_i(k)与p_cov汇总计算",
              "description": "需给出p_i(x,t0)的数学定义（基于相位测度/时距表）及如何从回路F_i导出加权可见性V。",
              "score": 25,
              "evaluation_focus": "覆盖建模",
              "scoring_hint": "高分：给出可实现的向量化公式与计算流程；中分：有表达但不完整；低分：未定义或错误。"
            },
            {
              "sub_criteria": "多目标优化模型（最大V、增加H或最小z）及约束建模",
              "description": "需构建LP/MIP形式或对偶形式，明确变量（p_r或指派y_r）、车辆总数、单车T_max和关键点2min覆盖约束的数学表达。",
              "score": 30,
              "evaluation_focus": "优化公式",
              "scoring_hint": "高分：写出完整可交给求解器的数学模型；中分：目标或约束不全；低分：模型不明确或与任务冲突。"
            },
            {
              "sub_criteria": "隐蔽性模型化（熵H或最坏‑情形z的线性化/对抗表述）",
              "description": "需说明如何量化隐蔽性：熵H=−Σ p_r log p_r 或通过最坏情形未覆盖概率z的对抗形式并给出线性化策略。",
              "score": 20,
              "evaluation_focus": "隐蔽性建模",
              "scoring_hint": "高分：给出可求解的H或z表达并说明权衡系数；中分：提出度量但无解法；低分：忽视隐蔽性或度量不可实现。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "确切求解路径（LP/MIP 使用Gurobi/CPLEX）与规模适用性分析",
              "description": "需列明何时用精确求解器解混合策略LP/MIP，并分析规模上界与预估运行时间。",
              "score": 25,
              "evaluation_focus": "求解选择",
              "scoring_hint": "高分：明确调用求解器版本与规模界限并给出时间估计；中分：仅推荐求解器；低分：无求解策略或不可行。"
            },
            {
              "sub_criteria": "大规模启发式与两阶段策略（贪心/遗传/两阶段）实现细节",
              "description": "需给出启发式的伪代码/流程、多次随机化种子与收敛判据，说明如何用启发式产生初解供LP精修。",
              "score": 30,
              "evaluation_focus": "启发式",
              "scoring_hint": "高分：提供可复现伪代码并有复杂度估计；中分：描述策略但无伪代码；低分：仅概念性描述。"
            },
            {
              "sub_criteria": "验证/选择回路集的评估流程（Pareto前沿/敏感性/交叉验证）",
              "description": "需说明如何用V‑H帕累托前沿、敏感性分析或交叉检验选择最终回路分配方案。",
              "score": 25,
              "evaluation_focus": "方案验证",
              "scoring_hint": "高分：给出具体指标计算与阈值并展示Pareto图或排序规则；中分：只列出要做的分析；低分：无验证流程。"
            },
            {
              "sub_criteria": "可复现性与随机性控制（随机种子、并行化说明）",
              "description": "需说明随机算法的种子控制、并行化策略及结果稳定性检验方法。",
              "score": 20,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：提供种子设定与并行化参数并给结果波动统计；中分：提到但无细节；低分：忽略可复现性。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "最短路径与时距矩阵计算实现（Dijkstra/A*，一致性检验）",
              "description": "要求实现基于Dijkstra/A*的最短时距矩阵计算，并提供一致性或抽样验证（随机点对比）。",
              "score": 30,
              "evaluation_focus": "实现可靠",
              "scoring_hint": "高分：代码可运行并通过抽样一致性测试（误差≤1%）；中分：能运行但无验证；低分：实现错误或无法运行。"
            },
            {
              "sub_criteria": "候选回路库R的生成与元数据保存（p_i、F、周期等）",
              "description": "需实现回路生成模块并导出R与每回路的p_i/p_cov/F_i/周期等结构化文件（JSON/CSV）。",
              "score": 25,
              "evaluation_focus": "数据产出",
              "scoring_hint": "高分：输出格式规范、含完整元数据并附示例文件；中分：输出不完整或需后处理；低分：未生成或格式混乱。"
            },
            {
              "sub_criteria": "优化求解器接口与结果导出（LP/MIP/启发式）",
              "description": "需实现与Gurobi/CPLEX或开源求解器的接口并能导出分配概率p_r或指派方案与日志。",
              "score": 25,
              "evaluation_focus": "求解接口",
              "scoring_hint": "高分：自动化调用求解器并有异常处理与日志；中分：需手动干预；低分：无接口或不稳定。"
            },
            {
              "sub_criteria": "文档、复现脚本与依赖说明",
              "description": "需提供README、运行脚本与依赖环境说明（Python包/求解器版本）以保证可复现性。",
              "score": 20,
              "evaluation_focus": "文档性",
              "scoring_hint": "高分：完整README与一键运行脚本；中分：有简要说明但需手工配置；低分：无文档或不可运行。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "量化并报告可见性V、隐蔽性H与最坏情形未覆盖z",
              "description": "需给出V、H以及最坏情形未覆盖z的数值，并解释其含义与单位（与w_k标准化关系）。",
              "score": 30,
              "evaluation_focus": "指标报告",
              "scoring_hint": "高分：提供数值并与基线或替代方案比较（%增益）；中分：仅给数值无比较；低分：未报告或数字矛盾。"
            },
            {
              "sub_criteria": "按需求点给出p_cov(x,t0)汇总与空间可视化（热力图/表格）",
              "description": "需输出每需求点的p_cov(x,2min)与p_cov(x,3min)并用图表或热力图展示空间分布。",
              "score": 25,
              "evaluation_focus": "可视化",
              "scoring_hint": "高分：含热力图、分位数表和CSV导出；中分：仅表格或仅图；低分：无空间展示。"
            },
            {
              "sub_criteria": "敏感性分析与鲁棒性检验（速度/车辆数/回路集变动）",
              "description": "需对关键参数（v_p/v_r、车辆数、回路集合）做敏感性分析并报告对V/H/p_cov的影响。",
              "score": 25,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：给出多点敏感性曲线并解释临界点；中分：做单因素测试；低分：未做敏感性分析。"
            },
            {
              "sub_criteria": "为后续仿真/在线调度输出可用的轨迹与相位参数文件",
              "description": "需生成可被仿真模块读取的回路轨迹文件（起始相位种子、回路切换概率、周期T_i等）。",
              "score": 20,
              "evaluation_focus": "可用性",
              "scoring_hint": "高分：输出标准化轨迹文件并附读取示例；中分：输出文件但需转换；低分：未输出或格式不兼容。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3（动态仿真、调度策略与指标评估）旨在以离散事件蒙特卡洛仿真为核心，验证并量化在给定路网、巡逻轨迹和报警到达模型下的时效性与巡逻效果，并生成题目要求的逐分钟车辆位置输出文件；其范围包括：输入准备（连通路网G=(V,E)含节点坐标与边几何长度、不可通行水域掩膜、三处重点坐标、预定义的每辆车巡逻回路及其周期/起始相位或驻守点集合、巡逻速度v_p与接警速度v_r、报警时空强度λ(x)或离散需求点及权重、处警服务时间分布S及其参数、调度规则参数如“最近闲置车辆优先”、是否允许多车协同出动等）；模型与算法（用事件驱动框架生成报警到达事件为非齐性泊松过程/给定样本序列，车辆按其当前回路在图上按连续时间移动并保持位置状态，报警发生时从可用车辆集合按最短接警时间（基于图上最短路径、速度v_r）选择派遣车辆；被派出车辆在到达后经历现场服务时间S并在任务完成后按设定策略返回并恢复巡逻或移动至指定待命点；若无可用车辆则按排队规则记录延迟并在车辆可用时派出），仿真细节要求精确追踪车辆在边上的连续位置以支持逐分钟记录（仿真内部时间为秒级或更细，输出按分钟取样并用车辆在道路几何上的插值坐标记录为 (x,y)），事件处理包括车辆出动、到达、服务完成、重返巡逻与可能的回路切换；度量与统计（在每次仿真运行中计算并记录：总体平均响应时间E[T]、响应时间分布与分位数T_90、满足3分钟到达的比例P_{≤3min}、三处重点在2分钟内到达的比例P_{重点,≤2min}、车辆平均占用率/利用率U、同时忙碌概率、路段或区域单位时间被巡逻访问频率作为可见性指标，以及必要时计算策略不可预测性/熵等指标）；仿真实验设计与不确定性处理（建议进行多次独立重复以估计统计置信区间——重复次数为可配置参数，默认不少于N=200次或直至关键指标置信区间足够窄；支持参数扫描以评估对E[S]、Λ=∫λ(x)dx、v_r、车辆故障率等的敏感性）；实现与技术要点（使用离散事件仿真库或自实现事件队列，网络最短路预计算以加速旅行时间查询，图处理可用 NetworkX/igraph，路径/几何插值与记录用高精度浮点，仿真并行化以缩短总运行时间，所有随机数使用可复现的种子且在仿真日志中记录种子和值域）；验证与健壮性检查（在每次运行后核验车辆数守恒、平均速度与路程一致性、最短路计算一致性及边界条件如无可达路径的处理）；输出要求（为满足题目格式，选定某一白天任意连续4小时窗并用确定性随机种子生成该窗内每分钟的每辆车位置，按“警车数目，评价指标值”行头写入主要评价指标并随后逐行输出“时间分钟, (x1,y1),(x2,y2),…,(xn,yn)”直到4小时结束并以End结尾；同时输出汇总统计报告包含上述指标的点估计与置信区间、仿真参数与随机种子、输入文件版本与时间戳、以及用于复现的脚本/命令行），交付物为可复现的仿真代码、参数文件、仿真日志与按格式生成的逐分钟位置文本文件与指标报告；该子任务不包含巡逻回路生成的设计优化过程（仅假定回路或驻守点由上游模块提供或由用户指定），但要求仿真接口清晰以便接入不同回路配置和不同速度/车辆数情景的重复评估。",
      "criteria": {
        "task_understanding": {
          "core_goal": "通过离散事件蒙特卡洛仿真（验证与量化）在给定路网、巡逻轨迹与报警到达模型下评估时效性与巡逻效果并生成逐分钟车辆位置输出文件",
          "expected_output": "逐分钟车辆位置文本文件（4 小时窗）、仿真汇总统计报告（E[T], T_90, P_{≤3min}, P_{重点,≤2min}, U 等带置信区间）、可复现仿真代码与参数文件、仿真日志与随机种子记录",
          "key_inputs_constraints": "1) 路网 G=(V,E)（节点坐标、边几何长度、不可通行水域掩膜）；2) 每辆车的巡逻回路或驻守点集合（有序坐标序列、周期/起始相位或驻守点）；3) 速度参数 v_p=20 km/h, v_r=40 km/h（或用户替代值），并须用于边权时距计算；4) 报警到达模型 λ(x) 或离散需求点与权重；5) 处警服务时间分布 S 与参数；6) 调度规则（例如“最近闲置车辆优先”）、仿真重复次数 N（建议≥200）与输出格式（逐分钟位置、文件头格式）",
          "modeling_type": "仿真+评价",
          "role_in_pipeline": "作为最终验证环节，依赖上游的回路/驻守点输入（子任务2/子任务1）并为决策层输出可复现的性能评估与逐分钟位置文件，后续可供仿真可视化、调度优化或策略比较使用"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别离散事件蒙特卡洛仿真要求",
              "description": "判定任务核心为离散事件蒙特卡洛仿真并识别必须实现的事件类型（报警到达、出动、到达、服务完成、重返巡逻）",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：明确列出所有事件类型并给出事件间关系图；中分：列出主要事件但遗漏少数边界事件；低分：未明确事件驱动或只做时间步近似。"
            },
            {
              "sub_criteria": "识别逐分钟车辆位置输出格式与时间窗要求",
              "description": "明确要求输出某连续4小时窗内每分钟每辆车的(x,y)坐标并以指定头行写入主要评价指标",
              "score": 30,
              "evaluation_focus": "规范理解",
              "scoring_hint": "高分：精确描述文件头与逐分钟行格式并举例；中分：描述输出内容但格式不完全一致；低分：未识别4小时窗或逐分钟粒度。"
            },
            {
              "sub_criteria": "识别并量化时效性约束（3min/2min）",
              "description": "识别 P_{≤3min}≥90% 的总体要求与三处重点 P_{重点,≤2min}=100% 或按题目必须在2分钟内到达的约束",
              "score": 25,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：明确把 P_{≤3min} 作为硬指标并将三重点纳入硬约束；中分：识别两项但未区分硬/软约束；低分：遗漏任一时效阈值。"
            },
            {
              "sub_criteria": "识别可复现性与统计要求（随机种子、重复次数）",
              "description": "识别需记录随机种子、并进行多次独立重复以估计置信区间（建议 N≥200）",
              "score": 15,
              "evaluation_focus": "实验设计",
              "scoring_hint": "高分：明确 N≥200 并说明 CI 计算方法；中分：指定重复但未定量 N；低分：无重复或无随机种子。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述‘仿真输入包含回路与巡逻轨迹’的限定",
              "description": "明确说明本子任务不生成回路，仅接受上游提供的巡逻回路/驻守点与其周期/相位作为输入",
              "score": 30,
              "evaluation_focus": "范围界定",
              "scoring_hint": "高分：清楚写明不包含回路生成并列出需要的回路元数据字段；中分：指出不生成回路但未列全元数据；低分：误认为需生成回路。"
            },
            {
              "sub_criteria": "复述仿真精度与输出粒度要点",
              "description": "表述需进行秒级或更细内部事件驱动以支持逐分钟插值输出，并保持位置几何精度",
              "score": 30,
              "evaluation_focus": "数值精度",
              "scoring_hint": "高分：指明内部时间步(秒级)与逐分钟采样插值方法；中分：指明逐分钟输出但未说明内部精度；低分：只做分钟级离散更新。"
            },
            {
              "sub_criteria": "复述调度规则与派遣逻辑要求",
              "description": "重述需实现的调度规则（如‘最近闲置车辆优先’）、是否允许多车协同与排队逻辑",
              "score": 25,
              "evaluation_focus": "调度理解",
              "scoring_hint": "高分：明确实现最近闲置优先细则并给出冲突处理规则；中分：说明主要调度规则但无边界处理；低分：未明确或给出模糊规则。"
            },
            {
              "sub_criteria": "复述输出报告与日志的可复现需求",
              "description": "重述要求输出仿真日志、随机种子、参数文件与复现脚本以便复现逐分钟位置与统计结果",
              "score": 15,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：列出必须包含的文件与格式并示例；中分：列出部分文件；低分：未提可复现性要求。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "假设报警到达过程（非齐性泊松/离散点）",
              "description": "明确选择并说明报警到达模型（非齐性泊松过程或离散需求点加权）及其参数化方法",
              "score": 30,
              "evaluation_focus": "概率建模",
              "scoring_hint": "高分：给出 λ(x) 的估计方法或离散化策略并论证合理性；中分：选定模型但未充分参数化；低分：未明确到达过程或选用不合理模型。"
            },
            {
              "sub_criteria": "假设处警服务时间分布 S",
              "description": "指定 S 的分布类型（指数/正态/泊松/经验分布）和参数，并说明对结果影响的假设检验方法",
              "score": 25,
              "evaluation_focus": "统计假设",
              "scoring_hint": "高分：用历史数据或合理来源决定分布并做敏感性分析；中分：给定分布但无来源；低分：不说明 S 或给出不合理分布。"
            },
            {
              "sub_criteria": "假设车辆行为与可用性（故障、返回策略）",
              "description": "明确车辆被派出时的不可用期、到达后服务与返回巡逻的恢复策略及是否考虑故障/维护",
              "score": 25,
              "evaluation_focus": "运营假设",
              "scoring_hint": "高分：列出故障率/维护模型并在仿真中实现；中分：说明返回策略但忽略故障；低分：未说明车辆可用性细则。"
            },
            {
              "sub_criteria": "假设空间/几何与最短路基准",
              "description": "陈述路网中边权为基于 v_r 的时间权重、用水域掩膜处理不可通行边与最短路预计算策略",
              "score": 20,
              "evaluation_focus": "几何约束",
              "scoring_hint": "高分：明确边权计算公式并提供预计算缓存策略；中分：描述边权但无细节；低分：未明确路网与水域处理。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "构建离散事件仿真事件队列与处理机制",
              "description": "设计事件队列与处理器以实现报警发生、派遣、到达、服务完成与重返巡逻的精确逻辑",
              "score": 30,
              "evaluation_focus": "算法设计",
              "scoring_hint": "高分：给出事件流程伪码与优先级规则并处理并发事件；中分：描述主要流程但未覆盖并发或边界事件；低分：流程不完整或无法唯一确定顺序。"
            },
            {
              "sub_criteria": "实现连续道路上车辆位置插值与逐分钟记录",
              "description": "基于边的几何坐标与车辆运动（v_p,v_r）实现连续时间位置并采样生成逐分钟(x,y)输出",
              "score": 25,
              "evaluation_focus": "数值实现",
              "scoring_hint": "高分：提供插值公式并在示例路段验证位置误差<边长*1e-3；中分：描述插值但无误差验证；低分：只记录节点位置或分钟级断点。"
            },
            {
              "sub_criteria": "实现基于最短路的派遣时间与可用车辆判定",
              "description": "用预计算的最短行驶时间表快速查询派遣决策，确保派遣按 v_r 计算到达时间并尊重车辆占用状态",
              "score": 25,
              "evaluation_focus": "效率/正确性",
              "scoring_hint": "高分：实现预计算表并在运行中缓存查询；中分：每次运行实时Dijkstra但能工作；低分：派遣时间近似或忽略占用状态。"
            },
            {
              "sub_criteria": "实现排队与多车协同策略",
              "description": "在无可用车时记录排队/延迟并在车辆可用时按规则补派；若允许多车协同，定义协同行为与到达判定",
              "score": 20,
              "evaluation_focus": "调度细节",
              "scoring_hint": "高分：实现排队队列并记录延迟分布，中分：记录延迟但无队列优先级，低分：无延迟记录或错误补派逻辑。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "仿真实验设计与重复性（N 次独立运行与随机种子）",
              "description": "设计多次独立仿真实验以估计指标置信区间，记录随机种子并检查收敛性（建议 N≥200）",
              "score": 35,
              "evaluation_focus": "统计实验",
              "scoring_hint": "高分：N≥200 且给出 CI 计算与收敛图；中分：50≤N<200 且给出部分 CI；低分：N<50 或无重复。"
            },
            {
              "sub_criteria": "关键指标估计与置信区间计算",
              "description": "计算 E[T], T_90, P_{≤3min}, P_{重点,≤2min}, U 等的点估计并给出 95% 置信区间或自助法误差估计",
              "score": 30,
              "evaluation_focus": "统计分析",
              "scoring_hint": "高分：提供95% CI 且 P_{≤3min} CI 下限≥0.90 时标注满足约束；中分：提供点估计和粗略 CI；低分：仅列点估计无 CI。"
            },
            {
              "sub_criteria": "敏感性与参数扫描（v_r, E[S], Λ 等）",
              "description": "对关键参数进行单因素或少量多因素扫描并报告对主要指标的影响",
              "score": 20,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：至少对 v_r 与 E[S] 做扫描并绘制响应趋势；中分：做单点敏感性分析；低分：无敏感性分析。"
            },
            {
              "sub_criteria": "仿真性能与可扩展性评估",
              "description": "评估仿真运行时间、并行化效率与内存占用，说明在大规模场景下的可扩展方案",
              "score": 15,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：给出并行化实施与加速比数据；中分：给出运行时间估计；低分：无性能评估。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现性与文档化（随机种子、参数文件、运行说明）",
              "description": "代码需附带参数文件、随机种子记录与复现说明能在相同环境下复现逐分钟输出",
              "score": 35,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：一键脚本可复现并提供环境/依赖清单与示例输出；中分：提供脚本但需人工设置；低分：无复现说明或关键文件缺失。"
            },
            {
              "sub_criteria": "正确性测试与守恒检查（车辆数守恒等）",
              "description": "实现单元/集成测试或运行时断言检查车辆数守恒、平均速度一致性与最短路一致性",
              "score": 25,
              "evaluation_focus": "测试覆盖",
              "scoring_hint": "高分：包含自动测试并在日志中报告检查结果；中分：提供手动检查脚本；低分：无守恒或一致性检验。"
            },
            {
              "sub_criteria": "性能实现（最短路预计算、并行仿真、结果流写入）",
              "description": "实现最短路预计算以加速派遣查询，支持并行独立重复并高效写入逐分钟结果文件",
              "score": 25,
              "evaluation_focus": "工程实现",
              "scoring_hint": "高分：预计算表+并行化+增量写入；中分：预计算或并行化之一；低分：每次查询都跑完整最短路且无并行化。"
            },
            {
              "sub_criteria": "输出格式与合规性（题目规定的文件格式）",
              "description": "生成按题目规定头行写入评价指标并随后逐行输出“时间分钟,(x1,y1),…,(xn,yn)”直到 End 的文本文件",
              "score": 15,
              "evaluation_focus": "格式合规",
              "scoring_hint": "高分：输出严格符合格式并提供样例文件；中分：内容正确但格式细节偏差；低分：输出格式与要求不符。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "关键时效指标计算（E[T], T_90, P_{≤3min}, P_{重点,≤2min}）",
              "description": "对全局与重点点位计算并解释 E[T], T_90, P_{≤3min} 与 P_{重点,≤2min} 的数值与是否满足约束",
              "score": 30,
              "evaluation_focus": "指标评估",
              "scoring_hint": "高分：提供数值、95% CI 并明确是否满足约束；中分：提供点估计并部分解释；低分：指标不全或无判断。"
            },
            {
              "sub_criteria": "车辆利用率与占用率分析 U 与同时忙碌概率",
              "description": "报告车辆平均占用率、同时忙碌概率并讨论对调度与配备建议的影响",
              "score": 25,
              "evaluation_focus": "运营洞见",
              "scoring_hint": "高分：提供分时段占用率曲线并提出建议；中分：给出平均占用率；低分：无占用率分析。"
            },
            {
              "sub_criteria": "可见性/巡逻访问频率与逐段统计",
              "description": "计算路段或区域单位时间被巡逻访问频率并用热力图或数表展示以量化可见性",
              "score": 20,
              "evaluation_focus": "空间分析",
              "scoring_hint": "高分：提供分段频率分布并与需求权重结合；中分：提供总频率但未与需求对应；低分：无访问频率分析。"
            },
            {
              "sub_criteria": "统计显著性与不确定性讨论（置信区间、结果稳健性）",
              "description": "讨论主要结论在参数不确定性下的稳健性并提供敏感性结果摘要",
              "score": 15,
              "evaluation_focus": "不确定性量化",
              "scoring_hint": "高分：给出参数变化下的敏感性表与置信区间影响；中分：概述可能方向但无量化；低分：忽略不确定性讨论。"
            },
            {
              "sub_criteria": "验证与健壮性检查报告（车辆守恒、最短路一致性）",
              "description": "列出并通过数据证明已执行的验证项（车辆数守恒、平均速度与行程一致性等）",
              "score": 10,
              "evaluation_focus": "验收检查",
              "scoring_hint": "高分：全部验证通过并给出数值；中分：部分验证并有说明；低分：无验证或验证失败无解释。"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（鲁棒性、隐蔽性博弈与敏感性分析）的目标是对给定候选巡逻回路库R及其对各需求点在规定时间阈值t0下的覆盖概率向量p_r(x,t0)进行对抗性和不确定性评估与优化，以确定随机化巡逻策略在最恶劣攻击者行为与关键参数波动下的稳健性并提出可操作的冗余与应急措施；具体范围包括输入准备（必需输入：候选回路集合R，每回路对离散需求点集合D的覆盖概率矩阵 p_r(k)=Prob_{回路相位/车辆可用}［在t0内到达需求点k］；需求点权重w_k；车辆总体数n及其可用性统计（车辆在任意时刻可用概率或占用分布）；处警服务时间分布S及其期望E[S]；关键时间阈（如2min、3min）；以及网络最短路径/时间矩阵用于快速重算），建模与求解方法为核心步骤：① 构造零和对抗博弈，将防守者策略建模为对回路库R的混合概率分布 p=(p_r)（含相位随机化参数），攻击者选择目标点k和时间以最大化未被覆盖的成功概率；② 将博弈的最小化最坏‑情形成功概率 z 表述为线性规划或其对偶问题：最小化 z 使得对所有需求点 k 有 Σ_r p_r p_r(k) ≥ 1−z（并加上 p_r ≥0, Σ p_r =1），如需同时兼顾对某些高优先级点的覆盖下限，可在约束中强制 Σ_r p_r p_r(k) ≥ α_k；③ 在存在参数不确定性（例如报警率Λ、E[S]、车辆失效率、v_r下降导致p_r(k)变化）时，采用情景化稳健优化或鲁棒优化技术：构造若干不利场景集S_c（或基于参数区间采用不确定集），对每一情景分别重算 p_r(k) 并解稳健LP或求解带约束的最小最大值问题以得到对所有场景下均能控制的最坏成功概率 z^*，或者在概率型限制下采用分布鲁棒/Chance‑constrained 形式保证在指定置信水平下满足覆盖要求；④ 用数值仿真（蒙特卡洛或离散事件仿真器）验证博弈解与鲁棒解的实际表现：在每个场景中模拟报警到达与车辆占用过程，评估实际的覆盖概率、响应时间分布及攻击者成功率，以估计解的统计性能与置信区间并校验LP线性化假设的近似误差；⑤ 进行系统化的敏感性分析与压力测试：对关键参数（Λ、E[S]、v_r、车辆可用性、单点暴增的需求权重、部分回路失效等）做单因子和多因子扫描，计算目标指标对参数变动的弹性和临界阈值（例如当某参数超过阈值时需增加多少辆车或调整多少回路概率才能保持 z^* ≤ 目标）；⑥ 基于上述结果制定可操作建议与应急策略，例如需保留的最少冗余车辆数、优先级驻守点或短周期备份回路、在线再优化或模型预测控制（MPC）触发规则、以及回路概率更新频率，以在实时信息（车辆故障、突发活动）到来时迅速切换到预先验证的稳健策略；⑦ 输出与可复现性要求：生成并交付（A）最优混合策略 p_r 及对应的最坏‑情形成功概率 z^*（按基准与每一场景分列），（B）敏感性与阈值表格/曲线，(C) 推荐的冗余/应急政策及触发条件，(D) 仿真验证报告包含样本路径、置信区间与随机种子，(E) 完整可执行代码与参数文件以便复现。实现工具建议包括 Python 生态（NetworkX/igraph 用于网络操作，numpy/pandas 作数值处理，CVX/Gurobi/CPLEX 求解 LP/鲁棒 LP，SimPy 或自实现离散事件仿真器做蒙特卡洛验证），并采用并行化运行以加速大规模情景测试；该子任务不涉及回路生成或巡逻路径设计的创生阶段，而专注于在给定回路库及其覆盖描述下，通过博弈论、鲁棒优化与仿真相结合的方法，系统地评估、优化并给出面向操作的鲁棒与隐蔽性保障策略与量化决策依据。",
      "criteria": {
        "task_understanding": {
          "core_goal": "优化并评估混合巡逻策略 p_r，以最小化最坏‑情形成功概率 z（对抗性/鲁棒情景下的防守最小‑最大问题）并通过仿真验证策略稳健性",
          "expected_output": "最优混合策略 p_r 向量、最坏‑情形成功概率 z^*（按情景分列）、情景化/鲁棒 LP 模型文件或说明、敏感性/阈值表与曲线、蒙特卡洛仿真验证报告（含置信区间）、可执行代码与参数文件",
          "key_inputs_constraints": "1) 候选回路库 R：每回路对离散需求点集合 D 的覆盖概率矩阵 p_r(k)（数值矩阵）；2) 需求点权重 w_k（向量，非负且归一化或有总权重说明）；3) 车辆总数 n 与车辆可用性统计（可用概率或占用分布）；4) 处警服务时间分布 S 与 E[S]（参数化或样本）；5) 关键时间阈 t0（例如2min/3min），以及网络最短路径/时间矩阵用于重算（若有）",
          "modeling_type": "优化+仿真+评价",
          "role_in_pipeline": "作为回路库生成与仿真评估之后的鲁棒性与隐蔽性决策层：依赖上游的候选回路库 R 与覆盖概率矩阵 p_r(k)，输出稳健混合策略 p_r 与建议供下游调度/仿真验证使用"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别‘最坏‑情形成功概率 z’的防守目标",
              "description": "检验是否明确把问题表述为最小化最坏‑情形攻击成功概率 z（线性约束 Σ_r p_r p_r(k) ≥ 1−z），并识别该量在决策中的角色。",
              "score": 40,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：准确写出 z 的定义并能说明其与 p_r(k)、w_k 的关系；中分：提及 z 为最坏情形指标但未给出约束形式；低分：未识别 z 或错误理解为期望指标。"
            },
            {
              "sub_criteria": "识别混合策略 p_r 与候选回路库 R 的依赖关系",
              "description": "检查是否识别策略是对回路库 R 的混合概率分配 p_r，并说明 p_r(k)（回路覆盖概率矩阵）为输入。",
              "score": 35,
              "evaluation_focus": "问题识别",
              "scoring_hint": "高分：明确列出 R、p_r、p_r(k) 的输入输出关系并指出可变性；中分：提及 R 与 p_r 但未说明 p_r(k) 的用途；低分：混淆回路选择与覆盖概率。"
            },
            {
              "sub_criteria": "识别情景/参数不确定性与鲁棒需求",
              "description": "验证是否识别报警率、车辆可用性、v_r、E[S] 等不确定参数并指出情景化或鲁棒优化需求。",
              "score": 25,
              "evaluation_focus": "风险识别",
              "scoring_hint": "高分：列出 ≥3 个不确定参数并建议情景集或不确定集；中分：仅笼统提到不确定性；低分：忽略参数不确定性。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述目标：最小化 z^* 并兼顾 α_k 下限",
              "description": "要求重述最小化最坏‑情形成功概率 z^*，并说明可加入对高优先级点 α_k 的覆盖下限约束。",
              "score": 35,
              "evaluation_focus": "目标表述",
              "scoring_hint": "高分：精确写出目标函数形式或等价 LP 目标并举例 α_k 约束；中分：写出目标但未提 α_k 变体；低分：目标模糊或与其他指标混淆。"
            },
            {
              "sub_criteria": "复述鲁棒化方法：情景化/分布式/不确定集",
              "description": "要求复述至少一种稳健化实现（情景化稳健优化、分布鲁棒或 Chance‑constrained）并说明输出指标 z^* 在各场景下的解读。",
              "score": 35,
              "evaluation_focus": "方法理解",
              "scoring_hint": "高分：给出情景化或分布鲁棒方法并说明如何合并场景约束；中分：提到鲁棒但无实现细节；低分：未提鲁棒方法。"
            },
            {
              "sub_criteria": "复述验证：用蒙特卡洛仿真验证 p_r 的实际覆盖率",
              "description": "检查是否明确要求用蒙特卡洛/离散事件仿真验证 LP 解在随机事件下的覆盖概率与 z^* 的一致性并报告置信区间。",
              "score": 30,
              "evaluation_focus": "验证规划",
              "scoring_hint": "高分：要求 N≥200 重复或给出置信区间；中分：建议仿真但未给重复次数；低分：未包含仿真验证。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "对覆盖概率 p_r(k) 的统计假设",
              "description": "需明确 p_r(k) 的来源与假设（基于回路相位均匀化、车辆可用率独立或用仿真估计等）。",
              "score": 30,
              "evaluation_focus": "假设透明",
              "scoring_hint": "高分：列明 p_r(k) 估计方法与独立性/相关性假设；中分：说明来源但不详述假设；低分：未说明 p_r(k) 的统计前提。"
            },
            {
              "sub_criteria": "对需求点权重 w_k 与攻击者策略的假设",
              "description": "需说明 w_k 是否表示攻击价值、是否已归一化以及攻击者是否知晓防守混合策略 p_r。",
              "score": 25,
              "evaluation_focus": "攻击假设",
              "scoring_hint": "高分：明确 w_k 定义并说明攻击者信息集（完全信息/部分信息）；中分：给出 w_k 但未说明攻击者信息；低分：忽略 w_k 或攻击者模型。"
            },
            {
              "sub_criteria": "对车辆可用性与服务时间 S 的假设",
              "description": "需陈述车辆可用概率/占用分布、E[S] 假定及其对 p_r(k) 的影响（是否进行情景敏感重算）。",
              "score": 25,
              "evaluation_focus": "参数假设",
              "scoring_hint": "高分：给出具体可用性模型与备选场景；中分：给出单一定值；低分：未说明车辆占用或服务时间。"
            },
            {
              "sub_criteria": "对模型线性化与独立性的假设说明",
              "description": "需说明将博弈转为线性约束（Σ_r p_r p_r(k) ≥ 1−z）时潜在近似及何时该线性化失效。",
              "score": 20,
              "evaluation_focus": "线性化假设",
              "scoring_hint": "高分：明确列举线性化局限并建议验证方法；中分：提及但不深入；低分：无任何讨论。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "构建鲁棒博弈 LP（最小化 z）",
              "description": "要求给出标准 LP 形式：变量 p_r、z；约束 Σ_r p_r p_r(k) ≥ 1−z ∀k；Σ_r p_r=1；p_r≥0，并列出求解目标。",
              "score": 35,
              "evaluation_focus": "数学建模",
              "scoring_hint": "高分：正确给出 LP 并考虑 α_k、优先级权重等扩展；中分：LP 形式正确但缺扩展；低分：LP 表述错误或遗漏关键约束。"
            },
            {
              "sub_criteria": "情景化/鲁棒扩展建模",
              "description": "需构建情景化鲁棒 LP（多情景约束）或不确定集下的对偶形式，并说明如何合并场景或设置置信水平。",
              "score": 25,
              "evaluation_focus": "鲁棒建模",
              "scoring_hint": "高分：提供情景集合 S_c 与相应 LP 并说明如何计算 z^*；中分：描述思想但无数学式；低分：未给出鲁棒扩展。"
            },
            {
              "sub_criteria": "将隐蔽性/熵指标纳入模型",
              "description": "检查是否把隐蔽性度量（如 H=−Σ p_r log p_r）或最坏情形未覆盖概率最小化与熵权衡作为复合目标或约束。",
              "score": 20,
              "evaluation_focus": "目标扩展",
              "scoring_hint": "高分：给出带熵项的多目标/正则化形式并说明权重选择策略；中分：提出熵指标但未整合入优化；低分：忽略隐蔽性。"
            },
            {
              "sub_criteria": "可计算性与规模化处理建模",
              "description": "需说明当回路数 |R| 或情景数很大时的降维或近似策略（样本平均、列生成、削减变量或贪心近似）。",
              "score": 20,
              "evaluation_focus": "规模化",
              "scoring_hint": "高分：提供具体降维方法并给出复杂度估计；中分：建议启发式但无细节；低分：无规模化方案。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "LP/鲁棒 LP 的求解与对偶使用",
              "description": "要求说明所选求解器（Gurobi/CVX/CPLEX）或对偶方法以高效解线性化/鲁棒 LP，并给出可重现求解参数。",
              "score": 35,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：列出求解器版本、求解参数并给出求解时间/可行性证据；中分：指定求解器但无参数或时间；低分：未指定或不可复现。"
            },
            {
              "sub_criteria": "情景数/样本数的选择与近似误差控制",
              "description": "需说明如何选择情景样本数、对样本平均法误差的估计及如何保证 z^* 的置信水平或上界。",
              "score": 25,
              "evaluation_focus": "误差控制",
              "scoring_hint": "高分：给出 N、集中不等式或置信区间估计；中分：给出经验 N 值；低分：无样本数或误差讨论。"
            },
            {
              "sub_criteria": "敏感性/弹性计算与临界阈值求解",
              "description": "要求提供对关键参数（车辆数 n、E[S]、车辆可用率）的单因子弹性或阈值计算并给出增量建议。",
              "score": 25,
              "evaluation_focus": "敏感性分析",
              "scoring_hint": "高分：提供参数变化导致 z^* 变化曲线并给出阈值点；中分：列出方向性影响；低分：无敏感性分析。"
            },
            {
              "sub_criteria": "仿真验证接口与误差校验",
              "description": "需描述如何用蒙特卡洛/离散事件仿真校验 LP 解并估计 LP 线性化误差（提供仿真统计量与置信区间）。",
              "score": 15,
              "evaluation_focus": "验证方法",
              "scoring_hint": "高分：给出仿真方案、重复次数≥200、并报告置信区间；中分：仿真但次数较少或无置信区间；低分：无仿真验证。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现的优化代码与输入/输出接口",
              "description": "要求交付可直接运行的优化代码（读取 R、p_r(k)、w_k、情景集），并输出 p_r、z^* 及敏感性表，代码应有运行说明与依赖列表。",
              "score": 35,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：提供完整脚本、示例输入、依赖版本与运行命令并能复现结果；中分：代码存在但文档不全；低分：无代码或不可运行。"
            },
            {
              "sub_criteria": "仿真验证脚本与随机种子控制",
              "description": "要求提供蒙特卡洛/离散事件仿真实现（或调用仿真器），并保证随机种子可复现仿真结果与置信区间生成。",
              "score": 25,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：仿真脚本、种子记录、并行化实现与日志；中分：仿真代码但无种子记录；低分：没有仿真实现。"
            },
            {
              "sub_criteria": "性能与规模化实现（并行/向量化）",
              "description": "检查是否对大规模回路或情景做并行化、向量化或列生成以加速 p_r(k) 乘算与 LP 构建。",
              "score": 20,
              "evaluation_focus": "工程实现",
              "scoring_hint": "高分：实现并行/向量化并给出加速比；中分：有优化尝试但无性能数据；低分：未考虑规模化。"
            },
            {
              "sub_criteria": "结果保存与可视化输出",
              "description": "要求输出 p_r、z^*、每场景 z，以及敏感性曲线与表格的可机读文件（CSV/JSON）与基本可视化图。",
              "score": 20,
              "evaluation_focus": "输出规范",
              "scoring_hint": "高分：提供标准化文件与图像并附说明；中分：仅提供部分文件；低分：输出不可解析或缺失。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "仿真验证：报告实际覆盖率与 z^* 的一致性",
              "description": "需用仿真数据报告各需求点实际被覆盖概率、总体 P_{≤t0}、与 LP 预测 Σ_r p_r p_r(k) 的差异及置信区间。",
              "score": 35,
              "evaluation_focus": "统计验证",
              "scoring_hint": "高分：提供点估计、95% 置信区间、并解释偏差来源；中分：提供点估计但无置信区间；低分：无仿真对比或仅口头描述。"
            },
            {
              "sub_criteria": "敏感性/阈值报告与运维建议",
              "description": "需给出关键参数阈值（例如车辆数下限）及对应的操作性建议（冗余车辆数、备份回路、触发再优化规则）。",
              "score": 30,
              "evaluation_focus": "运营建议",
              "scoring_hint": "高分：列出具体阈值与对应措施并给出定量依据；中分：有建议但无量化阈值；低分：只有抽象建议。"
            },
            {
              "sub_criteria": "隐蔽性度量结果与权衡分析",
              "description": "报告隐蔽性指标（如熵 H 或最坏‑情形未覆盖概率 z）在不同策略间的权衡，并给出决策者可选的权重建议。",
              "score": 20,
              "evaluation_focus": "权衡分析",
              "scoring_hint": "高分：给出多策略对比表并量化可见性/隐蔽性权衡；中分：仅报告单一策略的隐蔽性值；低分：忽略隐蔽性分析。"
            },
            {
              "sub_criteria": "结果不确定性与复现性披露",
              "description": "需披露结果的随机性来源、置信区间、仿真随机种子、以及模型局限性和假设可能对结果的影响。",
              "score": 15,
              "evaluation_focus": "不确定性说明",
              "scoring_hint": "High: 列出种子、置信区间与模型局限并提供替代方案；Mid: 部分披露；Low: 无不确定性说明。"
            }
          ]
        }
      }
    }
  }
}