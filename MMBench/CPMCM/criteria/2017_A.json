{
  "task_id": "2017_A",
  "problem": "问题一：灾情巡查\n\n大地震发生后，及时了解灾区情况是制订救援方案的重要前提。为此，使用无人机携带视频采集装置巡查 7 个重点区域中心方圆 10 公里(并集记为 S)以内的灾情。假设无人机飞行高度恒为 4200米，将在地面某点看无人机的仰角大于 60°且视线不被山体阻隔视为该点被巡查。若所有无人机均从基地 H(110,0)(单位：千米)处派出，且完成任务后再回到 H，希望在 4小时之内使区域 S 内海拔 3000米以下的地方尽可能多地被巡查到，最少需要多少架无人机？覆盖率是多少？每架无人机的飞行路线应如何设计？在论文中画出相应的飞行路线图及巡查到的区域（不同的无人机的飞行路线图用不同的颜色表示）。\n\n进一步，为及时发现次生灾害，使用无人机在附件 1给出的高度低于 4000 米的区域（不限于 S）上空巡逻。问最少需要多少架无人机、如何设定每架无人机的飞行时间、路线，才能保证在 72小时内，上述被巡查到的地方相邻两次被巡查的时间间隔不大于 3小时(无人机均需从 H出发并在 8小时内回到 H，再出发的时间间隔不小于 1小时)？\n\n问题二：生命迹象探测\n\n使用无人机携带生命探测仪搜索生命迹象，能够给灾后救援提供准确的目标定位。拟从基地 H(110,0)，J(110,55)(单位：千米)处总共派出 30架无人机(各 15架)，任务完成后回到各自的出发地。探测仪的有效探测距离不超过 1000米，且最大侧视角(探测仪到可探测处的连线与铅垂线之间的夹角)为 60度。请你们规划它们的飞行路线，使附件 1所给出的全区域内海拔 3000米以下部分能被探测到的面积尽可能大，且使从第一架无人机飞出到最后一架完成任务的无人机回到基地的时间间隔尽量短。\n\n问题三：灾区通信中继\n\n大地震发生后，地面电力设施被破坏，灾区通信中断。太阳能无人机(白天不受续航能力限制，其余条件同前述)可以作为地面移动终端之间的通信中继，为灾区提供持续的通信保障(地面终端只能与无人机进行通信，无人机之间只要不超过最大通信距离就可以互相通信，地面与地面之间的通信由无人机转接)。假设无人机在空中飞行时，可与距离 3000米以内的移动终端通信，无人机之间的最大通信距离为 6000米，问最少需要多少架无人机、每架无人机的飞行路线如何，才能保证在白天 12小时内，附件 2中的任意两个地面终端之间都能实现不间断通信(作为中继的无人机之间的切换时间忽略不计，地面终端的移动距离不超过 2千米)？\n\n问题四：无人机对地的数据传输\n\n指挥中心拟从 H派出 3架无人机携带通信装备向灾区内的 72个地面终端(分布见附件 2)发送内容不同，总量均为 500M(1M按 10^6比特计算)的数据。设每台通信装备的总功率是 5瓦，可同时向不超过 10个地面终端发送数据。数据传输过程可以简化为：当地面终端 i 看无人机的仰角大于 30°、距离不超过 3000 米且没有山体阻隔时，如果无人机当前服务用户少于 10个，则开始向 i 发送数据，并瞬间完成所有用户的功率再分配，否则，搁置 i 的需求，直到有地面用户退出，若此时 i 仍在可服务区域，则为 i 服务（先到先服务）。如果在一个服务时间区间（即无人机和终端之间满足可传输数据条件的时间范围）内不能传完全部数据，则以后区间可以续传。再设 i 用户在时刻 t 接收到无人机发送的信息速率为：\n\n\\begin{equation}\nr_i(t) = B_i \\log_2 \\left( 1 + \\frac{p_i(t)}{\\rho_0 d(u,i)^2} \\right)\n\\end{equation}\n\n其中，$B_i$ 表示无人机服务 i 的子信道带宽(取值见附件 2，单位Hz)，$p_i(t)$ 表示 t时刻无人机为第 i个地面用户所在的子信道分配的功率, 单位：w(瓦)，$d(u,i)$ 表示 t时刻无人机与 i 之间的欧氏距离，单位：米。$\\rho_0$ 为信道特性参数，为简单起见，取为 $4.314 \\times 10^{-13}$（单位略）。假设无人机飞行速度在 60~100千米/小时之间可调(水平面内最大加速度 ±5米/秒^2，铅垂面内最大加速 ±2米/秒^2，可同时在两个方向上加速)，请你们为无人机设计恰当的航线、速度以及所服务的用户，并为每一个用户分配恰当的功率，使得无人机完成所有任务的时间总和尽量短。",
  "subtask": {
    "1": {
      "subtask": "子任务 1 — 数据预处理与几何/可视与可通信判定：本子任务的目标是把附件1（DEM）和附件2的终端位置标准化为统一坐标与单位、清理和重采样高程数据，并构建一套可重复调用的几何判定例程与中间数据产品，以供后续轨迹生成和调度优化使用；具体工作包括（1）坐标与单位统一：将题目中所有千米单位转换为米（例如 H=(110000,0)、J=(110000,55000)），把 DEM 的栅格行列 (i,j) 映射为平面坐标 x=38.2*(i−1) m, y=38.2*(j−1) m，标签高度 h(i,j)（m）；（2）数据清洗与多分辨率重采样：检测并插值缺失值，生成两套栅格分辨率——原始分辨率（38.2 m）用于最终精验，粗分辨率（建议 200–500 m）用于快速筛选与启发式计算；（3）任务区域与候选航点生成：在 S 区（以 7 个中心点，各半径10 km 的并集）及全域按用户可设间隔（建议粗网格 200–500 m）生成候选航点集合 W，并为每航点在若干航向角上离散（例如每 15° 或每 30°）以代表不同朝向的视域；同时保留原始 DEM 点作为潜在被观测像元集合 G（仅统计海拔小于某阈值的像元以减少规模）；（4）可视/可通信判定模型定义：明确判定条件并参数化——例如视角阈值 φ（问题一 φ>60°、问题四 φ>30°）、侧视扇形参数（最大检测距离、最大侧视角）、地空与空空通信半径（例如 3000 m/6000 m）以及最小安全垂直间隙（50 m）与最大飞行高度（≤5000 m）；（5）LoS 与仰角/侧视角判定实现细节：对任一地面像元 g 与候选航点 w 计算水平距离、直线仰角，并沿直线段 P–U 以不超过栅格对角长度（或更保守的固定步长，如 20–38.2 m）采样地形剖面，判定对所有采样点 Q 是否满足 terrain_elevation(Q)+安全间隙 ≤ 线段高度(z(Q))；若通过且仰角/侧视角与距离条件满足，则将 g 记入该航点的可视集合 V(w)；对移动终端或鲁棒性需求，采用 worst‑case 扩展（把终端位置视为移动圆并相应扩大覆盖半径或在判定时在移动圆上取若干样本点）。为侧视探测器，结合航向方向在航段上对离散时间点累积扇形覆盖；（6）计算加速与工程实现：先用粗分辨率和快速近似（如坡度投影或数字视域/ hillshade 粗筛）剔除不可能可视组合，再对候选对做精采样；实现时采用矢量化矩阵运算、Bresenham 或射线追踪加速 LoS 采样，并行化（多线程/多进程或 GPU）以处理大规模对比；建议工具栈包括 GDAL/rasterio 进行栅格 IO，NumPy/SciPy 做数值计算，shapely/pyproj 做几何与投影变换，若需要可用 Cython 或并行库加速关键内核；（7）输出规范化中间产品：为每个候选航点和每类阈值生成并保存可视集合索引 V_60、V_30、V_side 等，生成 LoS 二值掩码栅格、每像元的最大可视仰角/最小遮挡距离表、以及航点间的空空/空地邻接矩阵（基于欧氏距离阈值并考虑地形约束），文件格式建议 GeoTIFF（栅格）、CSV/Parquet（索引表）和二进制序列化（如 pickle）以利下游快速读取；（8）质量控制与参数建议：记录用于判定的采样步长、角度分辨率与网格间距，并保留粗→细两级结果以便后续验证和敏感性分析。该子任务独立交付的数据与函数应能在不依赖其它模块的情况下被调用以回答“给定 UAV 位置/航向，哪些地面像元在特定阈值下可被观测/通信”的查询。",
      "criteria": {
        "task_understanding": {
          "core_goal": "构建并评估用于无人机巡查/通信的DEM预处理与可视/可通信判定模型与数据产品，以支持后续轨迹优化与调度",
          "expected_output": "多分辨率DEM栅格(GeoTIFF)、候选航点与航向集合W(CSV/Parquet)、被观测像元集合G索引、可视/可通信索引表V_60/V_30/V_side(Parquet或pickle)、LoS二值掩码与最大仰角栅格、空空/空地邻接矩阵、可调用函数接口(代码与文档)",
          "key_inputs_constraints": "输入：附件1 DEM(2775x2913, 38.2m栅格, 米)、附件2地面终端坐标(千米需转米)、重点区域中心A–G(千米)。约束：最大飞行高度≤5000m，安全间隙≥50m，仰角阈值φ>60°(问题一)、φ>30°(问题四)、地空通信半径≤3000m、空空≤6000m，转弯半径≥100m，DEM缺失值需插值；输出需含粗(200–500m)与细(38.2m)两级产品；判定需考虑侧视角≤60°与最大探测距离≤1000m。",
          "modeling_type": "仿真+评价",
          "role_in_pipeline": "作为数据清洗与几何判定模块，位于航迹生成/优化之前；前序依赖原始DEM与终端位置文件；后序任务为覆盖优化、调度与通信/传输仿真。提供标准化中间数据与API以回答“给定UAV位置/航向，可观测/可通信像元集合”查询。",
          "assumptions": "若DEM含NaN以双线性+邻域中值补齐；粗分辨率默认300m；LoS采样步长默认≤38.2m；投影为平面直角坐标，无地球曲率；移动终端2km范围用8点圆周采样近似worst-case。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "坐标与单位统一（千米→米、DEM行列→平面x,y）",
              "description": "是否明确将H/J与A–G等千米坐标统一转米，并给出x=38.2*(i−1), y=38.2*(j−1)的DEM映射与高度h(i,j)单位为米。",
              "score": 30,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：给出公式与示例并验证边界尺寸；中分：仅口述转换无验证；低分：遗漏或混用单位。"
            },
            {
              "sub_criteria": "可视/可通信判定条件识别（φ阈值、半径、安全间隙）",
              "description": "是否完整列出φ>60°/φ>30°、侧视角≤60°、地空3000m/空空6000m、安全间隙≥50m、最大高度≤5000m等参数。",
              "score": 35,
              "evaluation_focus": "约束提取",
              "scoring_hint": "高分：参数成表且可配置；中分：缺少1–2项；低分：关键阈值缺失或数值错误。"
            },
            {
              "sub_criteria": "多分辨率与任务区域S识别",
              "description": "是否明确S为7圆并集(半径10km)与全域两级分辨率应用场景（粗筛与精验）。",
              "score": 35,
              "evaluation_focus": "场景理解",
              "scoring_hint": "高分：阐明S与全域各自用途；中分：只提到S或全域其一；低分：未区分多级用途。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "核心目标复述（LoS与仰角/侧视角判定API）",
              "description": "将目标表述为“生成可重复调用的LoS/仰角/通信判定函数及中间数据产品”。",
              "score": 30,
              "evaluation_focus": "表述准确",
              "scoring_hint": "高分：含输入/输出签名与适用阈值；中分：仅描述功能；低分：偏离为覆盖优化等后续任务。"
            },
            {
              "sub_criteria": "输入输出边界与格式（GeoTIFF/CSV/Parquet/pickle）",
              "description": "清晰复述所需文件格式与索引结构（V_60、V_30、邻接矩阵）。",
              "score": 35,
              "evaluation_focus": "接口定义",
              "scoring_hint": "高分：列出字段命名与索引方式；中分：只提格式；低分：未说明格式或含糊其辞。"
            },
            {
              "sub_criteria": "两级流程复述（粗筛→精采样）",
              "description": "能以流程顺序说明粗分辨率快速筛选后进行射线LoS精验。",
              "score": 35,
              "evaluation_focus": "流程化",
              "scoring_hint": "高分：给出筛选准则与阈值；中分：仅描述有两级；低分：无流程或顺序错误。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "缺失值插值与DEM质量假设",
              "description": "明确采用双线性/中值混合插值与边界处理，说明对结果影响与记录元数据。",
              "score": 30,
              "evaluation_focus": "合理性",
              "scoring_hint": "高分：给出窗口大小与验证计划；中分：只说明方法；低分：未处理缺失值。"
            },
            {
              "sub_criteria": "LoS采样步长与精度-代价权衡",
              "description": "设定≤38.2m步长或Bresenham，并说明对误差与速度的影响。",
              "score": 30,
              "evaluation_focus": "数值设定",
              "scoring_hint": "高分：给出误差上界或经验基准；中分：仅给步长；低分：未设或过大步长。"
            },
            {
              "sub_criteria": "移动终端worst‑case近似",
              "description": "用圆周多点采样或半径放缩表示2km移动范围并说明取样数。",
              "score": 40,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：说明采样点数≥8与角度间隔；中分：仅提放缩；低分：忽略终端移动。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "几何判定模型（仰角、侧视角、距离）公式化",
              "description": "明确仰角tan^-1((z_u−z_g)/d_h)、侧视角与探测距离≤1000m、φ阈值与安全间隙约束。",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：给出变量定义与边界条件；中分：缺1项；低分：公式错误或缺失关键量。"
            },
            {
              "sub_criteria": "LoS射线与地形剖面检验",
              "description": "定义沿P–U采样点Q的z_line(Q)与terrain(Q)+50m比较的通过准则。",
              "score": 35,
              "evaluation_focus": "算法设计",
              "scoring_hint": "高分：给出采样策略与插值；中分：有描述无细节；低分：未考虑安全间隙。"
            },
            {
              "sub_criteria": "多分辨率数据结构与索引V_60/V_30/V_side",
              "description": "设计航点-像元倒排索引与栅格掩码，区分粗/细两级存储。",
              "score": 30,
              "evaluation_focus": "数据建模",
              "scoring_hint": "高分：说明键空间与压缩策略；中分：仅描述索引；低分：缺统一索引结构。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "粗筛加速（坡度/阴影或包围盒距离）",
              "description": "先用距离/坡度投影/数字视域快速剔除不可能可视的对，减少精验量。",
              "score": 35,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：量化筛除比例或时间提升；中分：仅概述；低分：无粗筛。"
            },
            {
              "sub_criteria": "LoS采样实现（Bresenham/矢量化）",
              "description": "采用整数栅格步进或矢量化批量计算，处理边界与插值。",
              "score": 35,
              "evaluation_focus": "数值实现",
              "scoring_hint": "高分：说明复杂度与内存控制；中分：给出方法无复杂度；低分：逐像素低效循环。"
            },
            {
              "sub_criteria": "并行化与性能评测",
              "description": "使用多进程/线程或GPU并报告吞吐量、加速比、峰值内存。",
              "score": 30,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：提供基线对比与统计；中分：仅开启并行；低分：无性能证据。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "IO与数据格式（GDAL/rasterio, GeoTIFF/Parquet）",
              "description": "可靠读写DEM与索引，含坐标参考与无损压缩，文件校验。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：含CRS/NoData与统计校验；中分：能读写；低分：坐标或NoData错误。"
            },
            {
              "sub_criteria": "API设计（query_visibility/query_comm）",
              "description": "提供给定UAV位置/航向与阈值返回可视/可通信像元的函数，含批量接口。",
              "score": 35,
              "evaluation_focus": "接口设计",
              "scoring_hint": "高分：类型注解与单测覆盖≥70%；中分：仅单点接口；低分：无可调用API。"
            },
            {
              "sub_criteria": "参数化与可重复性（YAML/日志）",
              "description": "参数外置配置，记录采样步长、角度分辨率、网格间距，产出日志与元数据。",
              "score": 35,
              "evaluation_focus": "工程实践",
              "scoring_hint": "高分：配置可复现实验；中分：硬编码但可运行；低分：无记录难以复现。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "质量控制（粗→细一致性与误差）",
              "description": "报告粗/细分辨率判定一致率、漏判/误判率与空间分布。",
              "score": 35,
              "evaluation_focus": "结果验证",
              "scoring_hint": "高分：量化>90%一致并解释差异；中分：仅给总体比例；低分：无对比。"
            },
            {
              "sub_criteria": "敏感性分析（步长/角度对覆盖的影响）",
              "description": "评估采样步长、角度离散对V_60/V_30规模与运行时的影响曲线。",
              "score": 35,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：多参数网格实验与图表；中分：单参数；低分：无分析。"
            },
            {
              "sub_criteria": "性能与资源报告",
              "description": "给出端到端运行时间、内存峰值、磁盘产物大小及可扩展性讨论。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：含数据规模归一化指标；中分：粗略时间；低分：无报告或不可复现。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务 2 的目标是将单架无人机的运动学与观测行为精确化为可计算、可验证的轨迹模型与轨迹库，生成满足物理与地形约束的离散时间—空间航迹并为每条航迹计算与地面像元或终端的“接触窗口”和覆盖集合；为实现此目标，本子任务包括以下必要步骤与方法：首先以附件1的DEM与第1子任务生成的候选航点/目标像元集为输入，在指定空间分辨率（建议以DEM栅格38.2 m或经粗化后的200–500 m两级）上生成候选航点并标注初始航向；然后按两类策略系统构造轨迹候选——（A）规则覆盖轨迹（lawnmower/犁地式和boustrophedon分割）用于大面积系统性扫掠，参数化为行列间距、航向与回转策略；（B）点簇拜访轨迹基于航点序列（由聚类、近邻或带收益TSP/Orienteering生成）并用样条或Dubins‑airplane风格的最小曲率曲线拼接来保证平滑性；接着对每条轨迹进行动力学可行性检查和时间参数化：在水平面确保最小转弯半径≥100 m（通过在转向处插入圆弧或调整轨迹半径实现），在纵向确保任意相邻段的爬升/俯冲角≤15°，速度在可调范围（60–100 km/h）并满足水平/垂直最大加速度约束（±5 m/s^2、±2 m/s^2），计算每段弧长和相应时间，累加得到轨迹总飞行时间并验证单次续航上限（≤8 h）及任务时长约束（如有）；在几何与地形约束方面，对轨迹上的离散采样点沿无人机—地面连线采用射线追踪或等间距剖面采样（步长≤DEM单元对角或按需要设定，如≤38.2 m）判定视线是否被地形阻挡并验证与地面/障碍物的最小安全垂直间隙（≥50 m）及最大飞行高度（≤5000 m），对侧视或仰角观测模型计算在每个采样时刻针对给定传感器角度与有效距离的覆盖扇形并将被观测像元并入该轨迹的覆盖集合；为保证轨迹在物理约束下的可执行性，应在转弯处和爬升段显式构造时间参数化曲线並检查加速度边界，必要时通过减速、延长弧长或增加过渡段修正轨迹；离散化输出包括：轨迹几何（经纬/平面坐标序列与高度）、时间戳化的轨迹点、每段的速度/加速度剖面、每个时刻或时段对应的可视/通信覆盖集合与接触窗口（起止时刻）、轨迹总时间与能耗估算、以及可执行性标志（如转弯/爬升/LoS违规位置），所有结果以机器可读格式（GeoJSON/CSV + raster索引或二进制序列化）导出以供后续优化调用；实现推荐使用GDAL/rasterio做栅格IO，shapely/pyproj处理几何变换，NumPy/SciPy进行数值计算，采用现成的Dubins‑airplane或样条库做曲线拟合与轨迹平滑，并用并行化射线追踪加速LoS判定。",
      "criteria": {
        "task_understanding": {
          "core_goal": "构建与验证单架无人机的动力学可行航迹模型并仿真计算覆盖/通信接触窗口，输出符合转弯半径、爬升角、速度与高度等约束的离散时间—空间轨迹库。",
          "expected_output": "轨迹库文件（GeoJSON/CSV/二进制）含时间戳化轨迹点、速度/加速度剖面、可视/可通信覆盖集合与接触窗口表、可执行性标志与违规位置、总时间与能耗估计；辅助图表与日志（可选）。",
          "key_inputs_constraints": "输入：DEM栅格（38.2 m与200–500 m两级）、子任务1输出的候选航点与像元集、LoS与仰角/侧视角阈值（如60°/30°）、通信半径（3000/6000 m）、UAV参数（速度60–100 km/h、水平/垂直加速度±5/±2 m/s^2、最小转弯半径≥100 m、爬升角≤±15°、最大高度≤5000 m、最小安全间隙≥50 m、续航≤8 h）。前置：子任务1完成并提供可查询的LoS/阈值接口或索引。约束：轨迹需通过Dubins-airplane或样条拼接保证曲率与爬升可行，剖面采样步长≤38.2 m用于精验。",
          "modeling_type": "仿真+优化",
          "role_in_pipeline": "作为路径设计与调度优化的前置供给环节：在前序子任务1（数据预处理与可视/可通信判定）基础上，生成可行的时间—空间轨迹与覆盖窗口，供后续多机调度与覆盖优化使用；后续任务依赖本轨迹库进行选路与时间表优化。",
          "assumptions": "能耗估计使用常速等效能耗模型；LoS精验以DEM线性插值并采用≤38.2 m步长射线采样；规则覆盖使用boustrophedon/犁地式，点簇使用带转弯半径的Dubins-airplane拼接；若局部违规允许自动插入过渡弧或减速修复。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "动力学可行性与约束识别（转弯半径≥100 m、爬升角≤±15°、速度60–100 km/h）",
              "description": "是否完整识别并列出影响轨迹可执行性的核心运动学与加速度（±5/±2 m/s^2）约束并用于后续建模。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：列全约束并量化进模型；中分：缺少1项或未量化；低分：仅口述或遗漏多项关键约束。"
            },
            {
              "sub_criteria": "地形与LoS安全识别（仰角阈值、最小安全间隙≥50 m、最大高度≤5000 m）",
              "description": "明确地形遮挡、仰角/侧视角、飞行高度与安全间隙对覆盖与轨迹的影响与判定方式。",
              "score": 30,
              "evaluation_focus": "场景理解",
              "scoring_hint": "高分：将仰角/高度/间隙与LoS耦合说明；中分：提及但无判定细节；低分：未将地形与安全并入问题。"
            },
            {
              "sub_criteria": "轨迹库与接触窗口目标识别（离散时间—空间与覆盖集合）",
              "description": "精准界定输出需含时间戳化轨迹、接触窗口与覆盖集合用于后续调度优化。",
              "score": 35,
              "evaluation_focus": "目标定义",
              "scoring_hint": "高分：明确定义窗口起止与索引格式；中分：有概念无格式；低分：未提出接触窗口或覆盖集合。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "两类轨迹策略复述（犁地式/boustrophedon 与点簇Dubins-airplane）",
              "description": "准确复述A规则覆盖与B点簇拜访两类生成策略及其适用区域。",
              "score": 30,
              "evaluation_focus": "需求理解",
              "scoring_hint": "高分：给出参数化要素与场景；中分：只列名；低分：混淆或漏一类。"
            },
            {
              "sub_criteria": "多分辨率采样与精验流程复述（200–500 m筛选→≤38.2 m精验）",
              "description": "说明先粗后细的轨迹生成与LoS判定流程与触发条件。",
              "score": 35,
              "evaluation_focus": "流程把握",
              "scoring_hint": "高分：阐明何时升级精度；中分：只提两级；低分：未体现分级。"
            },
            {
              "sub_criteria": "时间参数化与续航限制（≤8 h）复述",
              "description": "阐明弧长积分、速度/加速度限制与单次任务时长约束的关系。",
              "score": 35,
              "evaluation_focus": "时序理解",
              "scoring_hint": "高分：含弧长→时间→续航链路；中分：只提续航；低分：无时间参数化。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "能耗与速度假设（常速或分段匀加速度）",
              "description": "给出能耗模型与速度调节策略的合理假设并说明影响。",
              "score": 30,
              "evaluation_focus": "合理性",
              "scoring_hint": "高分：模型与影响一致并可替换；中分：有假设无影响分析；低分：缺失或与约束冲突。"
            },
            {
              "sub_criteria": "LoS采样步长与插值假设（≤38.2 m、线性插值）",
              "description": "明确沿P–U剖面采样与DEM插值方法及其对误判率的影响。",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：给容错或敏感性；中分：仅给步长；低分：未说明。"
            },
            {
              "sub_criteria": "传感器几何假设（仰角/侧视角阈值、扇形覆盖随航向）",
              "description": "明确观测模型与航向耦合的离散化（如每15°/30°）。",
              "score": 35,
              "evaluation_focus": "模型设定",
              "scoring_hint": "高分：阈值与离散角度一致可实现；中分：无离散细节；低分：未建模侧视/仰角。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "Dubins-airplane/样条轨迹拼接与最小曲率实现",
              "description": "在转向处插入圆弧/爬升段，保证半径≥100 m与爬升≤±15°的连续可行曲线。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给参数与边界处理；中分：仅概念；低分：忽略曲率或爬升。"
            },
            {
              "sub_criteria": "时间参数化与加速度边界检查（±5/±2 m/s^2）",
              "description": "为每段计算弧长、速度曲线与加速度，插入过渡段修复违规。",
              "score": 30,
              "evaluation_focus": "数值建模",
              "scoring_hint": "高分：含减速/延长弧策略；中分：只算时间；低分：未检加速度。"
            },
            {
              "sub_criteria": "LoS与安全间隙判定集成（仰角阈值与≤38.2 m剖面）",
              "description": "沿轨迹采样时空点，进行射线追踪，输出可视/通信集合。",
              "score": 25,
              "evaluation_focus": "几何计算",
              "scoring_hint": "高分：遮挡与间隙同时满足；中分：少一项或粗判定；低分：无射线检验。"
            },
            {
              "sub_criteria": "规则覆盖与点簇策略参数化（间距、航向、回转策略）",
              "description": "给出boustrophedon行距、覆盖角、回转弧设计与点簇序列化接口。",
              "score": 15,
              "evaluation_focus": "结构设计",
              "scoring_hint": "高分：参数可复用；中分：参数不完整；低分：无参数化。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "两级分辨率求解流程与候选筛选",
              "description": "先用200–500 m近似筛除不可行，再对保留候选进行≤38.2 m精验与修复。",
              "score": 30,
              "evaluation_focus": "计算效率",
              "scoring_hint": "高分：显著降规模并无漏报；中分：有两级但无效能量化；低分：单级或无筛选。"
            },
            {
              "sub_criteria": "并行化/加速（射线追踪、Bresenham、矢量化）",
              "description": "对LoS与轨迹采样实现并行或矢量化，报告加速比或复杂度分析。",
              "score": 25,
              "evaluation_focus": "工程效率",
              "scoring_hint": "高分：给加速比或基准；中分：有并行无指标；低分：串行低效。"
            },
            {
              "sub_criteria": "违规修复求解（插入过渡弧、减速、调整爬升）",
              "description": "自动检测并修复曲率/加速度/高度违规，确保最终轨迹可执行。",
              "score": 25,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：覆盖三类违规并收敛；中分：修复有限；低分：检测不修复或失败。"
            },
            {
              "sub_criteria": "续航与时间可行性验证（≤8 h）与能耗估计",
              "description": "累计时间与能耗并判定单次任务可行，输出超限标志与建议分段。",
              "score": 20,
              "evaluation_focus": "可行性检验",
              "scoring_hint": "高分：提供分段方案；中分：仅标志；低分：未验证续航。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "轨迹与接触窗口导出（GeoJSON/CSV与索引一致）",
              "description": "按规范导出时间戳化轨迹、覆盖集合与接触窗口，字段命名与单位统一（米/秒）。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：可被下游直接加载；中分：需手工修正；低分：格式错误或缺字段。"
            },
            {
              "sub_criteria": "数值稳定与边界处理（高度≤5000 m、间隙≥50 m）",
              "description": "对NaN、越界、插值边缘、自交路径进行健壮处理并单元测试覆盖。",
              "score": 25,
              "evaluation_focus": "健壮性",
              "scoring_hint": "高分：含单测和断言；中分：有检查少测试；低分：运行易崩溃。"
            },
            {
              "sub_criteria": "性能优化（矢量化/并行、缓存LoS、分块处理DEM）",
              "description": "实现缓存与分块以适配大栅格，提供运行时与内存占用报告。",
              "score": 25,
              "evaluation_focus": "工程效率",
              "scoring_hint": "高分：明显降耗并可复现；中分：部分优化；低分：无优化。"
            },
            {
              "sub_criteria": "参数化与可重复（配置文件化：角度、步长、速度）",
              "description": "所有关键阈值与步长可配置且记录于元数据，运行可复现。",
              "score": 20,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：一键复现实验；中分：需修改代码；低分：硬编码。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "可执行性报告（违规位置与类型：转弯/爬升/LoS）",
              "description": "输出并解释所有违规的空间分布与修复效果，残余违规为0或可解释。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：图表+统计；中分：仅统计；低分：无报告或残余未解释。"
            },
            {
              "sub_criteria": "覆盖与接触窗口统计（面积/像元数、窗口时长分布）",
              "description": "量化不同阈值（60°/30°、3000/6000 m）下覆盖集合与窗口指标。",
              "score": 30,
              "evaluation_focus": "量化评估",
              "scoring_hint": "高分：分布与对比齐全；中分：仅总量；低分：无量化。"
            },
            {
              "sub_criteria": "敏感性分析（采样步长、行距、速度对覆盖与时间影响）",
              "description": "变更采样步长≤38.2 m附近、行距与速度，报告覆盖与总时长变化。",
              "score": 25,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：给趋势与建议；中分：仅单一参数；低分：无敏感性。"
            },
            {
              "sub_criteria": "性能与规模化评估（两级分辨率与并行带来的加速比）",
              "description": "报告端到端运行时、内存与加速比，评估可扩展性与瓶颈。",
              "score": 15,
              "evaluation_focus": "实验设计",
              "scoring_hint": "高分：含基准与瓶颈定位；中分：零散数据；低分：未评估。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务 3（灾区通信中继—最少无人机数与航路/驻留点规划）旨在以最小无人机数保证白天 12 小时内附件2中任意两地面终端间始终存在经无人机中继的不间断通信链路；该子任务的输入为：终端平面坐标与带宽信息、DEM（如需考虑地形对链路的阻挡）、地面终端最大移动半径 R_move=2000 m、地空通信半径 R_g2u=3000 m、空空最大通信距离 R_u2u=6000 m 和日间可持续飞行假设；输出为：一组最少的 UAV 悬停位置或慢速轨迹（位置集合或时序路径）、每架 UAV 的时间/位置安排（若需微调）、以及用于验证全天候连通性的时域连通性证明或仿真日志。为实现该目标，应按以下步骤系统化实施：首先数据预处理与候选位置生成——用终端位置、Voronoi 中心、规则网格与（如考虑地形）DEM 顶点或易于覆盖的高地点生成候选悬停/中继点集合 C，并用 KD‑Tree 或 spatial index 加速最近邻查询；其次构造覆盖与连接关系矩阵——对于每候选点 c 计算其覆盖的终端集合 {t: dist(c,t) ≤ R_g2u − R_move}（为保证终端在移动半径内始终被覆盖，可在保证最坏情形下将覆盖半径缩小或在判定时对终端移动圆上若干样本点做检查），并建立 UAV 节点间的可连接无向图 E = {(c_i,c_j): dist(c_i,c_j) ≤ R_u2u}；第三为精确解法建立整数线性规划模型：决策变量 y_c ∈ {0,1} 表示在候选点 c 是否部署 UAV，覆盖约束 ∀t ∑_{c covers t} y_c ≥ 1（或 ≥ k 若需冗余），并引入连通性约束以确保所选节点的诱导子图连通——建议用基于流的单源连通性约束（选定任一 root r，定义流变量 f_{ij}，对任意选中节点保证有从 r 到该节点单位流经过的流守恒约束）或补集割约束；目标为最小化 ∑_c y_c；第四在规模过大或 ILP 求解不可行时采用启发式两阶段算法：先用贪心覆盖（每步选择覆盖最多尚未覆盖终端的候选点）得到初始选集 Y，接着用图算法（NetworkX）检测连通分量并以最少中继插入策略连接分量——对每对分量在候选位置或两分量质心连线上寻找一条节点序列使相邻距 ≤ R_u2u，等距离插入中继点（Steiner 插入）；也可采用最小生成树（MST）在分量代表点间构造最短连接并将路径离散化为中继点；第五如果允许 UAV 在白天缓慢移动以减少驻留点数，则将问题时间离散化（按 Δt，例如 5–15 分钟），在每一时间步为每终端和每候选位置更新覆盖关系并引入 y_{c,t} 与搬迁约束（每架 UAV 在相邻时间步的位移受最大移动速度限制），采用滚动优化（MPC）周期性重规划以应对终端移动与不确定性；第六鲁棒性与验证：通过场景枚举或蒙特卡洛模拟（对终端移动路径、位置扰动及可选 DEM 遮挡情形采样）验证在 12 小时内连通性的时序保持性并据此调整覆盖半径或增加冗余节点；第七求解与实现细节：对 ILP 使用商用求解器（Gurobi 或 CPLEX）或开源 CBC 作精确求解并获取下界，下界可由覆盖下界 ceil(|T|/max_cover) 与连通性约束松弛估计；对启发式实现用 Python 科学栈（NumPy/SciPy）、shapely/geopandas 处理几何、KDTree 加速邻域查询、NetworkX 做图论操作，并并行化覆盖计算与连通性检测以提升效率；最后输出标准化交付物包括选中 UAV 节点坐标或时序轨迹、每个终端的接入 UAV 索引、连通性时间线与故障检测日志、以及供部署的可视化图层（GeoJSON/CSV）和可重现的求解脚本。",
      "criteria": {
        "task_understanding": {
          "core_goal": "优化最少无人机数并规划驻留点/慢速轨迹，使附件2任意两终端在白天12小时内通过无人机中继始终连通，满足R_g2u与R_u2u及终端移动半径约束",
          "expected_output": "最小无人机数；选中UAV驻留点坐标或分时轨迹(y_{c}或y_{c,t})；每架UAV的时间/位置安排；覆盖与空空连通性证明（连通性时间线/仿真日志）；验证脚本与可视化图层（GeoJSON/CSV）",
          "key_inputs_constraints": "输入：终端平面坐标与带宽信息（CSV/GeoJSON）、DEM（可选遮挡）、R_move=2000 m、R_g2u=3000 m、R_u2u=6000 m、日间12小时。约束：所有终端在其移动圆内对任意位置均被至少一架UAV覆盖（等价覆盖半径R_g2u−R_move）；选中UAV节点诱导子图在任意时刻连通；UAV可缓慢移动需满足相邻时步位移限；若不移动则为静态覆盖＋连通；白天持续供给不间断通信链路。",
          "modeling_type": "优化+仿真",
          "role_in_pipeline": "位于上游可视/通信判定之后、调度与多机协同之前的网络设计环节；直接依赖子任务1的LoS与覆盖判定与候选点集C；为后续数据传输与任务分配（问题四）提供基础连通骨干与可行性证明",
          "assumptions": "若不考虑DEM遮挡则仅以欧氏距离覆盖与连接；白天飞行续航不受限但移动速度有上限；采用时间离散Δt=5–15分钟做轨迹迁移约束；终端在R_move圆内任意移动（最坏情形）"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "最少无人机数优化目标的明确性",
              "description": "是否将目标表述为最小化∑_c y_c或分时∑_{c,t}启动个数，并与12小时不间断连通性直接关联",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：给出明确min ∑ y_c并绑定连通约束；中分：有最小数量表述但未形式化；低分：未突出最小化或与连通无关"
            },
            {
              "sub_criteria": "R_g2u与R_move的最坏情形覆盖理解",
              "description": "是否将地空覆盖半径缩减为R_g2u−R_move并据此定义覆盖集合",
              "score": 30,
              "evaluation_focus": "约束理解",
              "scoring_hint": "高分：正确采用R_g2u−R_move或等价采样验证；中分：提到R_move但未正确收缩；低分：忽略终端移动"
            },
            {
              "sub_criteria": "R_u2u连通与12小时时域不间断要求",
              "description": "识别需要在全时域保持选中UAV节点诱导子图连通",
              "score": 40,
              "evaluation_focus": "需求解析",
              "scoring_hint": "高分：明确“任意时刻”连通并提出验证办法；中分：只在起/终时刻检查；低分：完全忽略连通性或仅局部"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "静态驻留点与分时轨迹两种方案的界定",
              "description": "是否区分静态布点（y_c）与时间离散移动（y_{c,t}）并说明取舍",
              "score": 30,
              "evaluation_focus": "表达严谨",
              "scoring_hint": "高分：清晰比较静态与移动并给出适用条件；中分：仅说明其一；低分：混淆或表述含糊"
            },
            {
              "sub_criteria": "候选点集C与覆盖/连接矩阵构造复述",
              "description": "准确复述C的生成来源（网格/Voronoi/高点）及覆盖矩阵与E边集的定义",
              "score": 40,
              "evaluation_focus": "要点提炼",
              "scoring_hint": "高分：同时给出C、覆盖矩阵、E的清晰定义；中分：缺一项细节；低分：未复述关键集合"
            },
            {
              "sub_criteria": "12小时验证产物复述（连通性时间线/仿真日志）",
              "description": "是否明确输出需包含时域连通性证明或日志",
              "score": 30,
              "evaluation_focus": "结果对齐",
              "scoring_hint": "高分：指明时间线和断链告警；中分：只给最终数量；低分：无验证产物"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "DEM遮挡处理假设",
              "description": "清晰说明是否纳入LoS遮挡；若忽略给出理由与风险；若纳入说明判定方法",
              "score": 30,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：给出LoS准则或充分理由；中分：一句话带过；低分：自相矛盾或缺失"
            },
            {
              "sub_criteria": "时间离散Δt与移动速度约束假设",
              "description": "给出Δt（5–15分钟）与相邻时步位移上限并解释对连通性的影响",
              "score": 30,
              "evaluation_focus": "可检验性",
              "scoring_hint": "高分：量化Δt与位移上限并讨论敏感性；中分：有Δt无依据；低分：未设定"
            },
            {
              "sub_criteria": "R_g2u−R_move最坏情形或圆周采样假设",
              "description": "说明采用半径收缩或移动圆采样保证任意位置覆盖",
              "score": 40,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：明确两种方法并择一实现；中分：提及未落实；低分：忽略终端移动不确定性"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "ILP/流式连通性约束建模",
              "description": "是否采用单源流变量或割约束确保选中节点诱导子图连通",
              "score": 35,
              "evaluation_focus": "数理建模",
              "scoring_hint": "高分：给出流守恒与容量绑定x_ij≤y_i；中分：口头描述连通；低分：无连通建模"
            },
            {
              "sub_criteria": "覆盖约束与目标函数形式化",
              "description": "覆盖约束∀t Σ_{c covers t} y_c≥1（或k），目标min Σ y_c",
              "score": 25,
              "evaluation_focus": "约束表达",
              "scoring_hint": "高分：公式完备含冗余k可选；中分：非形式化；低分：表述错误"
            },
            {
              "sub_criteria": "启发式两阶段（贪心覆盖+连通插桩/MST）设计",
              "description": "在大规模时提出可操作启发式并定义插桩准则（≤R_u2u）",
              "score": 25,
              "evaluation_focus": "算法设计",
              "scoring_hint": "高分：给出具体步骤与停止条件；中分：笼统描述；低分：无可行启发式"
            },
            {
              "sub_criteria": "时间扩展模型y_{c,t}与迁移约束",
              "description": "若允许移动，构建时间分层图与相邻时步位移限制",
              "score": 15,
              "evaluation_focus": "时域建模",
              "scoring_hint": "高分：明确位移≤v_max·Δt与连通逐时检查；中分：只提移动；低分：未考虑"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "求解器与下界/停止准则",
              "description": "选择Gurobi/CPLEX/CBC并给出gap、时间上限与覆盖下界估计",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：设置MIPGap与下界；中分：仅调用默认；低分：无求解细节"
            },
            {
              "sub_criteria": "连通性检测与分量桥接实现",
              "description": "使用NetworkX检测分量并用最少中继序列（≤R_u2u）连接",
              "score": 30,
              "evaluation_focus": "图算法",
              "scoring_hint": "高分：可复现桥接策略与复杂度；中分：只说连接；低分：不检测分量"
            },
            {
              "sub_criteria": "时域仿真与滚动优化(MPC)",
              "description": "在12小时内按Δt更新覆盖/连通并必要时重规划",
              "score": 25,
              "evaluation_focus": "仿真实现",
              "scoring_hint": "高分：提供重规划触发条件；中分：仅离线一次；低分：无时域验证"
            },
            {
              "sub_criteria": "鲁棒性场景枚举/蒙特卡洛",
              "description": "对终端移动路径采样并统计断链概率或最差间隙",
              "score": 15,
              "evaluation_focus": "稳健求解",
              "scoring_hint": "高分：≥100场景并报告0断链或指标；中分：少量样本；低分：未做"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "覆盖矩阵与KD-Tree加速",
              "description": "用KDTree/ball tree构建候选点到终端的覆盖关系并考虑R_g2u−R_move",
              "score": 30,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：子秒级构建并含批量查询；中分：朴素O(|C||T|)；低分：效率过低或错误半径"
            },
            {
              "sub_criteria": "图构建与连通性计算正确性",
              "description": "构建E={(c_i,c_j):dist≤R_u2u}并准确连通分量/最短路径",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：单元测试覆盖边界；中分：无测试；低分：错误边判定"
            },
            {
              "sub_criteria": "ILP/启发式管线化与复现实验脚本",
              "description": "提供可运行脚本：数据读写→矩阵→求解→导出GeoJSON/CSV",
              "score": 25,
              "evaluation_focus": "工程落地",
              "scoring_hint": "高分：一键运行并生成日志与图层；中分：多步手工；低分：无法运行"
            },
            {
              "sub_criteria": "时域仿真与断链日志",
              "description": "输出逐时刻连通布尔、断链时间段与责任UAV",
              "score": 20,
              "evaluation_focus": "可观测性",
              "scoring_hint": "高分：机器可读时间线与可视化；中分：只有最终判定；低分：无日志"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "最少无人机数与下界对比",
              "description": "报告解的数量并与覆盖下界/松弛下界比较，给出gap",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：量化gap≤10%；中分：仅口头合理；低分：无对比"
            },
            {
              "sub_criteria": "12小时不间断连通性证明",
              "description": "基于时间线或仿真日志展示全时段无断链，或解释断链并修正",
              "score": 35,
              "evaluation_focus": "验证严谨",
              "scoring_hint": "高分：零断链且有可重复证据；中分：少量短断链并解释；低分：未验证"
            },
            {
              "sub_criteria": "敏感性分析（R_g2u、R_u2u、Δt）",
              "description": "分析关键参数变化对最少UAV数与连通性的影响",
              "score": 20,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：多参数多水平并量化变化；中分：单参数；低分：无分析"
            },
            {
              "sub_criteria": "可视化与可部署性",
              "description": "清晰地图/拓扑图展示UAV位置、覆盖圈、空空链路与时间分层",
              "score": 15,
              "evaluation_focus": "沟通表达",
              "scoring_hint": "高分：图层可叠加与交互；中分：静态图；低分：无图或难解读"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4的目标是把已开发的算法和判定例程实现为一套高性能、可复现、可验证的端到端仿真与分析平台，输出可直接用于决策的航线文件、覆盖/连通性时序数据和灵敏度/鲁棒性报表；为实现这一目标，本子任务按以下步骤系统实施并交付：一是构建模块化管线与数据接口——实现统一的输入/输出规范（DEM GeoTIFF、终端坐标 CSV/GeoJSON、候选航点表、算法参数 JSON），并开发可切换的“粗网格→精网格”预处理模块用于快速筛选与精化验证；二是数值加速与算法工程——对计算密集型内核（LoS/射线采样、视域累计、候选航点到像元的覆盖映射、距离/邻域查询）采用分层加速策略：先用 hillshade/坡度快速过滤不可能可视对，再用向量化矩阵运算、KD‑Tree/spatial index 进行邻域检索，最后用高效射线追踪（Bresenham 或逐步采样）精确判定；对大规模批量计算采用并行化（Python multiprocessing/joblib 或 Dask），必要时用 numba/Cython 或 CUDA 加速关键内核；三是轨迹与候选评估并行化——把候选轨迹离散为段并行评估其时间参数化、动力学可行性与覆盖集合，使用缓存和稀疏数据结构存储预计算的距离矩阵与可视索引以避免重复计算；四是内层优化与求解器集成——将功率分配等凸子问题交给高效数值求解器（OSQP/CVXOPT/ECOS），把整数规划部分接口到商用/开源求解器（Gurobi/CPLEX/CBC），并以松弛下界与启发式上界并行运行以加速收敛；五是时域仿真引擎与验证——实现事件驱动或固定步长的仿真器记录每架无人机的状态（位置、速度、剩余任务、功率分配），输出接触窗口、覆盖热度随时间的 raster（GeoTIFF/HDF5）和CSV日志，用细网格 DEM 做最终验证并实现一致性检查（粗→细差异度量）；六是鲁棒性与敏感性分析框架——实现参数化场景生成（如仰角阈值、探测半径、DEM噪声、终端随机移动轨迹），通过蒙特卡洛并行运行计算覆盖率、重访间隔、连通性失效概率和关键指标的置信区间，并生成冗余建议；七是可视化、报告与交付物——自动生成航线矢量图（GeoJSON）、覆盖/连通性热力图、每架无人机的时间表（CSV）和功率/速率时序（HDF5或CSV），并提供交互式 Jupyter notebook 演示脚本；八是工程化与可复现性保障——用单一配置文件控制实验、用 Git 管理代码、用 Docker 容器化运行环境并提供性能基准与资源建议（例如 8–32 核 CPU、≥64GB 内存，必要时支持 GPU），同时包括单元测试、端到端回归测试和运行日志；最后交付完整代码库、配置样例、运行说明、可视化产出和一套用于部署/再现研究结论的测试场景。",
      "criteria": {
        "task_understanding": {
          "core_goal": "构建并评估端到端仿真与分析平台，集成预处理、LoS判定、轨迹评估与优化求解器，以仿真与验证无人机航线的覆盖/连通性并生成可复现报表",
          "expected_output": "可复现实验代码与容器（Docker）、统一I/O接口模块、批处理脚本；航线GeoJSON/CSV、覆盖与连通性时序GeoTIFF/HDF5/CSV、功率/速率时序、鲁棒性与敏感性分析报表（CSV/图表）、配置与日志、单元与回归测试结果",
          "key_inputs_constraints": "输入：DEM GeoTIFF、终端坐标CSV/GeoJSON、候选航点表、算法参数JSON；约束：最大飞行高度≤5000 m、最小安全间隙≥50 m、地空通信半径3000 m、空空通信距离6000 m、仰角阈值30°/60°、采样步长≤38.2 m、粗网格200–500 m、多线程/并行可用；前置：子任务1/2/3的数据产物与接口约定",
          "modeling_type": "仿真+优化+评价",
          "role_in_pipeline": "作为端到端集成与最终验证环节：上承子任务1（数据预处理与可视/可通信判定）和子任务2（轨迹库与动力学可行性）、子任务3（中继优化），下游直接产出决策用航线与时序覆盖/连通性及鲁棒性报表；负责粗→细验证与可复现工程化交付",
          "assumptions": "缺失真实附件文件时以占位样例与可配置参数运行；若无GPU则以numba/多进程替代；IOD格式固定为WGS84平面近似或统一投影，时间步长默认1–10 s可配"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "端到端仿真与验证目标识别",
              "description": "是否明确本任务核心是“仿真+评价”平台，而非单一算法；覆盖航线→LoS/连通性→时序输出→鲁棒性报表的闭环",
              "score": 30,
              "evaluation_focus": "任务界定",
              "scoring_hint": "高分：清晰列出仿真、优化、评价与工程化四层；中分：提到仿真与部分输出；低分：将其误解为单次路径优化"
            },
            {
              "sub_criteria": "I/O规范与数据接口识别（DEM/终端/参数JSON）",
              "description": "是否点名DEM GeoTIFF、终端CSV/GeoJSON、候选航点表与参数JSON并说明统一单位/投影",
              "score": 25,
              "evaluation_focus": "需求抽取",
              "scoring_hint": "高分：列出全部四类并单位转换策略；中分：缺1类或未提单位；低分：未提I/O或含糊"
            },
            {
              "sub_criteria": "关键约束识别（5000m/50m/3000m/6000m/仰角30°/60°）",
              "description": "是否准确提取高度、安全间隙、通信半径与仰角阈值并用于判定与验证",
              "score": 25,
              "evaluation_focus": "约束把握",
              "scoring_hint": "高分：数值完整且映射到判定模块；中分：缺少1–2个或未绑定模块；低分：数值错误或缺失"
            },
            {
              "sub_criteria": "粗→细两级计算与最终精验定位",
              "description": "是否识别需用200–500 m粗网格筛选、细网格（≤38.2 m）精验的一体化流程",
              "score": 20,
              "evaluation_focus": "流程意识",
              "scoring_hint": "高分：给出两级门槛与切换策略；中分：仅提两级无细节；低分：单级或忽略精验"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "统一接口与模块化管线复述",
              "description": "能复述需实现统一I/O规范、可切换粗/精预处理模块与可调用判定例程",
              "score": 35,
              "evaluation_focus": "表达准确",
              "scoring_hint": "高分：明确接口契约与热插拔模块；中分：泛述接口；低分：无模块化描述"
            },
            {
              "sub_criteria": "数值加速与并行策略复述（KD-Tree/Numba/Dask）",
              "description": "准确复述分层加速：hillshade过滤→向量化与KD-Tree→射线追踪；并提及并行化与内核加速",
              "score": 35,
              "evaluation_focus": "技术要点",
              "scoring_hint": "高分：三层与工具指名；中分：提并行未分层；低分：无加速策略"
            },
            {
              "sub_criteria": "时域仿真与输出产物复述（GeoTIFF/HDF5/CSV）",
              "description": "说明事件驱动/固定步长仿真、输出接触窗口、热度栅格和日志格式",
              "score": 30,
              "evaluation_focus": "产出对齐",
              "scoring_hint": "高分：点名三类输出与格式；中分：部分输出；低分：笼统‘导出结果’"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "采样步长与角度分辨率假设（≤38.2 m、15°/30°）",
              "description": "明确剖面采样步长与航向角离散，并论证对精度/性能影响与敏感性设置",
              "score": 30,
              "evaluation_focus": "参数设定",
              "scoring_hint": "高分：给出数值与敏感性方案；中分：给数值无论证；低分：未设或不合理"
            },
            {
              "sub_criteria": "投影与单位统一假设",
              "description": "说明平面坐标采用的投影/近似与米制统一，并声明误差可忽略或可控",
              "score": 25,
              "evaluation_focus": "一致性",
              "scoring_hint": "高分：指明投影与误差范围；中分：仅称统一米制；低分：未处理投影"
            },
            {
              "sub_criteria": "并行与硬件资源假设（CPU/GPU可用性）",
              "description": "给出默认资源（8–32核、≥64GB、可选GPU）并提供退化路径（numba/多进程替代CUDA）",
              "score": 25,
              "evaluation_focus": "工程可行",
              "scoring_hint": "高分：列出资源与退化方案；中分：仅资源建议；低分：无资源考虑"
            },
            {
              "sub_criteria": "终端移动与worst-case覆盖假设（R_move=2000 m）",
              "description": "在通信判定中采用收缩半径或圆周采样，说明选择理由",
              "score": 20,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：两法其一并给采样数或收缩量；中分：仅口头说明；低分：忽略R_move"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "LoS/仰角/侧视角判定模块与分层过滤",
              "description": "构建hillshade/坡度预筛+射线追踪精判的可视/可通信模型，含仰角30°/60°与安全间隙50 m",
              "score": 30,
              "evaluation_focus": "模型设计",
              "scoring_hint": "高分：三条件全覆盖且分层实现；中分：缺其一；低分：仅距离阈值"
            },
            {
              "sub_criteria": "轨迹评估与动力学可行性接口",
              "description": "支持最小转弯半径≥100 m、爬升角≤15°、速度/加速度约束的可行性检查与时间参数化",
              "score": 25,
              "evaluation_focus": "约束建模",
              "scoring_hint": "高分：列出全部并与时间化耦合；中分：缺1–2项；低分：未检查可行性"
            },
            {
              "sub_criteria": "内层优化与求解器集成（OSQP/CBC/Gurobi）",
              "description": "将功率分配等凸子问题与整数选址/连通性问题分别对接相应求解器，提供上下界并行",
              "score": 25,
              "evaluation_focus": "求解框架",
              "scoring_hint": "高分：区分凸/整数并指明求解器；中分：仅一种求解器；低分：手写启发式替代全部"
            },
            {
              "sub_criteria": "鲁棒性与敏感性分析框架（蒙特卡洛）",
              "description": "参数化场景生成与并行仿真，输出覆盖率、重访间隔、失效概率的置信区间",
              "score": 20,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：定义指标与CI计算；中分：仅多场景平均；低分：无鲁棒性分析"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "分层加速与缓存（KD-Tree/稀疏索引/距离矩阵）",
              "description": "实现邻域检索、稀疏存储与预计算缓存以减少重复LoS/距离计算",
              "score": 30,
              "evaluation_focus": "算法效率",
              "scoring_hint": "高分：展示缓存命中或复杂度下降；中分：部分缓存；低分：重复暴力计算"
            },
            {
              "sub_criteria": "并行化实现（multiprocessing/Dask/numba/CUDA）",
              "description": "批量LoS与轨迹评估并行，核函数加速；给出加速比或基准",
              "score": 30,
              "evaluation_focus": "性能实现",
              "scoring_hint": "高分：加速比≥3x或清晰基准；中分：可并行无数据；低分：单线程"
            },
            {
              "sub_criteria": "求解器配置与收敛控制",
              "description": "合理设置容差、超时、热启动与松弛上下界并行，确保可复现收敛",
              "score": 20,
              "evaluation_focus": "数值稳健",
              "scoring_hint": "高分：给参数与fallback；中分：默认配置；低分：频繁失效或无控制"
            },
            {
              "sub_criteria": "粗→细一致性检查与回退",
              "description": "对粗筛解进行细网格精验，设定差异阈值与自动回退重算",
              "score": 20,
              "evaluation_focus": "验证闭环",
              "scoring_hint": "高分：量化阈值与自动触发；中分：手动复验；低分：无一致性检查"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "统一I/O与配置化（参数JSON、CLI/脚本）",
              "description": "提供单一配置驱动与CLI批处理，能切换数据与场景",
              "score": 25,
              "evaluation_focus": "工程规范",
              "scoring_hint": "高分：配置校验与模式切换；中分：基本读取；低分：硬编码"
            },
            {
              "sub_criteria": "容器化与可复现（Docker/版本锁定）",
              "description": "提供Dockerfile、锁定依赖与环境说明，含随机种子控制",
              "score": 25,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：可一键复现；中分：环境文档不全；低分：无容器与锁定"
            },
            {
              "sub_criteria": "测试体系（单元+端到端回归）",
              "description": "覆盖LoS内核、邻域查询、仿真器与I/O的测试与基准数据",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：≥70%关键模块覆盖且CI通过；中分：少量测试；低分：无测试"
            },
            {
              "sub_criteria": "日志与监控（性能/资源/关键事件）",
              "description": "结构化日志与指标导出，记录加速比、内存峰值、求解状态",
              "score": 25,
              "evaluation_focus": "可运维性",
              "scoring_hint": "高分：统一日志与指标面板或CSV；中分：零散打印；低分：无日志"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "覆盖/连通性时序与热力图解读",
              "description": "解读GeoTIFF/HDF5热度与CSV接触窗口，指出覆盖盲区与瓶颈时段",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：定位盲区并关联地形/约束原因；中分：描述性总结；低分：仅罗列图表"
            },
            {
              "sub_criteria": "粗→细差异度量与误差分析",
              "description": "给出粗/细网格结果差异统计并讨论原因与改进",
              "score": 25,
              "evaluation_focus": "一致性评估",
              "scoring_hint": "高分：量化差异并提出参数调整；中分：口头说明；低分：无比较"
            },
            {
              "sub_criteria": "敏感性与鲁棒性结果（置信区间/失效概率）",
              "description": "展示参数变化对覆盖率、重访间隔、连通性的影响与CI/失败率",
              "score": 25,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：成体系参数扫描与CI；中分：个别参数；低分：无敏感性"
            },
            {
              "sub_criteria": "决策建议与可操作改进",
              "description": "依据结果提出航线/驻留点/参数的具体优化与资源配置建议",
              "score": 20,
              "evaluation_focus": "行动导向",
              "scoring_hint": "高分：量化建议（如增加N架或调整半径X%）；中分：原则性建议；低分：无建议"
            }
          ]
        }
      }
    }
  }
}