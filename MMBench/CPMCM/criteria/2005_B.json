{
  "task_id": "2005_B",
  "problem": "主机的最大作战半径（简称作战半径）是指主机在 $n$ 架辅机的协助下所能飞到的（并安全返回）离基地 $A$ 的最远距离。显然当 $n=0$ 时，作战半径 $r_0=\\frac{L}{2}$。\n\n问题1   设飞机垂直起飞、垂直降落、空中转向、在地面或空中加油的耗时均忽略不计，每架飞机只能上天一次，在上述假设下的作战半径记为 $r_n$。当 $n=1,2,3,4$ 时，求作战半径 $r_n$。\n\n问题2   在问题1的假设下，当 $n > 4$ 时，尽你的可能求出 $r_n$（提示：先假设辅机可以分为两类，第一类专为主机前进服务，第二类专为主机返回服务，再考虑一般情形），或给出 $r_n$ 的上、下界； 讨论当 $r_n \\to \\infty$ 的过程中 $r_n$ 与 $n$ 的渐近关系； 试给出判断最优作战方案（主机能够飞到 $r_n$ 处）的必要条件或充分条件。\n\n问题3   若每架辅机可以多次上天，辅机从机场上空降落及在地面检修、加油、再起飞到机场上空的时间相当于飞行 $\\frac{L}{12}$ 的时间，飞机第一次起飞、转向、在空中加油的耗时仍忽略不计，此时的作战半径记为 $R_n$，讨论与问题1、问题2类似的问题。\n\n问题4   若另有2个待建的空军基地（或航空母舰）$A_1, A_2$，有 $n$ 架辅机，主机从基地 $A$ 起飞，向一给定的方向飞行，必须在基地 $A$ 降落，辅机可在任一基地待命，可多次起飞，且可在任一基地降落。其他同问题3的假设，讨论 $A_1$和 $A_2$ 的选址和主机的作战半径 $R_n^*$。\n\n问题5   设 $ABCD$为矩形，$AB=4L$， $AD=2L$，$A$，$B$，$D$为三个空军基地，主机从 $A$ 起飞，到 $C$ 执行任务（执行任务时间仍忽略不计）再返回 $A$。假设辅机起飞、降落的基地可任意选择，其他同问题3的假设，试按最快到达并返回和最少辅机架数两种情况给出你的作战方案。",
  "subtask": {
    "1": {
      "subtask": "子任务一的目标是以严格、可验证的数学形式在“每架飞机仅能升空一次、速度和单位时间耗油率相同且已归一化、满箱可飞行距离为 L、空中/地面机动与加油时间忽略、加油无损耗且可任意分配、所有飞机最终须返回基地”这些前提下，建立并证明一维分段接力模型，导出主机在 n 架辅机协助下的最大作战半径 r_n 的精确表达式并给出求解和验证步骤。为此应首先明确归一化标度（把燃油量与可飞行距离等价化、基地置于 x=0）、符号与变量（设会合/返航点序列 0=x_0<x_1<…<x_m，段长 d_i=x_i−x_{i-1}，进入第 i 段的飞机数为 k_i，留至下一段的为 p_i，返回的为 m_i=k_i−p_i），并列出每段的燃料守恒与返航可行性约束：每架飞机进入段时油量不超过 L，跨越段需消耗 d_i，返航飞机在返航点携带的燃油应至少为返回所需。 基于“最优解中的紧性原则”明确两个必要结构性条件：在任一会合点上所有继续前进飞机到达该点时的剩余燃油应相等，否则可重新分配增进远距；所有选择返航的飞机在返航瞬间携带的燃油应恰好等于返航所需，否则存在改进余地。 在此约束下用代数方法建立每一段的能量平衡等式（将进入段的总燃油减去各飞机的段间消耗等于继续前进飞机在节点的累计剩余加返航飞机恰足返航的燃油），据此消去中间变量得到连接各段长度与飞机数的递推关系；随后给出两步的证明策略：一是构造性证明——按递推关系设计分级返航方案（在每一节点让恰当数量的辅机返航并把剩余燃油尽量前移），证明该方案可行并产生一个可实现的 r_n 值；二是最优性上界证明——以总燃油守恒与返航耗损的不等式对任一可行策略给出上界，并用紧性条件证明上界在所构造方案处取到，从而证明表达式最优。 证明技术主要使用初等代数与数学归纳法（对 n 递推），并可借助线性不等式/线性规划的对偶视角形式化上界推导；所需输入仅为参数 L 与整数 n（并采用燃油—距离归一化），输出为可解析计算的 r_n（并能据此直接计算 n=1,2,3,4 的具体数值）及一套可检验的最优性条件（会合点燃油等化、返航燃油等式成立）用于验证候选策略的最优性。",
      "criteria": {
        "task_understanding": {
          "core_goal": "建立并证明一维分段接力模型，优化并推导主机在 n 架辅机协助下的最大作战半径 r_n 的精确表达式与验证条件",
          "expected_output": "解析形式的 r_n 表达式；n=1,2,3,4 的数值计算；分段接力的递推关系与构造性可行方案；最优性上界证明与紧性条件（会合点燃油等化、返航燃油恰等返航所需）；可核验步骤清单",
          "key_inputs_constraints": "输入：L（实数，已可与燃油量等价化）、n（非负整数）；约束：速度与单位耗油率相同且归一化、每机仅升空一次、加油无损耗且可任意分配、所有飞机最终返回、会合点序列 0=x0<…<xm，段长 di，进入段飞机数 ki，留至下一段 pi，返航 mi=ki−pi；每段燃料守恒与返航可行性约束；节点紧性条件：继续前进飞机剩余燃油等化、返航瞬间燃油等于返程需求",
          "modeling_type": "优化+评价",
          "role_in_pipeline": "作为数学建模核心与理论基准：在问题2–5的扩展前给出 r_n 的精确解与可验证条件。前序依赖：归一化与变量定义；后序依赖：数值实例验证、扩展情形（多次起飞/多基地）的策略设计与比较。",
          "assumptions": "采用燃油—距离归一化：满油可飞 L 距离且单位距离耗油量=1；基地置于 x=0；忽略机动与加油时间；加油可瞬时、连续、无限可分。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别核心目标：r_n 的优化与精确表达式",
              "description": "是否明确任务是优化并推导最大作战半径 r_n（非仅给策略示例或上界/下界）。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：明确提出“优化 r_n 并给出精确解析式”；中分：只给上/下界或数值；低分：偏离 r_n 或未识别为优化问题。"
            },
            {
              "sub_criteria": "识别分段接力与会合点序列",
              "description": "是否将问题抽象为一维分段接力，定义 0=x0<…<xm 与段长 di。",
              "score": 30,
              "evaluation_focus": "问题抽象",
              "scoring_hint": "高分：完整给出 xi、di 并解释接力含义；中分：有分段但未形式化；低分：未使用分段接力框架。"
            },
            {
              "sub_criteria": "识别紧性原则与等化条件",
              "description": "是否指出继续前进飞机在节点的剩余燃油等化与返航燃油恰等返程需求为必要条件。",
              "score": 35,
              "evaluation_focus": "数理洞察",
              "scoring_hint": "高分：两条紧性条件均准确表述并用于后续；中分：提到其一或表述含混；低分：未识别或错误。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "归一化与变量清晰度",
              "description": "是否将燃油量与可飞行距离等价化、基地置于 x=0，并清晰给出 L、n、ki、pi、mi 定义。",
              "score": 35,
              "evaluation_focus": "形式化表达",
              "scoring_hint": "高分：全部符号与物理含义一致且无歧义；中分：少量符号缺失；低分：未归一化或符号混乱。"
            },
            {
              "sub_criteria": "返航可行性约束复述",
              "description": "是否准确复述“返航飞机在返航点燃油≥返程所需”的条件并与段长 di 关联。",
              "score": 30,
              "evaluation_focus": "约束理解",
              "scoring_hint": "高分：形式化成不等式并解释与 di 的关系；中分：口头表述；低分：遗漏或错误方向。"
            },
            {
              "sub_criteria": "一次起飞与加油可分的复述",
              "description": "是否强调每机仅一次升空与加油无损耗、可任意分配的关键设定。",
              "score": 35,
              "evaluation_focus": "关键设定",
              "scoring_hint": "高分：两点均明确并用于模型；中分：提到其一；低分：未体现或与模型矛盾。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "速度/耗油归一与段消耗 d_i",
              "description": "是否以单位距离耗油量=1 建立段内每机消耗 d_i 的假设。",
              "score": 30,
              "evaluation_focus": "建模一致性",
              "scoring_hint": "高分：明确写出每机跨段消耗 d_i；中分：隐含使用；低分：与耗油设定不一致。"
            },
            {
              "sub_criteria": "加油瞬时且可分的使用边界",
              "description": "是否在节点建模中正确使用“加油可任意分配且无损耗”。",
              "score": 25,
              "evaluation_focus": "约束运用",
              "scoring_hint": "高分：节点分配方程中显式使用；中分：仅口述；低分：引入不必要损耗。"
            },
            {
              "sub_criteria": "紧性条件作为必要结构",
              "description": "是否将燃油等化与返航等式作为必要条件并用于缩减变量。",
              "score": 25,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：用以消元并简化递推；中分：陈述未使用；低分：未采用或误用。"
            },
            {
              "sub_criteria": "可行性边界与满油约束",
              "description": "是否包含每机进入段时油量≤L 的约束并在守恒中体现。",
              "score": 20,
              "evaluation_focus": "约束完备",
              "scoring_hint": "高分：形式化并参与推导；中分：提及未用；低分：遗漏。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "段级燃料守恒方程",
              "description": "是否给出“进入段总燃油 − 段消耗 = 继续前进剩余 + 返航恰足返程”的等式。",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：精确表达并与 ki,pi,mi,di 关联；中分：非严格；低分：未建立。"
            },
            {
              "sub_criteria": "递推关系消元",
              "description": "是否通过消去中间变量得到段长与飞机数的递推关系。",
              "score": 30,
              "evaluation_focus": "代数技巧",
              "scoring_hint": "高分：给出显式递推公式；中分：部分消元；低分：无递推或错误。"
            },
            {
              "sub_criteria": "最优性等化用于模型简化",
              "description": "是否利用等化条件将节点变量统一为公共剩余量以简化模型。",
              "score": 20,
              "evaluation_focus": "结构利用",
              "scoring_hint": "高分：显式统一并减少自由度；中分：部分使用；低分：未使用。"
            },
            {
              "sub_criteria": "可转为线性规划/对偶上界",
              "description": "是否给出线性不等式或对偶视角以形式化上界。",
              "score": 15,
              "evaluation_focus": "优化建模",
              "scoring_hint": "高分：完整LP/对偶不等式并与上界一致；中分：仅思路；低分：无或不当。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "构造性证明与分级返航方案",
              "description": "是否按递推关系设计分级返航、将燃油尽量前移并证明可行得到 r_n 下界。",
              "score": 35,
              "evaluation_focus": "可行构造",
              "scoring_hint": "高分：给出步骤化方案与可行性证明；中分：方案缺证明；低分：未构造。"
            },
            {
              "sub_criteria": "上界证明与紧性取到",
              "description": "是否以总燃油守恒+返航耗损推导上界并证明在构造方案取到。",
              "score": 35,
              "evaluation_focus": "最优性证明",
              "scoring_hint": "高分：上下界一致；中分：仅上界或不严谨；低分：无上界或错误。"
            },
            {
              "sub_criteria": "归纳法对 n 的递推",
              "description": "是否用数学归纳法在 n 上证明表达式正确性。",
              "score": 20,
              "evaluation_focus": "证明技巧",
              "scoring_hint": "高分：基例与归纳步完整；中分：缺一环；低分：未用或错误。"
            },
            {
              "sub_criteria": "n=1,2,3,4 的可计算结果",
              "description": "是否从解析式直接算出 n=1,2,3,4 的 r_n 并自洽检查。",
              "score": 10,
              "evaluation_focus": "计算核验",
              "scoring_hint": "高分：四个值齐全且一致；中分：部分或小误差；低分：缺失或不一致。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "r_n 解析计算函数",
              "description": "是否提供可计算 r_n 的函数接口（输入 L,n；输出 r_n），符合递推或闭式表达。",
              "score": 40,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：函数健壮、含边界 n=0；中分：基本可用；低分：无实现或错误。"
            },
            {
              "sub_criteria": "n=1..4 的验证脚本",
              "description": "是否给出计算并打印 n=1,2,3,4 的数值及与手算比对。",
              "score": 30,
              "evaluation_focus": "可检验性",
              "scoring_hint": "高分：含断言/误差阈值；中分：仅输出；低分：无验证。"
            },
            {
              "sub_criteria": "参数与单位归一化处理",
              "description": "是否在代码中体现燃油—距离归一化与 L 的线性缩放。",
              "score": 30,
              "evaluation_focus": "实现一致性",
              "scoring_hint": "高分：明确按 L 比例缩放；中分：隐含正确；低分：与理论不一致。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "紧性条件的核验",
              "description": "是否在给出的方案中检查会合点燃油等化与返航等式成立。",
              "score": 35,
              "evaluation_focus": "结果校验",
              "scoring_hint": "高分：逐段或总体核验；中分：只口述；低分：未核验或违反。"
            },
            {
              "sub_criteria": "上下界一致性与最优性",
              "description": "是否明确展示构造下界=上界，从而证明最优。",
              "score": 35,
              "evaluation_focus": "证明完结",
              "scoring_hint": "高分：等式展示且逻辑严谨；中分：结论未充分支撑；低分：未达成一致。"
            },
            {
              "sub_criteria": "数值例（n=1..4）一致性检查",
              "description": "是否将代码输出与解析式/手算比对并解释差异（若有）。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：一致或差异有因可复现；中分：小差异无解释；低分：明显不一致。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务 2（多次出动的运输/流水模型、单架循环净前运量与 R_n 的有界性分析）应聚焦于：在允许辅机多次起降并在基地补给（每次落地再起飞计入等效耗油 Lg，例如题目给定的 Lg=L/12）的情形下，建立和分析用于把燃料由基地“泵送”到前方缓存点以支持主机出任务的数学模型，核心目标是（1）给出单架飞机对任一缓存点 y（距基地的距离）在一次完整“基地→y→基地”循环中可在 y 处净留下的燃料量 Q(y) 的精确表达式或紧致下界并分析其可行域；（2）基于 Q(y) 推导多架飞机并行或错峰操作时的净泵送速率与累积能力的组合规则；（3）在有限轮次数 T 与有限飞机数 n 的约束下，构造可解的优化模型以判定或最大化主机可达半径 R_n（或验证给定 R 是否可行）；（4）在无限轮次或稳态极限下构建连续流/稳态泵送近似并用之分析 R_n 的有界性判据（即通过是否存在 y 使得单次循环净前运量为正来给出理论可否无界增长的充分/必要条件）。为实现上述目标应按以下明确步骤与方法实施：首先，以距离单位化燃油（满箱= L）并显式列出单次循环的燃油收支（去程消耗 y、返程消耗 y、再起飞等效耗油 Lg 以及可留下的量），严格推导 Q(y)=max{0, L - 2y - Lg} 或在协同加油情形下的改进公式，并讨论箱容量与会合分配对 Q(y) 的影响；第二，将 n 架飞机与多轮次安排抽象为时间轮次 t=1..T（T 可取大或趋于无穷）和空间候选缓存点集合 Y 的网络流模型，定义决策变量如 f_{i,y,t}（第 i 架飞机第 t 轮在 y 的净放置量）、I_{y,t}（y 点库存）、以及二元出动变量（如需），并严格列出约束：单次航段燃油非负与返航可行性、油箱容量上界、每次落地-再起飞收取 Lg 的库存/能量代价、库存守恒与初末条件；第三，把上述模型写成线性规划（当飞机可连续分割或以批量流量表述）或混合整数线性规划（当要求离散出动/轮次数二元决策时），用商业/开源求解器（如 Gurobi/CPLEX/GLPK）通过求解可行性检验或目标优化（最大化可达距离或最小化完成时间/轮次）得到有限 T 下的 R_n 或可行调度；第四，在允许无限轮次且关注长期泵送速率时构建稳态连续流近似，用微分/代数方程或线性稳态流模型求解每段缓存的最优间距与稳态泵送速率，并从解析条件判断是否存在能使 R_n 无上界的 y（即 Q(y)>0）；第五，设计数值实验与仿真以验证线性模型的近似性并检验参数敏感性（关键参数包括 L、Lg、n、T、Y 的离散化粒度与安全余量），并在模型中保留可扩展接口以纳入加油效率、风场等位置依赖的耗油函数。必需的数据输入为：满箱航程 L、基地再起飞等效耗油 Lg、辅机数 n、允许总轮次或时间预算 T（若有）、候选缓存点集合或连续区间 Y、油箱容量及任意安全余量；推荐使用的工具与技术包括数学建模语言/库（AMPL/pyomo）、线性和混合整数求解器（Gurobi/CPLEX）、以及离散事件仿真或时序验证脚本（Python/Matlab）。最终输出应包含单架 Q(y) 函数形式、在给定 n 与 T 下的最优或可行泵送调度与达到的最大 R_n、稳态泵送率与缓存点布置建议，以及明确的判据（基于 Q(y) 的符号）用于判定在无限轮次极限下 R_n 是否可能无界增长。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在允许辅机多次起降且每次落地-再起飞计等效耗油 Lg 的条件下，推导单架循环净前运量 Q(y) 并构建与求解多架多轮的线性/混合整数优化模型以最大化主机作战半径 R_n 或验证给定 R 的可行性",
          "expected_output": "Q(y) 的解析式或紧下界；多架并行/错峰的净泵送组合规则；有限轮次 T 与 n 下的最优/可行调度与对应 R_n 数值；稳态连续流近似下的泵送速率与缓存点布置；基于 Q(y) 符号的无界性判据；可执行的LP/MILP模型与求解报告",
          "key_inputs_constraints": "输入：L（满箱航程，实数>0）、Lg（落地-再起飞等效耗油，实数≥0）、n（辅机数，整数≥1）、T（轮次数或时间预算，整数≥1或无穷）、Y（缓存点集合/区间）、油箱容量上界L与可能的安全余量。约束：单段燃油非负、返航可行、库存守恒、加油无损耗可分割、所有飞机终需可回基地；决策变量边界与线性可行域。",
          "modeling_type": "优化+仿真+评价",
          "role_in_pipeline": "作为多次出动情形的运输/流水模型与上界判据构建环节，前序依赖：问题1的一维分段接力思想与燃油-距离归一化；后序任务：数值求解、策略验证及与单次出动半径 r_n 的对比和扩展。",
          "assumptions": "加油无损耗且可连续分配；速度与单位时间耗油率归一化为1；缓存点补给即时；若未给安全余量，按0处理；稳态近似忽略排队时间。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别单架循环净前运量 Q(y) 的核心地位",
              "description": "明确本子任务的切入点是推导 Q(y) 并以其为基元构造多架多轮泵送能力与 R_n 上界/可行性判据。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：直指出 Q(y) 决定可行域与无界性；中分：提到 Q(y) 但未连接到 R_n 判据；低分：未提 Q(y) 或将其等同于单程余油。"
            },
            {
              "sub_criteria": "识别 L、Lg、n、T、Y 等关键输入与约束",
              "description": "清晰列出 L、Lg、n、T、Y 对 Q(y) 与LP/MILP可行域的影响与角色。",
              "score": 30,
              "evaluation_focus": "要素抽取",
              "scoring_hint": "高分：逐一说明变量与约束作用；中分：漏1-2项或作用描述含糊；低分：关键变量缺失或误解。"
            },
            {
              "sub_criteria": "识别有限轮次与稳态极限的差异",
              "description": "区分有限 T 优化与无限轮次稳态近似，并点出对应目标与判据差异。",
              "score": 20,
              "evaluation_focus": "问题分解",
              "scoring_hint": "高分：明确两类问题与转化；中分：只提一种或混淆目标；低分：完全忽略稳态或有限T差异。"
            },
            {
              "sub_criteria": "识别返航可行性与油箱容量上界",
              "description": "强调每次循环需满足返航燃油与容量限制对 Q(y) 与调度的硬性约束。",
              "score": 15,
              "evaluation_focus": "约束意识",
              "scoring_hint": "高分：给出形式化不等式；中分：口头提及无公式；低分：未考虑返航或容量。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "用归一化语言重述目标：最大化 R_n/验证 R",
              "description": "以燃油=距离的归一化框架，重述优化目标与可行性检验任务。",
              "score": 35,
              "evaluation_focus": "表达严谨",
              "scoring_hint": "高分：给出明确目标函数或判定命题；中分：目标模糊；低分：偏离最大化 R_n/可行性检验。"
            },
            {
              "sub_criteria": "准确复述 Q(y)=max{0,L-2y-Lg} 及其前提",
              "description": "给出单机无协同下的 Q(y) 推导与适用条件（可分油、即时返航）。",
              "score": 30,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：推导清楚并指明前提；中分：只给公式无来源；低分：公式错误或忽略 Lg、双程消耗。"
            },
            {
              "sub_criteria": "阐明协同加油对 Q(y) 的影响",
              "description": "说明在会合/分配下 Q(y) 的可能改进或紧下界，并限定可行域。",
              "score": 20,
              "evaluation_focus": "机制理解",
              "scoring_hint": "高分：给出改进界或说明不可超过容量/返航约束；中分：泛述“可提升”；低分：未提协同影响。"
            },
            {
              "sub_criteria": "描述有限T与稳态泵送的组合规则",
              "description": "清晰说明多架并行/错峰的净泵送叠加与库存守恒关系。",
              "score": 15,
              "evaluation_focus": "系统刻画",
              "scoring_hint": "高分：给出总流量=∑Q(y)型叠加或库存方程；中分：仅口述可叠加；低分：无组合规则。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "燃油—距离归一化与即时加油无损耗",
              "description": "明确单位消耗=1、满箱=L、加油可分割且无损失的假设。",
              "score": 25,
              "evaluation_focus": "假设清晰",
              "scoring_hint": "高分：逐项列出并与方程对应；中分：遗漏1项；低分：假设与推导不匹配。"
            },
            {
              "sub_criteria": "落地-再起飞等效耗油 Lg 的计入方式",
              "description": "将 Lg 正确计入单次循环能量收支与LP成本项。",
              "score": 30,
              "evaluation_focus": "约束建模",
              "scoring_hint": "高分：Q(y) 与LP中均显式体现 Lg；中分：只在Q(y)或LP之一体现；低分：忽略或误计 Lg。"
            },
            {
              "sub_criteria": "返航可行性与容量上界的紧性",
              "description": "假设返航油量等式紧、节点库存不超过容量的最优性必要性说明。",
              "score": 25,
              "evaluation_focus": "最优性条件",
              "scoring_hint": "高分：给出等式紧的理由/交换论证；中分：仅陈述必要性；低分：未提或与方案矛盾。"
            },
            {
              "sub_criteria": "有限T与稳态近似的适用边界",
              "description": "说明何时可用连续流近似，何时需离散轮次模型。",
              "score": 20,
              "evaluation_focus": "适用性",
              "scoring_hint": "高分：给出T大、队列忽略等条件；中分：泛述可近似；低分：未界定适用范围。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "Q(y)=max{0,L-2y-Lg} 或紧下界的严格推导",
              "description": "用单次“基地→y→基地”能量收支推导 Q(y)，并讨论协同改进的边界。",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：逐步推导并检验边界；中分：直接给结论；低分：推导错误或缺失。"
            },
            {
              "sub_criteria": "库存守恒与网络流LP/MILP的决策变量与约束",
              "description": "定义 f_{i,y,t}, I_{y,t} 等变量，列出容量、返航、Lg成本、初末条件等线性约束。",
              "score": 30,
              "evaluation_focus": "LP建模",
              "scoring_hint": "高分：给出完整约束集与目标；中分：缺少1-2类约束；低分：无法转化为LP/MILP。"
            },
            {
              "sub_criteria": "多架并行/错峰的组合规则与耦合",
              "description": "刻画叠加净泵送与时间轮次耦合（资源与飞机占用不冲突）。",
              "score": 20,
              "evaluation_focus": "系统建模",
              "scoring_hint": "高分：有时间与资源占用约束；中分：仅量守恒无资源约束；低分：无组合建模。"
            },
            {
              "sub_criteria": "稳态连续流近似模型",
              "description": "构建长期泵送速率方程，给出最优缓存间距与无界性判据 Q(y)>0 的使用。",
              "score": 15,
              "evaluation_focus": "近似模型",
              "scoring_hint": "高分：有解析条件或固定点方程；中分：定性描述；低分：未建立稳态模型。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "有限T下的LP/MILP可解性与求解流程",
              "description": "选择合适求解器（Gurobi/CPLEX/GLPK），设置目标（最大化 R_n 或可行性检验），并处理规模。",
              "score": 35,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出模型尺寸估计与参数设置；中分：仅列求解器；低分：无可执行求解方案。"
            },
            {
              "sub_criteria": "验证给定 R 的可行性判定",
              "description": "通过固定 R 并检验库存与返航约束可行，或二分搜索 R。",
              "score": 25,
              "evaluation_focus": "求解策略",
              "scoring_hint": "高分：描述可行性LP与二分流程；中分：只提固定R求解；低分：无判定方法。"
            },
            {
              "sub_criteria": "稳态近似下的解析/半解析解",
              "description": "求解稳态泵送率与间距的解析条件或提供收敛算法。",
              "score": 20,
              "evaluation_focus": "解析能力",
              "scoring_hint": "高分：给出封闭式或收敛标准；中分：数值迭代无收敛说明；低分：未提供。"
            },
            {
              "sub_criteria": "无界性判据应用",
              "description": "利用存在 y 使 Q(y)>0 推断 R_n 可能无上界，并与多机叠加检验一致性。",
              "score": 20,
              "evaluation_focus": "理论判据",
              "scoring_hint": "高分：严谨应用并讨论边界情形；中分：仅口述；低分：误用或忽略判据。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "Q(y) 与组合规则的可复现实现",
              "description": "提供函数计算 Q(y)=max{0,L-2y-Lg} 与多机叠加净泵送速率，含单元测试。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：边界y=0,L/2-Lg/2测试齐全；中分：基本函数无测试；低分：实现错误。"
            },
            {
              "sub_criteria": "LP/MILP建模与求解脚本",
              "description": "用Pyomo/PuLP/AMPL构建模型，支持固定R的可行性检测与最大化R_n两种模式。",
              "score": 35,
              "evaluation_focus": "工程实现",
              "scoring_hint": "高分：两模式均可运行并输出；中分：仅一种；低分：无法运行或模型与描述不一致."
            },
            {
              "sub_criteria": "稳态近似与数值实验",
              "description": "实现稳态流计算与参数敏感性实验（对 L、Lg、n、T、Y 粒度）。",
              "score": 20,
              "evaluation_focus": "实验设计",
              "scoring_hint": "高分：系统扫描并存档结果；中分：少量示例；低分：无实验。"
            },
            {
              "sub_criteria": "可视化与日志",
              "description": "绘制库存随t、y的热力/曲线，输出求解日志与关键约束影子价格（若可）。",
              "score": 15,
              "evaluation_focus": "结果呈现",
              "scoring_hint": "高分：图表清晰含单位；中分：简图或日志；低分：无可视化无日志。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "Q(y) 符号与 R_n 有界性的判读",
              "description": "基于 Q(y)>0/≤0 判断无界或上界存在，并结合多机与T讨论阈值。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：定量给出阈值 y<(L-Lg)/2；中分：仅定性；低分：结论相反或不一致。"
            },
            {
              "sub_criteria": "有限T解与稳态解的一致性与差异",
              "description": "比较LP最优 R_n 与稳态近似，解释偏差来源（离散轮次、队列等）。",
              "score": 25,
              "evaluation_focus": "对比分析",
              "scoring_hint": "高分：有数值对比与原因；中分：仅对比无解释；低分：未对比。"
            },
            {
              "sub_criteria": "参数敏感性（L、Lg、n、Y粒度、T）",
              "description": "分析关键参数变动对 R_n 与最优布置的影响与单调性。",
              "score": 25,
              "evaluation_focus": "敏感性",
              "scoring_hint": "高分：定量曲线或弹性系数；中分：定性描述；低分：无敏感性分析。"
            },
            {
              "sub_criteria": "可行性与约束紧性验证",
              "description": "展示最优解中返航油量等式紧、容量上界紧等现象以支撑最优性。",
              "score": 20,
              "evaluation_focus": "最优性检验",
              "scoring_hint": "高分：用对偶价或绑定约束证明；中分：观察性陈述；低分：未验证或与模型矛盾。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "为子任务3，请在单段落内明确构建一个可执行的、分层的建模与求解流程以解决“在二维平面上为两座备用基地 A1、A2 选址并与空中加油/缓存调度联合优化，以及在给定矩形实例（A,B,D 固定基地、主机从 A 往返 C）下设计具体作战方案”的问题：任务目标是（1）把两个备用基地的位置参数化为连续变量 x1,x2∈R^2（或沿主航向的一维变量），并作为外层决策变量以最大化主机可达半径或最小化完成时间/所需辅机数；（2）在给定一组基地位置下，作为内层求解一个关于燃料流动、缓存点、轮次和飞机出动的调度优化问题以判定某一目标值是否可行并给出具体调度方案。具体步骤与方法包括：首先用欧氏距离把任意两点间飞行消耗映射为燃油等价（满箱航程 L 为容量），并把基地落地-再起飞的地面代价以等价耗油 Lg 加入每次落地起飞周期；其次在空间上沿主机飞行方向和必要的侧向连线离散出候选缓存节点集合 Y（并保留 B、D、及网格点），在时间上离散为轮次 t=1..T（T 可设为上界或取大值并在稳态极限做分析）；第三将内层调度表述为线性/混合整数规划：决策变量包括每轮每架辅机或每基地出动次数 s_{b,t}（整数量）、每轮从基地或缓存点向某缓存点/主机运输的燃料量 q_{u→v,t}（连续流量）、每缓存点库存 I_{v,t}，以及必要的二元变量以表示是否发生出动或是否在某节点建立临时基地；约束包括燃料守恒（入库=出库+留存）、油箱容量上限（每次飞行载油 ≤ L）、单次飞行及返航可行性（飞行段耗油为段距且返航必须保留足够燃料）、每次着陆/再起飞收取 Lg、缓存不能超过物理存储上限（若需）以及最终必须保证主机在目标点获得完成任务并返回所需燃油；目标可设为最大化可达半径 R (找到最大 R 使内层为可行) 或在给定 R 下最小化完成时间或辅机数。求解策略采用双层算法：外层用连续非线性/全局优化或网格搜索（例如有限差分/多起点的黑‑box 优化、CMA‑ES、网格细化或启发式元启发式算法）探索 x1,x2，并对每一候选位置调用内层 LP/MILP 可行性或优化求解器（如 Gurobi/CPLEX 对 MILP，或 Ipopt 对连续松弛）以返回目标值或可行调度；为提高效率可采用宽松网格粗求解后局部精化、列生成或分块（先在近轨迹方向优化缓存点，再扩展到全面网格），并对内层模型采用对称约束和紧性剪枝以减少变量。实现细节应包括：在 Python 中用 Pyomo/AMPL 建模、用 shapely/numpy 处理几何与距离、用商业/开源求解器求解并并行化外层位置评估；对矩形实例特别构造候选缓存点沿 AC 直线及连接到 B、D 的路径，并允许基地间互为接力站；最后规定验证与稳健性步骤：对最优位置做网格细化与仿真验证（逐轮次模拟燃料流与飞机运动以检验返航约束）、执行参数敏感性分析（对 L、Lg、T、库存上限和安全余量变化进行扫描），并输出：最优/可行基地位置 x1,x2、对应的缓存点集合与时间轮次调度、每轮出动计划与燃料流量表，以及用于决策的可行性证据（内层最优解或证书）。必要输入数据为满箱航程 L、地面等效耗油 Lg、辅机总数 n（或可变目标）、原始基地位置与矩形几何参数、允许的最大轮次 T（若有限）、缓存存储上限与安全余量；推荐工具为 Python+Pyomo、Gurobi/CPLEX、Ipopt/NLopt、以及几何/数值库（numpy, shapely），并在外层优化中采用适合非凸无导数的全局方法与局部精化以保证选址决策的可靠性与可实现性。",
      "criteria": {
        "task_understanding": {
          "core_goal": "题目要考什么——按题型拆解关键能力：优化两基地选址并联合优化空中加油/缓存调度，以最大化主机可达半径或最小化所需辅机数（在外层搜索 x1,x2，内层求解燃料流/缓存/轮次调度可行性）",
          "expected_output": "最优/可行基地位置 x1,x2（坐标）；内层 LP/MILP 模型文件与求解器证书；每轮次缓存点集合 Y、出动计划 s_{b,t}、燃料流量表 q_{u→v,t}；仿真验证日志与可视化图表（路线/燃料曲线）；参数敏感性报告",
          "key_inputs_constraints": "满箱行程 L（数值）；地面等效耗油 Lg（数值）；辅机总数 n（整数）；初始基地 A 位置与矩形几何（坐标/长度）；最大轮次 T 或稳态假定；燃料守恒、油箱容量 ≤ L、每次着陆-再起飞计 Lg、所有飞机最终须返回；若需：缓存存储上限",
          "modeling_type": "优化+仿真",
          "role_in_pipeline": "作为双层优化与验证模块：外层为连续位置选址（x1,x2）决策，内层为燃料流/缓存/出动调度的可行性或最优解判定；依赖输入 L,Lg,n,T 与几何，输出供决策与仿真验证，后续用于敏感性分析和方案落地"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "外层选址与内层调度二层结构识别",
              "description": "识别并区分外层的两基地选址变量 x1,x2 与内层燃料流/缓存/轮次调度问题的层次分工",
              "score": 40,
              "evaluation_focus": "建模分层",
              "scoring_hint": "高分：明确写出二层（外层 x1,x2，内层 LP/MILP）并示意调用关系；中分：提到选址和调度但未形式化二层接口；低分：未区分外/内层或混淆二者职责"
            },
            {
              "sub_criteria": "燃料—距离映射与 Lg 成本识别",
              "description": "将欧氏距离映射为燃油消耗、并将每次着陆-再起飞等效耗油 Lg 明确写入能量守恒约束",
              "score": 30,
              "evaluation_focus": "物理映射",
              "scoring_hint": "高分：给出耗油=距离且在约束中用 L, Lg 正式表述；中分：口头说明但未在约束中显式出现 Lg；低分：忽略 Lg 或错误映射距离与燃油"
            },
            {
              "sub_criteria": "关键约束（油箱容量与返航）识别",
              "description": "识别油箱容量 ≤ L、每段返航必须保留燃油、缓存容量与轮次 T 等必要约束",
              "score": 30,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：列出油箱、返航、缓存上限与终态须返回基地等约束；中分：列出部分约束；低分：缺失返航或容量等硬约束"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "用数学变量复述选址优化目标",
              "description": "用变量 x1,x2,R 或目标函数明确复述“最大化主机可达半径 R”或“最小化辅机数 n”之数学表述",
              "score": 40,
              "evaluation_focus": "目标表述",
              "scoring_hint": "高分：给出明确目标函数如 max_R R s.t. 内层可行性(x1,x2); 中分：目标描述清楚但未形式化内层可行性绑定；低分：目标模糊或未用 x1,x2 表示"
            },
            {
              "sub_criteria": "内层调度问题的可行性判定复述",
              "description": "用 LP/MILP 可行性或可行性证书复述内层问题：给定 x1,x2 与 R，判定是否存在调度满足燃料守恒与返航",
              "score": 30,
              "evaluation_focus": "可行性判定",
              "scoring_hint": "高分：清晰写出内层为可行性问题或最小辅机数的 MILP 并说明证书输出；中分：口头表述但未指出证书；低分：未区分可行性与优化"
            },
            {
              "sub_criteria": "矩形实例任务复述（A,B,D 固定，往返 C）",
              "description": "针对矩形实例，用变量与路径说明允许的缓存点、基地间接力及目标（最快到达并返回或最少辅机）",
              "score": 30,
              "evaluation_focus": "实例复述",
              "scoring_hint": "高分：对矩形 AB=4L AD=2L 的几何约束与允许基地选择给出明确模型化；中分：描述实例但缺细节；低分：未针对实例给出可操作复述"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "燃油归一化与距离等价假设",
              "description": "明确把燃油量与可飞行距离等价化（满箱= L），并声明耗油与欧氏距离线性相关",
              "score": 30,
              "evaluation_focus": "归一化假设",
              "scoring_hint": "高分：说明归一化并在约束中一致使用 L 单位；中分：说明但未在模型里统一；低分：未说明或不一致"
            },
            {
              "sub_criteria": "着陆-再起飞等效耗油 Lg 假设",
              "description": "明示每次基地落地-再起飞计入等效耗油 Lg（如题中 L/12），并在循环模型中体现",
              "score": 25,
              "evaluation_focus": "地面代价",
              "scoring_hint": "高分：Lg 明确并入循环能量收支公式 Q(y)；中分：提及 Lg 但未代入公式；低分：忽略地面代价"
            },
            {
              "sub_criteria": "缓存离散与轮次 T 假设",
              "description": "说明候选缓存点 Y 的离散化策略与轮次上界 T 或稳态极限假设",
              "score": 25,
              "evaluation_focus": "离散化/轮次",
              "scoring_hint": "高分：给出具体网格或路径（如沿 AC 线）与 T 选择理由；中分：泛泛说明离散化；低分：未说明缓存或轮次限制"
            },
            {
              "sub_criteria": "安全余量与缓存容量声明",
              "description": "对是否纳入安全余量、缓存物理上限或储油损耗做明确假设并说明其保守性",
              "score": 20,
              "evaluation_focus": "安全性假设",
              "scoring_hint": "高分：给出数值安全余量并在模型中体现；中分：口头说明但无数值；低分：忽略安全余量或不合理乐观"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "外层 x1,x2 的连续参数化与目标函数",
              "description": "把两基地选址 x1,x2 参数化为连续变量并把最大可达半径 R 或所需辅机数写为外层目标函数",
              "score": 25,
              "evaluation_focus": "选址模型",
              "scoring_hint": "高分：给出数学形式的外层问题并说明 R 与内层可行性的耦合；中分：描述目标但未完全数学化；低分：未将 x1,x2 连续化"
            },
            {
              "sub_criteria": "燃料流守恒与返航约束建模（内层）",
              "description": "在内层用线性守恒等式表示库存 I_{v,t}、流量 q_{u→v,t}，并写出返航燃油≥返航距离约束",
              "score": 25,
              "evaluation_focus": "守恒建模",
              "scoring_hint": "高分：列出完整的线性守恒与返航不等式；中分：列出部分约束；低分：守恒或返航约束不完整/错误"
            },
            {
              "sub_criteria": "决策变量与 MILP/LP 形式化",
              "description": "明确列出内层决策变量（s_{b,t}, q_{u→v,t}, I_{v,t}, 二元出动变量），并说明何时为 LP 或需 MILP",
              "score": 25,
              "evaluation_focus": "变量定义",
              "scoring_hint": "高分：变量齐全并说明二元变量位置；中分：变量基本齐全但未区分整型；低分：关键变量缺失"
            },
            {
              "sub_criteria": "候选缓存 Y 与矩形实例的几何建模",
              "description": "在空间上沿主航向与连接 B、D 离散 Y，并为矩形实例给出 AC 直线与到 B、D 的连接拓扑",
              "score": 25,
              "evaluation_focus": "几何建模",
              "scoring_hint": "高分：给出具体网格/采样并说明包含 B、D；中分：给出方向性离散但无网格参数；低分：未针对矩形实例给出候选点"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "内层求解器与可行性证书（LP/MILP）",
              "description": "选择并说明用于内层求解的求解器（Gurobi/CPLEX/GLPK/Ipopt）并要求返回可行性/最优性证书",
              "score": 20,
              "evaluation_focus": "求解器选择",
              "scoring_hint": "高分：使用商用或开源求解器并附可证书（可复制）；中分：使用求解器但无证书导出；低分：使用不合适方法或未说明求解器"
            },
            {
              "sub_criteria": "外层全局搜索与局部精化策略",
              "description": "说明外层 x1,x2 的搜索方法（网格粗搜＋局部精化/CMA‑ES/多起点）并给出并行化计划",
              "score": 25,
              "evaluation_focus": "全局搜索",
              "scoring_hint": "高分：给出具体算法步骤与并行实现细节；中分：列出可选算法但无实现细节；低分：未考虑非凸性与局部最优"
            },
            {
              "sub_criteria": "非凸性处理与列生成/分块策略",
              "description": "针对外层与内层耦合的非凸性给出列生成、分块或松弛-修复等策略以提高可解性",
              "score": 25,
              "evaluation_focus": "非凸处理",
              "scoring_hint": "高分：提出可实现的列生成或分块方案并给出伪代码；中分：提及方法但无操作步骤；低分：无非凸处理策略"
            },
            {
              "sub_criteria": "仿真验证与敏感性分析",
              "description": "用逐轮仿真检验内层调度的返航约束并对 L,Lg,T,n 做敏感性扫描以验证稳健性",
              "score": 30,
              "evaluation_focus": "验证分析",
              "scoring_hint": "高分：提供逐轮仿真记录并给出参数敏感图表；中分：提供部分仿真或单变量敏感性；低分：无仿真验证或结果不可重现"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "Pyomo/AMPL 与求解器接口实现",
              "description": "用 Pyomo/AMPL 构建内层 LP/MILP 并说明 Gurobi/CPLEX/Ipopt 的调用与版本信息，确保可复现性",
              "score": 30,
              "evaluation_focus": "可复现代码",
              "scoring_hint": "高分：提交可运行脚本、环境说明与 solver 输出；中分：代码存在但需人工调整参数；低分：无代码或不可运行"
            },
            {
              "sub_criteria": "几何处理（numpy/shapely）与距离计算正确性",
              "description": "用几何库计算欧氏距离并验证距离—燃料映射以支持 q_{u→v,t} 的计算",
              "score": 20,
              "evaluation_focus": "几何计算",
              "scoring_hint": "高分：代码包含几何单元测试且通过；中分：实现但无测试；低分：距离计算错误或未实现"
            },
            {
              "sub_criteria": "并行化外层位置评估与性能",
              "description": "实现外层对多个 x1,x2 候选并行评估内层模型以提高搜索效率",
              "score": 25,
              "evaluation_focus": "性能/并行",
              "scoring_hint": "高分：并行实现并给出性能对比；中分：说明并行策略但未实现；低分：单线程且未说明可扩展性"
            },
            {
              "sub_criteria": "结果导出、可视化与求解证书保存",
              "description": "导出最优 x1,x2、调度表、燃料流量表与 solver 证书，并提供可视化地图与时间序列图",
              "score": 25,
              "evaluation_focus": "结果端到端",
              "scoring_hint": "高分：提供完整可视化与证书文件；中分：部分导出或图表缺细节；低分：无导出或图表不可读"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "最优/可行基地位置与调度证据",
              "description": "报告最优/可行 x1,x2 并附上内层最优解或可行性证书、每轮出动计划与燃料流量表作为可行性证据",
              "score": 40,
              "evaluation_focus": "证据呈现",
              "scoring_hint": "高分：给出 solver 证书、逐轮表格与路线图；中分：给出解但缺少证书或逐轮明细；低分：仅口头结论无表格或证书"
            },
            {
              "sub_criteria": "网格细化与局部验证（位置稳健性）",
              "description": "对最优 x1,x2 做网格细化与局部多起点重解以验证解的稳健性与非敏感区间",
              "score": 30,
              "evaluation_focus": "稳健性检查",
              "scoring_hint": "高分：提供细化结果与敏感区间图；中分：做了粗略细化；低分：无细化或未验证稳健性"
            },
            {
              "sub_criteria": "参数敏感性分析与方案推荐",
              "description": "对 L,Lg,T,n 等关键参数做系统敏感性分析并给出基于结果的基地选址/调度推荐",
              "score": 30,
              "evaluation_focus": "敏感性分析",
              "scoring_hint": "高分：提供多参数扫描与明确推荐（例如当 Lg↑ 时倾向于靠近 A）；中分：单参数扫描；低分：无敏感性分析或结论无依据"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务 4（数值求解与实现细节、验证与敏感性分析）：本子任务的目标是把前述空中加油/缓存调度问题形式化为可计算的数值优化流程并给出完整的实现细节、所需数据、求解方法、验证步骤与灵敏度分析方案，使得在给定输入下可以得到可验证的最优或近优调度与可行性证书。其范围包括（但不限于）模型离散化与决策变量定义、约束与目标的精确数学表达、选用的求解器与求解策略、数值实现细节、结果输出格式、模型验证方法及对关键参数（如 L、Lg、可用辅机数 n、轮次数上限 T、缓存节点网格粒度与安全余量）的系统敏感性分析；不包含理论证明或对单一实例的解析推导。具体步骤与方法如下：一是数据与前处理：明确并验证输入数据集——满箱航程 L、地面等效耗油 Lg、辅机总数 n、最多允许轮次数或时间 T（可取∞作为稳态近似）、安全余量 s_safe、候选缓存节点集合 Y（沿主航向与必要侧向网格）、各段欧氏距离矩阵、缓存容量上限（如适用）及加油效率参数；对二维问题用几何库构建节点和距离矩阵并检查连通性。二是模型建模与离散化：在时间离散为 t=1..T、空间离散为节点集合 Y 的框架下，用线性或混合整数线性规划（LP/MILP）描述决策变量（例如 f_{u→v,t} 为时段 t 从节点 u 运到节点 v 的燃料量、I_{v,t} 为节点 v 在时段 t 的库存、x_{i,t} 或 s_{b,t} 为第 i 架或基地 b 在时段 t 出动的二元/整数变量），并精确定义约束：燃料守恒（入库=出库+留存）、油箱容量上限（载油≤L）、单次航段消耗等于段距并保证每架飞机在任一航段结束时有足够燃料返航、每次着陆-再起飞计入等效耗油 Lg、库存与出动的物理界限、主机在目标点必须获得并携带足够燃料完成任务并返回的终端约束，以及可选的安全余量约束；目标可为最大化可达距离 R（在固定 R 下做可行性判定的二分法）、或最小化完成时间/总出动次数/所需辅机数等。三是求解策略与算法实现：依据规模选择求解器与策略——对中小规模 MILP 直接用商业求解器（Gurobi/CPLEX）或开源（CBC/GLPK）求解；对大规模或连续近似问题采用列生成或分解（Benders 分解）将路径/轮次模式作为列，先解松弛再回溯整数性；可用 LP 松弛加启发式（贪心、局部搜索、元启发式如遗传算法或模拟退火）快速获得初始可行解，并用分支定界优化整数化；若问题近似为连续稳态流，则用非线性优化器（Ipopt）或自洽迭代法求稳态泵送率。并行化实现要点：外层参数搜索（例如对 R 的二分、对基地位置的网格搜索）可并行化，列生成与场景评估并行化以加速。四是数值实现细节与工程化要点：采用 Python+Pyomo/pyomo+Gurobi 或 AMPL+CPLEX 进行建模、numpy/scipy 进行矩阵运算、shapely 处理几何，确保模型对单位一致性、边界条件与大数值稳健；对时间和空间网格敏感性进行收敛测试（逐步细化 Y 与 T 并监测目标值变化）；在 MILP 中添加紧性剪枝规则（例如返航油量等式紧性约束的线性化）以减少搜索空间；记录并输出解的详细调度表（逐轮每架飞机的航段、加油量、节点库存）、对偶值或敏感性报告以作为可行性/最优性证据。五是验证与稳健性分析：先在可解析的基准情形上（单次出动的已知解析解或小规模实例的枚举最优）验证实现正确性；其次做数值收敛检验（网格细化 T、Y）、并开展参数敏感性分析（逐个参数单变量扫描）和不确定性评估（蒙特卡洛模拟输入扰动以估计结果分布）；采用全局敏感性方法（如 Sobol 指数）识别影响目标的主导参数，并针对关键参数给出建议的安全裕度。六是结果输出与文档：每次求解应生成（1）可达距离 R 或最小所需辅机数/完成时间及对应的调度计划表；（2）约束松弛度/对偶证书（或最小可行性证书）；（3）网格敏感性曲线与蒙特卡洛统计；（4）运行日志与求解器性能指标。最后给出扩展与维护建议：模块化代码以便引入位置依赖耗油、空中加油时间窗、故障概率或多主机扩展，保持模型与求解器接口可替换，并记录版本化输入输出以利复现。上述步骤与方法构成一个可直接执行的数值求解与验证工作流，所需工具建议为 Python、Pyomo/AMPL、Gurobi/CPLEX（或开源替代）、numpy/scipy、shapely 及并行计算框架。",
      "criteria": {
        "task_understanding": {
          "core_goal": "题目要考什么——按题型拆解关键能力：构建并实现数值求解与优化流程，求解/优化空中加油与缓存调度问题以最大化或判定主机可达半径 R_n（考虑输入 L, Lg, 辅机数 n, 时间轮次 T 与缓存节点 Y）并产出可验证的可行性/最优性证书。",
          "expected_output": "LP/MILP 数学模型文件与可读化表达、可执行代码（Pyomo/AMPL 脚本或等效）、求解器配置（Gurobi/CPLEX/Ipopt 等）、逐轮调度表（每架飞机每轮航段与加油量）、节点库存时间序列、可达距离 R 或最小辅机数、对偶/可行性证书、敏感性分析与可视化报告。",
          "key_inputs_constraints": "主要输入与约束：满箱航程 L（实数）；地面/再起飞等效耗油 Lg（实数）；辅机数量 n（整数）；最多轮次数或时间上界 T（整数或∞）；候选缓存节点集合 Y（点集或一维网格）；安全余量 s_safe（实数）；每段欧氏距离矩阵；油箱容量≤L及返航需留油约束。",
          "modeling_type": "优化+仿真（LP/MILP 建模、离散时空仿真与稳态近似）",
          "role_in_pipeline": "此子任务为数值实现与验证环节，依赖先验的理论模型（如子任务1给出的单次出动解析 r_n、子任务2 的泵送 Q(y) 公式与子任务3 的选址外层），为决策输出可执行调度、可行性证书与灵敏度分析，后续供决策/仿真与部署使用。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别并表述以最大化/判定 R_n 为目标",
              "description": "是否明确把主目标表述为‘最大化主机可达半径 R_n’或在给定 R 下做可行性判定，并说明用二分+可行性检验或直接 MILP 优化的策略。",
              "score": 40,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：明确声明最大化 R_n 并提出二分可行性或直接 MILP，给出可行性证书形式；中分：指出 R_n 目标但未给出可行性检验方法；低分：未将输出定性为 R_n 或误把目标设为最小出动次数而非可达半径。"
            },
            {
              "sub_criteria": "识别关键输入 L, Lg, n, T, Y 与距离矩阵",
              "description": "是否列明并区分 L（满箱航程）、Lg（再起飞等效耗油）、辅机数 n、轮次上界 T、缓存节点集合 Y 与距离矩阵并说明数据类型与单位。",
              "score": 30,
              "evaluation_focus": "数据定义",
              "scoring_hint": "高分：完整列出 L, Lg, n, T, Y, 距离矩阵及单位并校验一致性；中分：部分列出但缺少类型或单位；低分：关键输入缺失或单位不一致。"
            },
            {
              "sub_criteria": "识别关键约束：返航、油箱与着陆成本 Lg",
              "description": "是否明示返航需留油、每次着陆再起飞计入 Lg、油箱载油≤L 以及主机/辅机最终必须返回基地等硬约束。",
              "score": 30,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：详列返航燃油下界与 Lg 的计入位置并说明如何在模型中强制；中分：提及约束但描述模糊；低分：遗漏返航或 Lg 计入。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "用数学变量复述求解目标 R_n 与决策变量",
              "description": "是否用 R_n, L, Lg, n, T, Y, f_{u→v,t}, I_{v,t} 等符号把目标与主要决策变量数学化，便于后续建模实现。",
              "score": 35,
              "evaluation_focus": "符号化表述",
              "scoring_hint": "高分：给出完整符号表并写明变量含义；中分：符号部分缺失或不一致；低分：未数学化或符号混乱。"
            },
            {
              "sub_criteria": "用约束式复述返航与油量守恒要求",
              "description": "是否用方程/不等式写出油量守恒、每段消耗=段距、返航油量下界与库存守恒等基本约束。",
              "score": 35,
              "evaluation_focus": "约束表达",
              "scoring_hint": "高分：关键约束以可直接编码的等式/不等式给出；中分：口头描述但无可执行公式；低分：约束缺失或自相矛盾。"
            },
            {
              "sub_criteria": "复述期望的输出证据（调度表与可行性/对偶证书）",
              "description": "是否明确要求输出逐轮调度表、节点库存、对偶值或可行性证书以验证 R_n 的可行性或最优性。",
              "score": 30,
              "evaluation_focus": "输出证据",
              "scoring_hint": "高分：明确列出证书格式（对偶、松弛度、可行调度）；中分：只要求调度表无证书；低分：未指明验证输出。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "明确时间离散化 T 与稳态近似假设",
              "description": "是否说明采用离散轮次 t=1..T 的建模框架，或在 T→∞ 时使用稳态泵送近似，并说明适用范围。",
              "score": 30,
              "evaluation_focus": "建模假设",
              "scoring_hint": "高分：明确 T 选取原则并说明稳态近似的前提；中分：提及离散化但无选取准则；低分：未说明时间处理。"
            },
            {
              "sub_criteria": "明确燃料可分割性与箱内分配假设",
              "description": "是否声明燃料与加油可按连续量分配或在需要时给出离散化处理与整数化影响。",
              "score": 25,
              "evaluation_focus": "物理假设",
              "scoring_hint": "高分：明确连续/离散假设并给出处理策略；中分：提及但无处理策略；低分：未说明。"
            },
            {
              "sub_criteria": "明确着陆-再起飞等效耗油 Lg 的计入方式",
              "description": "是否具体说明每次落地/再起飞如何在模型中计入等效耗油 Lg（入库时扣除或作为起飞成本）。",
              "score": 25,
              "evaluation_focus": "成本建模",
              "scoring_hint": "高分：给出明确公式并示例；中分：口头说明但未公式化；低分：遗漏 Lg 处理。"
            },
            {
              "sub_criteria": "安全余量 s_safe 与缓存容量假设",
              "description": "是否规定节点库存上限或安全余量 s_safe，并说明其在约束中的作用。",
              "score": 20,
              "evaluation_focus": "风险控制",
              "scoring_hint": "高分：给出 s_safe 数值或选取策略并绑定约束；中分：建议但未绑定；低分：未考虑安全余量。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "LP/MILP 建模：变量 f_{u→v,t}, I_{v,t}, 出动整数变量",
              "description": "是否把问题写成 LP/MILP，明确连续流变量 f_{u→v,t}、库存 I_{v,t} 与必要的出动整数/二元变量并说明物理含义。",
              "score": 30,
              "evaluation_focus": "数学建模",
              "scoring_hint": "高分：给出完整 LP/MILP 变量集与界定；中分：变量不全或未区分整数/连续；低分：未形成可求解的变量集合。"
            },
            {
              "sub_criteria": "精确定义约束：油量守恒、返航可行性、油箱上限",
              "description": "是否把燃料守恒、每段消耗=段距、返航需携带燃料下界、载油≤L 等约束以可编码形式写出。",
              "score": 25,
              "evaluation_focus": "约束编码",
              "scoring_hint": "高分：所有关键约束均有明确代数形式；中分：主要约束存在但细节缺失；低分：约束不完整或不可编码。"
            },
            {
              "sub_criteria": "目标函数与 R_n 可行性二分法/直接优化表述",
              "description": "是否给出最大化 R 的 MILP 或在固定 R 下的可行性问题与二分搜索流程（含初界、容差、收敛准则）。",
              "score": 20,
              "evaluation_focus": "目标策略",
              "scoring_hint": "高分：给出二分策略与容差并说明初界选择；中分：只给目标或只给二分法；低分：无可行化求解思路。"
            },
            {
              "sub_criteria": "对偶/松弛与紧性剪枝的建模技巧",
              "description": "是否在模型中引入对偶值输出、松弛界并提出紧性剪枝（如返航油量等式线性化）以加速 MILP 求解。",
              "score": 25,
              "evaluation_focus": "求解加速",
              "scoring_hint": "高分：提供具体线性化与剪枝规则并可实现；中分：建议但无具体公式；低分：未讨论对偶或剪枝。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "求解器选择与规模适配（Gurobi/CPLEX/Ipopt/开源）",
              "description": "是否基于问题规模给出求解器选择理由（商业 vs 开源），并说明对大规模采用分解/列生成/Benders 的策略。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：用 Gurobi/CPLEX 并说明分解策略与期望 gap；中分：使用开源求解器并说明局限；低分：无合理求解器选择或未考虑规模。"
            },
            {
              "sub_criteria": "大规模策略：列生成/Benders/松弛+启发式初解",
              "description": "是否提出大规模情形的分解方法（列生成或 Benders）、LP 松弛与启发式初解方案以获得可行解并加速分支界定。",
              "score": 25,
              "evaluation_focus": "算法设计",
              "scoring_hint": "高分：给出分解步骤与收敛/截断准则；中分：提出方法但无详细步骤；低分：无大规模策略。"
            },
            {
              "sub_criteria": "并行化与外层参数搜索（R 二分、基地选址并行评估）",
              "description": "是否设计并行化方案用于外层参数（如 R 或基地位置）并说明并行粒度与加速策略。",
              "score": 20,
              "evaluation_focus": "工程化",
              "scoring_hint": "高分：给出并行化实现细节（线程、并行任务划分）；中分：提及并行性但无实现细节；低分：未考虑并行化。"
            },
            {
              "sub_criteria": "可行性/最优证书与收敛准则（gap, tol）",
              "description": "是否规定最优性证书（对偶/可行解）格式、优化 Gap 与容差以及二分法收敛判据以保证结果可验证。",
              "score": 25,
              "evaluation_focus": "验证性",
              "scoring_hint": "高分：给出 gap≤ε、对偶证书或可行解表格；中分：给出容差但无证书导出方法；低分：无收敛/证书说明。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可执行的建模代码（Pyomo/AMPL）与求解脚本",
              "description": "是否提交完整、可运行的 Pyomo/AMPL 模型与驱动脚本，含参数输入接口、求解器配置与日志输出，以复制结果。",
              "score": 35,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：代码可直接运行复现关键表格并含 README；中分：代码可运行需适度修改；低分：代码缺失或不可运行。"
            },
            {
              "sub_criteria": "结果输出格式化：逐轮调度表与库存/对偶值",
              "description": "代码是否输出逐轮每架飞机航段与加油量表、节点库存时间序列、对偶值或松弛度便于验证和展示。",
              "score": 25,
              "evaluation_focus": "可读性",
              "scoring_hint": "高分：输出 CSV/JSON 表格并含关键对偶值；中分：只输出部分表格；低分：仅输出最终数值无明细。"
            },
            {
              "sub_criteria": "单元测试、数值稳定性与单位一致性检查",
              "description": "是否包含单元测试或基本验证脚本（单位一致性、边界情况、基准样例），并处理数值精度问题。",
              "score": 20,
              "evaluation_focus": "代码质量",
              "scoring_hint": "高分：含自动化单元测试与基准验证；中分：有手动检查脚本；低分：无测试或单位错误。"
            },
            {
              "sub_criteria": "工程化特性：并行、日志、参数化与复现说明",
              "description": "是否实现并行化外层搜索、详细运行日志、参数化输入文件与复现说明（版本、求解器、随机种子）。",
              "score": 20,
              "evaluation_focus": "工程化",
              "scoring_hint": "高分：具并行/日志/复现说明并可重跑；中分：部分具备；低分：无工程化支持。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "用解析基准（n=1..4 的解析 r_n）验证数值实现",
              "description": "是否用子任务1 的解析结果（n=1..4）作为基准验证数值模型与代码，给出误差表与收敛分析。",
              "score": 30,
              "evaluation_focus": "验证性分析",
              "scoring_hint": "高分：提供误差≤容差表、收敛曲线；中分：提供误差但未分析收敛；低分：未用解析基准验证。"
            },
            {
              "sub_criteria": "参数灵敏度分析（L, Lg, n, T, 网格粒度 Y）",
              "description": "是否对关键参数做单变量扫描与全局敏感性（如 Sobol）并报告对 R_n 的影响与建议安全裕度。",
              "score": 30,
              "evaluation_focus": "敏感性",
              "scoring_hint": "高分：含单变量曲线与 Sobol/蒙特卡洛结果并给出阈值判断；中分：仅单变量扫描；低分：无敏感性分析。"
            },
            {
              "sub_criteria": "可行性证书与不等式松弛检验",
              "description": "是否提供对偶值或可行调度作为可行性证书，并检验返航油量等式/紧性约束在解中的满足程度。",
              "score": 20,
              "evaluation_focus": "可验证性",
              "scoring_hint": "高分：提供对偶证书并验证紧性条件；中分：给出可行调度但无对偶分析；低分：无证书或约束违背。"
            },
            {
              "sub_criteria": "可视化与决策报告（调度图、库存时序、结论）",
              "description": "是否包含清晰图表（逐轮燃料流、节点库存、飞机轨迹示意）与总结性决策建议以支持实务决策。",
              "score": 20,
              "evaluation_focus": "沟通能力",
              "scoring_hint": "高分：图表齐全且与结论一致并提供可操作建议；中分：图表有限但有结论；低分：无图表或结论不明确。"
            }
          ]
        }
      }
    }
  }
}