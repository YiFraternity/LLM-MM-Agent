{
  "task_id": "2017_D",
  "problem": "请你们查阅相关资料和数据，结合视频数据特点，回答下列问题：\n\n\\textbf{问题 1：} 对一个不包含动态背景、摄像头稳定拍摄时间大约 5 秒的监控视频，构造提取前景目标（如人、车、动物等）的数学模型，并对该模型设计有效的求解方法，从而实现类似图 1 的应用效果。（附件 2 提供了一些符合此类特征的监控视频）\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=0.45\\textwidth]{image1.png}\n    \\includegraphics[width=0.45\\textwidth]{image2.png}\n    \\caption{左图：原视频帧；右图：分离出的前景目标}\n    \\label{fig:1}\n\\end{figure}\n\n\\textbf{问题 2：} 对包含动态背景信息的监控视频（如图 2 所示），设计有效的前景目标提取方案。（附件 2 中提供了一些符合此类特征的典型监控视频）\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=0.24\\textwidth]{image3.png}\n    \\includegraphics[width=0.24\\textwidth]{image4.png}\n    \\includegraphics[width=0.24\\textwidth]{image5.png}\n    \\includegraphics[width=0.24\\textwidth]{image6.png}\n    \\caption{几种典型的动态视频背景：树叶摇动，水波动，喷泉变化，窗帘晃动}\n    \\label{fig:2}\n\\end{figure}\n\n\\textbf{问题 3：} 在监控视频中，当监控摄像头发生晃动或偏移时，视频也会发生短暂的抖动现象（该类视频变换在短时间内可近似视为一种线性仿射变换，如旋转、平移、尺度变化等）。对这种类型的视频，如何有效地提取前景目标？（附件 2 中提供了一些符合此类特征的典型监控视频，其它一些典型视频可从\\begin{itemize}\n    \\item 问题4：在附件3中提供了8组视频（avi文件与mat文件内容相同）。请利用你们所构造的建模方法，从每组视频中选出包含显著前景目标的视频帧标号，并将其在建模论文正文中独立成段表示。务须注明前景目标是出现于哪一个视频（如Campus视频）的哪些帧（如241-250，421-432帧）。\n    \\item 问题5：如何通过从不同角度同时拍摄的近似同一地点的多个监控视频中（如图3所示）有效检测和提取视频前景目标？请充分考虑并利用多个角度视频的前景之间（或背景之间）相关性信息（一些典型视频可从 \\url{http://cvlab.epfl.ch/research/surv/multi-people-tracking} 下载）。\n\\end{itemize}\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=\\textwidth]{image.png}\n    \\caption{在室内同一时间从不同角度拍摄同一地点获得的视频帧}\n    \\label{fig:3}\n\\end{figure}\n\n\\begin{itemize}\n    \\item 问题6：利用所获取前景目标信息，能否自动判断监控视频中有无人群短时聚集、人群惊慌逃散、群体规律性变化（如跳舞、列队排练等）、物体爆炸、建筑物倒塌等异常事件？可考虑的特征信息包括前景目标奔跑的线性变化形态特征、前景规律性变化的周期性特征等。尝试对更多的异常事件类型，设计相应的事件检测方案。（请从网络下载包含各种事件的监控视频进行算法验证）\n\\end{itemize}\n\n\\textbf{注：} 强烈建议深刻考虑问题内涵，建造合理、高效的数学模型和求解方法，鼓励进行具有开放思路与创新思维的探索性尝试。",
  "subtask": {
    "1": {
      "subtask": "子任务1（建模与假设准备）——目标是把一段短时监控视频预处理并用统一、可参数化的代数模型与先验精确定义为供后续求解器使用的输入与初值：输入数据为按时间顺序的帧序列{frame_i}_{i=1}^t（建议以avi2img/avi2mat或等效工具读取），每帧先转为灰度图并标准化到[0,1]（除以255），可选地对整序列做亮度归一化、伽马校正或弱高斯去噪；若场景中只需关注局部区域，提供或自动生成感兴趣区(ROI)掩码以裁剪空间维度以降低计算量。将每帧按列向量化 x_i ∈ R^n (n = w·h) 并按时间堆叠成数据矩阵 D = [x_1, …, x_t] ∈ R^{n×t}；若摄像机存在短时仿射抖动或帧间小幅位移，统一引入每帧的变换参数集合 τ = {τ_i}（τ_i 表示仿射/平移/尺度等小变换），并用符号 D◦τ 表示对 D 中各列按 τ_i 做逆变换/重采样得到的对齐矩阵。在此基础上明确代数分解假设与先验：假设存在低秩背景矩阵 L（表示长期稳定的空间—时间基底）、稀疏前景矩阵 S（表示在像素—时间平面上稀疏出现的移动物体）、可选的动态背景/纹理分量 T（用于捕捉周期性或局部持续动态，如树叶、水波，可用字典稀疏或时间低秩先验表示），以及小幅密集噪声 E，使得在对齐后数据满足近似分解关系 D◦τ ≈ L + S + T + E。明确各分量的先验形式以便后续建模：对背景L采用秩约束或核范数松弛以鼓励低维子空间；对前景S采用逐元素稀疏先验（L1）并规定可选的空间结构先验形式（如每帧总变分TV或帧间组稀疏L_{2,1}）以反映前景的空间连通性；对动态纹理T给出可选先验路径（预训练或在线学习的字典表示 T = Bα 且α稀疏，或基于时间频谱的带通/频域稀疏模型，或在时间域上亦采用低秩表示）；对噪声E假定为小方差高斯扰动，必要时允许包含密集轻尾噪声成分的更复杂模型。规定用于检查模型假设的诊断量：计算D的奇异值谱以判断低秩假设的合理性（明显前几个奇异值后快速衰减支持低秩），估计每帧非零像素比例以验证前景稀疏性，并在存在显著动态背景时分析像素时间序列的周期谱以决定是否启用T分量或采用像素级MOG替代。明确需要由此子任务输出的内容：预处理后的矩阵D（或D◦τ的初始近似），初始变换参数τ（可设为单位变换或由快速相位相关估计得到的粗配准），若采用字典方法则给出初始字典B或频谱过滤器参数，以及一套默认/建议的超参数初值（例如S项初始权重可取 λ ≈ 1/√(max(n,t))，并给出μ等数据拟合尺度的经验标度说明），同时输出诊断报告（奇异值衰减图、前景稀疏度统计、像素时间频谱摘要）用于决定是否需调整模型形式或预处理策略。该子任务的范围仅限于数据准备、变量定义、先验选择与假设自检，并产生可被后续求解模块直接读取的标准化输入文件（矩阵、掩码、初值与超参数集合）与诊断指标，不涉及具体的求解算法或分解实现细节。",
      "criteria": {
        "task_understanding": {
          "core_goal": "拟合并构造低秩-稀疏代数分解模型（形式化表述 D◦τ ≈ L+S+T+E），并生成标准化输入矩阵、初值 τ、可选字典 B 与超参数供后续求解器使用",
          "expected_output": "预处理后数据矩阵 D 或对齐后 D◦τ（数值矩阵文件）；每帧变换参数 τ 的初值（向量/矩阵文件）；ROI 掩码文件；可选初始字典 B；超参数集合与初始权重（JSON/TXT）；诊断报告（奇异值谱图、前景稀疏度统计、像素时间谱摘要，图表与数值指标）",
          "key_inputs_constraints": "1) 输入序列 {frame_i}_{i=1}^t：按时间顺序的灰度图像矩阵，元素归一化到[0,1]（数值矩阵，尺寸 n=w·h）；2) 可选 ROI 掩码（布尔矩阵）以裁剪空间维度；3) 摄像机抖动假设：帧间仅短时小幅仿射/平移/尺度变换，需要初始变换参数 τ（可设为单位或粗配准结果）；4) 视频时长及帧数约束（短时序列，t 较小，示例约 5 秒）；5) 先验约束：背景可近似低秩，前景逐元素稀疏，若存在动态背景需启用 T 分量或字典表示",
          "modeling_type": "拟合+评价",
          "role_in_pipeline": "作为特征工程与模型初始化阶段：在原始视频读取/去噪后执行，输出供后续模型求解（矩阵分解求解器）、前景检测与事件识别模块直接读取；依赖前序的视频读取、灰度化与去噪，后续依赖分解求解器与目标检测/跟踪模块",
          "assumptions": "假设输入视频已可读且帧率稳定；若未给定 τ 初值，可用快速相位相关或特征匹配获得粗配准；默认前景稀疏率可用经验阈值评估（如 ≤0.1）决定模型开启 S 分量"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别并列明输入 D 与 D◦τ 的格式与要求",
              "description": "明确指出需生成的矩阵 D（n×t）、对齐算子 D◦τ 的定义、每帧向量化规则及 ROI 掩码格式",
              "score": 40,
              "evaluation_focus": "数据准备",
              "scoring_hint": "高分：精确给出 D 维度、列向量化顺序、文件格式并提供 ROI 布尔矩阵示例；中分：列出 D 与 ROI 但未指定文件格式或向量化顺序；低分：未明确 D 或忽略 D◦τ 概念"
            },
            {
              "sub_criteria": "识别低秩背景与前景稀疏先验的适用性（使用奇异值谱检验）",
              "description": "识别并建议用奇异值谱或能量累积阈值检验低秩假设与给出前景稀疏比例统计检验",
              "score": 35,
              "evaluation_focus": "先验判断",
              "scoring_hint": "高分：提供奇异值衰减图或能量占比指标（如前 k 个奇异值累积≥90%）与非零像素比例阈值（高分如 ≤0.05）；中分：给出定性判断但无量化阈值；低分：未检验或错误判断先验可行性"
            },
            {
              "sub_criteria": "识别摄像机抖动需引入 τ 并建议初始配准方法",
              "description": "判断是否需要 τ（平移/仿射/尺度）并提出粗配准策略（单位变换、相位相关或快速特征匹配）",
              "score": 25,
              "evaluation_focus": "配准判断",
              "scoring_hint": "高分：根据视频特征推荐具体配准方法并给出检测阈值（如帧间互相关峰值低于0.9启用 τ）；中分：说明需配准但未给定具体方法或阈值；低分：未考虑 τ 或给出不可行方法"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述核心目标：拟合低秩-稀疏分解并产出标准化输入与初值",
              "description": "用一两句精确复述“拟合 D◦τ ≈ L+S+T+E 并输出 D/D◦τ、τ、B、超参数与诊断报告”的目标",
              "score": 40,
              "evaluation_focus": "建模思路",
              "scoring_hint": "高分：准确复述包含“拟合”“D◦τ”“L+S+T+E”“初值 τ”等关键词；中分：复述了拟合目标但遗漏部分输出项；低分：核心目标模糊或与题意不符"
            },
            {
              "sub_criteria": "复述预处理流程（灰度化/归一化/去噪/矢量化/堆叠）",
              "description": "明确列出并按顺序解释预处理步骤（包括可选伽马校正/亮度归一化与弱高斯去噪）",
              "score": 30,
              "evaluation_focus": "数据流程",
              "scoring_hint": "高分：列出全部步骤并给出参数建议（如高斯核 σ 值）；中分：列出主要步骤无参数；低分：遗漏关键预处理（如归一化或矢量化）"
            },
            {
              "sub_criteria": "复述诊断输出与其在模型选择中的作用（奇异值谱/前景稀疏度/时间谱）",
              "description": "说明三类诊断量如何用于决定启用 T 分量或调整超参数",
              "score": 30,
              "evaluation_focus": "评价判定",
              "scoring_hint": "高分：说明具体判断规则（如频谱峰值显著表示周期性需启用 T）；中分：给出诊断输出但无明确判定规则；低分：忽视诊断或作用描述不明"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "明确低秩背景假设并给出量化检验（奇异值/能量阈值）",
              "description": "陈述 L 的低秩先验、核范数松弛及用奇异值能量比判断低秩性的具体阈值或方法",
              "score": 30,
              "evaluation_focus": "先验设置",
              "scoring_hint": "高分：提供能量阈值（如前 k 个奇异值累积 ≥ 90%）并说明 k 选取策略；中分：提出低秩但无量化检验；低分：未提出或与数据矛盾"
            },
            {
              "sub_criteria": "明确前景稀疏假设并给出稀疏率与正则权重初值（如 λ≈1/√max(n,t)）",
              "description": "说明 S 的逐元素稀疏性、可选空间结构先验（TV 或 L2,1）及 λ、μ 等超参数的经验尺度",
              "score": 25,
              "evaluation_focus": "超参数",
              "scoring_hint": "高分：给出 λ、μ 的计算公式或经验值并说明适用场景；中分：给出 λ 建议但无 μ 或无适用说明；低分：未给出或给出不合理数值"
            },
            {
              "sub_criteria": "对动态纹理 T 的可选先验与启用判据进行假设",
              "description": "提出 T 可用字典稀疏表示或时间频谱带通建模，并给出启用判据（如像素时间谱存在明显周期峰）",
              "score": 25,
              "evaluation_focus": "动态建模",
              "scoring_hint": "高分：列出两种 T 建模路径并给出频谱 SNR 阈值或字典初始化建议；中分：提出 T 的存在但无启用准则；低分：忽视 T 或误用先验"
            },
            {
              "sub_criteria": "对噪声 E 与 τ 的假设及初值策略",
              "description": "说明 E 假定为小方差高斯或轻尾，τ 初值可设单位或由相位相关/特征匹配估计",
              "score": 20,
              "evaluation_focus": "配准假设",
              "scoring_hint": "高分：给出噪声方差估计方法并列出 τ 粗配准算法与阈值；中分：描述噪声与 τ 但无估计方法；低分：忽略噪声或 τ 初值策略"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "给出代数模型 D◦τ ≈ L+S+T+E 的明确定义与符号说明",
              "description": "精确写出 D◦τ 操作（对各列按 τ_i 做逆变换/重采样）、L/S/T/E 符号含义与约束",
              "score": 30,
              "evaluation_focus": "模型表述",
              "scoring_hint": "高分：符号齐全且 D◦τ 操作可程序化实现；中分：模型表述完整但对 D◦τ 实现含糊；低分：模型不完整或符号冲突"
            },
            {
              "sub_criteria": "明确背景 L 的约束形式（秩或核范数松弛）与前景 S 的正则化（L1/TV/L2,1）",
              "description": "说明为何选择核范数、何时使用 TV 或 L2,1 以体现空间连通或帧间一致性",
              "score": 25,
              "evaluation_focus": "正则选择",
              "scoring_hint": "高分：针对不同场景给出正则选择指南（如稀疏分散用 L1，连通目标用 TV）；中分：列出正则但无场景对应；低分：正则选择不当或缺失"
            },
            {
              "sub_criteria": "对 T 的具体可选数学表述（Bα、时间频谱滤波或低秩时域）",
              "description": "提供至少一种可操作的 T 模型（字典 B 与稀疏系数 α 或频域带通滤波器参数）及初始化建议",
              "score": 25,
              "evaluation_focus": "动态分量",
              "scoring_hint": "高分：给出字典初始化方法或频域滤波参数并说明训练/在线更新策略；中分：提出 T 模型但无初始化；低分：未给出可实现的 T 表述"
            },
            {
              "sub_criteria": "给出超参数初值与经验尺度（例如 λ ≈ 1/√max(n,t) 和 μ 的拟合尺度说明）",
              "description": "列出默认超参数集合与调整建议，并说明它们与数据尺度的关系",
              "score": 20,
              "evaluation_focus": "超参数",
              "scoring_hint": "高分：提供完整超参数表及调整规则（量化）；中分：给部分超参数或无调整规则；低分：未提供超参数初值"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "提供可供求解器使用的初始 τ 与 D◦τ 的初始近似（单位或粗配准结果）",
              "description": "交付可直接读入求解器的 τ 初值文件和用 τ 计算的 D◦τ 初始矩阵",
              "score": 35,
              "evaluation_focus": "初值提供",
              "scoring_hint": "高分：包含 τ 文件且对齐效果用量化指标（如均方位移 < 某值）验证；中分：提供 τ 但无量化验证；低分：未提供 τ 或 D◦τ"
            },
            {
              "sub_criteria": "提供字典 B 或频谱滤波器参数及其初始化方法（若启用 T）",
              "description": "若选择字典表示，交付 B 初始矩阵与训练/稀疏化方法说明；若频谱，交付滤波参数",
              "score": 25,
              "evaluation_focus": "字典初始化",
              "scoring_hint": "高分：交付 B/滤波参数并附简单训练脚本或说明；中分：交付但无训练说明；低分：未交付或不可用"
            },
            {
              "sub_criteria": "给出用于检查模型假设的诊断量与阈值（奇异值谱、稀疏率、频谱 SNR）",
              "description": "交付奇异值数值、非零像素比例和像素时间谱摘要及建议阈值",
              "score": 20,
              "evaluation_focus": "假设检验",
              "scoring_hint": "高分：包含数值与判断规则（如稀疏率 ≤0.05 高适配）；中分：给数值无明确规则；低分：诊断不足"
            },
            {
              "sub_criteria": "说明与后续求解器的接口规范（文件名、变量名、格式与读取方法）",
              "description": "定义输出文件格式与变量命名约定，确保求解器可无歧义读取",
              "score": 20,
              "evaluation_focus": "工程接口",
              "scoring_hint": "高分：提供详细接口规范（示例代码片段或 JSON schema）；中分：口头说明格式；低分：无接口说明"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "实现预处理代码：灰度化/归一化/伽马/弱高斯去噪与矢量化并能复现 D",
              "description": "代码能从原始 avi/mat 生成 D 或 D◦τ，参数可配置并有默认值",
              "score": 35,
              "evaluation_focus": "代码可靠",
              "scoring_hint": "高分：代码可运行并复现 D，提供参数配置示例；中分：代码可运行但需较多手动调整；低分：代码不可运行或无法生成 D"
            },
            {
              "sub_criteria": "实现 ROI/掩码与文件 I/O（保存矩阵、τ、B、超参数、诊断图）",
              "description": "提供读写例程，确保所有输出文件格式与 task_understanding 中定义一致",
              "score": 25,
              "evaluation_focus": "IO可复现",
              "scoring_hint": "高分：可读写所有规定文件并有示例；中分：支持部分文件读写；低分：I/O 不完整或不稳定"
            },
            {
              "sub_criteria": "实现粗配准方法以估计 τ（相位相关或特征匹配）并输出质量度量",
              "description": "代码实现快速相位相关或特征匹配用于 τ 初值，并输出配准质量指标",
              "score": 20,
              "evaluation_focus": "配准实现",
              "scoring_hint": "高分：提供可运行配准并给出配准误差统计；中分：提供配准实现无误差输出；低分：不实现配准"
            },
            {
              "sub_criteria": "代码文档与可重复性（说明、依赖、运行示例）",
              "description": "提供 README、依赖列表与最小运行示例，方便后续求解器接入",
              "score": 20,
              "evaluation_focus": "文档性",
              "scoring_hint": "高分：完整 README 与示例脚本；中分：部分文档；低分：无文档或无法复现"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "诊断报告：奇异值谱图与低秩适配结论",
              "description": "提供奇异值衰减图并量化说明是否满足低秩假设（例如前 k 个奇异值占比）",
              "score": 40,
              "evaluation_focus": "诊断解释",
              "scoring_hint": "高分：图表清晰并给出量化结论（如 k=3 解释率 92%）；中分：提供图表无明确结论；低分：缺少图表或解释错误"
            },
            {
              "sub_criteria": "前景稀疏度统计与模型启用建议（是否开启 T 或调整 λ）",
              "description": "给出每帧非零像素比例分布并据此建议是否启用 T 或调整 λ/TV",
              "score": 35,
              "evaluation_focus": "稀疏评估",
              "scoring_hint": "高分：给出稀疏率统计并量化建议（如稀疏率均值 0.03 建议 λ=1/√max(n,t)）；中分：给出统计无操作建议；低分：忽略稀疏统计"
            },
            {
              "sub_criteria": "像素时间频谱摘要以判断动态背景并给出处理方案",
              "description": "提供若干代表性像素或区域的时间频谱与 SNR，说明是否需启用频域 T 或 MOG 替代",
              "score": 25,
              "evaluation_focus": "频谱分析",
              "scoring_hint": "高分：给出频谱 SNR 与判定阈值并建议具体滤波/字典策略；中分：给出频谱图但无明确阈值；低分：未做频谱分析"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2（求解器设计与数值实现）的目标是从预处理后得到的灰度化、向量化并按帧堆叠的数据矩阵 D（及可选的初始帧变换参数 τ、区域掩码和字典初值）中，稳健且高效地联合求解低秩背景矩阵 L、稀疏前景矩阵 S、可选的动态背景分量 T 和可选的逐帧对齐变换 τ，并输出每帧的前景掩模与背景重构；为此本子任务限定为数值算法设计、实现细节与工程加速策略（不含后续跟踪或事件识别）。 具体步骤与方法如下：1）问题分裂与框架：采用交替最小化/增广拉格朗日（ADMM/ALM）框架，将目标函数分解为可分离的子问题——L 子问题为带核范数的最小二乘，S 子问题为带 L1 与空间先验（如TV或L2,1）的稀疏回归，T 子问题依据先验为字典稀疏或时间低秩子问题，τ 子问题为小幅仿射/平移参数的配准更新；2）L 的数值求解：用奇异值阈值（SVT）近端算子解决核范数子问题，采用截断/随机化 SVD（例如 PROPACK、randomized SVD 或 MATLAB svds/pythonic randomized_svd）以只计算显著奇异值并显著降低复杂度，支持自适应秩截断与基于阈值的保留策略；3）S 的数值求解：将逐元素软阈值（逐元素 L1 近端）与空间正则（总变分 TV）通过 ADMM 分裂为两个子步骤，分别用逐元素软阈值闭式解和 TV 近端算子（如 Chambolle 算法或 FISTA）求解，必要时对每帧并行执行以提升吞吐；4）T 的数值求解：若采用字典稀疏表示则将其转为标准 Lasso 问题，使用坐标下降、FISTA 或现成稀疏编码库求解并允许字典 B 的缓慢在线更新；若采用时间低秩表示则以核范数近端解法与 L 更新类似处理；5）τ 的数值求解：对于小幅全局变换，采用对灰度重构误差关于 τ 的线性化并用增量 Gauss–Newton 最小二乘更新，或在预处理阶段用相位相关/金字塔相位相关或基于特征匹配（ORB/SIFT + RANSAC）做快速粗配准；在 ADMM 迭代中交替固定其余变量更新 τ 并用线性化雅可比提高收敛；6）迭代控制与收敛判定：每次外循环按顺序更新 τ（若存在）、L、S、T，然后更新拉格朗日乘子与步长，采用相对残差阈值与原始/对偶残差（ADMM 标准）以及最大迭代次数作为停止条件，并支持早停与温启动（warm start）；7）在线与批处理两条实现路径：批处理采用上述全局 ADMM/ALM 方法和时间滑窗（sliding window）策略处理长序列；实时需求下提供在线子空间跟踪算法实现备选（如 OR-PCA、GRASTA、ReProCS），这些方法在每帧以 O(n·r) 复杂度递增更新背景子空间并用快速稀疏回归估计 S 和 T；8）数值稳定性与参数建议：对核范数与稀疏权重提供经验初值（例如 λ_S ≈ 1/√(max(n,t)) 并按噪声尺度 σ 调整），对 ADMM 步长与惩罚参数采用自适应增量更新规则以避免震荡，必要时对数据加小幅 Tikhonov 正则以改善病态问题；9）工程加速：对计算瓶颈（SVD、稀疏编码、TV 近端）采用截断/随机化 SVD、并行化实现（逐帧/分块并行）、GPU 加速和多线程 I/O，结合 ROI 裁剪与帧下采样以控制每帧成本；10）复杂度与资源预算：在说明文档中明确给出各子问题的理论复杂度（截断 SVD 主导，近似为 O(n·t·r) 或单次 O(n·r) 在线），并提供内存、CPU/GPU 需求估算和可切换的精度/速度参数（r、滑窗长度、SVD 截断阈）；11）软件接口与输出格式：定义清晰的 API（输入：D、可选 τ0、掩码、字典 B、超参数；输出：L、S、T、τ、每帧二值前景掩模、迭代日志与诊断指标如残差与秩曲线），并建议以 MATLAB/Python（NumPy/SciPy）为首选实现环境，辅以调用高效线性代数库（LAPACK/ARPACK/CUDA cuSOLVER）。 此子任务的交付物应包括可复现的算法实现（批处理与在线版本）、充分注释的代码或伪代码、默认超参数建议、数值稳定性与性能调优说明、复杂度/资源估算以及用于单段视频处理的运行接口与诊断输出，所有内容应足以使工程人员在给定 D 与初值的情况下直接运行并获得 L、S、T、τ 与前景掩模。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在给定预处理矩阵 D 及可选初值 τ、掩码、字典 B 的条件下，采用交替最小化/增广拉格朗日（ADMM/ALM）优化联合拟合低秩背景 L、稀疏前景 S、动态背景 T 与逐帧对齐变换 τ，并输出前景掩模与背景重构。",
          "expected_output": "数值解集合与工程产物：矩阵 L、S、T、变换参数 τ；每帧二值前景掩模；迭代日志（原始/对偶残差、步长、秩曲线）；实现代码/接口（批处理与在线版本）；默认超参数与性能报告。",
          "key_inputs_constraints": "输入 D ∈ R^{n×t}（灰度化[0,1]、向量化并按时间堆叠）；可选 τ0（小幅仿射/平移初值）；可选 ROI 掩码 M；可选动态背景字典 B；超参数集合{λ_S, λ_T, μ, ρ, TV权重}；计算资源约束（SVD 截断阈 r、滑窗长度）。前置条件：子任务1输出已完成标准化与诊断；数据满足低秩+稀疏近似及轻噪声假设；若含抖动则可线性化 τ 的小增量。",
          "modeling_type": "优化+拟合",
          "role_in_pipeline": "作为分解核心求解器，位于子任务1（数据准备/先验选择）之后，向后续子任务3（复杂场景补偿/多视角一致性融合）与后续应用（前景跟踪、异常检测）提供 L、S、T、τ 与掩模；依赖子任务1的 D、τ0、B、超参数初值与诊断，产出可直接消费的分解结果与日志。",
          "assumptions": "若未提供 B 则 T 可退化为时间低秩或关闭；若 τ 不显著则固定 τ 不更新；默认 λ_S≈1/√(max(n,t)) 并按噪声 σ 调整；数据噪声近似高斯且前景在像素-时间上稀疏。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "明确 D◦τ ≈ L+S+T+E 的优化与拟合目标",
              "description": "指出本任务是对 D（或 D◦τ）进行联合分解与参数优化，目标同时拟合低秩 L、稀疏 S、动态背景 T 及 τ。",
              "score": 30,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：完整写出分解关系与各项角色；中分：缺少 T 或 τ 的角色；低分：未说明联合分解与优化目标。"
            },
            {
              "sub_criteria": "识别约束与先验（核范数/L1/TV/L2,1）",
              "description": "准确归纳 L 的核范数先验、S 的 L1 与TV或L2,1先验、T 的字典稀疏或时间低秩先验及噪声模型。",
              "score": 30,
              "evaluation_focus": "先验理解",
              "scoring_hint": "高分：列出并解释所有先验；中分：遗漏其一且未给替代；低分：先验泛化或与任务不符。"
            },
            {
              "sub_criteria": "识别计算瓶颈与资源限制（SVD/稀疏编码）",
              "description": "点明截断/随机化 SVD 为主瓶颈，稀疏编码与TV近端为次要瓶颈，并联系 r、滑窗、内存限制。",
              "score": 20,
              "evaluation_focus": "工程意识",
              "scoring_hint": "高分：量化瓶颈与参数影响；中分：泛述慢；低分：未提复杂度与资源。"
            },
            {
              "sub_criteria": "区分批处理与在线（OR-PCA/GRASTA）场景",
              "description": "阐明长序列用滑窗ADMM，实时用在线子空间跟踪替代并说明 O(n·r) 增量特性。",
              "score": 20,
              "evaluation_focus": "场景匹配",
              "scoring_hint": "高分：清楚两路径与适用条件；中分：只提其一；低分：未区分处理模式。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "以 ADMM/ALM 表述目标函数与分裂变量",
              "description": "给出包含数据项与正则项的目标函数，并说明如何分裂为 L/S/T/τ 子问题。",
              "score": 35,
              "evaluation_focus": "数学表述",
              "scoring_hint": "高分：目标与分裂清晰且符号一致；中分：目标不完整；低分：无明确目标式。"
            },
            {
              "sub_criteria": "明确输入输出接口（D, τ0, B → L,S,T,τ,掩模）",
              "description": "复述 I/O 与迭代日志、掩模的产出，贴合 API 设计。",
              "score": 25,
              "evaluation_focus": "接口清晰",
              "scoring_hint": "高分：I/O齐全且无歧义；中分：漏部分产出；低分：接口混乱或错误。"
            },
            {
              "sub_criteria": "阐释 τ 更新与配准位置（外循环次序）",
              "description": "说明在外循环先更新 τ 再 L,S,T，并与线性化雅可比关联。",
              "score": 20,
              "evaluation_focus": "流程把握",
              "scoring_hint": "高分：给出次序与动机；中分：仅提线性化；低分：未说明 τ 何时更新。"
            },
            {
              "sub_criteria": "停止准则（原始/对偶残差与早停）",
              "description": "阐述ADMM残差、相对阈值、最大迭代与温启动策略。",
              "score": 20,
              "evaluation_focus": "收敛控制",
              "scoring_hint": "高分：残差定义与阈值策略；中分：仅给最大迭代；低分：无停止准则。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "低秩背景与奇异值谱假设",
              "description": "论证 L 低秩，引用 D 的奇异值快速衰减诊断支撑。",
              "score": 25,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：结合谱图或经验门槛；中分：口头说明；低分：无依据或矛盾。"
            },
            {
              "sub_criteria": "稀疏前景与稀疏度比例",
              "description": "说明 S 在像素-时间上稀疏并给出非零比例期望或范围。",
              "score": 20,
              "evaluation_focus": "先验匹配",
              "scoring_hint": "高分：给比例或统计区间；中分：笼统描述；低分：无稀疏性假设。"
            },
            {
              "sub_criteria": "动态背景 T 的先验选择条件",
              "description": "给出何时启用字典稀疏或时间低秩（基于频谱/方差阈）。",
              "score": 25,
              "evaluation_focus": "模型切换",
              "scoring_hint": "高分：明确启用阈值或判据；中分：模糊条件；低分：忽略 T 的选择。"
            },
            {
              "sub_criteria": "小幅仿射 τ 的线性化可行性",
              "description": "声明 τ 小增量可线性化并限定尺度（如像素级平移<3px）。",
              "score": 30,
              "evaluation_focus": "可解性保障",
              "scoring_hint": "高分：量化小幅范围；中分：仅说小幅；低分：未限制导致不稳。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "完整目标与正则项权重（λ_S, λ_T, μ, ρ）",
              "description": "写出含数据项与核范数/L1/TV/字典项的目标，并指明权重与尺度化建议（如 λ_S≈1/√(max(n,t))）。",
              "score": 30,
              "evaluation_focus": "目标设计",
              "scoring_hint": "高分：权重与尺度理由充分；中分：给默认但无依据；低分：缺失关键权重。"
            },
            {
              "sub_criteria": "ADMM 变量与约束分裂设计",
              "description": "为 S 同时承载 L1 与 TV 引入辅助变量并给等式约束，便于近端化。",
              "score": 25,
              "evaluation_focus": "算法结构",
              "scoring_hint": "高分：清晰给出分裂与约束；中分：分裂不完整；低分：未分裂导致不可解。"
            },
            {
              "sub_criteria": "批处理滑窗与在线路径并存",
              "description": "在设计中包含滑窗RPCA与在线OR-PCA/GRASTA选项及切换条件。",
              "score": 20,
              "evaluation_focus": "体系完备",
              "scoring_hint": "高分：清楚切换条件与接口；中分：仅列名；低分：缺其一。"
            },
            {
              "sub_criteria": "复杂度与资源预算",
              "description": "给出截断/随机化 SVD 主导复杂度 O(n·t·r) 与内存估算及 r/窗长的影响。",
              "score": 25,
              "evaluation_focus": "复杂度评估",
              "scoring_hint": "高分：量化并给调参影响；中分：只给大O；低分：无复杂度说明。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "L 子问题：SVT 与截断/随机化 SVD",
              "description": "采用奇异值阈值近端与 randomized/propack 截断策略，含自适应秩截断。",
              "score": 25,
              "evaluation_focus": "数值方法",
              "scoring_hint": "高分：给实现细节与阈值策略；中分：仅提SVT；低分：用全SVD或不当方法。"
            },
            {
              "sub_criteria": "S 子问题：L1 软阈值 + TV 近端（Chambolle/FISTA）",
              "description": "通过ADMM分裂分别用软阈值与TV近端，支持逐帧并行。",
              "score": 25,
              "evaluation_focus": "优化实现",
              "scoring_hint": "高分：说明参数与并行；中分：缺TV近端细节；低分：未分裂或缺任一。"
            },
            {
              "sub_criteria": "T 子问题：Lasso/时间低秩两案",
              "description": "字典稀疏转 Lasso 用坐标下降/ISTA/FISTA；或时间核范数近端。",
              "score": 20,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给收敛与更新策略；中分：仅列名称；低分：忽略 T。"
            },
            {
              "sub_criteria": "τ 子问题：线性化 Gauss–Newton 与粗配准",
              "description": "外循环线性化重建误差更新 τ，结合相位相关/特征+RANSAC 粗配准。",
              "score": 15,
              "evaluation_focus": "配准数值",
              "scoring_hint": "高分：给雅可比与步长控制；中分：只提线性化；低分：未处理 τ。"
            },
            {
              "sub_criteria": "收敛与参数更新（原始/对偶残差，自适应 ρ）",
              "description": "定义残差与阈值，采用自适应惩罚参数避免震荡，支持温启动与早停。",
              "score": 15,
              "evaluation_focus": "收敛控制",
              "scoring_hint": "高分：列更新规则与容差；中分：固定ρ；低分：无判据。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "SVD/TV/稀疏编码加速（截断SVD、并行、GPU）",
              "description": "实现截断/随机化 SVD，TV 近端并行化，稀疏编码批处理或GPU加速。",
              "score": 25,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：有可切换后端与基准；中分：局部加速；低分：全量SVD无并行。"
            },
            {
              "sub_criteria": "API 与数据管线（D, τ0, B → L,S,T,τ,掩模）",
              "description": "提供清晰函数/类接口与批处理、在线两种运行入口及日志输出。",
              "score": 25,
              "evaluation_focus": "代码设计",
              "scoring_hint": "高分：稳定API与单元测试；中分：接口不完整；低分：耦合混乱无文档。"
            },
            {
              "sub_criteria": "数值稳定性（Tikhonov、小尺度归一化）",
              "description": "加入小幅正则、数据尺度化、溢出/NaN 处理与容错。",
              "score": 20,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：覆盖异常与容错策略；中分：零散处理；低分：数值发散。"
            },
            {
              "sub_criteria": "参数配置与默认值（λ_S≈1/√(max(n,t)) 等）",
              "description": "提供可复现实验的默认超参数、范围与自动调参钩子。",
              "score": 15,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：配置化+保存/加载；中分：只给默认；低分：硬编码无说明。"
            },
            {
              "sub_criteria": "滑窗/并行 I/O 与内存控制",
              "description": "实现滑窗流式处理、异步I/O、ROI/下采样开关，内存占用可控。",
              "score": 15,
              "evaluation_focus": "系统实现",
              "scoring_hint": "高分：稳定吞吐与内存指标；中分：仅滑窗；低分：内存溢出或阻塞。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "掩模与背景重构质量（IoU/F1/PSNR）",
              "description": "对每帧前景掩模与背景重构给出 IoU/F1、PSNR/SSIM 或合成基准下的数值评估。",
              "score": 30,
              "evaluation_focus": "量化评估",
              "scoring_hint": "高分：多指标并与基线比较；中分：单一指标；低分：无量化结果。"
            },
            {
              "sub_criteria": "残差与秩曲线诊断（原始/对偶残差、估计秩）",
              "description": "报告 ADMM 残差收敛、L 的有效秩随迭代变化与阈值敏感性。",
              "score": 25,
              "evaluation_focus": "收敛诊断",
              "scoring_hint": "高分：曲线+解读；中分：仅数值；低分：无诊断。"
            },
            {
              "sub_criteria": "超参数敏感性（λ_S, TV 权重, r, 窗长）",
              "description": "分析关键超参数对 IoU/PSNR/速度的影响并给出推荐区间。",
              "score": 25,
              "evaluation_focus": "调参能力",
              "scoring_hint": "高分：网格/曲线与结论；中分：定性讨论；低分：未分析。"
            },
            {
              "sub_criteria": "复杂场景鲁棒性（动态背景/抖动）",
              "description": "展示在动态背景或小幅抖动时 S、τ 的稳定性与失败案例回退策略。",
              "score": 20,
              "evaluation_focus": "泛化能力",
              "scoring_hint": "高分：含回退与定量退化；中分：仅示例；低分：未覆盖复杂场景。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3（复杂场景专用模块：动态背景、摄像机抖动与多视角融合）—— 范围与目标：本子任务独立负责在有显著局部/周期性动态背景、摄像机短时抖动或存在多路近同步/非同步视角时，提供一组模块化、可互换且能与主分解器对接的预处理与联合建模方法，目标是生成对后续低秩/稀疏分解更友好的输入（包括局部动态掩码、配准后帧或多视角一致性约束），并在必要时直接输出经补偿的前景候选掩模或多视角稀疏三维占用的先验。输入与先验信息：单路或多路视频帧序列（灰度化并标准化到[0,1]），可选的相机内外参/重叠区域信息与时间戳、初始ROI掩码；关键可调超参数包括时间滑窗长度、字典原子数/稀疏度阈值、像素级MOG分量数、配准模型类型（平移/仿射/单应）与配准鲁棒阈值。实施步骤与方法：1) 动态背景识别与分区：对输入视频做基于短时谱分析（帧内/像素时间序列的FFT能谱）或像素级统计（方差/自相关）检测出具有强周期成分或高频随机运动的空间块；对不同块采用不同策略（静态块用低秩假设，动态纹理块进入后续专用模型）；2) 像素级/块级背景模型选择：对普通动态但重复出现的像素使用像素级自适应模型（Mixture of Gaussians, MOG）以识别可重复背景模式；对具有结构性纹理（如水面、树叶）采用字典学习（离线或在线字典B）或时间频域滤波（带通/陷波）来表示动态背景 T，使得 T = Bα 或通过频域门限去除主要频率后得到残差；字典学习可用 SPAMS 或 FISTA/Lasso 实现并支持缓慢在线更新；3) 摄像机抖动估计与补偿：先用快速全局方法（相位相关在金字塔上估计全局平移/缩放；ORB/SIFT 特征配对 + RANSAC 估计仿射/单应）做粗配准，随后在局部用稠密光流或基于图像雅可比的增量 Gauss–Newton 优化细化变换参数 τ_i（线性化灰度重建误差并在 ADMM 外循环中交替更新 τ 与其它分量）；若抖动可由全局仿射近似，则采用 RASL 风格的联合最优化（交替更新变换与低秩/稀疏分量）；对较复杂的局部非刚性抖动，可分块估计局部仿射并用平滑场正则化连接相邻块的变换场。4) 动态背景补偿与局部模型融合：在滑动时间窗口内，对被识别为动态纹理的块用字典稀疏编码或频域滤波得到背景重构 T 并将其从原始帧中剔除；同时对静态/轻微变动区域应用低秩分解或在线子空间跟踪（GRASTA/OR-PCA）以得到背景估计；对同一区域若有多模型输出，采用置信加权或基于重构误差的选择规则融合结果。5) 多视角融合策略（若存在多路视频）：先尽可能做几何校准（若有相机参数）或估计互视单应/基础矩阵并对重叠区域进行亮度归一化与时间对齐（若不同步则做时间延迟估计）；将各视角投影到公用地面平面或鸟瞰视图后，采用耦合约束将各视角的背景/前景分解耦合（例如在投影平面上对齐后的 S_k 通过最小二乘或稀疏三维体素表示共同恢复：求解使得投影一致的多视角稀疏重建问题），或采用张量/RPCA 扩展在视角维度上共享低秩背景基底以提高遮挡鲁棒性；实现上可选用体素稀疏恢复（multi-view voxel carving + L1 优化）或在每视角分别分解后基于投影一致性做后验融合。6) 算法接口与迭代策略：各模块应以滑动窗口为工作单元，输出（或更新）局部动态掩码、配准变换 τ、背景纹理字典/系数、以及经补偿后的帧或多视角一致性约束项；模块间通过迭代（配准→分解→补偿→再配准）精化结果，采用截断/随机化 SVD、并行稀疏编码与 GPU 加速以降低延时。工具与实现要点：建议使用 OpenCV（配准、光流、特征匹配）、VLFeat/ORB/SIFT、SPAMS 或 scikit-learn（字典学习、Lasso）、PROPACK/ARPACK 或 randomized_svd（截断 SVD）、ADMM/FISTA 实现优化子问题，并在需要时结合 CUDA/cuBLAS 做并行加速；为在线场景准备 OR-PCA/GRASTA 的实现以保证实时性。输出规格：为主分解器提供（1）每帧/每块的动态背景掩码与补偿后的帧序列，或直接给出剔除动态纹理后的矩阵 D'；（2）每帧估计的全局或分块变换参数 τ；（3）若多视角则输出投影到公共平面的多视角一致性约束或稀疏三维占用先验；（4）模块运行时的置信度指标与诊断信息（重构误差谱、字典稀疏系数分布、配准残差）。限制与假定：本模块假定短时窗口内动态背景的统计/频谱特征相对稳定且摄像机抖动可由小幅仿射/局部仿射近似描述；若输入不满足这些假设应触发回退策略（仅使用像素级 MOG 或人工ROI 指定）。",
      "criteria": {
        "task_understanding": {
          "core_goal": "构建并优化复杂场景专用模块以对动态背景、摄像机抖动与多视角输入进行补偿与拟合，生成更友好的分解输入与一致性约束。",
          "expected_output": "（1）每帧/每块动态背景掩码与补偿后的帧序列D'；（2）每帧估计的全局或分块配准参数τ；（3）多视角一致性约束或稀疏三维占用先验；（4）置信度与诊断报表（重构误差谱、稀疏系数分布、配准残差）。",
          "key_inputs_constraints": "输入：灰度化标准化到[0,1]的单路或多路帧序列、可选ROI掩码、时间戳与相机内外参。约束：滑动窗口长度设定；配准模型类型（平移/仿射/单应）选择与鲁棒阈值；字典原子数与稀疏度阈值；MOG分量数；动态块由FFT能谱/方差阈值检测；多视角需具备重叠区域或可估计基础矩阵/单应。",
          "modeling_type": "拟合+优化+分类+评价",
          "role_in_pipeline": "作为主分解器（低秩/稀疏RPCA等）前的复杂场景专用预处理与联合建模模块，依赖前序的基本预处理与数据堆叠（子任务1），为后序分解与前景提取（求解器与检测模块）提供D'、τ与多视角约束。",
          "assumptions": "短时窗口内动态背景的频谱统计稳定；摄像机抖动可用小幅仿射/局部仿射近似；多视角存在部分重叠且时间偏移可估计；字典可在线缓慢更新。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "动态背景识别与分区（FFT能谱/方差/自相关）",
              "description": "是否明确以帧内像素时间序列的FFT能谱或方差/自相关来识别具有周期或高频随机运动的区域，并区分静态块与动态纹理块。",
              "score": 35,
              "evaluation_focus": "问题抽象/特征选择",
              "scoring_hint": "高分：给出频带阈值或能量占比阈≥具体数并含滑窗策略；中分：仅描述FFT或方差但无阈值；低分：未区分动态与静态块。"
            },
            {
              "sub_criteria": "摄像机抖动问题界定（平移/仿射/单应）",
              "description": "是否根据场景与视角变化正确界定应使用平移、仿射或单应模型补偿抖动，并说明适用条件。",
              "score": 35,
              "evaluation_focus": "模型选择",
              "scoring_hint": "高分：列出各模型适用视差范围与判据；中分：只给出单一模型；低分：忽略抖动或误用模型。"
            },
            {
              "sub_criteria": "多视角融合问题界定（重叠区域/时间对齐）",
              "description": "是否指出需要重叠区域、时间戳/延迟估计及几何关系（基础矩阵/单应）作为多视角一致性前提。",
              "score": 30,
              "evaluation_focus": "需求边界",
              "scoring_hint": "高分：明确时间延迟估计方法与重叠检测；中分：仅提几何关系；低分：未说明多视角前提。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "核心目标复述（补偿与拟合生成D'与τ）",
              "description": "是否准确复述将动态背景与抖动进行补偿/拟合以输出D'与配准参数τ供主分解器使用。",
              "score": 40,
              "evaluation_focus": "目标对齐",
              "scoring_hint": "高分：同时提到D'与τ及其用于后续低秩/稀疏分解；中分：只提D'或τ；低分：偏离目标。"
            },
            {
              "sub_criteria": "模块化与可互换性阐述",
              "description": "是否说明动态掩码、字典T建模、MOG、配准、融合等为可插拔模块及接口输出。",
              "score": 30,
              "evaluation_focus": "系统设计",
              "scoring_hint": "高分：列出接口与输入输出；中分：泛述模块；低分：未体现模块化。"
            },
            {
              "sub_criteria": "多视角一致性约束或稀疏三维先验复述",
              "description": "是否清晰复述将各视角投影到公共平面/体素并形成一致性约束或稀疏三维占用先验。",
              "score": 30,
              "evaluation_focus": "跨视角理解",
              "scoring_hint": "高分：说明鸟瞰/地面平面与一致性度量；中分：仅提联合；低分：遗漏此点。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "动态背景稳定性与频谱先验假设",
              "description": "明确短时窗口内动态纹理的频谱稳定，支持带通/陷波或字典稀疏T=Bα建模。",
              "score": 30,
              "evaluation_focus": "先验设定",
              "scoring_hint": "高分：给出窗口长度与频带范围示例；中分：抽象描述；低分：无先验。"
            },
            {
              "sub_criteria": "配准可近似为小幅仿射/局部仿射",
              "description": "提出抖动可由全局仿射或分块仿射近似，并限定视差条件与残差阈值。",
              "score": 30,
              "evaluation_focus": "建模假设",
              "scoring_hint": "高分：含RANSAC内点比或残差像素阈；中分：仅说仿射；低分：无假设。"
            },
            {
              "sub_criteria": "多视角共享低秩背景或投影一致性假设",
              "description": "假设各视角背景在视角维度低秩或前景在公共平面/体素上一致稀疏。",
              "score": 25,
              "evaluation_focus": "跨域先验",
              "scoring_hint": "高分：指出共享子空间或体素稀疏率范围；中分：概念化陈述；低分：未提出。"
            },
            {
              "sub_criteria": "回退策略假设（MOG/ROI）",
              "description": "当假设不成立时触发仅用像素级MOG或人工ROI的回退。",
              "score": 15,
              "evaluation_focus": "鲁棒性设计",
              "scoring_hint": "高分：定义触发阈如配准失败率>30%；中分：仅提回退；低分：无回退。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "动态背景模型选择（MOG vs 字典/频域）",
              "description": "依据FFT/方差分区对普通重复像素用MOG，对纹理块用T=Bα或带通/陷波滤波建模。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出MOG分量数与L1稀疏度阈；中分：只选其一；低分：未区分。"
            },
            {
              "sub_criteria": "配准模型与鲁棒估计（ORB/SIFT+RANSAC/相位相关）",
              "description": "构建金字塔相位相关做粗平移/缩放，特征匹配+RANSAC估计仿射/单应，必要时局部仿射场。",
              "score": 30,
              "evaluation_focus": "几何建模",
              "scoring_hint": "高分：阐述内点阈与尺度空间；中分：单一方法；低分：缺少鲁棒性。"
            },
            {
              "sub_criteria": "多视角一致性与张量/体素模型",
              "description": "定义投影到地面/鸟瞰的耦合约束，或构建视角维度共享低秩/张量RPCA，或体素稀疏恢复。",
              "score": 25,
              "evaluation_focus": "联合建模",
              "scoring_hint": "高分：给出一致性损失形式；中分：口述；低分：未建模。"
            },
            {
              "sub_criteria": "滑动窗口与融合策略（置信加权/重构误差选择）",
              "description": "设计窗口内多模型输出的融合，基于重构误差或置信度进行选择或加权。",
              "score": 15,
              "evaluation_focus": "系统集成",
              "scoring_hint": "高分：明确误差阈与权重更新；中分：有融合但无准则；低分：无融合策略。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "字典学习/稀疏编码求解（SPAMS/FISTA/Lasso）",
              "description": "给出T=Bα的优化细节：原子数、L1权重、在线更新策略与终止条件。",
              "score": 30,
              "evaluation_focus": "优化实现",
              "scoring_hint": "高分：含收敛准则与时间复杂度估计；中分：仅列工具；低分：无求解细节。"
            },
            {
              "sub_criteria": "配准优化（Gauss–Newton细化/光流）",
              "description": "在线性化灰度误差下迭代更新τ，或用稠密光流局部细化，并给出鲁棒损失与停止准则。",
              "score": 30,
              "evaluation_focus": "数值优化",
              "scoring_hint": "高分：给出最大迭代数与残差下降阈；中分：概述方法；低分：无迭代细节。"
            },
            {
              "sub_criteria": "MOG自适应更新与阈值",
              "description": "说明分量数、学习率、背景/前景判定阈与卡方或马氏距离判别。",
              "score": 20,
              "evaluation_focus": "统计建模",
              "scoring_hint": "高分：参数与更新率成文；中分：仅默认；低分：未设解释。"
            },
            {
              "sub_criteria": "并行与近似（截断SVD/随机化/GPU）",
              "description": "使用随机SVD、并行稀疏编码与GPU加速，控制延时与内存。",
              "score": 20,
              "evaluation_focus": "工程优化",
              "scoring_hint": "高分：量化吞吐或延时指标；中分：仅提可加速；低分：无可扩展性考虑。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "OpenCV/VLFeat/ORB/SIFT与RANSAC配准实现",
              "description": "配准流程可运行，含金字塔相位相关、特征匹配、RANSAC估计与失败回退。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：含单元测试与失败率日志；中分：能跑但无监控；低分：不稳定或无回退。"
            },
            {
              "sub_criteria": "SPAMS/Sklearn字典学习与稀疏编码管线",
              "description": "实现T=Bα训练与在线更新，支持滑窗与批处理。",
              "score": 25,
              "evaluation_focus": "算法工程",
              "scoring_hint": "高分：提供API与参数校验；中分：基本功能；低分：缺失更新或崩溃。"
            },
            {
              "sub_criteria": "MOG背景建模与参数可配置",
              "description": "实现像素级MOG，分量数、学习率、阈值可配置并持久化。",
              "score": 20,
              "evaluation_focus": "可配置性",
              "scoring_hint": "高分：配置与默认值合理；中分：部分可配；低分：硬编码。"
            },
            {
              "sub_criteria": "多视角投影与一致性约束接口",
              "description": "实现地面/鸟瞰投影、时间对齐与一致性损失计算的API。",
              "score": 25,
              "evaluation_focus": "接口设计",
              "scoring_hint": "高分：清晰I/O与示例；中分：仅核心函数；低分：缺失或耦合严重。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "诊断报表（重构误差谱/稀疏系数分布/配准残差）",
              "description": "输出并解读误差谱拐点、系数稀疏率、RANSAC内点率及配准残差统计。",
              "score": 35,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：含阈值与异常告警；中分：仅展示图表；低分：无诊断。"
            },
            {
              "sub_criteria": "动态掩码与D'可视化与量化评估",
              "description": "展示掩码与补偿后帧；量化以前景召回/误检或背景PSNR/SSIM改进。",
              "score": 35,
              "evaluation_focus": "定量评估",
              "scoring_hint": "高分：给出≥2项指标与基线对比；中分：单指标或无基线；低分：仅主观描述。"
            },
            {
              "sub_criteria": "多视角一致性验证（投影一致性/体素稀疏度）",
              "description": "评估不同视角在公共平面的前景一致性或三维体素占用稀疏度与稳定性。",
              "score": 30,
              "evaluation_focus": "跨视角评估",
              "scoring_hint": "高分：提供一致性误差均值±方差；中分：定性展示；低分：未评估。"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（后处理、目标跟踪、事件特征提取与异常检测、验证与部署）旨在以逐帧前景掩模和候选目标为唯一输入，输出稳定的目标轨迹、结构化时空特征、事件判定与报警日志，并提供评估指标与部署建议。具体包含以下步骤与技术要点：1) 掩模后处理与候选框生成——对每帧前景掩模做二值化、形态学开闭、连通域分析以去噪并生成边界框/质心与像素面积；过滤小于面积阈值（默认占帧面积的0.001）或非连通目标；2) 数据关联与轨迹管理——对连续帧候选框以匈牙利算法或贪心IOU匹配进行关联，匹配代价可用1−IOU或结合匈牙利的外观距离；在关联中用卡尔曼滤波（常用恒速模型）进行状态预测与平滑，设置跟踪丢失容忍帧数N_miss（建议3–10帧）与最短成轨长度N_min（建议5帧）以剔除伪轨；3) 轨迹与目标级特征提取——为每条轨迹按时间步计算像素位移、速度（像素/秒，结合帧率）、加速度、方向角、曲率、轨迹长度与占用面积时间序列；在无真实尺度时对速度归一化（除以帧对角线长度）以便阈值通用；4) 群体与流场特征——在空间网格或ROI上计算每帧的目标密度（单位面积目标数或像素覆盖率）、局部平均速度场（由轨迹或稠密光流估算）、速度场散度与旋度、方向熵与速度方差，用于描述聚集/散开与秩序性；光流可用Farneback或轻量级CNN（PWC-Net）实现；5) 时序统计与频谱特征——对轨迹或局部速度时间序列做滑动窗口统计（均值、方差、跳变率）、CUSUM/滑动Z-score检测突变，并用FFT或自相关检测周期性（舞蹈、列队等）；6) 异常判别策略——提供三类可选方法：规则阈值（如短时内密度急增、局部速度散度大于阈值触发）、统计学习（基于历史正常样本的GMM、Mahalanobis距离、One-Class SVM）与时序深度模型（LSTM自编码器或1D-CNN监测重构误差）；融合策略可将多方法的置信度按加权投票或逻辑回归整合，输出事件类型、时间窗、相关轨迹ID与置信度；7) 报警后处理与稳健化——对报警做时间抑制（debounce）与空间融合以减少误报，提供阈值自适应机制（基于最近窗口的背景统计）并产生日志与可视化（关键帧、轨迹叠加、热力图）；8) 性能评估与参数调优——在标注集上按像素/目标/事件层面计算精确率、召回率、F1、IoU、事件检测延迟与误报率，进行超参数敏感性分析（IOU阈值、N_miss、窗口长度、告警阈值），并用ROC/PR曲线与混淆矩阵指导阈值选择；9) 部署建议——区分离线批量与实时在线两种模式：实时采用轻量跟踪（SORT/卡尔曼+IOU）、低维特征与简单阈值或轻量神经网络，限制每帧处理时间以满足帧率；离线可用更复杂的光流与LSTM模型；提供输出格式规范（轨迹表：ID,时间戳, bbox,速度等；事件表：类型,开始/结束帧,相关IDs,置信度）与API 接口建议；10) 推荐工具——OpenCV（形态学、连通域、光流、匈牙利）、NumPy/SciPy、scikit-learn、filterpy（卡尔曼）、PyTorch/TensorFlow（LSTM/自编码器）、以及现成跟踪库（SORT/DeepSORT）用于扩展外观关联。该子任务应交付可复现的处理代码或模块、参数默认值与调优指南、评估报告与部署说明，确保在不依赖其它预处理细节的情况下能直接接收前景掩模与输出可靠的轨迹与事件报警。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在子任务4中基于前序分解器输出的逐帧前景掩模与候选目标，构建并优化跟踪与异常检测流程，拟合稳定轨迹并评估报警事件。",
          "expected_output": "轨迹表（ID, 时间戳/帧号, bbox, 速度/加速度等）、事件表（类型, 开始/结束帧, 相关轨迹ID, 置信度）、可视化快照/热力图、评估报表（精确率/召回/F1/IoU/延迟/误报率）、可运行代码与API。",
          "key_inputs_constraints": "输入：逐帧前景掩模（二值/概率）、候选框/质心（可由本任务连通域生成）；必要条件：给定帧率或时间戳用于速度计算；约束：实时场景需满足目标帧率（如≥25 FPS），面积阈值默认占帧面积0.001；仅使用掩模，不依赖外观特征是最低假设；可选光流、ROI与相机标定信息提升群体特征。",
          "modeling_type": "分类+拟合+评价+优化",
          "role_in_pipeline": "作为前景分离后的后处理与事件层输出环节，前序依赖子任务2/3产出的前景掩模与（可选）配准；后序为系统告警与业务接口部署。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "明确定义基于前景掩模的目标轨迹拟合与异常判别",
              "description": "是否将核心目标表述为由掩模生成候选、跟踪拟合轨迹、并对事件进行分类/报警与评估（精确率/召回/延迟）。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：三步链路与指标齐全；中分：缺少任一关键环节；低分：混淆检测与跟踪或无指标。"
            },
            {
              "sub_criteria": "输入约束与实时性目标（帧率、面积阈值0.001）",
              "description": "是否识别帧率/时间戳对速度估计的重要性与面积阈值、实时帧率约束对方案选择的影响。",
              "score": 25,
              "evaluation_focus": "需求解析",
              "scoring_hint": "高分：量化帧率目标与阈值影响；中分：仅口述不量化；低分：未提实时/阈值。"
            },
            {
              "sub_criteria": "异常事件类型与可观测特征映射",
              "description": "将聚集、惊慌逃散、周期性活动与轨迹/密度/散度/方向熵等特征对齐。",
              "score": 40,
              "evaluation_focus": "特征设计",
              "scoring_hint": "高分：逐类列出对应特征与阈值方向；中分：罗列不配对；低分：只举例无映射。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "数据流复述（掩模→形态学→连通域→候选框）",
              "description": "准确复述掩模后处理并输出候选框/质心/面积的顺序与目的。",
              "score": 30,
              "evaluation_focus": "流程表达",
              "scoring_hint": "高分：顺序、参数与输出齐全；中分：缺参数或输出项；低分：流程含混。"
            },
            {
              "sub_criteria": "关联策略复述（IOU/匈牙利+卡尔曼）",
              "description": "明确1−IOU代价或外观距离、卡尔曼恒速模型、N_miss和N_min的作用。",
              "score": 40,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：含代价定义与阈值建议；中分：仅点名算法；低分：误解或缺失关键组件。"
            },
            {
              "sub_criteria": "异常检测复述（阈值/统计学习/LSTM自编码）",
              "description": "准确描述三类方法与融合（加权投票/逻辑回归）和输出（事件类型、时间窗、置信度）。",
              "score": 30,
              "evaluation_focus": "方案概括",
              "scoring_hint": "高分：三类方法优缺点与融合清晰；中分：只列方法；低分：仅泛谈异常。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "仅依赖掩模的最小可行假设与可选光流/标定增强",
              "description": "清楚区分必需输入（掩模/帧率）与可选增强（光流、标定、ROI）。",
              "score": 30,
              "evaluation_focus": "假设清晰",
              "scoring_hint": "高分：区分并给出退化策略；中分：只列清单；低分：依赖未保证的外观特征。"
            },
            {
              "sub_criteria": "运动模型假设（恒速/恒加速度）与遮挡/丢失处理",
              "description": "阐明恒速卡尔曼适用性、遮挡时N_miss与重识别策略（基于轨迹几何）。",
              "score": 35,
              "evaluation_focus": "数理假设",
              "scoring_hint": "高分：给出过程/观测噪声设定思路；中分：只说恒速；低分：无遮挡假设。"
            },
            {
              "sub_criteria": "群体与异常的统计平稳性与窗口化假设",
              "description": "说明滑动窗口长度对密度/散度/周期性估计稳定性的影响。",
              "score": 35,
              "evaluation_focus": "时序建模",
              "scoring_hint": "高分：窗口选择依据与敏感性；中分：给出范围；低分：未说明窗口。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "后处理与候选生成模型（形态学开闭、连通域、面积阈值0.001）",
              "description": "参数化形态学核、连通域合并/过滤与噪声抑制策略。",
              "score": 25,
              "evaluation_focus": "算法细化",
              "scoring_hint": "高分：结构元素大小与自适应阈值；中分：固定参数；低分：无参数说明。"
            },
            {
              "sub_criteria": "数据关联与卡尔曼状态空间模型",
              "description": "定义状态向量、观测、过程/观测噪声、代价矩阵（1−IOU）与门控。",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：给出状态转移/观测矩阵；中分：文字描述；低分：缺关键矩阵。"
            },
            {
              "sub_criteria": "群体/流场与频谱特征（密度、散度、方向熵、FFT周期）",
              "description": "网格化统计与光流/轨迹导出速度场及周期检测细节。",
              "score": 25,
              "evaluation_focus": "特征工程",
              "scoring_hint": "高分：特征公式或计算流程清晰；中分：只列名称；低分：未给计算方法。"
            },
            {
              "sub_criteria": "异常判别融合（阈值+统计学习+LSTM自编码器）",
              "description": "定义各方法输出的置信度与融合规则（加权/逻辑回归）及校准。",
              "score": 15,
              "evaluation_focus": "模型设计",
              "scoring_hint": "高分：含权重学习或校准策略；中分：固定权重；低分：未融合。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "匈牙利/贪心IOU匹配与门控实现细节",
              "description": "代价矩阵构造、IOU阈值、不可达∞处理与复杂度考虑。",
              "score": 30,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：边界条件与复杂度量化；中分：仅调用API；低分：匹配不稳健。"
            },
            {
              "sub_criteria": "卡尔曼滤波参数调优（过程/观测噪声、自适应）",
              "description": "给出噪声协方差设定与在线调整策略（基于残差）。",
              "score": 30,
              "evaluation_focus": "参数调优",
              "scoring_hint": "高分：残差统计自适应；中分：固定经验值；低分：未说明参数。"
            },
            {
              "sub_criteria": "异常检测阈值/模型训练与验证",
              "description": "阈值设定依据或One-Class/LSTM训练数据划分、早停与阈值选取。",
              "score": 40,
              "evaluation_focus": "训练验证",
              "scoring_hint": "高分：验证集选阈值并报告性能；中分：手工阈值；低分：无验证流程。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "掩模后处理与连通域模块的鲁棒性与速度",
              "description": "批量/流式接口、参数化核大小、并行化或向量化实现。",
              "score": 25,
              "evaluation_focus": "代码性能",
              "scoring_hint": "高分：多线程/GPU或SIMD；中分：向量化；低分：逐像素Python循环。"
            },
            {
              "sub_criteria": "跟踪管线（卡尔曼+匈牙利）与轨迹管理（N_miss/N_min）",
              "description": "清晰API与单元测试，边界条件（新生/消亡/遮挡）处理完善。",
              "score": 35,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：覆盖率与集成测试齐备；中分：基本可跑；低分：频繁ID切换/崩溃。"
            },
            {
              "sub_criteria": "事件检测实现与可配置化（窗口、阈值、模型文件）",
              "description": "配置驱动的阈值与模型加载、日志与可视化产出。",
              "score": 25,
              "evaluation_focus": "工程化",
              "scoring_hint": "高分：配置/CLI与可视化齐全；中分：硬编码参数；低分：无落地接口。"
            },
            {
              "sub_criteria": "性能评估脚本与输出规范（轨迹表/事件表）",
              "description": "自动计算精确率/召回/F1/IoU/延迟/误报率并导出标准CSV/JSON。",
              "score": 15,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：一键评测；中分：部分指标；低分：无评估脚本。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "跟踪质量分析（ID切换、MOTA/MOTP或IOU统计）",
              "description": "报告轨迹稳定性、ID切换次数与定位精度，关联N_miss/N_min影响。",
              "score": 25,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：含消融或阈值敏感性；中分：仅给总体数值；低分：无分析。"
            },
            {
              "sub_criteria": "事件检测性能（精确率/召回/F1、延迟、误报率）",
              "description": "分事件类型报告并给出混淆矩阵或PR/ROC曲线。",
              "score": 35,
              "evaluation_focus": "评价度量",
              "scoring_hint": "高分：分类型+曲线与阈值选择依据；中分：仅整体F1；低分：缺关键指标。"
            },
            {
              "sub_criteria": "可视化与案例复盘（热力图、轨迹叠加、关键帧）",
              "description": "用定性可视化解释成功/失败案例与改进方向。",
              "score": 20,
              "evaluation_focus": "可视解释",
              "scoring_hint": "高分：多案例覆盖不同场景；中分：少量示例；低分：无可视化。"
            },
            {
              "sub_criteria": "实时性与资源占用评估（FPS、CPU/GPU、内存）",
              "description": "报告在目标分辨率与帧率下的吞吐与瓶颈（如匈牙利/光流）。",
              "score": 20,
              "evaluation_focus": "性能评估",
              "scoring_hint": "高分：含优化建议与曲线；中分：给平均FPS；低分：不报告性能。"
            }
          ]
        }
      }
    }
  }
}