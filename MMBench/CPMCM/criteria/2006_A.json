{
  "task_id": "2006_A",
  "problem": "对一个指定区域，用一系列称为一跳覆盖区的小区域将其有重叠地完全覆盖，对每个一跳覆盖区分配一个信道，处于几个一跳覆盖区重叠部分的节点同时使用几个信道工作。在同一个一跳覆盖区内的用户使用同一个信道相互通信；不同一跳覆盖区的用户之间通过中间节点转发。如图中，节点A,B间的通信可由路由A-C-D-B或A-C-E-F-B实现。如果区域中任意两个节点都能通信，则称之为连通。\n\n现在，需要在一个$1000 \\times 1000$(面积单位)的区域内构建一个Ad Hoc网络，请你完成以下工作：\n\n(1). 将此正方形区域用若干个半径都是100的圆完全覆盖，要求相邻两个圆的公共面积不小于一个圆面积的5%，最少需要多少个圆（如果一个圆只有部分在正方形区域中，也按一个计算）？若给每个圆分配一个信道，使得有公共部分的圆拥有不同的信道，最少需要几个信道？怎样分配（用示意图标出）？如果将上面的5%改为18%，其它不变，结果又如何？对以上两种划分，若每个公共部分中心和相应圆心各恰有一个节点，讨论网络的抗毁性。（即从节点集合中随机地抽掉2%、5%、10%、15%等数量的节点后网络是否仍然连通）\n\n(2).设正方形区域中有一中心在（550，550）、长轴与正方形水平的一条边成30度角、长度为410、短轴为210的椭圆形湖泊。节点仅能设置在地面上，假设一跳覆盖区圆的半径可以在75~100间随意选择，两个面积不等的圆相交，它们之间的公共面积应不小于大圆面积的5%，其他假设同(1)，研究使全部圆半径之和为最小的区域分划和信道分配方案。\n\n(3). 由于节点是可以移动的，但运动速度较为缓慢，上面的固定的划分虽然不能保证Ad Hoc网络在实际使用中始终是连通的，但在一个较短的时间间隔内，网络的连通性可能并未变化。因此，实际中往往采用基于节点的划分方式。在某一时刻，将正方形区域内的节点（用户）分成若干个簇。以完全覆盖某一簇内所有节点、且半径不大于100的圆作为一个一跳覆盖区（由于圆心可以有一个活动范围，半径也可以变化，因此某一簇的一跳覆盖区不一定唯一）。在满足有转发任务的相邻一跳覆盖区的公共面积不小于较大一跳覆盖区面积的5%、且正方形区域内所有节点连通的条件下，以附件1给出的数据作为静止（节点不移动）状态，针对正方形中无湖和有湖（有湖时认为湖中节点不存在）两种情况，研究使全部一跳覆盖区半径之和为最小的一跳覆盖区划分和信道分配方案。找出区域连通的充分、必要条件。类似于(1)，讨论你们建立的Ad Hoc网络的抗毁性？\n\n(4). 进一步假设数据文件中的前10个用户只作折线运动，每30个单位时间可能改变一次运动的方向和速度，运动的方向角、速度是分别服从在$[0, 2\\pi]$ 、$[0, 2]$上均匀分布的随机变量，其他节点不移动。节点到达正方形区域边界后只可能向区域内运动。请考虑400单位时间后Ad Hoc网络的连通性。\n\n(5). 由于网络节点的能量都是由电池提供的，因而对Ad Hoc网络，节能的要求就显得特别重要。对一个节点而言，降低发射功率可以节省能量，但同时影响信号发射的距离（发射功率近似地与最大传输距离的三次方成正比）；另一方面，节点入网后，类似于手机，可处于发射、接收和备用三种状态，相应的能耗比约为11:10:1。当需要多跳转发时随机选择一条通路进行。请以附件1给出的数据为初始状态，设想网络需要运行1200个时间单位（在此时间内假设节点不作移动），而且在节点a,b之间有通信时，必然是一收一发，不存在同时收发的问题；各项通信任务是随机产生的，在整个运行时间内，每个节点平均产生25次呼出（每次也仅呼叫网络中一个用户），两节点之间原始（不是转发）的平均通信次数大致与它们之间的距离的平方成反比（仅以初始状态计），每次通信持续时间服从指数分布，平均为4个单位时间。假设电池在覆盖半径为100发送状态下的工作总时间是400个时间单位，一旦电池用尽节点即退出网络。发射、接收和备用状态之间的转换时间以及为获取网络结构、路由等公共信息所花的时间和其他资源忽略不计。请按照(3)中给出的办法（无湖的情况），找到比较节能的区域分划方式，使出现第一个退出网络的节点的时间尽量长。通过对该网络的运行状况进行分析，提出你们对组网方式的改进意见。\n\n(6). Ad Hoc网络中还有一个重要的问题就是如何保证通信的质量。Ad Hoc网络中通信实行先到先服务。如果当其他节点对某节点有通信要求时，该节点却处于忙状态，则会产生一次重发，所产生的时间差称为延时，将一次通信看成一个分组，粗略地认为重发3次（包括3次）或延时30个时间单位就可能丢包。显然信息丢包（包括网络不通）是严重影响网络通信质量的大问题，请对(5)中这方面的通信质量进行定量评价。",
  "subtask": {
    "1": {
      "subtask": "子任务1（几何覆盖与信道分配的最小化设计）：在不涉及节点移动与能耗等后续问题的前提下，本子任务旨在对给定的 1000×1000 正方形区域，使用半径固定为 r = 100 的圆盘在满足“任意一对相互重叠的圆的公共面积不少于 α 倍圆面积”（α 分别取 0.05 和 0.18）这一约束的情况下，求取覆盖整个正方形所需圆盘数的最小值并给出具体的圆心位置集合，同时基于所选圆盘的重叠关系确定最少所需信道数并给出一个具体的信道（着色）分配方案；该子任务的输出应包括：对每一 α 的最优或近似最优圆盘集合（圆心坐标列表）、覆盖验证（离散采样点或解析保证覆盖全域）、所构造的覆盖间交叠图、该交叠图的最小染色数及每个圆对应的信道号，并给出一幅示意图显示圆的位置与信道配色。方法上首先用两圆交叠面积的解析表达式 A(d; r,r) = 2 r^2 arccos(d/(2r)) - (d/2) sqrt(4 r^2 - d^2)（d 为两圆心间距）将“公共面积 ≥ α π r^2”转化为数值求解的距离上界 d_max(α)（通过二分法或牛顿法求解 A(d)=απr^2），进而把几何重叠约束等价为：任意被选的圆对，其中心间距不得落入 (d_max(α), 2r)（即禁止出现小于 2r 但大于 d_max 的弱重叠）；为获得可解的离散优化问题，构造候选圆心集：以覆盖效率高的六边形晶格为主（晶格间距可按覆盖需要与边界细化调整），并在区域边界处外推允许圆部分超出正方形的候选位置，同时将正方形离散化为覆盖验证点集合（例如网格步长可调以控制精度，推荐初步采用 5–10 单位步长并在解后细化验证）。在候选化后建立 0–1 整数规划：变量 y_i 表示是否选取候选圆 i，覆盖约束为对每个采样点 p 保证 Σ_{i: ||p-x_i||≤r} y_i ≥ 1，禁止“弱重叠”对的逻辑通过对所有候选对 (i,j) 若 d_ij ∈ (d_max, 2r) 则强制 y_i + y_j ≤ 1（即不能同时选取），目标准则为最小化 Σ_i y_i。求解器实现可采用商用/开源 ILP 求解工具（Gurobi/CPLEX 或 CBC）与启发式并行使用：先用贪心集合覆盖或启发式（按覆盖贡献排序的逐步选取）得到可行解，再用 ILP 精化或用局部搜索移除冗余圆；解得方案后对被选圆构造交叠图 G（边在两圆心距 < 2r 时成立，即存在非零交叠），并对 G 求图着色，最小信道数为 χ(G)；着色可先用 DSATUR/贪心获得上界，再对中等规模实例用 ILP（0–1 分配变量）或回溯限界法求证或改进，最终输出每圆信道号。为保证结果可靠，应对候选格密度和覆盖点精度做网格敏感性检验并在必要时通过局部连续优化（对圆心坐标小幅调整）改进覆盖质量与减少冗余；所有算法步骤、数值参数（候选格间距、采样步长、ILP 求解限时、求解器名称及版本）和验证策略应在实施时明确记录，以便复现和对 α=0.05 与 α=0.18 两种约束条件下的最小圆数与最少信道数进行可比性分析。",
      "criteria": {
        "task_understanding": {
          "core_goal": "优化1000×1000正方形区域内以半径 r=100 圆盘覆盖的最小圆盘数并确定最少信道数与具体信道（图着色）分配，在α=0.05和α=0.18两种重叠约束下给出圆心坐标、覆盖验证与交叠图",
          "expected_output": "每一α的圆心坐标列表（最优或近似最优）、覆盖验证结果（离散采样或解析证据）、交叠图G、G的最小染色数χ(G)、每圆信道号分配表、示意图（圆位置与配色）；并记录求解器/参数/网格敏感性结果与可复现代码",
          "key_inputs_constraints": "1) r=100（固定实数半径）；2) α∈{0.05,0.18}（重叠面积比例约束，数值约束转换为 d_max）；3) 正方形区域尺寸1000×1000，边界允许圆部分超出但计为一个圆；4) 覆盖验证采样步长（建议5–10单位）；5) 候选圆心格（六边形晶格间距可调）；6) 禁止弱重叠约束：任一被选圆对若 d∈(d_max,2r) 则不能同时选取。",
          "modeling_type": "优化+离散化+图论着色",
          "role_in_pipeline": "该子任务为总体建模中的几何覆盖与信道分配优化环节，作为后续连通性、抗毁性、能耗、时变仿真分析的输入；直接依赖候选网格构造与覆盖采样（前序），为后续(抗毁性/能耗/移动仿真)提供圆心与信道分配（后序）。",
          "assumptions": "默认可调用商业或开源整数规划求解器（如 Gurobi/CPLEX/CBC）；候选圆心以六边形晶格为主并可在边界加密；覆盖验证采用离散采样替代完全解析证明；数值求解A(d)=απr^2用二分法/牛顿法实现，容差可设1e-6。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别并量化最小圆盘数优化目标",
              "description": "明确提出并量化“最小圆盘数”优化目标（目标函数为Σy_i），并说明为何该目标与区域覆盖效率直接相关",
              "score": 40,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：明确写出目标函数Σy_i并解释其覆盖含义；中分：写出最小化圆数但无对覆盖效率解释；低分：目标模糊或未形式化为Σy_i。"
            },
            {
              "sub_criteria": "识别并转化α重叠约束为d_max限制",
              "description": "说明如何用A(d)=2r^2 arccos(d/2r)-(d/2)√(4r^2-d^2)求解d_max(α)并把“公共面积≥απr^2”转为中心距上界",
              "score": 35,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：给出A(d)公式、数值求根方法和容差并计算出d_max；中分：给出公式但未说明求解方法或容差；低分：未正确转化或公式错误。"
            },
            {
              "sub_criteria": "识别最少信道数为交叠图最小染色数χ(G)",
              "description": "指出构造交叠图G（节点为圆，边表示非零交叠）并将最少信道数等价为图的最小染色数χ(G)",
              "score": 25,
              "evaluation_focus": "图论应用",
              "scoring_hint": "高分：明确G的定义并证明χ(G)即最少信道数；中分：指出G与χ(G)关系但无证明性说明；低分：混淆交叠定义或误用χ(G)概念。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述覆盖与弱重叠（d∈(d_max,2r)）禁止约束",
              "description": "准确复述覆盖约束（每采样点被至少一个半径r圆覆盖）与弱重叠禁止条件y_i+y_j≤1的来源和意义",
              "score": 25,
              "evaluation_focus": "约束理解",
              "scoring_hint": "高分：逐项写出覆盖采样约束与对候选对的y_i+y_j≤1条件并举例；中分：复述但无举例或细节；低分：遗漏或理解错误约束。"
            },
            {
              "sub_criteria": "复述候选圆心集构造（六边形晶格与边界外推）",
              "description": "说明采用六边形晶格候选点的理由、晶格间距选择依据及边界处外推策略以允许圆部分出界",
              "score": 25,
              "evaluation_focus": "离散化策略",
              "scoring_hint": "高分：给出晶格间距选取规则与边界加密说明；中分：说明使用六边形但无参数规则；低分：未说明边界处理或选择不合理。"
            },
            {
              "sub_criteria": "复述覆盖验证与网格敏感性检验流程",
              "description": "描述采样步长（推荐5–10）用于覆盖验证，并说明如何通过细化采样与局部优化进行网格敏感性检验",
              "score": 25,
              "evaluation_focus": "验证流程",
              "scoring_hint": "高分：给出初步与细化步长、细化触发条件及容差；中分：提到验证但无细化策略；低分：无验证或无敏感性检验。"
            },
            {
              "sub_criteria": "复述着色求解策略（启发/ILP/回溯）",
              "description": "说明对交叠图先用DSATUR/贪心取得上界，再用ILP或回溯限界法改进或证明最小染色数",
              "score": 25,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出两阶段策略并列出适用条件；中分：仅给出一种方法；低分：混淆或忽略着色策略。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "明确半径与边界计数假设（r=100，部分出界计为一圆）",
              "description": "明确声明r=100固定并且部分位于正方形外的圆仍计为一个圆的假设及理由",
              "score": 30,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：明确说明并讨论对最小圆数的影响；中分：声明假设但无影响讨论；低分：未声明或自相矛盾。"
            },
            {
              "sub_criteria": "离散采样等价性与容差假设",
              "description": "给出用离散采样近似覆盖解析证明的假设、采样步长与可接受的误差容限",
              "score": 25,
              "evaluation_focus": "近似误差",
              "scoring_hint": "高分：给出步长与对应覆盖漏检概率或最大空隙上界；中分：给出步长但无误差量化；低分：未说明或采样过粗无理由。"
            },
            {
              "sub_criteria": "候选集与可行性假设（六边形格充分）",
              "description": "假设以六边形晶格候选点能找到最优或近似最优解，并说明何时需在边界或局部做连续优化",
              "score": 25,
              "evaluation_focus": "候选完整性",
              "scoring_hint": "高分：说明合理性并给出边界/局部优化准则；中分：仅陈述假设；低分：无说明或盲目依赖粗格。"
            },
            {
              "sub_criteria": "求解器可用性与数值求根容限假设",
              "description": "说明将使用商用或开源ILP求解器并给出数值求根（d_max）容差如1e-6及ILP时限策略",
              "score": 20,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：列出求解器名称/版本、时限与容差；中分：只列出求解器；低分：未说明或不可实现设置。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "数值求解A(d)=απr^2并给出d_max(α)",
              "description": "实现A(d)的数值根查找（如二分/牛顿），并输出两个α对应的d_max值与求解容差",
              "score": 25,
              "evaluation_focus": "数值求解",
              "scoring_hint": "高分：给出代码/伪码并验证根精度（误差≤1e-6）；中分：给出方法但无精度证明；低分：未给出或结果明显错误。"
            },
            {
              "sub_criteria": "构造候选圆心集的离散化模型（六边形晶格）",
              "description": "将连续问题离散化为候选圆心集合，描述晶格间距选择规则与边界外推生成候选点的算法",
              "score": 25,
              "evaluation_focus": "离散化设计",
              "scoring_hint": "高分：提供生成算法与参数选择理由并测试覆盖度；中分：描述晶格但无参数或边界细化策略；低分：未构造合理候选集。"
            },
            {
              "sub_criteria": "0–1整数规划的数学表述（y_i,覆盖约束,禁止对）",
              "description": "明确列出决策变量y_i、覆盖约束Σ_{i:||p-x_i||≤r} y_i≥1、禁止弱重叠y_i+y_j≤1与目标最小化Σy_i",
              "score": 25,
              "evaluation_focus": "数学建模",
              "scoring_hint": "高分：公式完整且边界采样集合明确；中分：约束不完整或表述模糊；低分：错误或缺失关键约束。"
            },
            {
              "sub_criteria": "交叠图G构造与着色模型化（χ(G)）",
              "description": "构造图G（节点为已选圆，边为中心距<2r），并给出图着色的0–1或回溯模型以求χ(G)",
              "score": 25,
              "evaluation_focus": "图模型化",
              "scoring_hint": "高分：给出G构造算法并列出着色ILP/回溯策略；中分：说明G与χ(G)但无可解法；低分：混淆交叠定义或忽视着色求解。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "求解流程：贪心启发→ILP精化→局部连续优化",
              "description": "实现并记录先用贪心集合覆盖得到可行解，再用ILP精化，必要时对圆心做小幅连续调整以减少冗余",
              "score": 30,
              "evaluation_focus": "算法工程",
              "scoring_hint": "高分：实现三阶段流程并展示迭代前后圆数与时间对比；中分：实现两阶段但无连续优化；低分：仅单一简单启发且未精化。"
            },
            {
              "sub_criteria": "ILP/求解器使用细节与时限策略",
              "description": "报告所用求解器与版本、求解时间上限、节点限制、最优性缺口设定及在中等尺寸实例上的表现",
              "score": 25,
              "evaluation_focus": "求解可靠性",
              "scoring_hint": "高分：给出求解器、参数、运行日志与最优性证明或Gap；中分：列出求解器无日志；低分：未说明或不可复现。"
            },
            {
              "sub_criteria": "网格敏感性检验与方案鲁棒性分析",
              "description": "通过改变候选格密度与采样步长检验最小圆数、χ(G)稳定性并报告敏感性结果",
              "score": 25,
              "evaluation_focus": "结果稳健",
              "scoring_hint": "高分：给出多组网格实验并分析差异≤小幅阈值；中分：做1次敏感性测试；低分：无敏感性检验。"
            },
            {
              "sub_criteria": "覆盖验证与冗余去除证明",
              "description": "对最终圆集合做覆盖验证（细化网格或解析覆盖证据），并尝试逐一移除圆检查可否维持覆盖以证明最小性或近似最小性",
              "score": 20,
              "evaluation_focus": "验证证据",
              "scoring_hint": "High: 逐圆冗余测试并给出无法删除的证明或统计；Mid: 做覆盖验证但未做逐圆删除；Low: 无验证或验证不足。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数值求根与d_max计算的代码可靠性",
              "description": "提供二分或牛顿求根实现代码，包含容差与迭代上限，能复现d_max(0.05)与d_max(0.18)数值",
              "score": 30,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：代码可运行并给出精度≤1e-6结果；中分：可运行但精度较低或无容差说明；低分：实现错误或不可运行。"
            },
            {
              "sub_criteria": "ILP建模代码与求解脚本可复现性",
              "description": "提供生成候选集、构造覆盖约束与禁止对、调用ILP求解器的脚本，并记录求解器名与参数以便复现",
              "score": 30,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：提供完整脚本、环境说明与示例输入/输出；中分：提供脚本但缺环境或示例；低分：无脚本或不可运行。"
            },
            {
              "sub_criteria": "着色算法与交叠图构造实现",
              "description": "实现交叠图G构造代码并至少实现DSATUR/贪心着色，上交给ILP或回溯改进的接口",
              "score": 20,
              "evaluation_focus": "图算法",
              "scoring_hint": "高分：实现DSATUR并能调用ILP改进着色，结果与上界一致或改进；中分：仅实现贪心或DSATUR；低分：未实现或实现有误。"
            },
            {
              "sub_criteria": "可视化输出与参数记录",
              "description": "输出示意图（圆位置与信道配色）、圆心坐标表、覆盖验证报告与求解参数日志文件",
              "score": 20,
              "evaluation_focus": "结果可视化",
              "scoring_hint": "高分：图与表格齐全且标注清晰、日志完整；中分：有图或表但信息不完整；低分：无可视化或数据导出。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "对α=0.05与α=0.18的最小圆数比较分析",
              "description": "给出两种α下最小（或近似最小）圆数并分析差异来源（如d_max变化、候选集限制、边界效应）",
              "score": 30,
              "evaluation_focus": "数值解释",
              "scoring_hint": "高分：给出具体数值并用d_max/几何原因解释差异；中分：给出数值但解释浅显；低分：缺比较或数据不可信。"
            },
            {
              "sub_criteria": "交叠图χ(G)与信道分配结果分析",
              "description": "报告交叠图的最小染色数χ(G)、每圆信道号分配，并分析是否达到理论下界或存在改进空间",
              "score": 25,
              "evaluation_focus": "图论分析",
              "scoring_hint": "高分：报告χ(G)、对比贪心与最优结果并讨论差距；中分：只报告χ(G)值；低分：未报告或错误。"
            },
            {
              "sub_criteria": "网格敏感性与结果鲁棒性定量评价",
              "description": "以表格/图示呈现不同候选格密度与采样步长下得到的圆数与χ(G)变化，并给出推荐参数范围",
              "score": 25,
              "evaluation_focus": "稳健分析",
              "scoring_hint": "高分：给出多组数据并量化波动（如±Δ%）与推荐参数；中分：做少量对比；低分：无敏感性数据。"
            },
            {
              "sub_criteria": "覆盖验证与近似最优性的可信度评估",
              "description": "通过细网格覆盖验证、逐圆冗余移除实验与时间/算力条件下的最优性Gap评估可信度并附结论",
              "score": 20,
              "evaluation_focus": "可信度",
              "scoring_hint": "高分：提供冗余移除统计、覆盖细网格无漏点与Gap≤已知界；中分：覆盖验证有限；低分：无验证或结论过度断言。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2（覆盖交叠图的信道分配与节点层网络拓扑映射）要求以子任务1给出的被选覆盖圆集合（每个圆的圆心坐标与半径）和区域内实际用户坐标为唯一输入，构建并输出覆盖级交叠图的最小或近似最小信道分配方案、以及基于该分配的节点层通信拓扑并对其连通性与鲁棒性作系统性检验。具体工作内容与步骤如下：首先对每对覆盖圆 i,j 精确计算它们的交叠面积 A_ij（使用两圆交叠面积的解析公式或数值积分），并根据题目阈值判定两圆是否“相邻”（例如 A_ij>0 或满足给定的相交面积下界）；并据此构建覆盖交叠图 G_c（顶点为覆盖圆，若判定相邻则连边）。其次在 G_c 上求解图着色问题以分配信道：对小到中等规模图尝试精确方法（将最小着色建模为 0–1 整数规划并用商用求解器如 Gurobi/CPLEX 求解或用回溯限界法求最优解），对较大图采用高质量启发式（如 DSATUR、贪心按度排序、局部搜索或基于最大团的下界剪枝）获得近优着色，并记录颜色数（信道数）与每个覆盖圆的信道编号；并保存着色的可证下界与上界以说明最优性差距。第三步将覆盖级结构映射到节点层：对每一用户节点 p，列出其所属的覆盖圆集合 S(p) = {i: ||p - center_i|| ≤ r_i}，若 S(p) 为空则标记为未覆盖（异常）；构建节点层通信图 G_n，其中任意两个用户 u,v 在 G_n 中相连当且仅当存在覆盖圆 i 使得 u∈i 且 v∈i（即同一跳覆盖区内直连）；若节点在多个覆盖区内则在 G_n 中保留其与这些覆盖区内其他节点的所有边，并保留该节点可同时工作的多信道信息。第四步在节点层用并查集或 BFS/DFS 判断连通性（连通/非连通），并记录连通分量数、最大连通分量节点数和孤立节点数；同时检验覆盖交叠边在实际节点分布下是否“功能性有效”——即每个覆盖对边是否存在至少一个实际位于其重叠区域的节点作为潜在转发点，若无则在输出中将该交叠边标注为“非功能化”并将其视作 G_c 的失效边以供后续处理。第五步进行鲁棒性（抗毁性）评估：在节点集合上按若干给定故障率（例如 2%、5%、10%、15%）进行蒙特卡洛模拟，每次随机（无偏）删除相应比例的节点并重建 G_n，重复足够次数（典型数值 500–2000 次以获得稳健估计）统计并报告每一故障率下的连通概率（节点层仍连通的频率）、平均与方差的最大连通分量大小、孤立节点率及连通性下降的分位数，并给出相应的置信区间（通过二项置信区间或自助法）；在模拟中还要检查哪些覆盖交叠边因此失去重叠节点（即功能化边变为失效）并输出边失效的分布，以便量化是节点失效导致路由断裂还是覆盖设计本身薄弱。第六步输出格式与可视化：提供（1）覆盖圆列表与对应信道号；（2）覆盖交叠图 G_c 的可视化（节点为圆、边为相交关系并用颜色表示信道冲突）；（3）节点层图 G_n 的可视化与连通分量标注；（4）鲁棒性统计表格与连通概率曲线；（5）对所有“非功能化交叠边/未被覆盖点”给出明确列表及坐标。可用工具与实现建议：用精确几何库（如 Shapely/CGAL）计算圆交并面积与重叠验算，用图论库（如 NetworkX）构建与分析图结构，用整数规划求解器（Gurobi/CPLEX/CBC）处理最小着色或 ILP 验证，用 DSATUR/贪心与局部搜索处理大规模着色问题，并用并行化的蒙特卡洛仿真（Python/NumPy 多进程或并行集群）完成鲁棒性评估；所有算法运行应保存可复现的随机种子与参数，输出需包含方法选择理由、计算复杂度估计与对最优性或近似性的说明，以便结果在工程决策中被审查和复现。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在给定覆盖圆集合与用户坐标输入下，优化求解覆盖交叠图的最小或近似最小信道分配，并构建节点层通信拓扑，评估其连通性与鲁棒性。",
          "expected_output": "信道分配表（圆id→信道号）、覆盖交叠图Gc（边集/着色与上下界）、节点层图Gn（连通分量与孤立节点）、鲁棒性蒙特卡洛统计（连通概率/最大分量均值方差/边失效分布及置信区间）、可视化图（Gc与Gn）、非功能化交叠边与未覆盖节点列表。",
          "key_inputs_constraints": "输入：覆盖圆列表{(center_i, r_i)}（来自子任务1）、用户坐标集{p_k}。约束：相邻定义以交叠面积A_ij>0或≥阈值；着色需满足相邻圆异色；节点层边仅限同一圆内；功能化边需重叠区域存在至少1节点；鲁棒性模拟按给定失效率随机无偏删除节点，重复500–2000次，固定随机种子；输出需给出着色上下界与最优性差距。",
          "modeling_type": "优化+评价+仿真",
          "role_in_pipeline": "位于覆盖设计后的网络层映射与验证环节；前序依赖子任务1的圆集合与半径；后序为能耗仿真与服务质量评估提供连通性与拓扑基准与失效统计。",
          "assumptions": "若题目未明确相邻阈值，则以A_ij>0定义相邻；若半径可变则以输入半径r_i为准；蒙特卡洛次数默认1000次，置信区间使用Clopper-Pearson或正态近似。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别最小信道分配（图着色）目标与对象",
              "description": "准确指出需在覆盖交叠图Gc上求最小或近似最小着色数，并输出每个覆盖圆的信道号。",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：明确Gc与最小染色数χ(Gc)关系与输出要求；中分：提到着色但未强调最小性或缺少输出细节；低分：将信道分配与节点连通混淆或忽略着色问题。"
            },
            {
              "sub_criteria": "识别节点层拓扑映射Gn的构建与连通性评估",
              "description": "明确从用户坐标到S(p)映射、在同一覆盖圆内建边并评估连通分量与孤立节点。",
              "score": 30,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：给出S(p)定义、Gn边定义及连通性指标；中分：仅提连通性缺少Gn构建细节；低分：错误地使用Gc替代Gn评估连通性。"
            },
            {
              "sub_criteria": "识别鲁棒性（蒙特卡洛故障）评估需求",
              "description": "指出需在2%/5%/10%/15%失效率下随机删点、统计连通概率与最大分量统计及置信区间。",
              "score": 40,
              "evaluation_focus": "评价设计",
              "scoring_hint": "高分：覆盖多失效率、重复次数与置信区间；中分：有随机删点但指标不全；低分：无鲁棒性评估或与任务无关的指标。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "两圆交叠面积A_ij计算与相邻判定阐明",
              "description": "复述A_ij解析公式或等价手段并给出相邻阈值（A_ij>0或指定下界）。",
              "score": 25,
              "evaluation_focus": "数理表达",
              "scoring_hint": "高分：正确给出公式与阈值；中分：描述相交未给公式；低分：相邻判定与面积概念混乱。"
            },
            {
              "sub_criteria": "信道分配等价于Gc最小着色的表述",
              "description": "清晰表述“相邻圆异色”，目标为最少信道数＝χ(Gc)。",
              "score": 35,
              "evaluation_focus": "模型表述",
              "scoring_hint": "高分：定义χ(Gc)并说明最优与近似容忍度；中分：有异色说明但未提最小性；低分：信道数任意指定。"
            },
            {
              "sub_criteria": "节点层Gn与功能化边的区分",
              "description": "阐明Gc结构性边与需重叠区至少1节点的功能化边差异，并在输出标注。",
              "score": 40,
              "evaluation_focus": "概念澄清",
              "scoring_hint": "高分：明确两类边和标注策略；中分：提到功能化但无判定标准；低分：忽略功能化概念。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "相邻阈值与半径输入假设",
              "description": "若题面未给相邻阈值，合理假设A_ij>0；半径以输入r_i为准并说明来源于子任务1。",
              "score": 30,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：清晰写明并讨论影响；中分：只写假设无影响分析；低分：矛盾或遗漏关键假设。"
            },
            {
              "sub_criteria": "蒙特卡洛参数假设与可复现性",
              "description": "设定重复次数（≥500）、随机种子、故障率集合与删点独立性。",
              "score": 35,
              "evaluation_focus": "实验设计",
              "scoring_hint": "高分：具体数值与置信区间方法；中分：仅给次数或种子；低分：未设或不可复现。"
            },
            {
              "sub_criteria": "功能化边的节点存在性假设",
              "description": "定义功能化为重叠区域内至少1个用户节点，说明空间判定公差与数值稳定性处理。",
              "score": 35,
              "evaluation_focus": "判定标准",
              "scoring_hint": "高分：明确几何容差/加速策略；中分：只写存在性；低分：未定义导致评估失真。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "交叠图Gc构建与复杂度考虑",
              "description": "给出O(N^2)对比与加速（空间索引/格划分），精确计算A_ij并生成边集。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：含加速方案与正确面积计算；中分：暴力法可行；低分：边构建不完整或错误。"
            },
            {
              "sub_criteria": "最小图着色建模与上下界",
              "description": "采用ILP/回溯或DSATUR等启发式，给出下界（最大团/Δ+1界）与上界（启发式颜色数）。",
              "score": 40,
              "evaluation_focus": "优化建模",
              "scoring_hint": "高分：上下界并存与最优性差距报告；中分：仅给启发式结果；低分：未建立可验证模型。"
            },
            {
              "sub_criteria": "节点层Gn构建与功能化边检测",
              "description": "定义S(p)、同圆内连边、统计连通分量；对每条Gc边检测重叠区节点并标注失效。",
              "score": 30,
              "evaluation_focus": "结构建模",
              "scoring_hint": "高分：实现两图联动与标注；中分：仅构Gn；低分：Gn构建错误或忽略功能化检测。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "着色求解质量（精确或近似最优）",
              "description": "在小中规模用ILP/回溯求最优，大规模用DSATUR/局部搜索并给出最优性差距。",
              "score": 40,
              "evaluation_focus": "求解质量",
              "scoring_hint": "高分：说明求解器、限时、差距≤1色或≤5%；中分：仅启发式无差距报告；低分：无可重复求解流程。"
            },
            {
              "sub_criteria": "连通性判定与复杂度",
              "description": "使用BFS/DFS/并查集统计连通分量、最大分量、孤立节点，报告时间复杂度。",
              "score": 25,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：线性实现与指标齐全；中分：部分指标；低分：连通性判断缺失或错误。"
            },
            {
              "sub_criteria": "鲁棒性蒙特卡洛统计与置信区间",
              "description": "对每失效率重复≥500次，输出连通概率、最大分量均值方差与Clopper-Pearson或正态近似区间。",
              "score": 35,
              "evaluation_focus": "统计推断",
              "scoring_hint": "高分：次数充足、区间正确；中分：有均值无区间；低分：样本过少或无统计报告。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "几何计算正确性与鲁棒性",
              "description": "实现两圆交叠面积A_ij的稳定计算，处理边界（相切/重合）、数值容差与性能优化（向量化/空间索引）。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：单元测试覆盖边界；中分：基本正确无测试；低分：面积计算经常出错。"
            },
            {
              "sub_criteria": "图构建与着色算法实现",
              "description": "使用NetworkX或等实现Gc/Gn与DSATUR或ILP接口（Gurobi/CPLEX/CBC），可复现实验参数与随机种子。",
              "score": 35,
              "evaluation_focus": "工程实现",
              "scoring_hint": "高分：参数化且结果可重现；中分：硬编码少量参数；低分：无库/实现不稳定。"
            },
            {
              "sub_criteria": "蒙特卡洛并行化与统计输出",
              "description": "采用多进程/向量化提升效率，输出CSV/图表，包含失效率、连通概率、方差、置信区间与边失效分布。",
              "score": 35,
              "evaluation_focus": "性能与输出",
              "scoring_hint": "高分：并行稳定且输出完整；中分：串行但可跑通；低分：运行过慢或缺少关键结果。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "信道数与最优性差距报告",
              "description": "报告χ(Gc)上界与下界、实际着色数与差距，讨论最大团或Δ+1界的适用性。",
              "score": 35,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：差距量化并解释原因；中分：仅给颜色数；低分：无任何最优性讨论。"
            },
            {
              "sub_criteria": "节点层连通性与非功能化边诊断",
              "description": "给出连通/非连通结论、分量规模、孤立节点，并列出非功能化交叠边与坐标定位薄弱处。",
              "score": 35,
              "evaluation_focus": "诊断洞察",
              "scoring_hint": "高分：定位关键断裂与改进建议；中分：仅罗列指标；低分：未关联功能化边。"
            },
            {
              "sub_criteria": "鲁棒性曲线与置信区间解读",
              "description": "展示不同失效率下连通概率曲线、最大分量均值方差与区间，讨论阈值行为与脆弱点。",
              "score": 30,
              "evaluation_focus": "统计解读",
              "scoring_hint": "高分：解释趋势与不确定性；中分：给曲线无解读；低分：无曲线或误读统计。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3（基于节点的簇划分、动态连通性与移动仿真）—— 目标是在给定的正方形区域和节点集（输入：附件1中每个用户的平面坐标；当存在椭圆湖泊时按题目给定参数剔除湖中节点）下，以“每个簇由一个半径不大于100 的圆完全覆盖簇内所有节点”作为一跳覆盖区的定义，构造一个将所有节点划分为若干簇的可行方案，使得（i）每个簇被某一圆覆盖且该圆半径 ≤ 100，(ii) 任意两个用于路由转发的相邻一跳覆盖区的几何公共面积不少于较大覆盖区面积的5%（几何量度按两圆交叠面积的解析公式计），并且该公共区域实际包含至少一个地面节点以充当转发节点，(iii) 在该划分下正方形内所有节点在节点层面（节点间当且仅当二者被同一覆盖圆覆盖时有一条直接连边）构成连通图；在此约束体系内，求使所有覆盖圆半径之和最小的划分方案，并对该方案的静态连通性的充分与必要条件给出严格形式化表述（定量地把“簇间重叠存在且重叠区域含节点”与节点层连通性的等价性或蕴含关系列出）；为实现上述目标请按如下步骤和方法实施：数据预处理（读取节点坐标，剔除湖内节点并建立节点索引）、候选生成（构造覆盖圆候选中心集合——包括所有节点位置、节点簇中心、规则格点，在边界处允许圆部分超出区域——以及半径候选集或允许连续半径变量），几何约束预计算（对候选中心对与候选半径组合预先计算两圆交叠面积并解出满足“≥5%”所需的中心距/半径关系，以便在后续整数规划或启发式中快速判定可行性），划分模型与求解（建议两条可互补路径：A. 离散化候选后建立二元决策的整数线性规划/集合覆盖模型——变量表示选取哪个候选覆盖圆并把每个节点指派给某一已选圆，约束包括节点覆盖与对必须相邻簇的“选取对必须满足预计算的交叠可行性”逻辑；目标最小化选中圆的半径和或半径加权和；B. 对于更大规模情形采用分层启发式：先用基于节点位置的聚类（如 K‑means / 层次聚类 / 密度聚类）得到初始簇，再对每簇用最小包围圆或最小径向伸缩确定半径，并通过局部搜索（合并/拆分簇、移动簇中心、调整半径）修正以满足重叠与连通约束），计算工具可用 Gurobi/CPLEX/（或开源 CBC）做 ILP，或用 Python + SciPy/NumPy 实现启发式与局部搜索；连通性验证与约束检查使用精确几何库（如 Shapely 或 CGAL）计算覆盖关系与交叠区域、用 NetworkX 构建节点层图并判定连通分量；当求得一个或多候选划分后，进行鲁棒性与动态性检验：固定划分作为短时参考配置，按时间离散化对节点运动进行仿真（若需模拟移动，使用题目给定的运动规则：前若干移动节点按每30 时间单位重采样方向∼Uniform[0,2π]、速度∼Uniform[0,2] 的折线运动，边界条件为仅向内运动或反射），在每个时间步重建节点层图并统计即时连通性、时间可达性（time‑respecting paths）、连通保持比例与断连事件的持续时间分布；为获得稳健结论对移动随机性与节点分配结果做蒙特卡洛重复（若干百至千次）并报告连通概率曲线及关键时刻的最坏/中位表现。输出成果应包含：被选覆盖圆的中心与半径列表、每个节点到簇的映射、所有几何与连通性校验记录（覆盖验证、每对相邻簇的交叠面积与是否含转发节点）、最小化目标值与求解方法说明、静态连通性的必要/充分条件陈述，以及按给定移动模型得到的时间序列连通性统计（连通概率随时间变化、断连时段分布）；实现建议的编程栈包括 Python（Shapely、NetworkX、scikit‑learn）、ILP 求解器（Gurobi/CPLEX 或 CBC）、并行蒙特卡洛框架以保证可复现的、可验证的划分与动态连通性评估。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在给定节点集与可含椭圆湖泊约束下，优化一跳覆盖簇划分并最小化覆盖圆半径之和，同时评估静态连通性的充分与必要条件并仿真动态连通性。",
          "expected_output": "被选覆盖圆中心与半径列表；节点到簇的映射；几何覆盖与交叠面积≥5%及重叠含节点的校验报告；节点层连通性判定与充要条件表述；最小化目标值与求解方法说明；移动仿真的连通概率/分量统计与可视化描述。",
          "key_inputs_constraints": "输入：附件1节点坐标（二维点集）；椭圆湖参数与边界规则。约束：每簇由半径≤100的圆完全覆盖；用于路由的相邻簇两圆公共面积≥较大圆面积5%且公共区域含至少一节点；节点层图需连通；允许圆心在区域内外但覆盖节点必须在地面；移动仿真：前10个节点折线运动，每30时间单位重采样方向∈[0,2π]、速度∈[0,2]，边界内向运动。",
          "modeling_type": "优化+仿真+评价",
          "role_in_pipeline": "本子任务承接子任务1/2的几何与信道经验，面向节点层进行簇划分优化与动态连通性仿真；其输出为后续能耗优化与通信质量评估（子任务5/6）的初始网络结构与连通性基线。",
          "assumptions": "若附件1未给出，此任务以可复现实验为导向，允许用合成点集验证评分条目；信道分配非必需输出，仅当与连通性验证相关时可提及。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "优化目标：最小化覆盖圆半径之和",
              "description": "明确以Σr_i最小为主目标，非最少簇数或最小面积；区分与子任务1的固定半径覆盖差异。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：清晰写Σr_i最小并解释为何半径≤100约束生效；中分：提及最小化但目标混淆；低分：把目标表述为最少圆或最大覆盖。"
            },
            {
              "sub_criteria": "关键约束：交叠面积≥5%且重叠含节点",
              "description": "正确识别几何公共面积阈值基于较大圆面积，且要求重叠区域内至少一个节点用于转发。",
              "score": 25,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：两条都写清并量化；中分：只写面积或只写含节点；低分：忽略面积阈值或误用5%对象。"
            },
            {
              "sub_criteria": "连通性层级：节点层连通而非仅覆盖圆相邻",
              "description": "指出连通判定在节点层（同圆内直连，跨圆经重叠区节点转发）。",
              "score": 20,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：区分覆盖图与节点层图并给出构造规则；中分：仅说全网连通未说明层级；低分：把覆盖图连通当作节点连通。"
            },
            {
              "sub_criteria": "动态仿真范围：折线运动规则与时间离散",
              "description": "识别需对前10节点做每30步随机方向/速度仿真并统计时间序列连通性。",
              "score": 20,
              "evaluation_focus": "范围界定",
              "scoring_hint": "高分：列出方向∈[0,2π]、速度∈[0,2]、30步更换；中分：只说有移动；低分：完全忽略动态仿真。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "形式化目标与变量（Σr_i、簇分配、圆心与半径）",
              "description": "以数学符号重述决策变量x（簇指派）、c_i（圆心）、r_i≤100与目标min Σr_i。",
              "score": 30,
              "evaluation_focus": "形式化",
              "scoring_hint": "高分：给出清晰符号与约束域；中分：半形式化；低分：口头描述无数学化。"
            },
            {
              "sub_criteria": "几何交叠面积公式与阈值化",
              "description": "写出两圆交叠面积解析式并将≥0.05·π·(max r)^2用于相邻簇约束。",
              "score": 25,
              "evaluation_focus": "数理表达",
              "scoring_hint": "高分：正确公式与较大圆面积；中分：公式对但阈值对象错误；低分：无公式或错误。"
            },
            {
              "sub_criteria": "节点层图构造与连通性判定",
              "description": "复述G_n构造：同一圆内两节点连边；跨圆依靠重叠区节点存在；以连通分量=1为判据。",
              "score": 25,
              "evaluation_focus": "图模型",
              "scoring_hint": "高分：说明“功能化”重叠判定；中分：只言连通；低分：未定义节点层图。"
            },
            {
              "sub_criteria": "移动仿真输出指标",
              "description": "复述需输出连通概率随时间、最大分量大小、断连时长分布等统计。",
              "score": 20,
              "evaluation_focus": "指标定义",
              "scoring_hint": "高分：列出≥3项统计；中分：1–2项；低分：无量化指标。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "湖泊处理与地面节点约束",
              "description": "明确剔除椭圆湖内节点，覆盖圆可越界但仅覆盖地面节点。",
              "score": 30,
              "evaluation_focus": "场景假设",
              "scoring_hint": "高分：给出湖判定与剔除规则；中分：仅口述剔除；低分：未处理湖泊。"
            },
            {
              "sub_criteria": "覆盖验证精度与公差",
              "description": "设定覆盖验证网格步长或精确几何容差（如1e-6），并进行敏感性说明。",
              "score": 25,
              "evaluation_focus": "可检性",
              "scoring_hint": "高分：明确步长/容差并说明影响；中分：只说验证；低分：无验证策略。"
            },
            {
              "sub_criteria": "移动仿真随机性与种子",
              "description": "假设并固定随机种子、时间步长、边界内向运动或反射策略。",
              "score": 25,
              "evaluation_focus": "仿真规范",
              "scoring_hint": "高分：给出seed与边界规则；中分：缺少其一；低分：未控制随机性。"
            },
            {
              "sub_criteria": "功能化重叠节点定义",
              "description": "阐明“重叠区域含至少一节点”的判断基于几何包含，允许多信道节点记录。",
              "score": 20,
              "evaluation_focus": "定义严谨",
              "scoring_hint": "高分：清楚标准；中分：模糊描述；低分：忽略该要求。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "优化模型A：ILP/集合覆盖指派",
              "description": "建立二元选择与指派模型：节点被选圆完全覆盖；相邻簇重叠≥5%且功能化；目标Σr_i最小。",
              "score": 35,
              "evaluation_focus": "模型设定",
              "scoring_hint": "高分：变量、约束、目标齐全；中分：缺少功能化或交叠约束；低分：无可解模型。"
            },
            {
              "sub_criteria": "启发式B：聚类+最小包围圆+局部搜索",
              "description": "提出K-means/层次聚类初解，最小包围圆定半径，合并/拆分/中心微调满足约束。",
              "score": 25,
              "evaluation_focus": "算法设计",
              "scoring_hint": "高分：完整流程与改进算子；中分：仅聚类或MEC；低分：无启发式。"
            },
            {
              "sub_criteria": "几何预计算与加速",
              "description": "预计算交叠面积、邻接候选、空间索引（KD-tree/R-tree）以减少约束规模。",
              "score": 20,
              "evaluation_focus": "工程化",
              "scoring_hint": "高分：明确数据结构与阈值裁剪；中分：仅提预计算；低分：未考虑规模。"
            },
            {
              "sub_criteria": "连通性充要条件表述",
              "description": "形式化给出节点层连通的必要/充分条件，区分覆盖图连通与功能化重叠的关系。",
              "score": 20,
              "evaluation_focus": "理论表达",
              "scoring_hint": "高分：给出清晰命题与证明要点；中分：仅口述必要或充分；低分：未给出。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "ILP求解与可行初解",
              "description": "使用Gurobi/CPLEX/CBC，先用贪心/聚类生成可行解，设置限时与gap并报告最优性差距。",
              "score": 35,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：报告gap/时间；中分：仅给结果；低分：无求解细节或不可复现。"
            },
            {
              "sub_criteria": "局部搜索与可行性修复",
              "description": "实现合并/拆分/交换/中心微调以修复交叠≥5%与功能化约束并降低Σr_i。",
              "score": 25,
              "evaluation_focus": "优化技巧",
              "scoring_hint": "高分：展示改进幅度或迭代记录；中分：描述无量化；低分：未做修复。"
            },
            {
              "sub_criteria": "连通性验证与复杂度控制",
              "description": "用NetworkX/BFS验证G_n连通；说明时间复杂度与剪枝策略。",
              "score": 20,
              "evaluation_focus": "正确性",
              "scoring_hint": "高分：列出分量统计与耗时；中分：只说连通；低分：未验证或错误。"
            },
            {
              "sub_criteria": "动态仿真统计稳健性",
              "description": "进行多次蒙特卡洛重复，报告连通概率曲线与置信区间。",
              "score": 20,
              "evaluation_focus": "仿真评估",
              "scoring_hint": "高分：≥100次重复并给CI；中分：少量重复或无CI；低分：未仿真或一次样本。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "几何计算正确性（交叠面积与点在圆内）",
              "description": "实现解析面积A(d;r1,r2)、Shapely/CGAL校验，包含数值稳定性处理。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：单测边界d=0, r1=r2, d≥r1+r2；中分：实现无测试；低分：误算或未实现。"
            },
            {
              "sub_criteria": "优化与图库使用规范",
              "description": "调用求解器与NetworkX/并查集，参数化限时、gap、随机种子，可复现实验管线。",
              "score": 25,
              "evaluation_focus": "工程规范",
              "scoring_hint": "高分：命令/版本/seed可重现；中分：部分可重现；低分：黑盒不可复现。"
            },
            {
              "sub_criteria": "数据预处理与湖泊剔除实现",
              "description": "正确判定椭圆内点并剔除，边界容差可配置。",
              "score": 20,
              "evaluation_focus": "数据处理",
              "scoring_hint": "高分：含单测与容差；中分：实现无测试；低分：遗漏或错误剔除。"
            },
            {
              "sub_criteria": "性能与可扩展性",
              "description": "空间索引、向量化、并行蒙特卡洛，避免O(N^2)爆炸。",
              "score": 25,
              "evaluation_focus": "效率",
              "scoring_hint": "高分：展示速度提升或复杂度分析；中分：一般性能；低分：运行不可扩展。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "覆盖与功能化重叠全面校验",
              "description": "报告每簇覆盖完整性、相邻簇交叠≥5%且重叠含节点的清单与异常项。",
              "score": 25,
              "evaluation_focus": "结果核验",
              "scoring_hint": "高分：零异常或解释修复；中分：少量未解释异常；低分：未校验。"
            },
            {
              "sub_criteria": "最小化目标值与对比",
              "description": "给出Σr_i、与基线（固定r=100或简单聚类）对比改进比例与消融分析。",
              "score": 25,
              "evaluation_focus": "量化评价",
              "scoring_hint": "高分：≥2个基线对比；中分：单一对比；低分：无对比。"
            },
            {
              "sub_criteria": "静态连通性的充分与必要条件验证",
              "description": "用实验或反例支撑所提充要条件，列出边界案例。",
              "score": 25,
              "evaluation_focus": "理论验证",
              "scoring_hint": "高分：提供证明要点与实验验证；中分：仅口述；低分：无验证。"
            },
            {
              "sub_criteria": "动态连通性统计与敏感性",
              "description": "展示连通概率随时间曲线、断连时段分布、对步长/种子/速度上界的敏感性。",
              "score": 25,
              "evaluation_focus": "稳健性分析",
              "scoring_hint": "高分：含置信区间与敏感性；中分：仅曲线；低分：无动态结果。"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "在本子任务中，目标是基于离散事件仿真（DES）精确评估并优化给定静态网络配置下的能耗、网络寿命（以“第一个节点电池耗尽时间”为主要指标）及通信质量（延时与丢包率），并为划分/配置提供可比较的寿命导向评价；为此需按如下明确步骤和方法实施：输入要求明确、结构化地给出——节点集合与每节点初始电池能量 E0（题目已给出可由“在半径100发送状态下工作400时间单位”换算得出）、每节点位置及一跳邻接关系（或能直接通信的一跳拓扑图）、所有点对的初始欧氏距离矩阵（用于呼叫目标概率和hop距离计算）、仿真参数（总仿真时长 T=1200、每节点平均呼出次数 25、呼叫时长分布 Exp(mean=4)、重试上限=3、超时阈值=30 时间单位、路径损耗指数 γ=3 或可变的敏感性参数）、以及若干候选路由生成策略或路由表（例如对每对源宿预先计算若干条可行最短/限制跳数路径）；仿真引擎采用标准离散事件框架（推荐 SimPy、OMNeT++ 或高效的 C++/Go 实现）并结合图论库（如 NetworkX）用于路径枚举和拓扑操作，随机数和并行化应确保可重复（固定种子、批量并行蒙特卡洛）。在每次仿真运行中，实现的核心事件与规则为：每个节点以独立泊松过程（或等效的随机划分使得每节点在 T 内平均产生25次呼出）生成呼叫事件；每次呼叫的目标按初始距离的平方反比概率分配（归一化且排除自身）；对给定源宿按当前静态拓扑枚举 K 条可行路径（或所有简单最短路径到hop上限），在存在多条路径时等概率随机选择一路作为本次会话的端到端路由；端到端会话在仿真中按逐跳顺序占用链路：每一跳的发射节点在该跳的传输持续时间内处于“发射”状态，其发射功率按标度 P_tx(d) = P_ref * (d/100)^γ（取 γ=3，P_ref 与 E0 的换算关系明确定义），接收节点在该段处于“接收”状态并消耗相应比例能量，所有未参与的节点在任意时刻消耗“备用”功率，三状态功耗比为 11:10:1；若在某一跳到达时接收端正被占用（忙态，定义为当前处于收/发而不可并行接收），则按设计的重试机制进行处理（例如指数退避或固定短延迟重试），累积重试次数与等待时间；若累计重试次数>3 或等待时间>30 则该会话判定为丢包并终止；当任一参与节点电池能量降为或低于零时，该节点立即退出网络（所有其在列队或计划内的会话失败），并在仿真中移除其所有后续事件。仿真应精确记录并输出每次试验的时序数据：每个节点随时间的能量曲线、每次会话的开始/结束时间、端到端延时、每跳的重试次数、是否成功、调用的路由、以及第一个节点死亡时间；基于大量独立重复（推荐至少 200–1000 次并行蒙特卡洛试验，必要时更多以缩小 CI）统计并报告感兴趣指标的分布与置信区间，包括首死时间的期望与分位数、网络总体寿命曲线、平均/95%分位延时、总体与按源/宿分组的丢包率、每节点平均和方差能耗、以及在节点退出时的连通性指标（最大连通分量大小）。为支持优化，提供两层评价/搜索流程：1) 快速解析性或近似目标函数用于筛选候选配置——用期望负载流量与路由概率推导每节点的期望能耗（基于呼叫率分配与平均跳距的解析近似），以 min‑max 期望能耗或最小化最大节点负载作为代理目标进行启发式搜索（如局部交换、模拟退火或遗传算法）；2) 对若干在代理目标下表现最优/多样化的候选配置以 DES 做精确评估并比较首死时间及 QoS 指标，从而选出最优或具有鲁棒性的配置。此外在仿真过程中必须实现系统化的敏感性分析：对关键参数（呼叫强度、服务时长均值、γ 值、重试策略、并发多信道/硬件并行能力、初始电池 E0 分布）逐一与联合扰动，评估首死时间与丢包/延时对这些参数的敏感度并输出置信性结论。最后要求交付物包括：可复现且参数化的仿真代码与运行脚本、输入数据与随机种子、完整的统计输出（首死时间分布表、能耗和 QoS 汇总表、每节点负载分布）、用于优化的代理目标实现说明及搜索日志、若干关键配置的详尽时序跟踪文件，以及基于仿真结果的明确排序与建议（按首死时间与丢包/延时权衡），所有结果均需给出 Monte‑Carlo 样本量与置信区间说明以保证结论的统计可靠性。",
      "criteria": {
        "task_understanding": {
          "core_goal": "通过离散事件仿真（DES）评估并优化静态Ad Hoc配置的能耗、首个节点耗尽时间与通信质量（延时与丢包率），并进行寿命导向比较与敏感性分析",
          "expected_output": "多次蒙特卡洛仿真的统计报表（首死时间分布与置信区间、平均/95分位延时、丢包率）、每节点能量曲线与会话日志、QoS与寿命的可视化图表、配置间对比排序与建议、仿真代码与可复现实验脚本、代理目标（期望能耗/最大负载）与搜索日志",
          "key_inputs_constraints": "输入：节点集合与初始电池能量E0（由半径100发送态400时间单位换算）、节点位置与一跳拓扑/邻接、全点对欧氏距离矩阵、仿真参数（T=1200，均值4的指数通话时长，呼出均值25/节点，重试≤3，超时30，γ=3）、备选路由集或K条最短路；约束：三态功耗比11:10:1、P_tx(d)=P_ref*(d/100)^γ、节点电量≤0即退出、呼叫目标概率∝距离平方的倒数、固定随机种子保证可复现；输出需记录事件级时序与统计CI。",
          "modeling_type": "仿真+优化+评价",
          "role_in_pipeline": "作为寿命与QoS评估与配置选择的核心环节；前序依赖子任务1/2给出的静态覆盖与路由候选，后序为方案定稿与报告；同时提供快速代理目标筛选，再用DES精评。",
          "assumptions": "若未给路由表，则默认按当前静态拓扑计算所有最短跳路径并等概率选取；并发限制：节点处于收/发即忙且不可并行接收；退避采用固定短延迟；P_ref归一化使得在d=100、连续发射400时间单位耗尽E0。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "首死时间与QoS（延时/丢包率）评估目标界定",
              "description": "是否明确以“第一个节点电池耗尽时间”为主指标，并并行评估端到端延时与丢包率作为通信质量指标，强调寿命与QoS的权衡。",
              "score": 30,
              "evaluation_focus": "目标界定",
              "scoring_hint": "高分：清晰列出首死时间、延时分布、丢包率且解释权衡；中分：提到三者但未说明主次或权衡；低分：只提单一指标或混淆定义。"
            },
            {
              "sub_criteria": "离散事件仿真（DES）必要性与作用",
              "description": "是否论证DES用于并发、忙态、重试与能量耗尽事件驱动过程的必要性，并与解析近似的区别与互补。",
              "score": 25,
              "evaluation_focus": "方法选择",
              "scoring_hint": "高分：对比DES与解析近似，说明并发冲突与队列化原因；中分：仅声明用DES；低分：未说明或采用不匹配方法。"
            },
            {
              "sub_criteria": "输入与约束识别：E0、γ=3、三态功耗比11:10:1",
              "description": "是否点名关键输入与能耗机理（P_tx(d)=P_ref*(d/100)^γ、三态功耗比、E0换算）及重试≤3、超时30。",
              "score": 25,
              "evaluation_focus": "要素梳理",
              "scoring_hint": "高分：逐项列出并给出单位与换算关系；中分：提到但缺少一两项；低分：遗漏核心参数或误解公式。"
            },
            {
              "sub_criteria": "路由与呼叫生成机制",
              "description": "是否明确呼叫为泊松/等效分配、每节点平均25次、目标概率∝距离平方倒数、K条最短路等概率选路。",
              "score": 20,
              "evaluation_focus": "机制识别",
              "scoring_hint": "高分：公式化描述并说明归一化；中分：描述不完整；低分：未说明或与题意矛盾。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "DES事件与状态精确定义",
              "description": "重述到达、开始传输、完成、重试、超时、节点死亡等事件，节点三态（发射/接收/备用）切换规则。",
              "score": 30,
              "evaluation_focus": "精确定义",
              "scoring_hint": "高分：事件及状态机图式/文本完备；中分：事件列举但状态转换含糊；低分：缺少关键事件或规则。"
            },
            {
              "sub_criteria": "能耗模型复述与P_ref–E0换算",
              "description": "说明P_ref标定：在d=100连续发射400时间单位恰耗尽E0，并给出接收、备用功率按11:10:1标定。",
              "score": 30,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：给出P_tx、P_rx、P_idle从E0推导；中分：只口述不推导；低分：无标定或不一致。"
            },
            {
              "sub_criteria": "QoS判定（重试≤3或延时>30即丢包）",
              "description": "准确复述丢包条件与端到端延时定义（含排队等待与重试延迟）。",
              "score": 20,
              "evaluation_focus": "规则复述",
              "scoring_hint": "高分：端到端延时组成清楚；中分：缺一部分；低分：判定条件错误。"
            },
            {
              "sub_criteria": "输出与统计量复述",
              "description": "说明需输出首死时间分布、CI、每节点能量曲线、延时95分位、丢包率等。",
              "score": 20,
              "evaluation_focus": "输出规范",
              "scoring_hint": "高分：完整列出并含CI；中分：缺少CI或部分统计；低分：仅给原始日志无统计。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "路由与并发假设（等概率选最短路、忙态不可并行）",
              "description": "明确路由选择与节点并发能力假设，说明可能影响的偏差。",
              "score": 30,
              "evaluation_focus": "假设清晰",
              "scoring_hint": "高分：列出并讨论影响；中分：提到但无影响分析；低分：未声明或与实现不符。"
            },
            {
              "sub_criteria": "流量模型与通话时长分布假设",
              "description": "泊松过程/等效分配、Exp(均值4)并注明独立性与参数校验。",
              "score": 25,
              "evaluation_focus": "统计建模",
              "scoring_hint": "高分：含合理性说明或检验；中分：仅声明；低分：与题设不符或缺失。"
            },
            {
              "sub_criteria": "能耗与路径损耗指数γ敏感性设置",
              "description": "声明γ=3为基准并设置扰动范围用于敏感性分析。",
              "score": 20,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：给出多档γ并计划分析；中分：只给基准；低分：忽略γ敏感性。"
            },
            {
              "sub_criteria": "随机性与复现（随机种子、试验次数）",
              "description": "设定固定随机种子与≥200次蒙特卡洛样本量以形成置信区间。",
              "score": 25,
              "evaluation_focus": "实验设计",
              "scoring_hint": "高分：明确种子与样本量并论证CI；中分：给出其一；低分：无说明或样本过少。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "DES事件调度与队列模型",
              "description": "构建到达/开始/结束/重试/超时/死亡事件优先队列，忙态冲突处理与退避策略实现。",
              "score": 30,
              "evaluation_focus": "系统建模",
              "scoring_hint": "高分：事件与状态转移完整且避免死锁；中分：基本可运行但边界不全；低分：缺少关键事件或逻辑漏洞。"
            },
            {
              "sub_criteria": "能量更新与三态功耗集成",
              "description": "逐跳在发射、接收、备用累积功率×时长，节点电量≤0触发死亡事件并取消后续活动。",
              "score": 25,
              "evaluation_focus": "数理实现",
              "scoring_hint": "高分：时间积分精确且与P_ref标定一致；中分：有近似但一致性尚可；低分：能耗计算错误或不触发死亡。"
            },
            {
              "sub_criteria": "路由集合与路径选择机制",
              "description": "预计算K条最短路/限制跳数路径，等概率随机选路，路径失效时回退或宣告失败。",
              "score": 20,
              "evaluation_focus": "图算法",
              "scoring_hint": "高分：K路径生成正确并处理节点退出；中分：仅单一路径；低分：无路由或与拓扑不一致。"
            },
            {
              "sub_criteria": "代理目标构建与快速筛选",
              "description": "基于期望通话率与平均跳距推导每节点期望能耗，提供min-max负载或最大节点功率最小化代理以筛选配置。",
              "score": 25,
              "evaluation_focus": "近似建模",
              "scoring_hint": "高分：给出明确公式与验证与DES的一致性；中分：有启发式但无推导；低分：无代理目标。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "蒙特卡洛仿真规模与置信区间",
              "description": "进行≥200–1000次重复，报告首死时间、延时、丢包率的均值/分位与95% CI（正态/自助法/二项CI）。",
              "score": 30,
              "evaluation_focus": "统计推断",
              "scoring_hint": "高分：样本充分并标注CI方法；中分：有均值无CI或样本偏少；低分：单次运行无统计意义。"
            },
            {
              "sub_criteria": "计算效率与并行化",
              "description": "批量并行或矢量化事件处理，合理的时间复杂度估计与运行时控制。",
              "score": 20,
              "evaluation_focus": "工程效率",
              "scoring_hint": "高分：实现并行并报告耗时；中分：串行但可接受；低分：运行不可扩展或超时。"
            },
            {
              "sub_criteria": "优化搜索：配置筛选与精评闭环",
              "description": "先以代理目标筛选候选，再用DES精评并回写改进，记录搜索日志与最优/鲁棒方案。",
              "score": 25,
              "evaluation_focus": "优化流程",
              "scoring_hint": "高分：两阶段流程清晰且有改进证据；中分：仅单阶段DES比较少量方案；低分：无系统搜索。"
            },
            {
              "sub_criteria": "敏感性分析（呼叫强度、均值4、γ、重试策略）",
              "description": "系统扰动关键参数并量化首死时间与QoS的变化与弹性。",
              "score": 25,
              "evaluation_focus": "稳健性评估",
              "scoring_hint": "高分：多参数联动与主效应结论；中分：仅单参数；低分：无敏感性分析。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "DES框架与可复现性（SimPy/自研）、随机种子与配置化",
              "description": "采用合适框架，参数可配置，固定随机种子，版本与依赖记录完整。",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：配置文件+固定种子+环境锁定；中分：部分可复现；低分：不可复现或依赖缺失。"
            },
            {
              "sub_criteria": "能耗与事件正确性单元/集成测试",
              "description": "包含对P_tx标定、三态耗能积分、重试/超时、节点死亡取消事件的测试用例。",
              "score": 25,
              "evaluation_focus": "测试完备",
              "scoring_hint": "高分：自动化测试覆盖关键路径；中分：少量手工测试；低分：无测试。"
            },
            {
              "sub_criteria": "路径计算与拓扑更新（节点退出）",
              "description": "正确计算最短路/K路并在节点退出后更新或判定会话失败。",
              "score": 25,
              "evaluation_focus": "正确性",
              "scoring_hint": "高分：含动态更新与异常处理；中分：静态路由；低分：路由错误导致仿真偏差。"
            },
            {
              "sub_criteria": "日志与数据输出（会话级与节点级）",
              "description": "输出开始/结束时间、路由、重试、延时、能量曲线，结构化存储（CSV/Parquet）。",
              "score": 25,
              "evaluation_focus": "可用性",
              "scoring_hint": "高分：结构化且可直接分析；中分：日志零散；低分：缺关键字段。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "首个节点耗尽时间分布与CI报告",
              "description": "报告期望、分位、95% CI与寿命曲线，对比配置并解释差异来源（热点转发、路径长度）。",
              "score": 30,
              "evaluation_focus": "统计解读",
              "scoring_hint": "高分：含置信区间与成因分析；中分：仅均值；低分：无统计或解释。"
            },
            {
              "sub_criteria": "QoS指标（平均/95分位延时与丢包率）",
              "description": "分总体与源/宿分组报告，识别瓶颈链路与忙态导致的重试/超时。",
              "score": 25,
              "evaluation_focus": "性能洞察",
              "scoring_hint": "高分：分组与瓶颈定位清晰；中分：仅总体；低分：指标缺失或不一致。"
            },
            {
              "sub_criteria": "代理目标与DES一致性核验",
              "description": "比较代理目标预测的最大负载/能耗与DES结果的相关性，评估筛选有效性。",
              "score": 20,
              "evaluation_focus": "模型验证",
              "scoring_hint": "高分：量化相关性或误差界；中分：定性一致；低分：不一致且无解释。"
            },
            {
              "sub_criteria": "敏感性与鲁棒性结论",
              "description": "给出对γ、呼叫强度、重试策略的敏感度排序与稳健配置建议。",
              "score": 25,
              "evaluation_focus": "决策支持",
              "scoring_hint": "高分：清晰排序与可执行建议；中分：零散观察；低分：无结论。"
            }
          ]
        }
      }
    }
  }
}