{
  "task_id": "2004_D",
  "problem": "某学校Ｍ系计划招收10名计划内研究生，依照有关规定由初试上线的前15名学生参加复试，专家组由8位专家组成。在复试过程中，要求每位专家对每个参加复试学生的以上５个方面都给出一个等级评分，从高到低共分为A,B,C,D四个等级，并将其填入面试表内。所有参加复试学生的初试成绩、各位专家对学生的５个方面专长的评分如表（１）～表（8）所示。\n\n该系现有10名导师拟招收研究生，分为四个研究方向。导师的研究方向、专业学术水平（发表论文数、论文检索数、编（译）著作数、科研项目数），以及对学生的期望要求见表(9)。在这里导师和学生的基本情况都是公开的。要解决的问题是：\n\n(1) 首先，请你综合考虑学生的初试成绩、复试成绩等因素，帮助主管部门确定10名研究生的录取名单。然后，要求被录取的10名研究生与10名导师之间做双向选择，即学生可根据自己的专业发展意愿（依次申报２个专业志愿，如表(10)所示）、导师的基本情况和导师对学生的期望要求来选择导师；导师根据学生所报专业志愿、专家组对学生专长的评价和自己对学生的期望要求等来选择学生。请你给出一种10名研究生和导师之间的最佳双向选择方案（并不要求一名导师只带一名研究生），使师生双方的满意度最大。\n\n(2) 根据上面已录取的10名研究生的专业志愿（见表（10）），如果每一位导师只能带一名研究生，请你给出一种10名导师与10名研究生双向选择的最佳方案，使得师生双方尽量都满意。\n\n(3) 如果由十位导师根据初试的成绩及专家组的面试评价和他们自己对学生的要求条件录取研究生，那么，10名研究生的新录取方案是什么？为简化问题，假设没有申报专业志愿，请你给出这10名研究生各申报一名导师的策略和导师各选择一名研究生的策略。相互选中的即为确定；对于剩下的导师和学生，再按上述办法进行双向选择，直至确定出每一名导师带一名研究生的方案，使师生都尽量满意。\n\n(4) 学校在确定研究生导师的过程中，要充分考虑学生的申报志愿情况。为此，学校要求根据10名导师和15名学生的综合情况选择5名导师招收研究生，再让这5名导师在15名学生中择优录取10名研究生。请你给出一种导师和研究生的选择（录取）方案，以及每一名导师带２名研究生的双向选择最佳策略。\n\n(5) 请你设计一种更能体现“双向选择”的研究生录取方案，提供给主管部门参考，并说明你的方案的优越性。",
  "subtask": {
    "1": {
      "subtask": "子任务1（数据预处理与学生综合评分构建）的目标是：以表1–表8（8位专家对15名学生在五个能力维度的等级评价及笔试原始分）和表中导师/学生无关的其他元数据为唯一输入，经过清洗、量化、一致性评估与稳健聚合，输出每名学生的（1）归一化初试得分 E_i'、（2）每个能力维度的聚合复试得分 R_{i,d}（数值化并映射到[0,1]）、（3）复试向量 Svec_i（五维归一化向量）、（4）用于聚合的专家可信度权重 w_k 以及（5）可调合成权重体系（维度权重 v_d 与初试/复试权重 gamma），以便后续独立使用。为实现该目标必须按可重复的、分步化流程操作：首先对原始数据做校验与清洗（核对15名学生与8位专家的完整性，若有缺失按预先设定规则处理—优先用该专家同维度的中位数或按其他专家加权估计填补并记录标记；检查笔试分是否异常并记录），然后将等级映射为数值 A=4,B=3,C=2,D=1；其次为消除不同专家打分尺度差异，按专家维度级别对每位专家的评分序列做标准化处理（可选Z分标准化或秩变换），并保留原始映射以供对比；第三步评估专家间一致性与个体可信度：对每个维度计算一致性统计量（如Kendall’s W或Fleiss’ kappa）以判断整体一致性水平，并计算每位专家与其他专家在同一维度上的平均Spearman或Pearson相关系数与评分方差，以此构造专家可信度初值；依据一致性与方差制定并规范化专家权重 w_k（例如以相关系数的正值部分做比例权重或用(1/方差)与相关度结合的混合权重），同时提供备选稳健权重方案（均等权、中位数聚合或截尾均值）以便敏感性检验；第四步用得到的权重进行聚合：计算每名学生每维度的加权平均 R_{i,d} = sum_k w_k * r_{k,i,d}（或在稳健方案中取中位数或截尾均值），并将其线性映射到[0,1]（映射公式为 (R_{i,d}-1)/3）；第五步对初试笔试成绩 E_i 做线性归一化 E_i' = (E_i - min)/(max - min) 至[0,1]；第六步定义并计算复合得分模板 S_i = gamma * E_i' + (1-gamma) * sum_d v_d * (R_{i,d}-1)/3，其中 gamma ∈ [0,1] 与维度权重 v_d (v_d ≥ 0, sum v_d =1) 为参数，明确并记录若干权重方案（如均等v_d=0.2、基于导师群体偏好频率的权重、或通过AHP/TOPSIS计算得到的权重），并提供对 gamma 与 v_d 的网格搜索/敏感性分析接口以评估结果稳健性；第七步为可复现性与诊断输出：生成并保存原始清洗表、专家权重表、每名学生的 R_{i,d} 与 E_i'、最终 S_i 与 Svec_i，导出用于可视化的诊断图（专家一致性热图、各维度分布、S_i 对 gamma 的敏感曲线）并对关键步骤记录日志；最后建议使用工具与实现细节：以 Python（pandas, numpy, scipy, statsmodels, scikit-learn）或 R（dplyr, tidyr, psych, irr）实现所有步骤，必要时用 bootstrap 重采样估计 R_{i,d} 与 S_i 的置信区间并把所有中间产物以 CSV/JSON 格式保存以便审计与后续独立使用。本子任务不涉及任何配对或录取决策，仅输出可解释、可追溯且经一致性检验和稳健性评估的学生综合评价数据与用于合成的参数集合。",
      "criteria": {
        "task_understanding": {
          "core_goal": "评估与聚合专家面试评分并归一化笔试成绩，构建每名学生的综合复试向量与可调合成权重体系。",
          "expected_output": "数值化与归一化表格（E_i'、R_{i,d}、Svec_i、S_i）、专家权重表w_k、维度权重v_d与gamma方案集、诊断图（一致性热图、分布图、敏感性曲线）、日志与CSV/JSON中间产物、可复现代码。",
          "key_inputs_constraints": "输入：表1–表8（8位专家×15名学生×5维度，等级A-D）与笔试原始分E_i；约束：缺失需按规则填补并标记；等级需映射A=4..D=1；专家尺度差异需按专家-维度标准化（Z分或秩变换）；一致性统计（Kendall’s W/Fleiss’ kappa）与专家相关度（Spearman/Pearson）用于权重；输出需映射到[0,1]并可复现；不涉及任何配对或录取决策。",
          "modeling_type": "评价+拟合",
          "role_in_pipeline": "作为数据预处理与综合评价构建环节，位于后续配对优化与录取决策之前；前序依赖原始表1–表8及笔试分；后序任务为多目标匹配与稳定匹配方案评估、敏感性分析与录取策略优化。",
          "assumptions": "若一致性统计无法可靠计算（样本过小或同分过多），采用稳健方案（中位数/截尾均值）与均等权对照；若笔试存在异常值，记录但仍进行[min,max]线性归一化并输出标记。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "界定子任务边界：仅评价与聚合，不做录取或配对",
              "description": "明确本任务仅输出E_i'、R_{i,d}、Svec_i、w_k、v_d、gamma与S_i模板，不进行导师-学生匹配或任何录取决策。",
              "score": 30,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：产出不含配对/录取；中分：偶有匹配示例但未用于结论；低分：进行录取排序或匹配。"
            },
            {
              "sub_criteria": "识别数据结构：8专家×15学生×5维度等级与笔试原始分",
              "description": "准确识别三维评分张量与E_i，并指出等级A-D需数值化及专家-维度层级性。",
              "score": 30,
              "evaluation_focus": "数据理解",
              "scoring_hint": "高分：给出张量索引(k,i,d)与映射A=4..D=1；中分：描述不完整；低分：混淆维度或人数。"
            },
            {
              "sub_criteria": "识别一致性评估与权重需求（Kendall’s W/Fleiss’ kappa与w_k）",
              "description": "指出需评估专家一致性并据此构造专家可信度权重w_k和稳健备选方案。",
              "score": 40,
              "evaluation_focus": "评价要点",
              "scoring_hint": "高分：点名W/kappa与Spearman相关；中分：仅提加权无依据；低分：无一致性或权重讨论。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "用公式复述归一化：E_i'与(R_{i,d}-1)/3映射到[0,1]",
              "description": "精确给出E_i'=(E_i-min)/(max-min)与复试映射(R_{i,d}-1)/3的口径与边界处理策略。",
              "score": 30,
              "evaluation_focus": "数理表达",
              "scoring_hint": "高分：给出公式与异常/并列边界说明；中分：公式缺一；低分：无明确公式或口径错误。"
            },
            {
              "sub_criteria": "复述S_i合成模板与参数含义（gamma, v_d）",
              "description": "明确S_i=gamma*E_i'+(1-gamma)*Σ v_d*(R_{i,d}-1)/3，约束v_d≥0, Σv_d=1，gamma∈[0,1]。",
              "score": 35,
              "evaluation_focus": "指标定义",
              "scoring_hint": "高分：含参数约束与解释；中分：缺约束；低分：公式错误或参数未定义。"
            },
            {
              "sub_criteria": "流程复述：清洗→映射→标准化→一致性→加权聚合→归一化→输出/诊断",
              "description": "以步骤化语言还原七步流程并标注可替代方案（秩变换、稳健权重）。",
              "score": 35,
              "evaluation_focus": "流程化",
              "scoring_hint": "高分：七步齐全且含备选；中分：缺1–2步；低分：流程混乱或顺序不当。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "缺失与异常处理假设（中位数填补/加权估计并标记）",
              "description": "明确缺失按专家同维度中位数或他专家加权估计填补，异常笔试仅标记不剔除。",
              "score": 35,
              "evaluation_focus": "数据假设",
              "scoring_hint": "高分：给出优先级与标记字段；中分：描述笼统；低分：未说明或直接删除样本。"
            },
            {
              "sub_criteria": "专家尺度差异假设与选择（Z分或秩变换）",
              "description": "阐明标准化选型依据（样本小、序数等级），并保留原始映射对比。",
              "score": 30,
              "evaluation_focus": "方法假设",
              "scoring_hint": "高分：说明何时用Z分/秩并给理由；中分：仅选一种无理由；低分：不做标准化。"
            },
            {
              "sub_criteria": "一致性度量与权重构造假设（相关度与1/方差混合）",
              "description": "假设以正相关度与逆方差结合构造w_k，负相关截断或降权，并归一化。",
              "score": 35,
              "evaluation_focus": "权重设定",
              "scoring_hint": "高分：给出截断与归一化规则；中分：只提相关不落地；低分：权重随意或缺失。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "等级映射与专家-维度标准化管道",
              "description": "实现A=4..D=1映射后，按专家×维度计算Z分或秩分并缓存两路结果以供敏感性对比。",
              "score": 25,
              "evaluation_focus": "特征工程",
              "scoring_hint": "高分：双通道保留且可切换；中分：仅一路；低分：无标准化。"
            },
            {
              "sub_criteria": "一致性统计（Kendall’s W/Fleiss’ kappa）与相关矩阵",
              "description": "对每维度输出W或kappa与专家间Spearman相关热图，记录p值与解释。",
              "score": 25,
              "evaluation_focus": "统计建模",
              "scoring_hint": "高分：统计+显著性+可视化；中分：仅统计值；低分：未计算或错误。"
            },
            {
              "sub_criteria": "专家权重w_k设计与稳健备选（均等/中位数/截尾均值）",
              "description": "给出w_k公式、负相关截断、归一化以及三种稳健聚合备选用于敏感性检验。",
              "score": 25,
              "evaluation_focus": "权重模型",
              "scoring_hint": "高分：含多方案与切换接口；中分：单一方案；低分：无权重或不可复现。"
            },
            {
              "sub_criteria": "合成权重体系（v_d与gamma）与方案集",
              "description": "定义均等、偏好驱动、AHP/TOPSIS三套v_d方案与gamma网格，形成模板S_i。",
              "score": 25,
              "evaluation_focus": "指标体系",
              "scoring_hint": "高分：≥3套v_d+gamma网格；中分：仅均等；低分：未提供参数化模板。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "加权聚合计算R_{i,d}与[0,1]映射",
              "description": "按R_{i,d}=Σ w_k r_{k,i,d}或稳健方案求值，并线性映射到[0,1]且校验边界。",
              "score": 30,
              "evaluation_focus": "数值计算",
              "scoring_hint": "高分：批量计算+边界断言；中分：缺断言；低分：映射或聚合错误。"
            },
            {
              "sub_criteria": "E_i'归一化与异常标记贯通",
              "description": "完成E_i'=(E_i-min)/(max-min)，处理极端相同min=max并保留异常标志。",
              "score": 25,
              "evaluation_focus": "鲁棒实现",
              "scoring_hint": "高分：含退化处理与日志；中分：无退化处理；低分：崩溃或错误归一化。"
            },
            {
              "sub_criteria": "S_i计算与gamma、v_d网格敏感性评估",
              "description": "在网格上计算S_i与排名，输出敏感性曲线/热图并记录稳定性指标（如排名Kendall tau）。",
              "score": 45,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：曲线+tau/一致比例；中分：仅少量点比较；低分：无敏感性分析。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据清洗与可复现管道（pandas/numpy/scipy）",
              "description": "模块化实现：加载→校验→填补→映射→标准化→统计→聚合→导出；含随机种子与版本记录。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：函数化+日志+配置；中分：脚本堆叠；低分：手工流程不可复现。"
            },
            {
              "sub_criteria": "一致性与相关计算的单元测试/断言",
              "description": "为W/kappa/相关与权重归一化设置测试与断言（和值≈1、非负、形状一致）。",
              "score": 25,
              "evaluation_focus": "测试保障",
              "scoring_hint": "高分：覆盖核心函数；中分：少量断言；低分：无测试断言。"
            },
            {
              "sub_criteria": "诊断输出与可视化（热图、分布、敏感曲线）",
              "description": "自动保存CSV/JSON与PNG/SVG图，文件命名含时间戳与参数签名。",
              "score": 25,
              "evaluation_focus": "工程规范",
              "scoring_hint": "高分：图表+数据双输出；中分：仅图或仅表；低分：无诊断输出。"
            },
            {
              "sub_criteria": "参数化与备选方案开关（标准化/权重/聚合）",
              "description": "通过配置切换Z分/秩、均等/相关权重、中位数/截尾均值聚合。",
              "score": 20,
              "evaluation_focus": "可配置性",
              "scoring_hint": "高分：统一配置入口；中分：需改代码；低分：无切换能力。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "一致性水平解读与影响（Kendall’s W或kappa）",
              "description": "解释整体与分维度一致性强弱及其对w_k与聚合不确定性的影响。",
              "score": 30,
              "evaluation_focus": "统计解读",
              "scoring_hint": "高分：结合阈值/显著性；中分：定性描述；低分：不解释或误解指标。"
            },
            {
              "sub_criteria": "权重敏感性与稳健比较（均等vs相关权重vs中位数）",
              "description": "比较不同w_k/聚合方案对R_{i,d}与S_i排名的影响，报告一致性指标。",
              "score": 35,
              "evaluation_focus": "稳健性评估",
              "scoring_hint": "高分：量化tau/交并比；中分：口头对比；低分：无对比。"
            },
            {
              "sub_criteria": "可追溯性与审计性说明（日志、标记、版本）",
              "description": "说明缺失填补标记、异常记录、参数版本如何追踪到最终S_i与Svec_i。",
              "score": 35,
              "evaluation_focus": "可追溯性",
              "scoring_hint": "高分：一跳追踪示例；中分：原则性描述；低分：无法追溯。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2（导师与学生效用建模与双向匹配框架设计）的目标是从已量化的学生特征与导师偏好出发，构建可解释的导师效用与学生效用函数，明确匹配的约束与可选目标（总体效用最大化或稳定性优先），并给出可直接实现的算法与求解流程：输入为每名学生的归一化初试分 E_i'、五维复试能力向量 Svec_i（每维在[0,1]，由等级A=4…D=1映射为(R-1)/3得到）、学生的志愿方向（第一/第二志愿），以及每位导师的偏好向量 P_t（表9中五维等级同样映射并归一化）、导师容量 c_t（可为1或>1）与导师声誉指标 Q_t（由发表数/检索数/项目数线性归一化得到）；首先定义导师对学生的匹配度 U_t(i) 与学生对导师的偏好 V_i(t) 的标准化线性模型并给出默认形式：U_t(i)=a1*(P_t · Svec_i) + a2*E_i' + a3*DirMatch(t,i)，其中DirMatch(t,i)=1若导师方向与学生第一志愿一致，=rho (0<rho<1)若为第二志愿，=0否则；V_i(t)=b1*StuDirPref(i,t)+b2*Q_t + b3*(P_t · Svec_i)，其中StuDirPref(i,t)=1/alpha/0对第一/第二/不匹配（alpha在(0,1)）；所有项应按最大可能值归一化到[0,1]以便可比，参数集 {a1,a2,a3,b1,b2,b3,rho,alpha} 可由政策偏好或校内共识设定并保留为调参变量；基于这两个面向可构造复合互惠权重 w_{i,t} = lambda * Norm(U_t(i)) + (1-lambda) * Norm(V_i(t))，lambda∈[0,1] 表示对导师/学生满意度的相对重视；对匹配问题给出两条明确求解路径： (A) 总体效用最大化（福利最大化）——将二元变量 x_{i,t}∈{0,1} 表示指派，构建 0–1 线性整数规划 maximize sum_{i,t} w_{i,t} x_{i,t} subject to ∑_t x_{i,t} ≤ 1 ∀i (或 =1 若每名学生必须被指派), ∑_i x_{i,t} ≤ c_t ∀t, x_{i,t}=0 对于方向不可行的(i,t)（或用大惩罚项），并可加入公平/方向配额约束；此类问题在给定规模下可用 Gurobi/CPLEX（商用）或 CBC/GLPK（开源）高效求解，输出为最优指派矩阵 X 及总体与分侧效用值； (B) 稳定性优先（双向选择）——采用延迟接受（Deferred Acceptance, DA）算法实现多对一或一对一稳定配对的可执行程序：预先为每个学生按 V_i(t) 从高到低形成偏好序列，为每个导师按 U_t(i) 从高到低形成接收序列，运行学生提出或导师提出的 DA（学生提出保证学生方策略无利性，导师提出则偏向导师）——算法细节：每轮未匹配学生向其偏好列表上未被拒绝的首选导师申请；导师在收到申请后在其候选池中按容量 c_t 保留排名靠前的学生并拒绝其余；重复直到没有新的申请产生；处理并列/平局通过确定的可公开的断点规则或辅助指标打破；算法复杂度为 O(total applications) 并易于用 Python（pandas/numpy）直接实现或调用现成匹配库；同时提供两种方法的补充步骤：在福利最大化后进行稳定性检测（检查并列出任何阻塞对）并可通过局部调整或引入阻塞对线性化约束以消除阻塞对（注意此法会增大 ILP 规模），或在 DA 结果基础上评估总体效用以衡量效率损失；实现细节应包含对不匹配（方向不合或禁配）的显式处理规则、对导师容量与每方向最低/最高人数的约束表达，以及对参数灵敏度的简单接口以便做网格搜索或蒙特卡洛评估。最终输出包括指派矩阵 x_{i,t}、每名学生与导师的个体效用值列表、总体（及分侧）效用汇总、是否存在阻塞对的布尔/列表（若存在，给出相关对以便人工审查），并建议使用工具链：数据预处理与矩阵计算用 Python/pandas、效用计算与排序用 numpy/scipy、DA 可用自实现或 use matching 库、ILP 用 Gurobi/CPLEX/CBC；所有实现应支持可配置参数文件、日志记录与可重复的偏好生成以保证程序可独立运行并产生可审计的匹配结果。",
      "criteria": {
        "task_understanding": {
          "core_goal": "构建并评估导师与学生的双向效用函数并优化/稳定匹配方案（0–1 整数规划或延迟接受算法）以生成指派矩阵。",
          "expected_output": "指派矩阵x_{i,t}（CSV/JSON）、个体效用U_t(i)/V_i(t)与复合权重w_{i,t}列表、总体与分侧效用汇总、稳定性检测结果（是否存在阻塞对及列表）、可执行算法与参数配置（代码/伪代码/配置文件）、敏感性分析报告或图表。",
          "key_inputs_constraints": "输入：E_i'∈[0,1]、Svec_i∈[0,1]^5、学生志愿（第一/第二）、导师偏好向量P_t∈[0,1]^5、导师容量c_t、导师声誉Q_t∈[0,1]；约束：∑_t x_{i,t}≤1、∑_i x_{i,t}≤c_t、禁配对x_{i,t}=0；参数：{a1,a2,a3,b1,b2,b3,lambda,rho,alpha}∈[0,1]；需处理并列与方向不匹配；输出需可复现（固定随机种子/日志）。",
          "modeling_type": "优化+评价",
          "role_in_pipeline": "作为子任务1输出（E_i'、Svec_i、参数集合）之后的匹配与分配核心环节；前序依赖：子任务1的量化特征与权重；后序衔接：录取名单与后续方案比较、策略与政策敏感性分析。",
          "assumptions": "若未给出禁配清单，方向不合按DirMatch=0处理；若容量c_t未给出，默认为1；并列用固定tie-break（如Q_t或随机种子）打破。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "明确双向匹配与优化/稳定性目标",
              "description": "是否区分总体效用最大化（0–1 ILP）与稳定性优先（延迟接受DA），并说明何时选用各自方案。",
              "score": 30,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：清楚比较ILP与DA优缺点并指明适用场景；中分：只提一种方法但能说明理由；低分：混淆或未提目标差异。"
            },
            {
              "sub_criteria": "输入输出边界与约束识别",
              "description": "是否完整列出E_i'、Svec_i、P_t、c_t、Q_t、志愿与x_{i,t}约束（∑_t、∑_i与禁配）。",
              "score": 30,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：清单齐全且数学约束无误；中分：缺少1项输入或约束；低分：多处缺失或约束表达错误。"
            },
            {
              "sub_criteria": "参数与可调政策识别",
              "description": "是否识别并解释{a1,a2,a3,b1,b2,b3,lambda,rho,alpha}含义与取值域及其政策含义。",
              "score": 20,
              "evaluation_focus": "需求解析",
              "scoring_hint": "高分：参数含义、范围与影响路径清楚；中分：含义基本正确但范围或影响未说明；低分：参数遗漏或误解。"
            },
            {
              "sub_criteria": "稳定性与阻塞对定义",
              "description": "是否给出阻塞对定义及检测需求（学生–导师两侧更偏好对方）。",
              "score": 20,
              "evaluation_focus": "概念把握",
              "scoring_hint": "高分：形式化阐述阻塞对并给出检测思路；中分：口头描述无形式化；低分：未提或误解。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "效用函数复述与规范化",
              "description": "准确复述U_t(i)=a1(P_t·Svec_i)+a2E_i'+a3DirMatch与V_i(t)=b1StuDirPref+b2Q_t+b3(P_t·Svec_i)，并说明归一化到[0,1]。",
              "score": 35,
              "evaluation_focus": "精确复述",
              "scoring_hint": "高分：公式与归一化流程完整；中分：公式正确但漏归一化细节；低分：公式错误或缺失项。"
            },
            {
              "sub_criteria": "志愿映射与DirMatch/StuDirPref",
              "description": "清晰说明第一/第二志愿到DirMatch与StuDirPref（rho与alpha）映射规则。",
              "score": 25,
              "evaluation_focus": "规则重述",
              "scoring_hint": "高分：给出1/alpha/0与rho量化并边界；中分：只给定性说明；低分：未说明或混淆两个概念。"
            },
            {
              "sub_criteria": "复合互惠权重w_{i,t}",
              "description": "正确复述w_{i,t}=lambda·Norm(U)+(1-lambda)·Norm(V)并解释lambda含义。",
              "score": 20,
              "evaluation_focus": "要点凝练",
              "scoring_hint": "高分：含公式与λ含义及范围；中分：只给文字描述；低分：缺失或误解。"
            },
            {
              "sub_criteria": "匹配约束与禁配处理",
              "description": "复述∑_t x_{i,t}≤1、∑_i x_{i,t}≤c_t与方向不合x_{i,t}=0或大惩罚。",
              "score": 20,
              "evaluation_focus": "约束重述",
              "scoring_hint": "高分：数学形式与实施细节兼备；中分：仅文字；低分：遗漏关键约束。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "参数先验与范围假设",
              "description": "合理设定{a1..b3,lambda,rho,alpha}范围与默认值，并说明政策含义与敏感性需求。",
              "score": 30,
              "evaluation_focus": "建模假设",
              "scoring_hint": "高分：给默认值与范围并联系政策；中分：给范围或默认其一；低分：无明确设定。"
            },
            {
              "sub_criteria": "并列与打分平局处理假设",
              "description": "说明DA中的tie-break规则（固定随机种子、Q_t或E_i'）及可审计性。",
              "score": 25,
              "evaluation_focus": "规则设定",
              "scoring_hint": "高分：明确可重复规则与日志；中分：给规则但不可复现；低分：未考虑平局。"
            },
            {
              "sub_criteria": "禁配与方向不合假设",
              "description": "定义方向不合为禁配或零效用，并说明在ILP与DA中的具体实现。",
              "score": 20,
              "evaluation_focus": "约束设定",
              "scoring_hint": "高分：两方法实现均清楚；中分：仅述其一；低分：未处理。"
            },
            {
              "sub_criteria": "容量与覆盖假设",
              "description": "若c_t缺失默认1并说明学生未匹配允许性（等式/不等式约束选择）。",
              "score": 25,
              "evaluation_focus": "边界条件",
              "scoring_hint": "高分：清楚讨论≤1 vs =1的取舍；中分：仅给默认值；低分：忽略容量。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "效用线性模型与归一化实现",
              "description": "给出U、V的线性组合、向量点积(P_t·Svec_i)与所有项归一化到[0,1]的方法。",
              "score": 30,
              "evaluation_focus": "模型设计",
              "scoring_hint": "高分：含公式、上界归一与异常处理；中分：公式正确但缺归一策略；低分：不一致或未归一。"
            },
            {
              "sub_criteria": "复合权重w_{i,t}与可调lambda",
              "description": "构建w_{i,t}并支持λ网格/敏感性分析接口。",
              "score": 20,
              "evaluation_focus": "参数化设计",
              "scoring_hint": "高分：提供接口与示例范围；中分：仅口头；低分：无λ可调。"
            },
            {
              "sub_criteria": "ILP形式化与扩展约束",
              "description": "完整给出目标maximize Σ w_{i,t}x_{i,t}与容量/唯一性/禁配、可选配额/公平约束。",
              "score": 30,
              "evaluation_focus": "数模表达",
              "scoring_hint": "高分：数学清晰且可扩展；中分：基本约束齐但无扩展；低分：目标或约束错误。"
            },
            {
              "sub_criteria": "DA偏好列表生成与稳定性定义",
              "description": "按V_i(t)与U_t(i)排序生成偏好/接收序列，并明确DA流程与复杂度。",
              "score": 20,
              "evaluation_focus": "算法设计",
              "scoring_hint": "高分：含流程、O(申请数)复杂度；中分：流程简述；低分：流程错误或不完整。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "ILP求解器选择与可行性",
              "description": "说明使用Gurobi/CPLEX/CBC/GLPK并给出整数性、规模可行性与停止准则。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给具体求解器与参数（gap/时间限）；中分：只给求解器名；低分：无实现可行性。"
            },
            {
              "sub_criteria": "DA实现细节与终止条件",
              "description": "实现学生提出或导师提出DA、容量c_t处理、拒绝与保留机制、终止条件。",
              "score": 30,
              "evaluation_focus": "实现细节",
              "scoring_hint": "高分：边界情况（空列表、并列）处理明确；中分：核心流程有但边界缺失；低分：终止条件不当。"
            },
            {
              "sub_criteria": "稳定性检测与阻塞对列举",
              "description": "在ILP结果后检测阻塞对并输出列表，或报告DA结果稳定。",
              "score": 25,
              "evaluation_focus": "性质验证",
              "scoring_hint": "高分：提供检测算法与输出格式；中分：仅说明检测；低分：未检测。"
            },
            {
              "sub_criteria": "敏感性/网格搜索",
              "description": "对lambda、rho、alpha与{a1..b3}进行网格或蒙特卡洛评估并汇总总体效用变化。",
              "score": 15,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：多参数联合分析与可视化；中分：单参数扫描；低分：无敏感性。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "效用计算与归一化代码正确性",
              "description": "以Python/numpy实现P_t·Svec_i、U/V/w_{i,t}与[0,1]归一化，含边界检查。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：单元测试或断言覆盖边界；中分：能运行但缺校验；低分：计算或归一化错误。"
            },
            {
              "sub_criteria": "ILP与DA可执行流程",
              "description": "提供可运行的ILP（如PuLP/OR-Tools/Gurobi接口）与DA实现，支持容量与禁配。",
              "score": 35,
              "evaluation_focus": "工程实现",
              "scoring_hint": "高分：两种方法均可运行；中分：仅一种完整；低分：均不可运行或缺关键约束。"
            },
            {
              "sub_criteria": "配置化参数与可复现性",
              "description": "支持参数文件（JSON/YAML）、固定随机种子、日志记录与结果导出（CSV/JSON）。",
              "score": 20,
              "evaluation_focus": "可复现性",
              "scoring_hint": "高分：参数外置与日志完备；中分：部分可配置；低分：硬编码且不可复现。"
            },
            {
              "sub_criteria": "性能与可扩展性",
              "description": "在15×10或更大规模下合理耗时，DA为O(申请数)，ILP设置时间/Gap限制。",
              "score": 15,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：给基准耗时与限制；中分：可运行但无基准；低分：明显不可扩展。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "总体效用与分侧效用汇总",
              "description": "报告Σw_{i,t}x_{i,t}与导师/学生侧平均效用，解释λ变化影响。",
              "score": 30,
              "evaluation_focus": "结果解读",
              "scoring_hint": "高分：含多λ对比与趋势；中分：单一λ；低分：无量化汇总。"
            },
            {
              "sub_criteria": "稳定性与阻塞对报告",
              "description": "对ILP结果给出阻塞对数量/列表或说明DA稳定且无阻塞。",
              "score": 25,
              "evaluation_focus": "性质评估",
              "scoring_hint": "高分：列出前若干最强阻塞对并建议调整；中分：仅数量；低分：缺报告。"
            },
            {
              "sub_criteria": "公平性/方向配额与政策敏感性",
              "description": "评估不同rho/alpha或配额约束对各方向与学生志愿满足率的影响。",
              "score": 25,
              "evaluation_focus": "政策分析",
              "scoring_hint": "高分：提供志愿命中率/方向占比对比；中分：定性描述；低分：未评估。"
            },
            {
              "sub_criteria": "可视化与可审计性",
              "description": "提供匹配矩阵热图、效用分布、参数-效用曲线，附导出文件路径。",
              "score": 20,
              "evaluation_focus": "呈现与审计",
              "scoring_hint": "高分：多图表且可重现；中分：单图或无路径；低分：无可视化。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3（敏感性、噪声与动态情景模拟 — 稳健性检验与参数校准）目标是系统性评估并量化由评分映射、专家权重、维度权重、初试/复试合成权重及匹配模型参数引入的不确定性对学生综合得分、被录取名单与师生匹配结果稳定性和整体效用的影响，并在此基础上进行参数敏感性分析、噪声鲁棒性检验、情景（情形）模拟和可选的历史数据校准，以输出可操作的稳健性诊断与决策建议。为实现该目标，务必按下列步骤有序实施：一是明确输入的不确定参数集合（至少包括：等级映射规则如A→4..D→1、专家可信度权重 w_k、维度权重 v_d、初试复试合成权 gamma、匹配效用系数 a1..a3、b1..b3、方向兼容系数 rho、以及匹配机制选择与导师容量等），并为每个参数定义合理取值域或概率分布（若有历史数据优先拟合分布，否则使用区间/均匀、Beta、正态或经验分布）；二是设计实验方案，采用组合的局部与全局敏感性方法：对关键参数做系统网格扫描用于阈值分析与可视化（例如 gamma 在[0,1]以步长0.05扫面），并用拉丁超立方或Sobol/Morris方法做全局敏感性采样以计算敏感性指标（Sobol指数或Morris μ*），以便识别对输出方差贡献最大的参数；三是对专家评分不确定性实施噪声模型与重采样检验：包括（i）Bootstrap重采样专家评分矩阵以生成置信区间（建议1000次以上），（ii）基于测量误差的加性噪声模型（如对映射后的数值加入零均值正态噪声σ范围）、（iii）类别误分类模型（以某概率 p 随机翻转等级如A↔B、B↔C），以及（iv）考虑专家间相关噪声（用协方差矩阵模拟相关扰动）；对每一种噪声情形重复计算学生复试向量、归一化初试分与最终综合分 S_i，再运行所采用的匹配算法（包括福利最大化的整数规划解或延迟接受 DA 实现）以记录结果分布；四是定义并计算一组严格的性能与稳健性度量：例如每名学生被录取频率、名次变化的Spearman秩相关系数、集合重叠度（Jaccard）在不同参数情形下的分布、学生端与导师端平均效用及其方差、阻塞对数量与发生概率、方向/性别/领域公平性指标及导师容量利用率；用这些指标生成不确定性敏感性的汇总表、置信区间与风险阈值（例如在95%置信水平下某学生入选概率）；五是做统计和可视化分析以提炼结论：对仿真输出做回归或方差分解（ANOVA或随机森林特征重要性）以量化各参数对关键输出的影响，计算Sobol或PRCC等全局灵敏度指标，绘制参数—输出响应曲面、不确定性带（fan plots）、稳健性热力图与被录取频率条形图，以便决策者直观识别“脆弱”决策（对小幅参数变化敏感）和“稳健”决策区间；六是在存在历史培养结果时执行校准与验证：用历史数据拟合参数（如gamma或维度权重）以最小化长期成果预测误差（采用线性回归、岭回归或树模型并交叉验证），并用留出集验证模型预测能力，同时用历史噪声估计来设定更现实的评分扰动分布；七是构建多期/动态情景仿真（可选但强烈建议）以评估动态因素对长期匹配质量的影响：在多期模拟中规定期数 T、每期导师容量与项目变化规则、学生退学/转导师概率、偏好更新规则（例如基于上一期匹配满意度调整志愿概率），并在每期重复评分扰动与匹配决策，以观测系统在时间序列下的稳定性、累积效用与是否出现路径依赖；八是实现细节与计算注意事项：建议使用 Python 生态（pandas, numpy, scipy, statsmodels, scikit-learn）进行数据与统计分析，采用 SALib 实现 Sobol/Morris 灵敏度分析，使用 joblib/multiprocessing 做并行蒙特卡洛，ILP 调用 Gurobi/CPLEX（或开源 CBC/GLPK）求解福利最大化问题，DA 可用自实现或现有 matching 库；确保所有仿真可复现（固定随机种子、配置文件记录参数空间、日志与输出版本化），并设定实验规模与收敛判据（例如蒙特卡洛样本 N 使得关键统计量的置信区间变化小于预设阈值）；九是输出要求：提供（i）参数敏感性报告（含Sobol/Morris或PRCC结果）、（ii）噪声与Bootstrap导致的被录取概率分布与置信区间、（iii）动态情景下的长期绩效曲线与风险情形、（iv）若干可操作的稳健参数建议区间（如 gamma 在何区间内录取名单稳定且总体效用最低波动）、以及（v）完整的仿真代码、配置与数据记录以便审计与复现。该子任务独立完成后应能明确指出哪些参数或数据质量问题对决策最具破坏性、在何种不确定性情形下需追加试训或二次评估，以及为后续策略（如权重选择或是否采用试训期）提供量化依据。",
      "criteria": {
        "task_understanding": {
          "core_goal": "评估与仿真子任务3中参数与噪声对学生综合得分、录取名单与双向匹配结果的稳健性影响，并进行敏感性分析与参数校准",
          "expected_output": "参数敏感性报告（Sobol/Morris/PRCC表）、录取概率与名次稳定性分布、总体与分侧效用的置信区间、阻塞对发生概率、稳健参数建议区间（如gamma区间）、动态情景绩效曲线、可复现仿真代码与配置、日志与版本化数据快照",
          "key_inputs_constraints": "输入包含：等级映射规则A→4..D→1、专家权重w_k、维度权重v_d、合成权重gamma、效用系数a1..a3与b1..b3、rho、lambda、导师容量与匹配机制；必须依赖子任务1输出（E_i'、Svec_i、w_k、R_{i,d}）与子任务2效用模型；参数需定义取值域或分布；需固定随机种子并记录配置以保证可复现",
          "modeling_type": "仿真+评价+优化（参数校准）",
          "role_in_pipeline": "作为全流程的稳健性检验与参数校准环节：前序依赖子任务1的数据预处理与评分聚合、子任务2的效用函数与匹配算法；后序为决策与方案发布提供稳健参数区间和风险阈值建议"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别关键不确定参数（gamma, w_k, v_d, a1..a3, b1..b3, rho, lambda,容量）",
              "description": "是否完整枚举子任务3要求的参数集并给出取值域或概率分布以用于敏感性与仿真",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：覆盖≥90%关键参数并给区间/分布；中分：覆盖≥60%且部分无分布设定；低分：遗漏多数关键参数或无取值域"
            },
            {
              "sub_criteria": "明确输出对象（S_i, 录取名单, 阻塞对, 效用）与评价指标",
              "description": "是否将学生综合得分S_i、录取概率、秩相关、Jaccard、效用均值/方差、阻塞对概率等作为核心评估指标",
              "score": 30,
              "evaluation_focus": "评价设计",
              "scoring_hint": "高分：列出≥5项指标并与输出对象一一对应；中分：3–4项且有缺口；低分：指标模糊或与目标无关"
            },
            {
              "sub_criteria": "区分局部与全局敏感性（网格扫描 vs Sobol/Morris）",
              "description": "是否将gamma等做网格扫描并使用SALib进行Sobol/Morris全局分析",
              "score": 35,
              "evaluation_focus": "方法选择",
              "scoring_hint": "高分：明确两类方法的适用对象与实现工具；中分：仅提及其一或实现不清；低分：未区分或方法不当"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述gamma与v_d对S_i与录取稳定性的影响路径",
              "description": "清楚阐明E_i'与R_{i,d}经gamma与v_d合成至S_i，再影响排序与录取/匹配",
              "score": 30,
              "evaluation_focus": "因果链路",
              "scoring_hint": "高分：给出S_i公式与影响链；中分：仅口述无公式；低分：混淆或遗漏关键变量"
            },
            {
              "sub_criteria": "复述U_t(i), V_i(t), lambda对匹配结果的作用",
              "description": "说明效用线性模型与lambda加权如何改变福利最大化或DA结果",
              "score": 35,
              "evaluation_focus": "机制理解",
              "scoring_hint": "高分：列明U/V构成与归一化、lambda影响；中分：提及但不完整；低分：与匹配无关联描述"
            },
            {
              "sub_criteria": "复述噪声与重采样对Svec_i及最终决策的传播",
              "description": "阐释Bootstrap、加性噪声、误分类与相关扰动如何作用到R_{i,d}→Svec_i→S_i→匹配",
              "score": 35,
              "evaluation_focus": "不确定性传播",
              "scoring_hint": "高分：覆盖四类噪声并说明传播链；中分：1–2类且笼统；低分：未建立传播关系"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "参数分布设定与来源（历史拟合/经验：均匀、正态、Beta）",
              "description": "为gamma、w_k、v_d、a系数、b系数、rho给出合理分布或区间，并注明来源",
              "score": 35,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：每类参数均有分布与依据；中分：部分参数无依据；低分：无分布或不合理范围"
            },
            {
              "sub_criteria": "噪声模型假设（加性正态σ、误分类概率p、相关协方差）",
              "description": "明确σ与p取值范围、相关结构（如AR或常数相关），并说明与评分刻度一致性",
              "score": 35,
              "evaluation_focus": "统计设定",
              "scoring_hint": "高分：参数可检验且与刻度匹配；中分：给范围但未校准；低分：与数据尺度不符或缺失"
            },
            {
              "sub_criteria": "动态情景规则（T期、容量变化、偏好更新、退学概率）",
              "description": "给出多期仿真的演化规则与边界条件",
              "score": 30,
              "evaluation_focus": "情景设计",
              "scoring_hint": "高分：规则完整且可实现；中分：仅概念描述；低分：未定义或自相矛盾"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "敏感性设计：gamma网格扫描与Sobol/Morris全局方案",
              "description": "构建gamma∈[0,1]步长≤0.05扫描，并用SALib定义参数空间与采样",
              "score": 30,
              "evaluation_focus": "实验设计",
              "scoring_hint": "高分：网格与采样规模、收敛准则明确；中分：缺其一；低分：无法执行"
            },
            {
              "sub_criteria": "噪声与Bootstrap重采样框架",
              "description": "集成Bootstrap(≥1000次)、加性噪声、误分类与相关扰动为可切换管线",
              "score": 30,
              "evaluation_focus": "鲁棒建模",
              "scoring_hint": "高分：四类噪声均实现且参数化；中分：≥2类；低分：仅单一或不可配置"
            },
            {
              "sub_criteria": "匹配机制双路径（ILP福利最大化与DA稳定性）",
              "description": "定义ILP约束与目标、DA流程与打破平局规则，并可切换导师容量",
              "score": 40,
              "evaluation_focus": "算法设计",
              "scoring_hint": "高分：两路径均可调用且参数化；中分：仅一条路径或约束不全；低分：机制缺失或错误"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "全局敏感性计算（Sobol指数或Morris μ*）",
              "description": "正确计算并报告一阶/总效应或μ*，注明样本量与置信区间",
              "score": 35,
              "evaluation_focus": "数值统计",
              "scoring_hint": "高分：指数稳定且复现实验；中分：仅点估计；低分：计算错误或未提供"
            },
            {
              "sub_criteria": "ILP与DA运行与稳定性检测（阻塞对枚举）",
              "description": "成功求解ILP或DA，输出x_{i,t}、总体效用，并检测阻塞对或报告无阻塞",
              "score": 35,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：两者均运行并有阻塞检测；中分：单一算法或无检测；低分：无法获得可行解"
            },
            {
              "sub_criteria": "蒙特卡洛/Bootstrap收敛与计算预算控制",
              "description": "设置N使关键指标CI宽度低于阈值（如±2%），并用并行加速与随机种子固定",
              "score": 30,
              "evaluation_focus": "计算工程",
              "scoring_hint": "高分：给出CI与N选择依据；中分：有N但无收敛证据；低分：无收敛控制或结果抖动大"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "可复现性（随机种子、配置文件、日志与版本化输出）",
              "description": "采用配置驱动仿真，固定随机种子，产出日志与带时间戳的CSV/JSON",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：配置+种子+日志+版本化齐全；中分：缺其一；低分：不可复现"
            },
            {
              "sub_criteria": "SALib/并行与求解器集成（CBC/GLPK或Gurobi，DA实现）",
              "description": "正确调用SALib、joblib/multiprocessing、ILP求解器与DA库/自实现",
              "score": 30,
              "evaluation_focus": "工程集成",
              "scoring_hint": "高分：组件均可运行且有回退方案；中分：部分可用；低分：依赖失配或无法运行"
            },
            {
              "sub_criteria": "噪声与重采样模块化接口",
              "description": "以统一接口切换Bootstrap、加性噪声、误分类、相关扰动并记录参数",
              "score": 40,
              "evaluation_focus": "模块设计",
              "scoring_hint": "高分：四类全覆盖且参数记录；中分：≥2类或记录不全；低分：硬编码难以扩展"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "稳健性度量与可视化（秩相关、Jaccard、频率图、fan plot、热力图）",
              "description": "生成并解读关键图表展示S_i、录取名单与效用对参数的敏感性与不确定性带",
              "score": 35,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：≥4类图表且结论清晰；中分：2–3类；低分：缺乏图表或解读空泛"
            },
            {
              "sub_criteria": "风险阈值与稳健参数区间建议（如gamma稳定区间）",
              "description": "给出在95%置信水平下的入选概率、效用波动与参数建议区间",
              "score": 35,
              "evaluation_focus": "决策支持",
              "scoring_hint": "高分：量化区间与置信度；中分：定性建议；低分：无可操作建议"
            },
            {
              "sub_criteria": "动态情景长期绩效与路径依赖分析",
              "description": "报告多期累计效用、容量利用率、稳定性与是否出现路径依赖",
              "score": 30,
              "evaluation_focus": "时序分析",
              "scoring_hint": "高分：给出曲线与诊断；中分：仅汇总指标；低分：未进行或结论不支撑"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（鲁棒约束、制度设计与落地实施）旨在把模型化输出转化为可操作、可审计且能抵御评分与偏好不确定性的选拔与配对制度，目标是：在明确规则、保障透明与激励相容的前提下，确保录取与导师配对既满足学术质量与公平性要求，又尽可能消除或最小化“阻塞对”和策略性行为的负面影响，并为运行后评估与迭代改进提供完整的流程与技术手段。其工作范围包括规则定义与约束形式化、匹配机制选择与稳定性保障、可操作的两阶段执行流程、试训与异议处理机制、技术实现规范（数据、算法与求解器）、审计与记录要求、以及运行后的反馈与参数更新机制；不包含具体评分指标的设计或对具体候选人的决策。为实现上述目标，需按下列步骤系统实施并形成交付物：1) 明确并书面化制度规则和输入数据清单（必须字段示例：每位学生的初试分与复试等级原始记录、专家权重表、导师偏好或导师按量化规则生成的学生排序、导师容量与学科方向、学生志愿顺序、时间节点与申诉规则），并制定可配置的政策参数（如是否采用学生优先或导师优先延迟接受、容量上限、允许保留名额与试训期长度、稳定性惩罚权重、公开何类中间信息）；2) 将制度规则形式化为可执行约束并选择匹配实现路径：若优先“稳定匹配”，采用延迟接受（DA）算法并明确发起方、偏好生成与平局断点规则；若优先“效用最大化”，使用整数线性规划（ILP）求解总体或双侧加权效用，同时可选地把“稳定性”作为约束或通过在目标中加入稳定性惩罚项线性化（说明：将阻塞对排除的约束可用二元变量与线性不等式表达，但会显著增加计算量，应在实现规范中注明复杂度与求解器需求）；3) 设计两阶段中央化操作流程并制定每一步的输入/输出与责任方：阶段A（透明筛选）明确哪些中间结果公开（例如学生综合得分区间、导师总体偏好模板），阶段B（双向配对）规定提交偏好、申请与保留时限、算法运行实体、结果公布流程与等待名单/补录规则；同时规定可选的“试训期”（例如 2–4 周小科研任务或面谈），并明确试训评估指标、导师必须在试训结束前给出的录取/撤回决定时限以及试训失败后的二轮匹配规则；4) 制定公平性与鲁棒性约束并嵌入流程：明确方向配额或最小/最大录取数、禁止与惩罚显性歧视性规则、对因评分噪声导致的边界情形设定二次复核或人工仲裁规则，以及对高影响异常样本（如评分分布极端）触发的审查阈值；5) 技术实现与工具规范：规定数据管理（关系型数据库/CSV 版本控制）、偏好与评分的可复现生成代码、算法实现（DA 的确定性实现或 ILP 的数学模型）、求解器与硬件建议（开源 CBC/GLPK 或商用 Gurobi/CPLEX 并说明当引入稳定性线性化时需商用求解器）、软件工程规范（版本控制、单元测试、固定随机种子、配置文件）；6) 运行前的验证与敏感性演练：在正式运行前用历史或合成数据做端到端演练并输出稳定性指标、阻塞对检测、总体与分侧效用比较、以及在不同政策参数下的方案差异，以便决策者选择参数组合并了解权衡；7) 结果公布、异议与复议渠道：公布配对结果同时提供完整可审计的记录（包括用于排序的数值化偏好列表、运行参数、算法版本号），并设立明确的异议提交窗口与复核流程，复核流程需能触发二次运行或人工仲裁，并将仲裁结果与理由归档；8) 运行后反馈与参数更新机制：规定在配对季结束后收集导师与学生满意度、试训反馈与早期培养绩效等指标，按预设频次进行参数校准（例如调整稳定性惩罚、权重或是否延长试训期），并把校准与变更记录入制度版本控制；9) 风险与应急预案：定义若关键组件（求解器失败、数据缺失、政策临时调整）出现时的回退方案（如启用学生优先 DA 的手动实现、使用简化规则的临时分配、或启动人工仲裁小组），并明确责任分配与沟通渠道；10) 合规、透明与沟通要求：制定对外说明文件模板，说明评分与匹配规则、数据隐私保护措施、结果解释指引与常见问题解答，确保参与导师与学生在申报前能获得完整制度说明。交付物应包含：制度手册（可操作的步骤、规则与时间表）、数学模型与约束清单（可供工程实现的具体线性化表达或 DA 伪代码）、软件实现规范与运行脚本、演练报告（含敏感性测试摘要）、审计日志模板与异议处理流程，以及运行后用于参数更新的反馈表单与统计指标清单。整个子任务应以可复制、可审计、参数可配置为基本准则，确保在不同政策偏好与数据质量情形下能够执行、解释并迭代改进。",
      "criteria": {
        "task_understanding": {
          "core_goal": "将匹配与录取制度进行优化与规范化，形式化鲁棒约束并评估稳定性以落地可审计的双向选择流程",
          "expected_output": "制度手册、可执行约束清单（DA伪代码与ILP线性模型）、参数化配置文件模板、运行脚本与求解器说明、审计日志与异议处理流程、敏感性演练报告摘要与稳定性指标表",
          "key_inputs_constraints": "输入：E_i'、Svec_i、w_k、v_d、gamma、U_t(i)、V_i(t)、导师容量c_t、方向配额、志愿顺序、时间节点；约束：稳定性（无阻塞对或惩罚）、容量与配额、禁配规则、试训期与保留名额规则；前置：子任务1–3已产出可复现数据与参数；合规：可审计、可追溯、隐私保护",
          "modeling_type": "优化+评价+仿真",
          "role_in_pipeline": "作为制度设计与执行落地环节，依赖子任务1的数据预处理与评分、子任务2的效用建模与匹配算法、子任务3的敏感性与稳健性诊断；向后输出可执行流程与参数，支撑正式运行与后评估"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "稳定性与阻塞对识别",
              "description": "准确界定双向选择中的“阻塞对”并说明与延迟接受（DA）或ILP稳定性约束/惩罚项的关系与必要性",
              "score": 30,
              "evaluation_focus": "机制理解",
              "scoring_hint": "高分：明确定义阻塞对并指出DA消除机制与ILP线性化代价；中分：提到阻塞对但未连到实现复杂度；低分：未识别或表述错误"
            },
            {
              "sub_criteria": "鲁棒约束与不确定性来源",
              "description": "点明来自w_k、v_d、gamma与U/V参数的波动会影响录取与匹配，并需通过流程与规则缓释",
              "score": 25,
              "evaluation_focus": "风险识别",
              "scoring_hint": "高分：列出≥3项参数并关联到决策波动；中分：仅笼统提风险；低分：未提不确定性"
            },
            {
              "sub_criteria": "公平与合规边界",
              "description": "识别方向配额、禁配规则、隐私与审计需求对制度的硬约束",
              "score": 25,
              "evaluation_focus": "合规约束",
              "scoring_hint": "高分：同时覆盖配额/禁配/隐私/审计；中分：覆盖其中1–2项；低分：缺失或不当"
            },
            {
              "sub_criteria": "可操作性与时间节点",
              "description": "识别提交偏好、试训、等待名单的关键时点与可执行性要求",
              "score": 20,
              "evaluation_focus": "流程把握",
              "scoring_hint": "高分：清楚列出节点与责任主体；中分：仅粗略描述时间线；低分：无时间安排"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "两阶段流程（透明筛选→双向配对）",
              "description": "用任务术语复述阶段A公开何信息、阶段B如何运行DA或ILP及等待名单",
              "score": 30,
              "evaluation_focus": "流程表达",
              "scoring_hint": "高分：阶段目标/输入输出/公开范围明确；中分：阶段划分但信息不清；低分：未区分阶段"
            },
            {
              "sub_criteria": "参数化政策与可配置性",
              "description": "复述可配置的gamma、v_d、lambda、容量c_t、学生优先/导师优先DA、试训期等",
              "score": 30,
              "evaluation_focus": "参数梳理",
              "scoring_hint": "高分：列出≥5项并说明影响；中分：列出2–4项；低分：缺少或泛化"
            },
            {
              "sub_criteria": "稳定性优先vs效用最大化选择",
              "description": "复述两类机制的目标与取舍，并指出稳定性检测或惩罚的嵌入方式",
              "score": 25,
              "evaluation_focus": "权衡阐释",
              "scoring_hint": "高分：清楚对比与后处理；中分：仅给出名称；低分：混淆或缺失"
            },
            {
              "sub_criteria": "审计与异议流程输出",
              "description": "复述需公布的排序、参数、算法版本与复核触发条件",
              "score": 15,
              "evaluation_focus": "可审计性",
              "scoring_hint": "高分：列举≥3类审计产物与窗口；中分：仅提审计；低分：未提"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "数据可用与可追溯假设",
              "description": "明确E_i'、Svec_i、w_k、v_d、gamma、U/V可由前序任务稳定产出并版本化",
              "score": 25,
              "evaluation_focus": "前提设定",
              "scoring_hint": "高分：指明来源与版本控制；中分：仅称可用；低分：未说明"
            },
            {
              "sub_criteria": "偏好生成与平局断点规则",
              "description": "假设有确定且可公开的平局打破规则（如Q_t或随机种子固定）",
              "score": 25,
              "evaluation_focus": "规则完整",
              "scoring_hint": "高分：指定具体断点与种子；中分：笼统“随机”；低分：未设定"
            },
            {
              "sub_criteria": "公平性与配额假设",
              "description": "明确方向最小/最大数与禁配集是外生并具法律合规性",
              "score": 25,
              "evaluation_focus": "约束前提",
              "scoring_hint": "高分：量化示例或可配置字段；中分：口头假设；低分：忽略"
            },
            {
              "sub_criteria": "试训期可执行性与撤回条件",
              "description": "假设2–4周试训可度量且撤回决策与二轮匹配规则明确",
              "score": 25,
              "evaluation_focus": "可执行假设",
              "scoring_hint": "高分：给出评估指标与时限；中分：仅有时长；低分：无细节"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "DA算法规范与发起方配置",
              "description": "提供确定性DA伪代码，支持学生优先或导师优先，含容量c_t与禁配处理",
              "score": 30,
              "evaluation_focus": "机制设计",
              "scoring_hint": "高分：完整伪代码与边界处理；中分：流程不全；低分：仅口述"
            },
            {
              "sub_criteria": "ILP效用模型与稳定性惩罚",
              "description": "给出x_{i,t}二元指派、容量与配额约束、阻塞对线性化或惩罚项目标",
              "score": 30,
              "evaluation_focus": "数理建模",
              "scoring_hint": "高分：写出目标与关键不等式；中分：仅目标或部分约束；低分：无数学形式"
            },
            {
              "sub_criteria": "鲁棒与公平约束嵌入",
              "description": "形式化方向配额、等待名单、保留名额、禁配、信息公开级别到模型/流程",
              "score": 25,
              "evaluation_focus": "约束设计",
              "scoring_hint": "高分：≥3类约束可执行表达；中分：罗列未落地；低分：缺失"
            },
            {
              "sub_criteria": "参数敏感接口对接",
              "description": "设计对gamma、v_d、lambda、rho等网格/场景切换并产出稳定性指标",
              "score": 15,
              "evaluation_focus": "可配置性",
              "scoring_hint": "高分：明确接口与输出指标；中分：仅说明可调；低分：无接口"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "求解器选择与复杂度说明",
              "description": "区分DA的O(申请数)与ILP在引入稳定性线性化时的规模与对Gurobi/CPLEX需求",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：给出复杂度与求解器备选；中分：仅列求解器；低分：不当选择"
            },
            {
              "sub_criteria": "稳定性检测与阻塞对输出",
              "description": "在ILP或福利最大化后检测阻塞对并输出列表及处理策略",
              "score": 30,
              "evaluation_focus": "后处理",
              "scoring_hint": "高分：提供检测算法与示例输出；中分：仅提检测；低分：未提供"
            },
            {
              "sub_criteria": "等待名单/补录机制实现",
              "description": "实现容量周转与放弃事件处理，确保重运行可复现（固定随机种子）",
              "score": 20,
              "evaluation_focus": "流程执行",
              "scoring_hint": "高分：给出状态转移与时限；中分：文字描述；低分：缺失"
            },
            {
              "sub_criteria": "敏感性演练与基线比较",
              "description": "对学生优先DA与导师优先DA/ILP效用最大化进行效率与稳定性对比",
              "score": 20,
              "evaluation_focus": "实证评估",
              "scoring_hint": "高分：报告效用/阻塞数等指标；中分：概述；低分：无比较"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "配置化与可复现性",
              "description": "使用配置文件管理gamma、v_d、lambda、c_t等，固定随机种子与版本号",
              "score": 30,
              "evaluation_focus": "工程规范",
              "scoring_hint": "高分：可一键复现实验；中分：部分参数硬编码；低分：不可复现"
            },
            {
              "sub_criteria": "日志与审计产物生成",
              "description": "自动导出偏好列表、参数、算法版本、运行时间与哈希到审计日志",
              "score": 25,
              "evaluation_focus": "可审计性",
              "scoring_hint": "高分：结构化日志与签名；中分：文本日志；低分：无日志"
            },
            {
              "sub_criteria": "DA/ILP稳健实现",
              "description": "提供DA确定性实现与ILP建模（CBC/GLPK或Gurobi），含禁配与配额约束",
              "score": 30,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：通过单元测试与边界用例；中分：实现但缺测试；低分：实现不完整"
            },
            {
              "sub_criteria": "敏感性与回退脚本",
              "description": "提供网格搜索与故障回退（启用学生优先DA）脚本",
              "score": 15,
              "evaluation_focus": "健壮性",
              "scoring_hint": "高分：自动切换并记录；中分：手动流程；低分：无回退"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "稳定性与公平性指标报告",
              "description": "报告阻塞对数量、配额达成、方向分布、公平性与容量利用率",
              "score": 30,
              "evaluation_focus": "指标输出",
              "scoring_hint": "高分：表格+阈值判定；中分：零散指标；低分：无量化"
            },
            {
              "sub_criteria": "鲁棒性与敏感性结论",
              "description": "基于参数扫描（如gamma、v_d、lambda）给出稳健区间与风险点",
              "score": 30,
              "evaluation_focus": "稳健评估",
              "scoring_hint": "高分：明确区间与推荐；中分：定性描述；低分：无结论"
            },
            {
              "sub_criteria": "效率与稳定权衡阐释",
              "description": "对比福利最大化与DA在总体效用与稳定性上的差异并解释取舍",
              "score": 25,
              "evaluation_focus": "权衡分析",
              "scoring_hint": "高分：量化差异与理由；中分：粗略比较；低分：无对比"
            },
            {
              "sub_criteria": "异议与复核闭环",
              "description": "展示异议样例处理、二次运行或人工仲裁结果与归档",
              "score": 15,
              "evaluation_focus": "流程验证",
              "scoring_hint": "高分：给出触发条件与再现材料；中分：仅流程图；低分：未体现"
            }
          ]
        }
      }
    }
  }
}