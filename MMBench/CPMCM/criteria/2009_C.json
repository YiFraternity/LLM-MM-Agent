{
  "task_id": "2009_C",
  "problem": "现有多组经过预处理后的融合中心雷达观测数据，数据被包含在Data2.txt文件中，此文件包括6个观测雷达（如果多于6个只考虑前6个），假设雷达位置的经纬度分别为{(122.1, 27.2)  (122.4, 28.6)  (121.5, 27.8)  (121.3, 28.9)  (122.5, 29.9)  (121.8, 29.5)}。分别对应雷达站的编号为7724，7728，2910，2539，2537，2025。地面安放雷达的海拔高度为0.1千米。\n\nData2.txt文件中观测数据的数据结构（在表示经纬度时按度、分、秒，如1231749指123度17分49秒；在表示时间时按时、分、秒，如134500指12时45分0秒）如下：\n\n请完成以下问题：\n\n1. 根据附件中的数据，由雷达编号，传感器编号（附件中都是雷达，因此相同）提取出不同的目标航迹对（时间间隔超过5分钟的可以认为是两个航迹）。\n\n2. 找出各雷达站观测到的有相交时间段的航迹，对观测时间和时间间隔不同的雷达数据进行时间配准，然后抽取表示同一目标的航迹对。\n\n3. 根据附件中的数据，分析6个雷达站雷达的观察精度，以消除相对雷达偏差。\n\n4. 将多部雷达观测到的同一目标的航迹对融合为一条航迹，并给出预测航迹的算法以及预测目标在未来10秒钟内的轨迹。\n\n5. 用导弹拦截时，如果目标飞机发现自己被敌方雷达锁定时会做一定的机动（转向、变速，其变化范围由飞机的性能和飞行状态决定）。为了简化起见，假设拦截导弹是在目标的前方爆炸，其爆炸有效半径为50米，若飞机在拦截导弹爆炸时的轨迹恰好落在该范围内即认为拦截成功。在拦截系统中, 考虑目标的机动，讨论你所提供的算法对目标轨迹预测的有效性（实时性和精度等）。",
  "subtask": {
    "1": {
      "subtask": "子任务1（数据解析、坐标变换与单站航迹分割与初步平滑）的目标是将原始Data2.txt观测记录解码成统一、结构化且可用于后续时序配准与滤波处理的“单雷达航迹段”数据单元：具体应完成（1）输入解析：读取Data2.txt，按字段（雷达站编号、传感器编号、经度、纬度、观测时间、经向速度、纬向速度、目标高度）逐行解析，其中经纬度以度分秒格式（如1231749）转换为十进制度（deg + min/60 + sec/3600），观测时间以时分秒格式（如134500）转换为自选参考时刻的秒数（明确时区/基准并对整个数据集统一）；（2）单位与语义标准化：将高度、速度和位置统一到SI单位：高度/位置转换为米，速度转换为米/秒，明确经向/纬向速度分别对应东、北方向分量或做必要的方向约定；（3）地理到平面坐标变换：以WGS84大地坐标为基准，使用稳定的库（例如 pyproj 或等效地理坐标转换工具）先将经纬高转换为ECEF，再以选定参考点（建议使用雷达网几何中心或指定雷达站）转换为局部东-北-上（ENU）坐标，所有位置以米为单位并记录用于回转换的参考位置与高度（地面海拔0.1 km）；（4）分组与时序整理：按雷达站编号和传感器编号分组，对每组按时间升序排序，剔除或合并重复时间戳并标注异常（例如不单调或缺失）；（5）航迹段分割：在每个雷达组内基于时间间隔阈值将连续观测分割为若干航迹段——严格按照题设阈值将相邻观测间时间差Δt > 300 s判为不同航迹；可选地提供辅助的分割规则（如速度幅值突变超过预设倍数）作为可配置选项；（6）初始滤波与插值能力构建：为每个得到的航迹段初始化并运行一个局部线性卡尔曼滤波器（推荐状态向量 [x,y,z,vx,vy,vz]，采用匀速CV或可配置的匀加速CA模型），使用合理的默认过程噪声（如基于白噪声加速度模型的σ_a）和初始测量协方差（可采用位置σ_pos≈100 m、速度σ_vel≈5 m/s的可配置初值），对该段观测做前向滤波并可选地执行RTS平滑以获得每一测点的平滑状态均值与协方差；该滤波器同时应提供在段内任意时刻的状态预测/插值接口（用于后续时间配准），并对每次预测返回协方差以量化不确定度；（7）输出数据结构与元数据：为每个航迹段输出标准化记录，包括雷达站ID、传感器ID、航迹段ID、起止时间、时序观测点（原始经纬高与转换后的ENU位置）、对应的滤波/平滑状态序列与协方差矩阵、用于任意时刻插值的预测函数句柄或参数、质量标志（如点数、最大时间间隔、存在缺失/异常观测标识）及用于后续处理的单位与参考帧说明；（8）鲁棒性与边界情况处理：明确并实现对异常时间戳、丢点、孤立单点段（点数太少时不做滤波仅保留原始记录）、以及输入坐标转换失败的处理策略与日志记录。实现上推荐使用成熟工具链（pandas用于IO与表格操作，pyproj用于坐标转换，numpy/scipy或filterpy用于卡尔曼滤波与线性代数），并保证所有时间、长度和速度单位在输出中一致、明确记录参考时刻与参考点，以便该子任务产出的航迹段能被下游算法直接调用用于时间配准与关联。",
      "criteria": {
        "task_understanding": {
          "core_goal": "解析并转换Data2.txt观测记录为标准化单雷达航迹段：完成经纬度/时间解析、单位标准化、WGS84→ECEF→ENU坐标转换、按Δt>300s进行航迹分割，并用卡尔曼滤波/RTS平滑初始化航迹以提供插值/预测接口",
          "expected_output": "结构化航迹段表（每段含雷达站ID、传感器ID、航迹段ID、起止时间、原始经纬高、ENU位置序列）、每点滤波/平滑状态序列与协方差、插值/预测接口说明（函数句柄或参数）、质量标志与日志、实现代码与单元测试",
          "key_inputs_constraints": "1) Data2.txt 文本文件：按行含雷达站编号、传感器编号、经度(度分秒)、纬度(度分秒)、观测时间(hms)、经向速度、纬向速度、高度；2) 雷达位置与ID（前6个站，地面海拔0.1 km）；3) 时间/角度格式需统一解析（如1231749表示度分秒）；4) 坐标基准要求WGS84；5) Δt 阈值严格为300 s",
          "modeling_type": "混合（数据解析+坐标转换+拟合/滤波/插值）",
          "role_in_pipeline": "作为多传感器数据融合流程的前置子任务：负责IO解析、单位与语义标准化、坐标转换、单站航迹分割与局部滤波，为后续时间配准、航迹相关与融合提供标准化航迹段和不确定度信息；直接依赖原始Data2.txt与雷达基准信息，后续被时间配准、航迹融合模块调用。",
          "assumptions": "若数据跨日或无明确时区，默认采用数据首条记录所在日期的UTC时区作为参考时刻(可配置)；参考点默认取雷达网几何中心（如题中建议），地面海拔统一为0.1 km；默认状态向量为[x,y,z,vx,vy,vz]，默认测量协方差σ_pos≈100 m、σ_vel≈5 m/s，过程噪声基于白噪声加速度模型并可配置。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "经纬度与时间格式解析识别",
              "description": "识别Data2.txt中度分秒经纬（如1231749）与时分秒时间（如134500）需解析为十进制度和秒数基准；明确处理跨日/缺日与时区问题。",
              "score": 30,
              "evaluation_focus": "解析能力",
              "scoring_hint": "高分：准确识别度分秒与hms格式并实现统一秒数参考（记录时区），有单元测试；中分：能解析多数行但对跨日/时区说明不充分；低分：未将度分秒或hms正确解析为十进制或秒数。"
            },
            {
              "sub_criteria": "单位与语义标准化需求识别",
              "description": "识别并列出需转换的单位：高度/位置到米、速度到m/s；明确经向/纬向速度对应东/北分量或给出方向约定。",
              "score": 25,
              "evaluation_focus": "单位一致性",
              "scoring_hint": "高分：给出完整单位转换表并在输出中统一米与m/s；中分：转换大体正确但未声明经向/纬向方向约定；低分：遗漏速度或高度单位转换。"
            },
            {
              "sub_criteria": "坐标变换需求识别（WGS84→ECEF→ENU）",
              "description": "明确需使用WGS84基准将经纬高转换为ECEF再转成以参考点为原点的ENU（米），并记录参考点与高度。",
              "score": 25,
              "evaluation_focus": "坐标变换",
              "scoring_hint": "高分：明确WGS84/ECEF/ENU流程、记录参考点并指定工具（pyproj）；中分：提出变换但未指明参考点或基准细节；低分：未提出或用不当近似（如简单平面投影）而无误差说明。"
            },
            {
              "sub_criteria": "航迹分割与阈值Δt>300s识别",
              "description": "明确按题设严格将相邻观测间Δt>300 s判为不同航迹，并识别可选辅助规则（速度突变）作为配置项。",
              "score": 20,
              "evaluation_focus": "规则识别",
              "scoring_hint": "高分：严格采用Δt>300s并提供可配置速变规则与阈值说明；中分：采用Δt规则但未提供可配置选项；低分：分割规则不符或未实现Δt>300s。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "将Data2.txt解析为标准化航迹段的复述",
              "description": "复述需将Data2.txt按雷达站ID/传感器分组、时间排序、单位标准化、做WGS84→ENU变换、分割为航迹段并输出标准结构。",
              "score": 40,
              "evaluation_focus": "复述准确性",
              "scoring_hint": "高分：完整复述每步并给出输出字段清单；中分：复述主要步骤但遗漏字段或细节；低分：复述含糊或步骤顺序错误。"
            },
            {
              "sub_criteria": "滤波与插值接口需求复述",
              "description": "复述要为每段初始化局部卡尔曼滤波器（状态[x,y,z,vx,vy,vz]，CV或CA可配置）、提供RTS平滑与任意时刻插值/协方差输出接口。",
              "score": 35,
              "evaluation_focus": "方法复述",
              "scoring_hint": "高分：明确CV/CA选项、σ_a与初始σ_pos≈100m/σ_vel≈5m/s并说明接口输出；中分：指出卡尔曼滤波但参数或接口不全；低分：未提及滤波或插值协方差输出。"
            },
            {
              "sub_criteria": "元数据与鲁棒性复述",
              "description": "复述需输出质量标志（点数、最大Δt、缺失/异常标识）、参考帧信息与日志，并说明孤立单点段处理策略。",
              "score": 25,
              "evaluation_focus": "工程化复述",
              "scoring_hint": "高分：完整列出质量标志与孤立点处理规则并示例；中分：列出部分元数据但无处理策略；低分：无元数据或未说明异常处理。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "参考时刻与时区假设",
              "description": "说明数据解析的参考时刻/时区假设（例如使用UTC或首条记录日期），并说明跨日记录的处理策略。",
              "score": 30,
              "evaluation_focus": "时间假设",
              "scoring_hint": "高分：明确时区/参考时刻并示例转换；中分：给出默认但未说明跨日边界；低分：未声明或矛盾。"
            },
            {
              "sub_criteria": "参考点与高度假设",
              "description": "说明ENU参考点选择（建议雷达网几何中心或指定雷达站）并记录地面海拔0.1 km作为基准高度。",
              "score": 25,
              "evaluation_focus": "坐标假设",
              "scoring_hint": "高分：明确参考点坐标并在输出元数据中记录；中分：建议参考点但未记录实现细节；低分：未给出参考点或海拔基准。"
            },
            {
              "sub_criteria": "滤波器初始噪声与模型假设",
              "description": "给出默认过程噪声模型（白噪声加速度）、σ_a 初值及测量协方差初值（位置σ_pos≈100 m、速度σ_vel≈5 m/s），并允许可配置调整。",
              "score": 25,
              "evaluation_focus": "噪声假设",
              "scoring_hint": "高分：提供数值并解释来源或可配置范围；中分：给出粗略数值但无解释；低分：未给出或不合理。"
            },
            {
              "sub_criteria": "孤立单点段与缺失数据处理假设",
              "description": "说明孤立单点段（点数低于阈值）不做滤波仅保留原始记录、插值策略与日志记录要求。",
              "score": 20,
              "evaluation_focus": "异常假设",
              "scoring_hint": "高分：明确阈值（例如<3点）并记录处理方式；中分：说明但无具体阈值；低分：无处理策略。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "经纬度/时间解析与单位标准化实现",
              "description": "实现度分秒到十进制度、hms到参考秒数、并将高度/位置/速度转换为米与m/s，且声明经向/纬向为东/北分量。",
              "score": 30,
              "evaluation_focus": "解析与标准化",
              "scoring_hint": "高分：解析正确、单位一致且有自动化测试；中分：大多数正确但遗漏方向注释；低分：解析或单位转换错误。"
            },
            {
              "sub_criteria": "WGS84→ECEF→ENU坐标变换建模",
              "description": "采用WGS84基准实现经纬高→ECEF→以参考点为原点的ENU变换，并在元数据记录参考位置/高度与工具库版本。",
              "score": 25,
              "evaluation_focus": "坐标变换",
              "scoring_hint": "高分：使用pyproj或等效库且记录参考点与误差估计；中分：实现变换但用手写近似无误差评估；低分：未实现或结果单位/原点错误。"
            },
            {
              "sub_criteria": "航迹分割模块设计（Δt>300s）",
              "description": "实现基于Δt>300 s的严格分割，并提供可配置的辅助规则（速度突变倍数阈值）与分割后段元数据统计。",
              "score": 25,
              "evaluation_focus": "分割设计",
              "scoring_hint": "高分：严格实现Δt阈值并能输出分割边界与统计；中分：实现Δt但无辅助规则或统计；低分：分割实现不可靠或未记录边界。"
            },
            {
              "sub_criteria": "卡尔曼滤波与状态/测量模型构建",
              "description": "为每航迹段构建局部线性卡尔曼滤波（状态[x,y,z,vx,vy,vz]，可选CV/CA），定义过程噪声σ_a与测量协方差并支持RTS平滑。",
              "score": 20,
              "evaluation_focus": "滤波建模",
              "scoring_hint": "高分：明确模型矩阵、σ_a、初始协方差并支持RTS；中分：给出模型但参数未合理化；低分：滤波模型不完整或无法复现。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "卡尔曼滤波实现与RTS平滑",
              "description": "实现前向卡尔曼滤波并可选执行RTS平滑，输出每测点平滑状态均值与协方差矩阵，处理数值稳定性问题。",
              "score": 30,
              "evaluation_focus": "滤波实现",
              "scoring_hint": "高分：前向滤波与RTS平滑均正确且协方差正定；中分：仅前向滤波或RTS实现有缺陷；低分：滤波结果不收敛或协方差不合理。"
            },
            {
              "sub_criteria": "插值/预测接口与协方差输出",
              "description": "提供段内任意时刻状态预测/插值函数，返回状态均值与协方差以量化不确定度（用于后续时间配准）。",
              "score": 25,
              "evaluation_focus": "接口可用性",
              "scoring_hint": "高分：接口返回状态+协方差且有示例调用；中分：返回状态但无协方差；低分：无插值接口或仅匀速近似。"
            },
            {
              "sub_criteria": "异常时序/缺失点的滤波稳健处理",
              "description": "在缺失观测或不单调时间戳时，滤波器能跳过/重初始化并记录质量标志，孤立段不强制滤波以避免错误估计。",
              "score": 25,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：对缺失/异常做重初始化并记录日志；中分：能检测异常但处理简单；低分：滤波崩溃或未记录异常。"
            },
            {
              "sub_criteria": "数值稳定性与性能",
              "description": "保证线性代数运算稳定（避免协方差负定），对长段/大数据量提供合理运行时间与内存说明。",
              "score": 20,
              "evaluation_focus": "数值/性能",
              "scoring_hint": "高分：无数值错误、运行高效并有复杂度分析；中分：偶发数值警告或性能未评估；低分：频繁数值异常或超时。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "IO解析与字段转换可靠实现",
              "description": "使用稳健方式（如pandas）解析Data2.txt，正确分配雷达站ID、传感器ID、经纬高、时间并实现去重与排序，支持只取前6雷达的逻辑。",
              "score": 30,
              "evaluation_focus": "IO可靠性",
              "scoring_hint": "高分：解析覆盖异常行、提供单元测试并支持前6雷达过滤；中分：解析多数正常行但异常行未覆盖；低分：解析错误或无法排序/去重。"
            },
            {
              "sub_criteria": "库使用与代码工程化（pyproj/pandas/filterpy）",
              "description": "合理使用pyproj进行坐标变换、pandas进行表格处理、numpy/scipy或filterpy实现卡尔曼滤波，并记录依赖版本。",
              "score": 25,
              "evaluation_focus": "工程实践",
              "scoring_hint": "高分：使用推荐库并提供requirements及版本；中分：使用库但无版本锁定；低分：使用自写不可靠工具且无说明。"
            },
            {
              "sub_criteria": "单元测试与示例运行",
              "description": "提供针对经纬度解析、坐标变换、分割与滤波的单元测试与至少一个端到端示例，含输入示例与输出校验。",
              "score": 25,
              "evaluation_focus": "测试覆盖",
              "scoring_hint": "高分：有覆盖关键路径的自动化测试与示例；中分：有示例但无自动化测试；低分：无测试或示例无法复现。"
            },
            {
              "sub_criteria": "日志、错误处理与可配置性",
              "description": "实现异常日志记录、对解析/转换失败的回退策略与参数化配置（时区、参考点、σ参数、分割阈值）。",
              "score": 20,
              "evaluation_focus": "健壮性",
              "scoring_hint": "高分：全面日志和可配置项；中分：基本错误处理但配置项有限；低分：无日志或硬编码参数。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "输出数据结构与元数据完整性",
              "description": "每个航迹段输出包括雷达站ID、传感器ID、航迹段ID、起止时间、原始经纬高、ENU位置、滤波/平滑状态序列与协方差、质量标志与参考帧说明。",
              "score": 35,
              "evaluation_focus": "输出完整性",
              "scoring_hint": "高分：所有字段齐全且可直接被下游调用；中分：字段大致齐全但缺少协方差或参考帧说明；低分：关键字段缺失或格式混乱。"
            },
            {
              "sub_criteria": "滤波结果质量与不确定度说明",
              "description": "报告平滑后位置/速度残差统计、协方差范围，并检查默认σ_pos≈100 m/σ_vel≈5 m/s是否与观测残差一致。",
              "score": 25,
              "evaluation_focus": "不确定度分析",
              "scoring_hint": "高分：提供残差分布、RMSE或实测σ对比并讨论偏差；中分：给出残差但无对比基准；低分：无残差或不确定度分析。"
            },
            {
              "sub_criteria": "插值/预测接口验证与示例",
              "description": "提供段内任意时刻插值/预测的调用示例，验证预测状态与协方差在插值点与观测点的一致性。",
              "score": 20,
              "evaluation_focus": "接口验证",
              "scoring_hint": "高分：示例显示插值误差小且协方差合理；中分：有示例但误差/协方差验证不足；低分：无示例或接口不可用。"
            },
            {
              "sub_criteria": "异常段与孤立点的报告与处理记录",
              "description": "输出质量标志统计（孤立单点段数、最大Δt、异常时间戳数）并记录对这些段的处理策略与影响评估。",
              "score": 20,
              "evaluation_focus": "异常报告",
              "scoring_hint": "高分：完整统计并分析影响；中分：有统计但无影响评估；低分：无统计或未记录处理。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2（时间配准与跨站航迹关联）的目标是：在已由各雷达生成并用本地滤波器封装为“可在任意时刻给出状态预测与协方差”的单站航迹段（含时间序列、预测/插值接口与测量协方差估计）的输入下，自动判定哪些来自不同雷达的航迹段属于同一实际目标并输出明确的关联集合及其置信度。本任务的范围包括（1）检测并量化两条航迹段的时间重叠窗口；（2）在重叠区间对时间不同步的观测点进行精确配时——使用每条航迹段的本地预测器（推荐基于卡尔曼滤波的状态预测而非简单线性插值）在另一航迹的观测时刻生成位置/速度预测及其协方差；（3）在这些共同时间点上构造残差向量并用联合协方差（S = H P_pred H^T + R_meas）计算Mahalanobis距离/对数似然作为相容性度量；（4）对两条航迹在其重叠时刻的相容性做统计汇总（例如计算通过门控的时间点比例、平均/中位Mahalanobis距离或累计似然），并以可配置规则（例如通过门控点比例≥β且平均距离≤阈值，β和阈值为可调参数）判定“候选匹配”；（5）在存在一对多或多对多候选匹配时，首先进行逐对门控以剔除明显不相容对，然后基于构建的代价矩阵（代价值可选取平均Mahalanobis距离或负对数似然）使用全局分配算法（如匈牙利算法或最小成本二分匹配）求解最优一对一匹配；（6）对于复杂或不确定的关联场景提供概率化替代策略：在目标密集或观测不完整时可采用JPDA以产生软关联概率权重，或采用MHT维护多条假设树并通过似然裁剪（保留前K个最有可能假设、按总似然阈值剪枝）输出最终关联；（7）对时间不连续或短期遮挡造成的航迹断裂，按时间顺序尝试用短期外推（限定最大外推时间窗口Δt_max）连接段间可能的连续性并将这些连接纳入上述匹配流程；（8）为每一条最终关联结果生成结构化输出：跨站航迹组ID、组内成员列表（雷达ID与航迹段ID）、各成员间的时间对应表（匹配的时刻对或插值点）、聚合相容性度量（例如平均Mahalanobis、通过门控比例、归一化似然）及单对/全局置信度。实现细节应包括：输入需明确为每条航迹段的预测函数（能返回均值与协方差）、原始测量协方差R或初始估计、可选的初始传感器偏差校正；时间配准优先使用卡尔曼预测以保证协方差信息的可用性；门控阈值由χ^2分布与测量维度确定（可采用高置信水平如0.99–0.999以减少虚警），且应参数化为外部可调；在构建代价矩阵前先应用严格门控以降低计算量；在JPDA/MHT方案中须实现假设生成、似然排序、阈值剪枝与合并策略以控制指数爆炸；并且应输出诊断信息（未配对航迹、低置信度配对、歧义情况）以支持后续人工复核或迭代处理。该子任务的最终产物应能被下游融合模块直接消费：一组经时间配准的跨站航迹组，附带时间对应关系和量化的关联置信度。",
      "criteria": {
        "task_understanding": {
          "core_goal": "基于各单站航迹段的卡尔曼预测接口，进行时间配准并判定/关联来自不同雷达的航迹段（航迹关联），输出关联集合并评估置信度与相容性度量",
          "expected_output": "经时间配准的跨站航迹组列表（组ID、成员雷达ID/航迹段ID）、组内时间对应表（配时点或插值时刻）、每对/每组的相容性量化（平均Mahalanobis、通过门控比例、归一化似然）、全局/局部置信度、诊断日志与可视化报表（CSV/JSON+图）",
          "key_inputs_constraints": "1) 每条单站航迹段需提供：时间序列、预测/插值函数（返回状态均值与协方差）、测量协方差R（矩阵或标量）；2) 统一时间基准与参考帧（ENU，米，秒），最大外推窗口Δt_max与门控置信度β为外部参数；3) 假定测量误差近似高斯且协方差已估计，可选提供初始传感器偏差校正；其他约束：输入轨迹点数≥1，若点数过少需标注并特殊处理。",
          "modeling_type": "分类（航迹关联）+ 预测（基于卡尔曼预测进行时间配准）+ 评价（关联置信度量化）",
          "role_in_pipeline": "作为在单站航迹段（由子任务1经卡尔曼滤波封装）之后、航迹融合之前的关键中间环节；直接依赖前序：Data2.txt解析与单站滤波器接口（必须提供均值与协方差预测）；直接服务后序：跨站航迹融合与轨迹修正／融合模块。",
          "assumptions": "统一时区与参考时刻已在子任务1明确，所有预测器能在任意时间返回相应协方差；测量/过程噪声近似高斯；交互目标密度适中，允许采用匈牙利或JPDA/MHT作为候选策略；Δt_max、门控置信度β由系统设计或验证阶段设定。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别并量化两条航迹段的时间重叠窗口（时间配准）",
              "description": "检验能否准确检测并报告两航迹段的重叠时间区间与重叠长度，作为后续卡尔曼预测配时的基础",
              "score": 40,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：准确列出所有重叠区间，重叠时长误差≤1s；中分：遗漏少量短时重叠或时长误差≤5s；低分：未识别重叠或重叠边界错误>5s。"
            },
            {
              "sub_criteria": "识别用于时间配准的预测接口与所需协方差（卡尔曼预测）",
              "description": "确认每条航迹段预测函数可返回在任意时刻的状态均值与协方差，且被用于跨站时间配准",
              "score": 35,
              "evaluation_focus": "接口要求",
              "scoring_hint": "高分：所有航迹段均提供预测均值与协方差并记录有效时间域；中分：大多数提供但部分缺协方差需估计；低分：仅有均值无协方差或接口不明。"
            },
            {
              "sub_criteria": "识别多对一/一对多关联与不确定性来源（歧义情形）",
              "description": "能否识别并标注一条航迹可能对应多条跨站航迹的歧义情况及其可能原因（重叠短、测量噪声大、Δt超限）",
              "score": 25,
              "evaluation_focus": "问题诊断",
              "scoring_hint": "高分：明确列出歧义对并归因（例如重叠<Δt阈值或协方差大）；中分：识别歧义但未归因；低分：未识别或错误归因。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述时间配准方法（基于卡尔曼预测）与其目的",
              "description": "明确写出使用卡尔曼预测在另一航迹观测时刻生成位置/协方差以实现时间配准的步骤与理由",
              "score": 30,
              "evaluation_focus": "建模说明",
              "scoring_hint": "高分：完整描述用预测均值与协方差代替插值并说明协方差用途；中分：描述预测但未强调协方差；低分：仅说插值或时间对齐，无卡尔曼预测。"
            },
            {
              "sub_criteria": "复述相容性度量（Mahalanobis距离/对数似然与联合协方差S）",
              "description": "准确书写残差计算 r = z1 - z2_pred，联合协方差 S = P_pred + R，并用Mahalanobis或对数似然评估相容性",
              "score": 40,
              "evaluation_focus": "数理表达",
              "scoring_hint": "高分：公式正确、并说明S来源及维度；中分：公式大体正确但细节（如R或P项）有遗漏；低分：使用错误度量或无数学表达。"
            },
            {
              "sub_criteria": "复述全局匹配策略（门控+代价矩阵+匈牙利/JPDA/MHT）",
              "description": "明确将逐对门控用于预筛，然后用匈牙利求解一对一匹配，或在密集场景采用JPDA/MHT软关联的原则",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：明确阐述何时用匈牙利/何时用JPDA/MHT并给出剪枝参数；中分：提及多种方法但未给切换规则；低分：只列出一个方法且未解释适用情形。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "假设测量与预测误差为近似高斯且协方差可用",
              "description": "明确声明并定量化误差分布假设（高斯）、测量协方差R与预测P的可用性和可靠性要求",
              "score": 40,
              "evaluation_focus": "统计假设",
              "scoring_hint": "高分：给出高斯假设并提供验证手段（残差正态检验p值或卡方检验）；中分：声明高斯但未提供验证；低分：无误差模型或与Mahalanobis不兼容的假设。"
            },
            {
              "sub_criteria": "假设最大外推窗口Δt_max与运动模型有效性",
              "description": "给定Δt_max与运动模型（CV或CA）适用范围，并说明如何处理超过Δt_max的外推与置信降级",
              "score": 30,
              "evaluation_focus": "物理约束",
              "scoring_hint": "高分：明确Δt_max数值或选取原则并有置信变换策略；中分：给出Δt_max但无合理性说明；低分：不限制外推或未说明后果。"
            },
            {
              "sub_criteria": "假设传感器偏差与独立性",
              "description": "说明是否假设传感器间无系统性偏差或提供偏差校正方法（可选），并说明观测独立性假设",
              "score": 30,
              "evaluation_focus": "误差来源",
              "scoring_hint": "高分：明确处理偏差（估计/校正）或说明影响并给出替代策略；中分：承认可能偏差但无处理方案；低分：忽视传感器偏差问题。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "使用卡尔曼预测进行时间配准并返回均值/协方差（卡尔曼预测）",
              "description": "实现对任意目标时刻的卡尔曼状态预测与协方差传播，作为跨站配时的核心接口",
              "score": 30,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：预测函数对任意时间返回一致维度的均值与协方差且数值稳定；中分：返回均值正确但协方差近似或边界不稳；低分：无法返回协方差或预测严重偏差。"
            },
            {
              "sub_criteria": "构造残差与联合协方差S并用χ^2门控（Mahalanobis门控）",
              "description": "按 S = P_pred + R 计算Mahalanobis距离并用χ^2阈值（参数化置信水平）进行门控",
              "score": 25,
              "evaluation_focus": "统计门控",
              "scoring_hint": "高分：实现χ^2门控并参数化置信水平（如0.99–0.999），能输出通过门控比例；中分：使用固定阈值但未统计学依据；低分：无门控或阈值任意。"
            },
            {
              "sub_criteria": "构建代价矩阵并采用匈牙利算法完成全局一对一匹配",
              "description": "以平均Mahalanobis或负对数似然为代价构建矩阵，先严格门控再用匈牙利解最优匹配",
              "score": 20,
              "evaluation_focus": "优化分配",
              "scoring_hint": "高分：门控后代价矩阵稀疏化并正确调用匈牙利，输出最优一对一匹配；中分：代价定义合理但未先门控；低分：代价有误或未使用全局分配算法。"
            },
            {
              "sub_criteria": "提供JPDA/MHT作为密集/不确定场景的概率化替代",
              "description": "在目标密集或观测不完整时，提供JPDA软关联或MHT多假设维护并实现假设剪枝策略",
              "score": 25,
              "evaluation_focus": "不确定处理",
              "scoring_hint": "高分：实现JPDA或MHT并有似然排序与阈值剪枝参数；中分：给出算法框架但仅部分实现；低分：未提出概率化方案。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "门控阈值与χ^2置信水平的统计化选择与验证",
              "description": "根据观测维度与所愿虚警率选择χ^2阈值并通过验证数据（或自举）验证误报/漏报率",
              "score": 40,
              "evaluation_focus": "参数调优",
              "scoring_hint": "高分：给出具体置信水平（如0.995）并用历史/模拟数据验证虚警率；中分：给出建议值但无验证；低分：阈值随意或不说明。"
            },
            {
              "sub_criteria": "代价归一化与多时刻汇总统计（平均/中位Mahalanobis与通过门控比例）",
              "description": "定义代价度量的归一化方法并对重叠时刻做汇总统计以作为匹配判据",
              "score": 35,
              "evaluation_focus": "度量汇总",
              "scoring_hint": "高分：提供清晰的归一化与聚合规则并给出阈值β（例如通过门控点比例≥0.6）验证；中分：有汇总但无归一化细节；低分：仅单点比较无时序汇总。"
            },
            {
              "sub_criteria": "复杂场景的计算复杂度控制（MHT剪枝、JPDA近似）",
              "description": "对MHT/JPDA指数增长提出具体剪枝（保留K假设或似然阈值）和近似策略以保证可运行性",
              "score": 25,
              "evaluation_focus": "可扩展性",
              "scoring_hint": "高分：给出K、似然阈值并有复杂度分析；中分：提出剪枝但无参数；低分：无复杂度控制策略。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "实现统一接口：接受预测函数并返回匹配集合（时间对应表）",
              "description": "代码应定义清晰API，输入为航迹段列表（含预测器与R），输出为跨站航迹组与时间对应表（机器可读JSON/CSV）",
              "score": 30,
              "evaluation_focus": "代码接口",
              "scoring_hint": "高分：提供文档化API、示例调用和格式化输出；中分：实现功能但缺示例或文档；低分：接口混乱或不可复现。"
            },
            {
              "sub_criteria": "实现数值稳定与协方差处理（S矩阵奇异/正定性处理）",
              "description": "实现对联合协方差S的数值稳健处理（如加小正则、奇异值处理、重正定化）以保证Mahalanobis计算稳定",
              "score": 25,
              "evaluation_focus": "数值可靠性",
              "scoring_hint": "高分：实现多种稳定化策略并测试极端协方差情形；中分：实现单一稳定化方法；低分：没有数值稳定处理导致NaN或崩溃。"
            },
            {
              "sub_criteria": "实现匈牙利/JPDA/MHT并有单元测试与性能测度",
              "description": "提供匈牙利求解、可选JPDA/MHT实现、并包含单元测试与基本性能/复杂度测度（运行时间、内存）",
              "score": 25,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：三者至少匈牙利与一种概率方法实现并带测试；中分：仅匈牙利实现且有基本测试；低分：无测试或算法错误。"
            },
            {
              "sub_criteria": "提供诊断日志与异常处理（未配对航迹、低置信度标注）",
              "description": "代码应记录未配对航迹、低置信度配对与歧义场景，便于人工复核或迭代",
              "score": 20,
              "evaluation_focus": "鲁棒性/可维护",
              "scoring_hint": "高分：详尽日志且可配置冗余水平；中分：有基本日志但信息有限；低分：无或不易解析的日志。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "提供量化关联质量指标（平均Mahalanobis、通过门控比例、归一化似然）",
              "description": "输出并解释每组的平均/中位Mahalanobis、通过门控点比例和归一化似然值以量化置信度",
              "score": 30,
              "evaluation_focus": "结果评价",
              "scoring_hint": "高分：为每组提供数值并解释阈值含义（例：平均Mahalanobis≤χ^2_p）；中分：提供数值但无解释；低分：无量化指标。"
            },
            {
              "sub_criteria": "关联置信度校准与误率估计（虚警/漏警估计）",
              "description": "通过历史数据或蒙特卡洛模拟估计关联的虚警率与漏报率，并对置信度做校准",
              "score": 25,
              "evaluation_focus": "统计验证",
              "scoring_hint": "高分：提供ROC/PR曲线或混淆矩阵并给出阈值选择建议；中分：给出误率估计但无曲线；低分：无误率估计。"
            },
            {
              "sub_criteria": "可视化与诊断报告（匹配时间对示意图与未配对航迹列表）",
              "description": "生成可视化（时间-位置对应图、残差时间序列、未配对/低置信案例清单）以支持人工复核",
              "score": 25,
              "evaluation_focus": "可解释性",
              "scoring_hint": "高分：包含多种易读图表并能导出低置信案例；中分：仅提供基本图表；低分：无可视化或图表不可读。"
            },
            {
              "sub_criteria": "灵敏度分析与参数建议（对Δt_max和门控β敏感性）",
              "description": "分析主要参数（Δt_max、门控置信度β、过程噪声）对关联结果的影响并给出推荐设定区间",
              "score": 20,
              "evaluation_focus": "稳健性分析",
              "scoring_hint": "高分：提供参数扫描结果和推荐区间；中分：讨论敏感性但无完整扫描；低分：忽视参数敏感性。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3（雷达系统偏差与观测精度估计及航迹融合与10秒预测）的目标是：在已完成航迹关联并将来自不同雷达、对应于同一目标的观测按时间序列集合化的前提下，精确估计每个雷达的系统偏差与测量协方差，并在此基础上实施多传感器融合以获得目标的最优状态序列及其不确定度，最后给出未来10秒内的状态预测与协方差。为明确范围，本任务的输入应为：经过坐标统一（局部ENU坐标）和时间配准的观测集合 {z^i_k, t_k}（i 为雷达索引，k 为观测索引），每条观测包含测量向量（位置±速度±高度）与对应时间戳，雷达几何位置已知，且已提供初始的过程噪声 Q、测量维度的观测矩阵 H 以及初始测量协方差猜测 R^i_0；不负责观测的原始经纬解析或航迹分割。方法上先给出两条互补实现路径以供选择或并行验证：一是批量联合平差（MAP/最小二乘 + EM 迭代）——建立全时域的代价函数 J({x_k},{b^i}) = Σ_iΣ_k (z^i_k - H x_{t_k} - b^i)^T (R^i)^{-1} (z^i_k - H x_{t_k} - b^i) + Σ_k (x_k - F x_{k-1})^T Q^{-1} (x_k - F x_{k-1}) + 正则项，用稀疏Gauss–Newton或带先验的线性方程求解轨迹状态 {x_k} 与常数偏差向量 {b^i} 的最优解；在此基础上采用交替估计（EM）步骤更新 R^i：給定当前{x_k,b^i}计算残差样本协方差并用加权/稳健估计更新 R^i，再固定 R^i 求解状态，迭代直至收敛；该方法优点是能同时输出偏差与轨迹的联合协方差矩阵（通过信息矩阵逆或增量卡尔曼平滑），适合批处理与精确校准。二是在线增广状态滤波（实时场景优先）——对单目标构造增广状态向量 X_k = [x_k; b^1; ...; b^M]，令 x_k 以线性或弱非线性动力学演化（例如CV/CA），各雷达偏差 b^i 建模为常数或随机游走（b^i_{k+1}=b^i_k+η^i_k，η^i~N(0,Q_b^i)），观测模型为 z^i_k = H x_{t_k} + b^i + v^i_k；针对线性情形用标准卡尔曼滤波器/平滑，非线性情形用扩展卡尔曼或无迹卡尔曼（EKF/UKF）实现状态与偏差的联合估计，滤波器在每次接收任何雷达观测时即刻更新并输出当前状态均值与协方差。无论采用批量还是在线方案，偏差估计的数值解有解析简化式可用于初始化：在固定轨迹 {x_k} 时，b^i = (Σ_k (R^i)^{-1})^{-1} Σ_k (R^i)^{-1}(z^i_k - H x_{t_k})，可作为迭代初值；测量协方差 R^i 的估计建议采用残差样本协方差的稳健/指数加权更新以兼顾时变性并防止离群点干扰。完成偏差校正后，在融合阶段推荐以集中式滤波为主：用修正后的观测或在增广滤波内直接融合多雷达观测以得到每一时间点的融合估计 μ_t 与协方差 P_t；为提高对目标机动性的短时响应，可在滤波器框架中采用交互多模型（IMM）——并行运行若干运动模型（如CV、CA、CT），按模型似然更新模型概率并按加权法给出联合 μ_t,P_t。10秒预测通过状态转移矩阵的递推实现：μ_{t+τ}=F(τ) μ_t，P_{t+τ}=F(τ) P_t F(τ)^T + ∫_0^τ F(s) Q F(s)^T ds（或用IMM各模型加权的形式），并输出一系列 τ∈{Δt, …,10 s} 的 μ及P以刻画位置与速度的不确定性。实现细节要求包含：收敛/终止准则（如参数更新相对改变量低于阈值或最大迭代次数）、正则化以防病态信息矩阵（对偏差加入先验P_{b0}）、异常观测处理（Huber损失或残差门控）及数值线性代数工具（稀疏矩阵求解器、Gauss–Newton/Levenberg–Marquardt、或标准卡尔曼/EKF/UKF 库）；最终输出应明确：每个雷达的偏差估计 b^i 及其协方差、每个雷达的测量协方差 R^i、修正后的融合轨迹时间序列 μ_t,P_t 以及未来10秒内的预测序列 μ_{t+τ},P_{t+τ}（并附不确定度表示），以便后续决策或拦截概率计算模块直接使用。",
      "criteria": {
        "task_understanding": {
          "core_goal": "估计各雷达系统偏差与测量协方差、用估计结果对跨站观测做多传感器融合获得最优轨迹并给出10秒内的状态预测与不确定度",
          "expected_output": "每个雷达偏差估计 b^i 及其协方差、每个雷达测量协方差 R^i、修正后的融合轨迹时间序列 μ_t 与协方差 P_t、未来 10s 的预测序列 μ_{t+τ},P_{t+τ}（含不确定度）、实现代码与运行日志",
          "key_inputs_constraints": "输入1：配准后的观测集合 {z^i_k, t_k}（数值矩阵，ENU米，时间秒）；输入2：雷达数 M、雷达几何位置（ENU参考点）；输入3：初始过程噪声 Q、观测矩阵 H、初始测量协方差猜测 R^i_0；必要前置条件：观测已做时间配准与坐标统一；关键约束：偏差 b^i 假定为常向量或随机游走，预测窗口为 10s。",
          "modeling_type": "拟合+预测+优化",
          "role_in_pipeline": "作为跨站航迹关联后的校正与融合模块，依赖子任务1/2提供的时间配准与关联结果（输入为已配准的 {z^i_k,t_k}）；为后续拦截决策与轨迹预测模块提供校正后的轨迹与不确定度。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别输入 {z^i_k,t_k} 与 ENU 单位要求",
              "description": "是否准确识别并说明输入数据结构 {z^i_k, t_k}、单位（ENU米、秒）与先验 Q、H、R^i_0 的角色和必要性。",
              "score": 40,
              "evaluation_focus": "数据理解",
              "scoring_hint": "高分：明确列出每个输入矩阵维度与单位并验证时间/坐标配准；中分：列出大部分输入但单位或维度描述含糊；低分：未明确 {z^i_k,t_k} 或单位不一致。"
            },
            {
              "sub_criteria": "识别估计目标：偏差 b^i 与测量协方差 R^i",
              "description": "是否明确将任务核心表述为对各雷达偏差 b^i 和测量协方差 R^i 的估计，并说明其与轨迹融合的耦合关系。",
              "score": 40,
              "evaluation_focus": "目标识别",
              "scoring_hint": "高分：明确写出要同时估计 b^i、R^i 与轨迹，并给出数学关系；中分：口头说明但缺少耦合公式；低分：只提及轨迹融合未提及偏差或 R^i。"
            },
            {
              "sub_criteria": "识别实现路径：批量联合平差与增广状态滤波",
              "description": "是否识别并比较两条可选路线（批量 MAP/EM 与在线增广状态滤波/UKF/EKF）及其适用性（批处理 vs 实时）。",
              "score": 20,
              "evaluation_focus": "方法选择",
              "scoring_hint": "高分：给出优缺点对比并指明适用场景；中分：描述两种方法但无适用性比较；低分：仅给出一种方法或混淆适用场景。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述“估计偏差 b^i 并校正观测”任务",
              "description": "能否用数学语句或等式复述“估计 b^i 并校正观测 z^i_k←z^i_k - b^i”的目标与评价指标（如残差统计）",
              "score": 40,
              "evaluation_focus": "数理表达",
              "scoring_hint": "高分：给出明确代价函数或估计式并说明误差度量；中分：文字正确但缺少具体公式；低分：复述含糊或错误。"
            },
            {
              "sub_criteria": "复述 R^i 的估计与稳健更新策略",
              "description": "是否说明用残差样本协方差、稳健统计或指数加权方式更新 R^i 并给出更新准则。",
              "score": 30,
              "evaluation_focus": "估计策略",
              "scoring_hint": "高分：给出具体更新公式（例如 EWMA 或带 Huber 的样本协方差）与参数；中分：描述思想无公式；低分：未说明或与任务无关。"
            },
            {
              "sub_criteria": "复述融合与10秒预测输出形式",
              "description": "是否清晰复述最终输出：修正后融合轨迹 μ_t,P_t 以及 τ∈(0,10s) 的预测 μ_{t+τ},P_{t+τ} 并说明输出频率和格式。",
              "score": 30,
              "evaluation_focus": "输出定义",
              "scoring_hint": "高分：指定时间间隔、数组/文件格式与协方差表示；中分：只描述内容不指格式；低分：未明确预测输出或不含不确定度。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "动力学模型假设（CV/CA/IMM）",
              "description": "是否明确 x_k 的动力学假设（例如 CV 或 CA）并说明用 IMM 时各模型及模型转移概率。",
              "score": 30,
              "evaluation_focus": "模型假设",
              "scoring_hint": "高分：给出状态维度、F 矩阵形式及模型概率更新规则；中分：列出模型名但未给矩阵或参数；低分：未说明动力学或不符实际。"
            },
            {
              "sub_criteria": "偏差 b^i 的先验/演化假设",
              "description": "是否对偏差 b^i 设定常数或随机游走模型并给出先验协方差 P_{b0} 或过程噪声 Q_b^i。",
              "score": 30,
              "evaluation_focus": "偏差建模",
              "scoring_hint": "高分：明确 b^i 为常量或 RW 并给出数值先验；中分：说明类型但无数值；低分：忽视偏差动态或矛盾。"
            },
            {
              "sub_criteria": "测量噪声与异常观测处理假设",
              "description": "是否假定测量噪声高斯或给出稳健替代（Huber），并设定异常观测处理（门控/剔除）策略。",
              "score": 20,
              "evaluation_focus": "噪声假设",
              "scoring_hint": "高分：提供门控阈值（χ2 水平）与异常处理流程；中分：描述思路无阈值；低分：未处理异常观测。"
            },
            {
              "sub_criteria": "先验与正则化假设",
              "description": "是否对病态信息矩阵给出正则化/先验（例如对 b^i 加强先验 P_{b0}）以保证解的可解性。",
              "score": 20,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：明确正则化项与系数并说明选取依据；中分：提出正则化但无参数；低分：无正则化方案。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "构建批量联合平差（MAP/最小二乘+EM）代价函数",
              "description": "是否按照 J({x_k},{b^i}) 给出完整离散化代价、观测项与动力学项并说明稀疏求解策略（Gauss–Newton/LM）。",
              "score": 30,
              "evaluation_focus": "代价建模",
              "scoring_hint": "高分：给出矩阵形式、稀疏结构和求解器选择；中分：给出代价描述但无稀疏求解细节；低分：代价函数不完整或错误。"
            },
            {
              "sub_criteria": "构建增广状态滤波（在线）模型 X_k=[x_k;b^1..b^M]",
              "description": "是否给出增广状态转移、观测模型 z^i_k=H x_k + b^i，以及使用卡尔曼/EKF/UKF 的更新方程和过程噪声配置。",
              "score": 30,
              "evaluation_focus": "滤波建模",
              "scoring_hint": "高分：写出增广状态维度、F_aug、Q_aug 和更新步骤；中分：描述思想无矩阵；低分：模型不一致或不可实现。"
            },
            {
              "sub_criteria": "测量协方差 R^i 的估计与稳健化构建",
              "description": "是否定义基于残差样本协方差的 R^i 更新公式、稳健估计（Huber/截断）或 EWMA 的参数。",
              "score": 20,
              "evaluation_focus": "协方差估计",
              "scoring_hint": "高分：给出具体更新公式与异常点阈值；中分：有想法无公式；低分：不考虑 R^i 更新或不稳健。"
            },
            {
              "sub_criteria": "10秒预测与不确定度传播模型构建",
              "description": "是否给出 μ_{t+τ}=F(τ)μ_t 与 P 传播公式，或 IMM 下按模型加权的预测表达式与 Q 积分近似。",
              "score": 20,
              "evaluation_focus": "预测建模",
              "scoring_hint": "高分：给出连续/离散传播与协方差积分或闭式近似；中分：只给 μ 递推；低分：忽视不确定度传播。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "实现批量求解器（稀疏 Gauss–Newton / LM）并说明收敛准则",
              "description": "是否实现或设计稀疏线性代数求解流程、迭代停止条件（如参数改变量阈值或最大迭代次数）。",
              "score": 30,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：提供稀疏矩阵求解器选择与收敛阈值并有复杂度估计；中分：实现基本求解器无稀疏优化；低分：无收敛准则或易发散。"
            },
            {
              "sub_criteria": "EM 迭代与 R^i 更新的数值稳定与正则化",
              "description": "是否在 EM 步中采用稳健协方差估计、正则化及收敛判据并能防止病态信息矩阵。",
              "score": 25,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：实现稳健估计（截断、Huber）和 P_b0 正则化；中分：有简单平滑或阈值；低分：无稳健措施导致不收敛。"
            },
            {
              "sub_criteria": "在线增广滤波的可实时性与数值实现",
              "description": "是否实现卡尔曼/EKF/UKF 的增广滤波并分析每步计算量与实时处理能力（能否在观测速率下运行）。",
              "score": 25,
              "evaluation_focus": "实时性",
              "scoring_hint": "高分：给出每步复杂度、时间预算并通过测试；中分：描述时间复杂度但无验证；低分：未评估实时性或复杂度过高。"
            },
            {
              "sub_criteria": "预测协方差的精确计算与近似误差控制",
              "description": "是否准确实现 P_{t+τ} 传播（闭式或数值积分）并估计近似误差影响预测不确定度。",
              "score": 20,
              "evaluation_focus": "不确定度",
              "scoring_hint": "高分：给出积分式或高阶近似并量化误差；中分：使用简单近似无误差估计；低分：忽略协方差传播或错误实现。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "提供可调用的预测/插值接口与数据输出（含 μ,P）",
              "description": "是否交付函数/类能在任意时刻返回 μ 与 P，输出格式可供下游直接消费（含元数据与参考帧说明）。",
              "score": 25,
              "evaluation_focus": "接口设计",
              "scoring_hint": "高分：接口文档齐全，返回 μ,P,时间戳,参考帧；中分：接口可用但文档不足；低分：无通用接口或输出难以解析。"
            },
            {
              "sub_criteria": "采用成熟库与数值稳定实现（稀疏解算、pyproj、filterpy 等）",
              "description": "是否合理使用并声明依赖（如 scipy/sparse, pyproj, filterpy）以保证数值稳定性与可移植性。",
              "score": 30,
              "evaluation_focus": "代码可靠",
              "scoring_hint": "高分：依赖清单、环境说明与单元测试；中分：用库但无环境说明；低分：手写低效数值代码或重复实现成熟算子。"
            },
            {
              "sub_criteria": "日志、异常处理与鲁棒性（包括异常观测处理）",
              "description": "是否实现输入校验、异常观测记录、降权/剔除策略及错误日志以便回溯和调试。",
              "score": 25,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：完整日志、异常统计与恢复策略；中分：部分异常处理；低分：无异常处理或崩溃风险高。"
            },
            {
              "sub_criteria": "性能指标与可复现实验（包括运行时间与内存）",
              "description": "是否提供运行时间、内存占用和在典型数据集上的可复现实验步骤与结果。",
              "score": 20,
              "evaluation_focus": "性能",
              "scoring_hint": "高分：有测速脚本与结果并能在规定时间内完成；中分：有性能估计但无测试；低分：无性能说明或超时。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "偏差 b^i 与 R^i 的统计检验与可解释性",
              "description": "是否用残差分布检验（例如 χ2 检验）、置信区间及协方差矩阵解释各雷达偏差与测量精度。",
              "score": 25,
              "evaluation_focus": "统计验证",
              "scoring_hint": "高分：提供 χ2/p 值、置信区间并解释物理含义；中分：给出样本统计量无检验；低分：仅列数值无分析。"
            },
            {
              "sub_criteria": "融合轨迹 μ_t 与残差时间序列分析",
              "description": "是否展示融合前后残差/误差指标（RMSE、归一化残差）并分析在关键时间段的改进效果。",
              "score": 25,
              "evaluation_focus": "效果评估",
              "scoring_hint": "高分：提供数值对比表、图和改进比例；中分：仅给总体误差指标；低分：无融合效果量化。"
            },
            {
              "sub_criteria": "10秒预测精度与不确定度评估",
              "description": "是否检验 μ_{t+τ} 的预测误差与置信椭圆覆盖率（例如预测误差落在 95% 椭圆的比率），并报告随 τ 增长的误差曲线。",
              "score": 25,
              "evaluation_focus": "预测评估",
              "scoring_hint": "高分：给出覆盖率与误差随时间曲线（例如 95% 覆盖率≥0.9）；中分：提供误差曲线无覆盖率；低分：仅给位置点预测无不确定度评估。"
            },
            {
              "sub_criteria": "方法稳健性与灵敏度分析（对 Q,R 和偏差假设）",
              "description": "是否进行参数敏感性分析（Q,Q_b,R^i_0、偏差假设），并说明结果对拦截决策的影响（例如置信度门限下的拦截率变化）。",
              "score": 25,
              "evaluation_focus": "敏感性",
              "scoring_hint": "高分：提供参数扫描结果并量化对关键指标（拦截成功率/预测覆盖率）的影响；中分：定性敏感性讨论；低分：无敏感性分析。"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（拦截成功概率评估、机动性影响分析、实时性与鲁棒性保障及验证策略）旨在从给定时刻的目标状态估计与不确定度出发，量化在爆炸半径Re=50 m条件下拦截成功的概率、评估目标在被锁定后机动对预测有效性的影响，并提出满足实时性与鲁棒性要求的算法与实现规范：输入必须明确为每个待评估目标在拦截时刻T的预测位置-速度分布（二维水平面均值μ_T_xy和协方差P_T_xy，或若可用则为整个未来0–10 s的时间序列μ_{T+τ},P_{T+τ}），拦截弹爆炸时刻与位置估计（确定或带协方差的随机变量c_T, P_c），以及系统约束参数（可用计算时间预算、允许的近似误差、在线测量更新率、目标最大机动能力如最大横向加速度a_max与速度变化范围）；任务输出包括拦截成功概率P_success（带置信区间）、对机动不确定性的敏感性报告（例如在若干机动假设下的P_success变化）、实时算法选择策略与资源估计、以及若干可执行的自适应机制与验证步骤。方法步骤为： (1) 若目标预测在拦截时刻可近似为二维高斯，首先合并目标与拦截中心的不确定度（若c_T有不确定度，则令Δ = X - c_T服从高斯N(μ_T_xy - c_T, P_T_xy + P_c)），通过坐标旋转将协方差对角化并使用数值积分或解析近似（各向同性时可用非中心χ^2/Marcum-Q函数；一般情形用在主轴坐标下的一维积分或Gauss–Hermite积分）计算P(||Δ|| ≤ Re)；(2) 若后验显著非高斯或多峰（例如因多模型/机动假设），使用蒙特卡洛或重要性采样估计概率，推荐样本数根据实时预算选择：快速估计用N≈1e3样本，精确估计用N≈1e4–1e5，并可用方差缩减（控制变量、重要性重采样）降低计算量；(3) 为评估机动影响，构建若干代表性机动情形（无机动、匀加速转向、突变转向、随机机动），对每种情形用两种方法处理：IMM（并行CV/CA/CT模型）或粒子滤波（采样机动轨迹并传播）得到T时刻预测分布，随后按步骤(1)-(2)计算对应P_success，得出敏感性曲线与最差/平均情形；(4) 为保证实时性提出分层实施策略：在严格实时预算下优先采用闭式或低样本MC近似并以阈值决策（例如当快速估计P_success > p_high直接命令拦截、当P_success < p_low放弃），在有更多时间或高不确定性时切换到更精确的MC或粒子滤波；并建议利用并行化/GPU对粒子与样本并行化以满足1 s或更短的响应要求；(5) 在线鲁棒机制包括基于创新序列的残差监控（若观测创新超出阈值则按比例增大过程噪声Q或切换到高机动模型）、动态调整样本数（不确定度大时增样）、以及在模型集合中加入“极端机动”假设以评估保守下限；(6) 输出格式应包含P_success及其95%置信区间、对各机动情形的P_success列、计算时间与样本数、敏感性摘要（对a_max等参数的弹性系数）、以及基于实时预算的行动建议（例如是否发起拦截或继续观测）；(7) 最后规定简单的验证流程用于算法部署前检验：用合成蒙特卡洛场景（包含多种机动档位、测量噪声与拦截中心误差）评估估计偏差、置信区间覆盖率与计算延迟，并据此调整样本策略与决策阈值。该子任务不涉及轨迹融合或观测校正的实现细节，仅基于提供的预测分布与系统约束给出拦截概率的计算、机动性敏感性分析、实时实现策略与验证规范。",
      "criteria": {
        "task_understanding": {
          "core_goal": "基于给定的目标预测分布与拦截中心不确定度，计算并评估拦截成功概率（P_success），并对目标机动性对预测有效性进行敏感性分析与实时/鲁棒策略评估。",
          "expected_output": "数值：拦截成功概率P_success及95%置信区间；表格/曲线：若干机动情形下的P_success敏感性曲线与汇总表；决策报表：基于实时预算的拦截建议与资源估计；算法模块说明与运行性能记录（样本数、计算时间）。",
          "key_inputs_constraints": "1) 目标预测分布：二维水平面均值μ_T_xy（向量）与协方差P_T_xy（2x2矩阵），或未来序列{μ_{T+τ},P_{T+τ}}；2) 拦截中心估计c_T与协方差P_c（若确定则P_c=0）；3) 系统约束：计算时间预算（秒）、允许近似误差、在线更新率、目标最大机动能力a_max及速度范围；4) 可选：多模型/粒子输出或仅高斯近似；5) 必要前置条件：来自子任务3的时间配准与融合后的预测分布。",
          "modeling_type": "预测+评价+仿真（蒙特卡洛/重要性采样）",
          "role_in_pipeline": "作为融合模块（子任务3）之后、决策执行之前的评价与决策模块：消费已融合的目标预测分布并输出P_success、机动敏感性与拦截建议；直接依赖：子任务3（融合与10秒预测）、子任务2（航迹关联）；后续被拦截决策/武器分配模块使用。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "识别拦截成功概率(P_success)为核心评价指标",
              "description": "检验是否明确把‘拦截成功概率P_success’作为主要量化目标并要求置信区间输出。",
              "score": 25,
              "evaluation_focus": "目标量化",
              "scoring_hint": "高分：明确P_success并要求95%置信区间；中分：仅给P_success无置信区间；低分：未明确P_success或混淆成其他指标。"
            },
            {
              "sub_criteria": "识别输入的目标预测分布(μ_T_xy,P_T_xy)与拦截中心(c_T,P_c)",
              "description": "检查是否识别并区分目标预测均值/协方差与拦截中心的不确定度并计划合并二者误差。",
              "score": 25,
              "evaluation_focus": "输入完整性",
              "scoring_hint": "高分：明确合并协方差P_T_xy+P_c并用以计算距离分布；中分：提及但未给出合并公式；低分：忽略P_c或误用。"
            },
            {
              "sub_criteria": "识别机动性与实时性约束对算法选择的影响",
              "description": "需辨识目标最大机动a_max、计算时间预算与在线更新率如何限制方法（解析、MC或粒子滤波）。",
              "score": 25,
              "evaluation_focus": "约束感知",
              "scoring_hint": "高分：给出具体时间门限（如1s）并据此选取N≈1e3/1e4样本策略；中分：提到但无数值；低分：忽视实时性影响。"
            },
            {
              "sub_criteria": "识别非高斯/多峰情形需要蒙特卡洛或重要性采样",
              "description": "判别何时无法用高斯解析近似（多模型/粒子滤波输出）并提出采样策略。",
              "score": 25,
              "evaluation_focus": "方法适用性",
              "scoring_hint": "高分：给出判别条件（如多模型概率分散或协方差特征值比>阈值）并建议样本规模；中分：笼统建议MC；低分：误用高斯近似于明显多峰分布。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述需要输出P_success及其置信区间",
              "description": "检查复述是否明确输出拦截成功概率与置信区间（例如95%）并用于决策阈值。",
              "score": 40,
              "evaluation_focus": "目标重述",
              "scoring_hint": "高分：明确95%置信区间并说明计算方法；中分：仅提及置信区间但无置信水平；低分：未提及置信区间。"
            },
            {
              "sub_criteria": "复述对机动性敏感性分析要求",
              "description": "要求在若干代表性机动情形下（无机动、匀加速转向、突变、随机机动）给出P_success变化曲线或表格。",
              "score": 30,
              "evaluation_focus": "范围复述",
              "scoring_hint": "高分：列举并描述≥3种机动情形并说明计算流程；中分：列出情形但无计算细节；低分：未列出或情形不具代表性。"
            },
            {
              "sub_criteria": "复述实时分层策略与决策阈值(p_high/p_low)",
              "description": "要求描述分层实施：快速估计阈值决策与更精确MC切换逻辑（例如P>p_high直接拦截）。",
              "score": 30,
              "evaluation_focus": "决策逻辑",
              "scoring_hint": "高分：给出p_high/p_low并说明切换条件与时间预算；中分：提出分层策略无具体阈值；低分：无分层或逻辑矛盾。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "对高斯近似的适用性假设",
              "description": "说明在何种情形下将目标预测分布近似为二维高斯并给出判定标准（如单峰、协方差特征值比）。",
              "score": 25,
              "evaluation_focus": "近似假设",
              "scoring_hint": "高分：给出量化判据并说明备用MC方案；中分：仅声明高斯近似；低分：无判据或错误适用。"
            },
            {
              "sub_criteria": "对机动模型族的假设（IMM或粒子滤波）",
              "description": "明确假设可用的机动模型集合（CV/CA/CT/极端机动）并说明其参数边界（a_max等）。",
              "score": 25,
              "evaluation_focus": "模型假设",
              "scoring_hint": "高分：列出模型与参数边界并说明选取理由；中分：列模型无参数；低分：未考虑机动模型或参数不合理。"
            },
            {
              "sub_criteria": "对拦截弹位置不确定度的处理假设",
              "description": "说明是否将拦截中心c_T视为确定值或带协方差P_c，并给出合并协方差的公式Δ~N(μ_T_xy-c_T,P_T_xy+P_c)。",
              "score": 25,
              "evaluation_focus": "误差合并",
              "scoring_hint": "高分：明确合并公式并处理P_c=0情形；中分：提及但无公式；低分：忽略或错误合并。"
            },
            {
              "sub_criteria": "对实时性与计算预算的假设",
              "description": "声明系统可接受的最大计算延迟（例如1s）及相应样本数策略（N≈1e3快速估计，N≥1e4精确估计）。",
              "score": 25,
              "evaluation_focus": "资源假设",
              "scoring_hint": "高分：给出明确延迟阈值与样本策略；中分：给出模糊预算；低分：未考虑或不切实际。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "构建P_success解析与数值一体化流程",
              "description": "在高斯情形给出基于Δ分布的解析或主轴数值积分流程（如Gauss–Hermite或主轴坐标下1D积分）。",
              "score": 25,
              "evaluation_focus": "解析建模",
              "scoring_hint": "高分：提供完整解析/数值算法并给出误差界；中分：仅给出方法名无细节；低分：无可执行算法。"
            },
            {
              "sub_criteria": "构建蒙特卡洛/重要性采样方案用于非高斯情形",
              "description": "描述MC采样/重要性分布选择、样本数N建议（N≈1e3/1e4–1e5）及方差缩减手段（控制变量/重采样）。",
              "score": 25,
              "evaluation_focus": "仿真设计",
              "scoring_hint": "高分：明确重要性分布与方差缩减并给出样本数策略；中分：提MC但无重要性说明；低分：MC设计不足或样本数不合理。"
            },
            {
              "sub_criteria": "机动敏感性建模（IMM/粒子滤波情形）",
              "description": "构建用IMM或PF生成T时刻预测分布的流程，并说明如何从模型集合得到混合分布用于P_success计算。",
              "score": 25,
              "evaluation_focus": "机动建模",
              "scoring_hint": "高分：提供IMM/ PF 结构与模型概率更新法；中分：仅提及方法名；低分：无法说明如何得到混合分布。"
            },
            {
              "sub_criteria": "实时分层决策模型与阈值策略构建",
              "description": "设计快速估计/精确估计的切换准则（基于不确定度或P_success临界值p_high/p_low）并给出并行化实现建议。",
              "score": 25,
              "evaluation_focus": "决策建模",
              "scoring_hint": "高分：给出p_high/p_low及并行化或GPU策略；中分：提出切换逻辑无资源估计；低分：无切换策略或不可行。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "精确计算P_success的数值实现",
              "description": "检查解析（对称/各向同性）或主轴数值积分与误差控制，或用Gauss–Hermite展开求解P(||Δ||≤Re)。",
              "score": 25,
              "evaluation_focus": "数值准确性",
              "scoring_hint": "高分：实现数值积分并给出误差界（例如误差<1e-3）；中分：实现但无误差分析；低分：数值不稳定或无实现。"
            },
            {
              "sub_criteria": "蒙特卡洛/重要性采样的方差控制与样本效率",
              "description": "评估是否采用重要性采样、控制变量或自适应重采样以提高样本效率并给出样本数与置信区间估计。",
              "score": 25,
              "evaluation_focus": "采样效率",
              "scoring_hint": "High: 使用重要性采样/控制变量且置信区间收敛；Mid: 普通MC且给出置信区间；Low: 无方差控制或置信区间未报告。"
            },
            {
              "sub_criteria": "机动敏感性求解与比较流程",
              "description": "检查是否对列举机动情形并行求解P_success，输出各情形的差异与敏感性指标（如归一化弹性系数）。",
              "score": 25,
              "evaluation_focus": "敏感性分析",
              "scoring_hint": "高分：给出弹性系数和情形排名并解释原因；中分：给出P_success表格无敏感性指标；低分：只做单一情形计算。"
            },
            {
              "sub_criteria": "计算资源与实时性能实现（并行化/GPU）",
              "description": "验证实现是否满足给定计算预算（例如在1s内完成快速估计），并提供并行/GPU/多线程资源估计与伸缩策略。",
              "score": 25,
              "evaluation_focus": "实时性能",
              "scoring_hint": "高分：实际测得时间≤预算并提供并行化细节；中分：估计时间合理无实测；低分：超时或无性能计划。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "模块化实现目标：P_success计算、MC/Importance、IMM/PF模块",
              "description": "检查代码是否将解析计算、蒙特卡洛采样、机动模型与决策层模块化，便于替换与并行运行。",
              "score": 30,
              "evaluation_focus": "代码结构",
              "scoring_hint": "高分：模块独立、接口清晰并含单元测试；中分：模块化但测试不足；低分：单体代码难以维护。"
            },
            {
              "sub_criteria": "并行/加速实现与资源管理",
              "description": "验证是否实现并行采样（多线程/GPU）或向量化以满足实时预算，并有动态样本数调整接口。",
              "score": 25,
              "evaluation_focus": "并行化",
              "scoring_hint": "高分：实现GPU/多线程并证明加速比；中分：仅多线程或向量化；低分：无并行策略且超时。"
            },
            {
              "sub_criteria": "诊断输出与错误/异常处理",
              "description": "代码需输出诊断信息（未配对分布、低置信度提示、样本方差）并对异常输入（奇异协方差）做稳健处理。",
              "score": 25,
              "evaluation_focus": "鲁棒性",
              "scoring_hint": "高分：详细诊断日志与异常处理；中分：基本日志无异常处理；低分：无诊断或崩溃风险。"
            },
            {
              "sub_criteria": "可复现性与测试覆盖",
              "description": "要求提供可复现的随机种子控制、示例场景与单元/集成测试用例（含覆盖主要边界情形）。",
              "score": 20,
              "evaluation_focus": "可靠性",
              "scoring_hint": "高分：测试覆盖关键路径并提供示例；中分：有示例无完整测试；低分：无测试或不可复现。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "P_success与置信区间报告与解释",
              "description": "检查是否报告P_success及95%置信区间，并解释置信区间来源（解析/MC）与含义。",
              "score": 30,
              "evaluation_focus": "指标解读",
              "scoring_hint": "高分：数值+CI并有来源说明；中分：有数值无CI来源；低分：无CI或解释错误。"
            },
            {
              "sub_criteria": "机动性敏感性分析报告（多情形比较）",
              "description": "要求给出各机动情形下P_success表/曲线、弹性系数（对a_max的敏感度）与最不利情形说明。",
              "score": 25,
              "evaluation_focus": "敏感性报告",
              "scoring_hint": "高分：提供曲线、表格与弹性系数并指出最差情形；中分：提供表格但无敏感度指标；低分：分析浅显或缺失。"
            },
            {
              "sub_criteria": "实时策略建议与决策阈值给出",
              "description": "输出基于p_high/p_low的拦截建议（直接拦截/继续观测/放弃）并说明在何种不确定度下切换。",
              "score": 20,
              "evaluation_focus": "决策支持",
              "scoring_hint": "高分：给出明确阈值与操作表并估计误判风险；中分：建议有但无阈值；低分：无可执行建议。"
            },
            {
              "sub_criteria": "验证与覆盖率分析（合成蒙特卡洛检验）",
              "description": "提供部署前验证流程：合成场景矩阵、置信区间覆盖率测试、误差偏差与延迟统计，用于调整样本策略与阈值。",
              "score": 15,
              "evaluation_focus": "验证性",
              "scoring_hint": "高分：提供覆盖率表与调整建议；中分：提供部分验证数据；低分：无验证或结果不可重复。"
            },
            {
              "sub_criteria": "结果可视化与可解释性输出",
              "description": "要求输出直观图表（热力图/置信椭圆/P_success曲线）与文本化解释，便于指挥决策阅读。",
              "score": 10,
              "evaluation_focus": "可解释性",
              "scoring_hint": "高分：提供关键图表并能一页速览；中分：有图无解释；低分：无可视化。"
            }
          ]
        }
      }
    }
  }
}