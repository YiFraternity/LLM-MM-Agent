{
  "task_id": "2017_E",
  "problem": "请你们团队结合实际，建立数学模型研究下列问题：\n\n（1）该部接受到实施两个波次的齐射任务（齐射是指同一波次的导弹同一时刻发射），每个波次各发射24枚导弹。给出具体发射点位分配及机动路线方案，使得完成两个波次发射任务的整体暴露时间最短。方案需按题目后面对附件2说明中规定的格式给出，并存入文件“E队号.xls”中，随论文同时上传指定邮箱，作为竞赛论文评审的重要依据。统一以第一波次的发射时刻作为第二波次机动的起始时刻。\n\n（2）转载地域的合理布设是问题的“瓶颈”之一。除已布设的6个转载地域外，可选择在道路节点J25、J34、J36、J42、J49附近临时增设2个转载地域（坐标就取相应节点的坐标）。应该如何布设临时转载地域，使得完成两个波次发射任务的整体暴露时间最短。\n\n（3）新增3台C类发射装置用于第二波次发射。这3台发射装置可事先选择节点J04、J06、J08、J13、J14、J15附近隐蔽待机（坐标就取相应节点的坐标），即这3台发射装置装弹后从待机地域机动到隐蔽待机点的时间不计入暴露时间内。每一隐蔽待机点至多容纳2台发射装置。待第一波次导弹发射后，这3台发射装置机动至发射点位参与第二波次的齐射，同时被替代的3台C类发射装置完成第一波次齐射后择机返回待机地域（返回时间不计入暴露时间）。转载地域仍为事先布设的6个的前提下，应该如何选择隐蔽待机点，使得完成两个波次发射任务的整体暴露时间最短。\n\n（4）道路节点受到攻击破坏会延迟甚至阻碍发射装置按时到达指定发射点位。请结合图1路网特点，考虑攻防双方的对抗博弈，建立合理的评价指标，量化分析该路网最可能受到敌方攻击破坏的3个道路节点。\n\n（5）在机动方案的拟制中，既要考虑整体暴露时间尽可能短，也要规避敌方的侦察和打击，采用适当分散机动的策略，同时还要缩短单台发射装置的最长暴露时间。综合考虑这些因素，重新讨论问题（1）。",
  "subtask": {
    "1": {
      "subtask": "子任务1的目标是在给定路网与要素坐标（附件1）基础上建立一个用于问题1的核心时空混合整数线性规划（MILP）模型，并通过路径预处理生成可求解规模可控的候选路径集，为后续精确求解提供标准化的数据接口和输出（按附件2格式逐车记录节点序列与到离时刻）；其范围仅包括模型形式化、参数与变量定义、约束集的精确线性化、候选路径生成与筛选、关键单车道冲突的可容许近似建模，以及为求解器（例如Gurobi或CPLEX）配置可行的规模控制策略和输出格式说明。具体方法步骤如下：1) 数据准备与参数计算——用附件1中各节点的平面坐标计算道路边的几何长度（欧氏距离或道路给定连通边长度），根据边属性标注为主干道或其他道路，并按车辆类型A/B/C在两类道路上的给定速度将每条有向边的行驶时间 τ_{i,e} = (长度/v_{type(i),class(e)}) 换算为分钟；固定转载作业时间 s = 10 分钟并说明转载时间不计入暴露。2) 集合与决策变量——定义车辆集合I（含类型标签）、节点集合N（含待机D、转载Z、发射F和道路节点J）、边集合E、波次w∈{1,2}；二元分配变量 x_{i,f,w} 指示车辆i在波次w占用发射点f，路径选择变量用为每段阶段（待机→F1、F1→Z、Z→F2）每辆车预生成的候选路径集合 P_{i,k} 并对应二元变量 y_{i,p}，连续时刻变量 t_{i,n}（到达某节点时刻）、出发时刻 d_i、转载开始/结束 u_{i,z}, u^+_{i,z}，以及用于线性化顺序与冲突的优先二元变量 o_{i,j,z}（转载顺序）和在被选择的关键单车道边上的车对优先变量 q_{i,j,e}。3) 约束精确化——建立路径连通性与流守恒约束，若车辆选择某候选路径则其沿路径节点的到达时刻按 τ_{i,e} 递推（t_{v} ≥ t_{u} + τ_{i,e}），用大M方法线性化“若x则等式/不等式”关系以强制到达时刻等于波次齐射时刻（即若 x_{i,f,1}=1 则 t_{i,f}=T1，T1 在问题中可设为0；若 x_{i,f,2}=1 则 t_{i,f}=T2）；发射点唯一性约束 ∑_i x_{i,f,w} ≤ 1；转载地域约束：每站最多停放2辆但一次仅能作业1辆，通过 y_{i,z} 指派变量与 o_{i,j,z} 线性化序列保证服务互斥并且 u^+_{i,z} − u_{i,z} = s；转载时间段在 exposure 计算中剔除，定义每车暴露 exposure_i = T2 − d_i − ∑_z (u^+_{i,z} − u_{i,z})，并在模型中以线性关系实现。4) 单车道冲突的可控近似建模——鉴于全对偶优先变量将导致规模爆炸，仅对预处理识别出的关键单车道边（基于候选路径重合度或流量估计）建立车辆对不相容约束：对每对可能在同一单车道重叠通过的车辆引入 q_{i,j,e} 并以两条互斥的不等式保证通过时间区间不重叠，从而近似保证会车冲突被处理；对其余边采用路径候选设计（避开单车道或错峰出发）以减少冲突概率。5) 候选路径生成与规模控制——为每辆车每段阶段用K最短路径算法（可采用Dijkstra、Yen的K-shortest）生成有限数量（例如3–5条）候选路径，候选路径可按最短时间、最短距离与避开单车道三类标准混合生成并剔除明显冗余的路径，通过限制每阶段候选路径数、只为高冲突车辆增加候选数、以及仅对高重合度边建立冲突变量来控制MILP规模。6) 线性化与求解建议——所有逻辑蕴含用大M线性化，转载顺序与单车道优先用二元顺序变量线性化表达；建议在求解器中设置合理的MIPGap与时间上限，并启用并行化求解；对于中大型实例先尝试基于候选路径的MILP求解，若仍过大则进一步通过车辆分区或时窗松弛分解求解。7) 输出与验证接口——模型输出应包含每辆车在附件2规定格式下的完整节点序列及到达/离开时刻（分钟，一位小数）、每辆车的暴露值和所用候选路径标识，并附带可复现的输入数据（坐标、边列表、候选路径集与τ_{i,e}矩阵）；同时应提供可用于后续仿真校验的中间变量（如转载排队序列和优先变量值）。本子任务不产生作战决策建议或攻防分析结果，其交付物为一个可运行的MILP模型描述、已计算的边时长与候选路径集、求解器配置建议以及按附件2格式可直接装入表格的调度结果文件接口说明，确保模型能被独立调用与求解以产生可验证的时间-路径调度解。",
      "criteria": {
        "task_understanding": {
          "core_goal": "基于给定路网与要素坐标构建并求解用于两个波次齐射暴露时间最小化的时空混合整数线性规划（MILP）优化模型，并通过K最短候选路径预处理控制规模",
          "expected_output": "可运行的MILP模型与参数定义文档；Gurobi/CPLEX求解配置与求解日志；按附件2格式的车辆节点序列与到离时刻（分钟，含一位小数）的报表；每车暴露时间与总暴露时间；候选路径集及其标识；中间变量（转载排队序列、o/q优先变量）与输入数据接口说明",
          "key_inputs_constraints": "输入：附件1节点坐标与道路连通（J/D/Z/F与E）；道路类型标签（主干/其他）；车辆集合I及类型A/B/C；速度参数（A:70/45, B:60/35, C:50/30 km/h）；转载作业时间s=10分钟。约束：两波次齐射同时发射（T1、T2）；每发射点位每波次至多1车；转载地域容量2且作业互斥；单车道会车仅在节点允许；暴露时间不计转载时间；候选路径规模上限（每阶段K=3–5）；仅对关键单车道边建立q优先变量",
          "modeling_type": "优化+仿真",
          "role_in_pipeline": "作为问题(1)的核心优化引擎：在数据清洗与图构建后生成候选路径与边行驶时间，建立MILP并求解输出调度；前序依赖：坐标解析/边集构建/速度映射；后序衔接：方案仿真校验、可视化与后续问题(2)(3)的敏感性分析",
          "assumptions": "T1设为0作为时间原点；T2为决策变量或给定统一齐射时刻；道路连通以附件1为准且无禁行；行驶时间按欧氏距离/给定长度一致采用分钟单位并四舍五入至0.1分；候选路径阶段划分为D→F1、F1→Z、Z→F2"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "暴露时间最小化目标的识别与量化",
              "description": "是否准确将整体暴露时间定义为T2−d_i−∑(u^+_{i,z}−u_{i,z})并指出齐射T1/T2的同步性与转载时间剔除。",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：给出精确定义并与变量一致；中分：定义基本正确但忽略剔除转载时间细节；低分：将暴露时间等同于路径总时长或未提T2同步。"
            },
            {
              "sub_criteria": "两波次齐射与发射点唯一性约束识别",
              "description": "明确w∈{1,2}、x_{i,f,w}分配与∑_i x_{i,f,w}≤1，并说明同一点位连续两波次不重复使用。",
              "score": 25,
              "evaluation_focus": "约束识别",
              "scoring_hint": "高分：含两波次、唯一性、跨波次不重复；中分：缺跨波次限制；低分：未建波次或未限制唯一性。"
            },
            {
              "sub_criteria": "转载地域容量与作业互斥的瓶颈识别",
              "description": "识别Z站点容量2且单时仅1作业，需序列o_{i,j,z}与服务时长s=10。",
              "score": 25,
              "evaluation_focus": "系统约束",
              "scoring_hint": "高分：容量与互斥均到位并提出序列变量；中分：只建容量不建互斥；低分：忽略转载约束。"
            },
            {
              "sub_criteria": "单车道冲突近似与关键边筛选",
              "description": "识别单车道仅节点会车，并提出关键边q_{i,j,e}近似与边筛选标准。",
              "score": 20,
              "evaluation_focus": "问题抽象",
              "scoring_hint": "高分：说明仅关键边建互斥并给出筛选依据；中分：提到冲突但无筛选策略；低分：完全不考虑会车。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "数据准备与参数计算的准确复述",
              "description": "复述附件1坐标→边长度→τ_{i,e}分钟（A/B/C与主干/其他速度映射）的流程。",
              "score": 25,
              "evaluation_focus": "表达严谨",
              "scoring_hint": "高分：单位一致且给出公式τ=长度/v并说明分钟；中分：有流程但单位混乱；低分：缺少速度映射。"
            },
            {
              "sub_criteria": "阶段化路径（D→F1、F1→Z、Z→F2）及K最短候选路径的复述",
              "description": "清晰阐述三阶段与每阶段K=3–5条候选路径、去冗与多目标（时间/距离/避单车道）。",
              "score": 25,
              "evaluation_focus": "结构化表述",
              "scoring_hint": "高分：三阶段+多标准+去冗；中分：仅K最短未分阶段；低分：未提候选路径。"
            },
            {
              "sub_criteria": "齐射时刻与大M逻辑联动的复述",
              "description": "说明t_{i,f}=T1/T2通过大M线性化与x_{i,f,w}耦合的逻辑。",
              "score": 25,
              "evaluation_focus": "数理表达",
              "scoring_hint": "高分：明确条件-约束结构与M取值策略；中分：提大M但未写作用对象；低分：不知如何绑定齐射时刻。"
            },
            {
              "sub_criteria": "输出接口（附件2格式）的复述",
              "description": "明确逐车节点序列、到离时刻精度、候选路径标识与中间变量导出。",
              "score": 25,
              "evaluation_focus": "接口意识",
              "scoring_hint": "高分：列出字段与精度0.1分；中分：仅给节点不含时刻；低分：未提输出格式。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "T1=0、T2设定与时间基准假设",
              "description": "说明将第一波次齐射设为时间原点，T2为变量或参数并一致用于约束。",
              "score": 25,
              "evaluation_focus": "建模假设",
              "scoring_hint": "高分：阐明两种处理并给出选择理由；中分：仅设T1=0；低分：时间基准含混。"
            },
            {
              "sub_criteria": "行驶时间计算与单位一致性假设",
              "description": "选择欧氏或给定边长，转换分钟并说明四舍五入/保留一位小数规则。",
              "score": 25,
              "evaluation_focus": "一致性",
              "scoring_hint": "高分：给出统一规则与精度；中分：有单位但无精度说明；低分：单位混乱。"
            },
            {
              "sub_criteria": "单车道冲突近似边集选取假设",
              "description": "给出基于候选路径重合度/流量阈值的关键边选取标准与阈值示例。",
              "score": 25,
              "evaluation_focus": "可检验性",
              "scoring_hint": "高分：提供具体阈值或Top-N策略；中分：口头说明；低分：无标准。"
            },
            {
              "sub_criteria": "转载作业与排队规则假设",
              "description": "明确先到先服务或优化内生排序、等待驻留计入/不计入暴露的界定。",
              "score": 25,
              "evaluation_focus": "边界清晰",
              "scoring_hint": "高分：清楚界定等待时间计入暴露与否；中分：只说互斥；低分：遗漏。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "变量与集合完整性（x,y,t,u,u^+,o,q,T2）",
              "description": "正确定义x_{i,f,w}, y_{i,p}, t_{i,n}, u_{i,z}, u^+_{i,z}, o_{i,j,z}, q_{i,j,e}, T2及集合I/N/E/P。",
              "score": 25,
              "evaluation_focus": "数理规范",
              "scoring_hint": "高分：符号齐全且含阶段路径P；中分：缺少o或q；低分：变量缺漏严重。"
            },
            {
              "sub_criteria": "路径连通与时间递推线性化",
              "description": "若选y_{i,p}=1，则沿路径满足t_v≥t_u+τ_{i,e}；未选时以大M放松。",
              "score": 25,
              "evaluation_focus": "线性化技巧",
              "scoring_hint": "高分：给出具体M约束与紧化建议；中分：仅口述；低分：非线性或错误。"
            },
            {
              "sub_criteria": "齐射绑定与发射点唯一性约束",
              "description": "用大M将t_{i,f}=T1/T2与x_{i,f,w}绑定，且∑_i x_{i,f,w}≤1与跨波次不重复。",
              "score": 20,
              "evaluation_focus": "关键约束",
              "scoring_hint": "高分：三者齐备；中分：缺跨波次不重复；低分：未绑定时刻。"
            },
            {
              "sub_criteria": "转载容量与序列互斥（o变量）",
              "description": "容量≤2与作业互斥：u^+−u=s，且任意(i,j)在同Z满足先后不重叠的两条互斥不等式。",
              "score": 15,
              "evaluation_focus": "序列建模",
              "scoring_hint": "高分：正确两段式不重叠；中分：只设一条不等式；低分：无序列。"
            },
            {
              "sub_criteria": "单车道关键边互斥（q变量）近似",
              "description": "对关键边e与车对(i,j)设置通过区间不重叠，含方向冲突处理与大M放松。",
              "score": 15,
              "evaluation_focus": "冲突建模",
              "scoring_hint": "高分：给出进入/离开时间定义与两条互斥式；中分：仅概述；低分：无约束。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "候选路径生成与筛选（K最短、去冗）",
              "description": "实现Yen/Dijkstra生成每阶段K=3–5条，按时间/距离/避单车道混合，并剔除支配路径。",
              "score": 25,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：含K值、标准与去冗准则；中分：仅K最短；低分：无预处理。"
            },
            {
              "sub_criteria": "规模控制策略（限候选、关键边筛选、分区）",
              "description": "限制每阶段K、仅高重合边建q、必要时车辆分区或时窗松弛。",
              "score": 25,
              "evaluation_focus": "可解性",
              "scoring_hint": "高分：列出具体阈值/上限；中分：泛述；低分：未控规模。"
            },
            {
              "sub_criteria": "求解器配置（MIPGap、时间上限、并行）",
              "description": "提供Gurobi/CPLEX参数设置与停止准则，并说明大M取值与数值稳定性。",
              "score": 25,
              "evaluation_focus": "工程能力",
              "scoring_hint": "高分：给出具体参数如 MIPGap≤1–3%、TimeLimit；中分：仅提并行；低分：无配置建议。"
            },
            {
              "sub_criteria": "可行性与紧化措施",
              "description": "提供初始解、有效不等式或变量域收紧（时间窗、T2界）。",
              "score": 25,
              "evaluation_focus": "优化技巧",
              "scoring_hint": "高分：具体界值与初解生成；中分：泛述紧化；低分：无措施。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据接口与单位一致（附件1→τ_{i,e})",
              "description": "解析坐标、构图、计算τ并验证单位为分钟，精度0.1。",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：含单元测试或断言；中分：实现但无校验；低分：单位错误。"
            },
            {
              "sub_criteria": "K最短路径与去冗实现",
              "description": "实现Yen算法或库函数，移除被支配路径并打标签（阶段/标准）。",
              "score": 25,
              "evaluation_focus": "算法实现",
              "scoring_hint": "高分：复杂度与边界处理完善；中分：可运行但无去冗；低分：错误或缺失。"
            },
            {
              "sub_criteria": "MILP建模与大M线性化编码",
              "description": "用Gurobi/CPLEX建x,y,t,u,o,q及约束，M取值与数值稳定处理。",
              "score": 25,
              "evaluation_focus": "建模实现",
              "scoring_hint": "高分：模型与描述一致且可求解；中分：部分约束缺失；低分：不可运行。"
            },
            {
              "sub_criteria": "输出与附件2格式导出",
              "description": "逐车节点序列与到/离时刻（分钟一位小数）、候选路径ID、中间变量导出。",
              "score": 25,
              "evaluation_focus": "接口实现",
              "scoring_hint": "高分：字段完备、校验通过；中分：缺中间变量；低分：格式不符或缺时刻。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "总暴露时间与每车曝光（exposure_i）的报告",
              "description": "报告∑exposure_i与分布，并验证不含∑(u^+−u)。",
              "score": 25,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：含校验计算与对比含/不含转载；中分：仅总值；低分：计算口径错误。"
            },
            {
              "sub_criteria": "可行性校验（齐射同步、容量与互斥）",
              "description": "检查t_{i,f}=T1/T2、Z站容量≤2且作业不重叠、关键边互斥无冲突。",
              "score": 25,
              "evaluation_focus": "一致性检查",
              "scoring_hint": "高分：逐类约束核验；中分：抽样检查；低分：无校验或违规。"
            },
            {
              "sub_criteria": "敏感性与规模控制效果",
              "description": "分析K、关键边数量对求解时间与目标的影响，报告MIPGap/TimeLimit触发情况。",
              "score": 25,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：提供2–3组对比；中分：定性讨论；低分：无分析。"
            },
            {
              "sub_criteria": "路径合理性与会车冲突残差评估",
              "description": "抽查高重合边通过时窗，评估近似带来的潜在会车冲突残差。",
              "score": 25,
              "evaluation_focus": "误差评估",
              "scoring_hint": "高分：量化残差或提出修正；中分：定性说明；低分：未评估。"
            }
          ]
        }
      }
    },
    "2": {
      "subtask": "子任务2（算法实现与问题2/3的选址枚举与数值求解策略）旨在在子任务1提供的路网、节点坐标、边列表、车辆类型与数量、候选路径集和边行驶时间矩阵基础上，构建并实现一个可重复运行的求解框架，用于（A）求解问题1的调度子问题（发射点分配、转载指派、路径选择与时序）并输出附件2规定格式的结果文件“E队号.xls”，（B）在问题2中对5个候选临时转载点（J25,J34,J36,J42,J49）进行“5选2”的组合枚举与精解比较，以及（C）在问题3中对6个候选隐蔽待机点（J04,J06,J08,J13,J14,J15）为3台新增C类车辆选择最优布置（满足每点最多2辆）并在既有6个转载地域约束下联合求解第二波调度；为保证可复现性与可扩展性，该子任务包括如下具体步骤、方法与实现细节：1) 必要输入与预处理：读取子任务1生成的数据（网络拓扑、边长与分类、每条边在主干/其他道路类下的速度表、各车辆类型的速度配置、现有转载站Z01~Z06的位置、发射点F01~F60位置、候选路径集合P_{i,k}为每辆车在三段阶段（待机→F1、F1→Z、Z→F2）预生成的K条路径，时间单位统一为分钟，转载作业时间s=10分钟，T1固定为0）；对每条候选路径计算累计旅行时间并标注是否包含关键单车道边以便后续冲突建模。2) 求解策略总体框架：采用“枚举外层 + MILP内核”策略：对问题2和问题3的选址变量采用外层穷举（问题2共有C(5,2)=10种组合；问题3在候选点分配上可用组合或利用MILP内置二元选择变量并行求解），对每个固定选址情景在内层构建并求解以候选路径变量、发射点分配二元变量x_{i,f,w}、路径选择二元变量y_{i,p}、连续到达/离开时刻t_{i,n}、转载指派及服务开始/结束时刻u_{i,z}、以及必要的线性化优先序二元变量（仅对识别出的关键转载站排队或关键单车道边的车辆对建立）为核心的MILP模型，目标为最小化总体暴露时间（并可将最大单车暴露或分散指标作为附加约束或加权项）；对问题3的三台新增C车，将其初始定位变量或固定到某隐蔽待机点（不计入装弹前的暴露）并将其第二波出发时刻设为T1以使其只参与第二波调度。3) MILP构造与规模控制：在内层MILP中采取大M线性化确保“若选择则到达时刻等于齐射时刻”的时间窗约束、转载站容量（每站最多两辆停放但单服务器顺序作业）与服务时间固定的线性化顺序约束（o_{i,j,z}），以及发射位唯一性约束；为控制规模，仅为每辆车每阶段保留K（建议3~5）候选路径，且仅对预处理识别为高冲突的单车道边与转载站建立成对优先变量，其余冲突通过路径候选设计和出发时刻松弛避免。4) 求解器与参数建议：优先使用工业级MIP求解器（Gurobi或CPLEX），每个选址情景设定合理的时间上限（建议每场景600–1800秒，根据资源可调整）和MIPGap（例如0.5%~1%）以在可接受时间内获得高质量解，启用并行线程以并行求解不同选址组合（外层并行）；对于并行化资源不足时，先用轻量级启发式快速评估（基于分配的总代价估算）筛选若干优候选场景再对其精解。5) 退化与分解策略：当整体MILP仍过大或无法及时收敛时，采用两阶段分解：先解联合的二元分配模型（发射点指派 + 路径选择）以得到可行的分配方案（忽略详细的单车道对冲突变量），再在第二阶段固定分配以求解时序调度与转载顺序的连续/混合整数子问题；若时序冲突在调度阶段显现，则调用基于事件的仿真器对结果进行冲突检测并通过局部修正（错峰出发、替换次优路径或改变转载站分配）进行修复，修复后可将结果反馈为MILP的热启动或局部约束以再次优化。6) 元启发式备用方案：为提高全局搜索能力或在MILP不可行/求解耗时过长时，设计遗传算法或模拟退火等元启发式方法对离散决策（发射点分配、选址、每辆车选择的候选路径）进行全局搜索，个体评估时调用快速调度启发式（贪心分配最近空闲转载站并计算下界时序），并使用局部MILP修复算子提升可行性与精度。7) 输出规范与验证：对每个被求解的情景输出满足附件2格式的结果文件“E队号.xls”（每辆车一行，记录待机地域、出发时刻、沿途节点序列及逐节点到达/离开时刻、第一波和第二波齐射时刻，时间保留1位小数），并生成每场景的汇总指标（总体暴露、单车最长暴露、关键转载站排队情况、是否存在单车道不可解冲突）；所有求解过程记录求解器日志、MIPGap与时间消耗以便性能分析。8) 并行化与计算资源：建议将外层选址场景并行化执行（每个场景独立的MILP），并在典型工程配置下（8核CPU、≥32GB内存）设置合理任务调度；若资源允许，问题2的10种组合可并行求解以快速得到全局最优选址。通过上述流程，子任务2将提供一个可执行、可复现且可扩展的实现方案与数值求解流程，用以分别对问题1基线调度、问题2候选转载点组合比较与问题3隐蔽待机点选择进行定量优化与输出规范化结果。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在给定候选路径与行驶时间矩阵的前提下，优化两波次发射的调度（发射点分配、转载指派、路径选择与时序），并通过外层枚举完成问题2/3的选址以最小化总体暴露时间。",
          "expected_output": "每个场景的最优或近优解与附件2格式结果文件E队号.xls（逐车节点序列与到离时刻、两波齐射时刻、暴露时间），场景汇总报表（总体暴露、最大单车暴露、关键站排队）、求解日志（MIPGap/用时）、可复现输入与候选路径标识。",
          "key_inputs_constraints": "输入：网络拓扑N/E（含主干/其他道路标注）、节点坐标、车辆集合I及类型A/B/C、待机D/转载Z/发射F位置、候选路径集P_{i,k}（阶段：待机→F1、F1→Z、Z→F2）、边行驶时间τ_{i,e}、s=10、T1=0。约束：每波次24枚、F位唯一、转载站容量≤2且单服务器顺序作业、转载时间不计入暴露、关键单车道冲突近似约束、问题2五选二、问题3新增3台C车隐蔽待机点容量≤2且仅参与第二波。",
          "modeling_type": "优化+仿真",
          "role_in_pipeline": "作为子任务1提供数据与MILP模型后的算法实现与数值求解环节；前序依赖：子任务1的数据接口与候选路径；后序输出：用于论文评审的E队号.xls与场景对比结果，并为后续仿真验证/可视化提供时序方案。",
          "assumptions": "若附件2的精确字段名未提供，则按描述生成包含车ID、出发时刻、节点序列与逐节点到离时刻、F1/F2时刻、暴露值的表；求解器为Gurobi或CPLEX，外层场景可并行。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "总体暴露时间最小化目标识别",
              "description": "是否明确以两波次齐射的总体暴露时间为首要优化目标，并区分转载时间不计入暴露的定义 exposure_i = T2 − d_i − Σ(u^+−u)。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：清晰写出目标式并解释不计入项；中分：提及最小化暴露但未给公式或遗漏不计入；低分：将旅行时间或Makespan误作目标。"
            },
            {
              "sub_criteria": "两波次齐射约束与24枚/波识别",
              "description": "是否识别两波次齐射时刻（T1=0、T2固定/决策）与每波次发射点唯一性和数量约束（各24）。",
              "score": 25,
              "evaluation_focus": "需求解析",
              "scoring_hint": "高分：写出∑_i x_{i,f,w}≤1且覆盖24发；中分：只写唯一性未核对数量；低分：忽略齐射或数量要求。"
            },
            {
              "sub_criteria": "问题2/3外层选址枚举与内核MILP分离",
              "description": "是否正确识别问题2五选二枚举10种、问题3隐蔽待机点选择与内层调度的解耦关系。",
              "score": 20,
              "evaluation_focus": "问题拆解",
              "scoring_hint": "高分：明确外层枚举接口与内层复用；中分：只口头说明不落地；低分：将选址硬编码进同一MILP致规模失控。"
            },
            {
              "sub_criteria": "关键单车道冲突的可容许近似范围",
              "description": "是否识别仅对高重合度边建立q_{i,j,e}互斥，其他通过候选路径与时序松弛控制。",
              "score": 20,
              "evaluation_focus": "约束取舍",
              "scoring_hint": "高分：说明筛选标准与近似边界；中分：泛述有近似；低分：全对偶或完全忽略会车冲突。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "候选路径三阶段P_{i,k}复述",
              "description": "是否准确复述待机→F1、F1→Z、Z→F2三段候选路径与各自K限制。",
              "score": 30,
              "evaluation_focus": "需求重述",
              "scoring_hint": "高分：逐段说明并限定K=3–5；中分：提三段但无K；低分：未区分阶段或混合路径。"
            },
            {
              "sub_criteria": "转载站容量与单服务器作业复述",
              "description": "是否清楚表达每站最多2车停放且一次仅作业1车，服务时间s=10。",
              "score": 25,
              "evaluation_focus": "约束重述",
              "scoring_hint": "高分：写明容量与服务机制；中分：只写s=10；低分：误解为并行双服务器。"
            },
            {
              "sub_criteria": "问题2五选二与问题3隐蔽待机点约束复述",
              "description": "是否复述C(5,2)=10枚举与隐蔽待机点容量≤2、仅参与第二波（T1出发）。",
              "score": 25,
              "evaluation_focus": "条件重述",
              "scoring_hint": "高分：写明容量与出发时刻；中分：提到枚举但不含容量；低分：混淆第一波参与。"
            },
            {
              "sub_criteria": "输出E队号.xls与汇总指标",
              "description": "是否完整复述附件2格式（节点序列与到离时刻、齐射时刻、暴露值）及场景汇总报表项。",
              "score": 20,
              "evaluation_focus": "输出把握",
              "scoring_hint": "高分：列出所有字段；中分：缺少1–2字段；低分：只输出总目标值。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "T2处理与时间单位一致性假设",
              "description": "是否对T2为给定或决策、分钟单位、保留1位小数等作出清晰假设并贯穿实现。",
              "score": 25,
              "evaluation_focus": "假设合理性",
              "scoring_hint": "高分：统一分钟与四舍五入规则；中分：单位提及但实现未统一；低分：单位混乱。"
            },
            {
              "sub_criteria": "关键单车道选择阈值假设",
              "description": "是否给出基于路径重合度或流量估计的阈值（如覆盖比例≥30%）来限定q_{i,j,e}集合。",
              "score": 25,
              "evaluation_focus": "近似设定",
              "scoring_hint": "高分：明确阈值与理由；中分：口头“高重合度”无量化；低分：无筛选标准。"
            },
            {
              "sub_criteria": "问题3新增C车隐蔽待机出发时刻设定",
              "description": "是否假设新增3台C车在T1时刻从隐蔽点出发，装弹前机动不计入暴露并满足每点≤2。",
              "score": 25,
              "evaluation_focus": "边界条件",
              "scoring_hint": "高分：清晰建模出发时刻与容量；中分：遗漏容量或时刻；低分：将其计入第一波。"
            },
            {
              "sub_criteria": "大M取值与数值稳定假设",
              "description": "是否为时间窗和选择逻辑给出与路径最短上界相关的紧M（如M≃网络最长旅行时间）。",
              "score": 25,
              "evaluation_focus": "数值稳定",
              "scoring_hint": "高分：说明M估计与敏感性；中分：使用固定大M未解释；低分：未声明导致数值不稳。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "x_{i,f,w}, y_{i,p}, t_{i,n}, u_{i,z}等变量定义与关联",
              "description": "是否完整定义分配、路径选择、节点时刻与转载时段变量，并通过大M联动“若选择则等式”。",
              "score": 25,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：变量域与索引完整且关联正确；中分：缺少1类变量；低分：变量混淆。"
            },
            {
              "sub_criteria": "齐射时间等式与发射位唯一性线性化",
              "description": "是否正确建模x触发t_{i,f}=T1/T2与∑_i x_{i,f,w}≤1且每波24发的覆盖约束。",
              "score": 25,
              "evaluation_focus": "约束正确性",
              "scoring_hint": "高分：给出触发与覆盖；中分：缺少覆盖；低分：等式未触发或不线性。"
            },
            {
              "sub_criteria": "转载站单服务器顺序与容量约束",
              "description": "是否用o_{i,j,z}和u_{i,z},u^+_{i,z}建立互斥服务(u^+−u=s)与同时停放≤2。",
              "score": 25,
              "evaluation_focus": "调度建模",
              "scoring_hint": "高分：顺序二元与时间窗完备；中分：只建容量无顺序；低分：允许并行作业。"
            },
            {
              "sub_criteria": "关键单车道冲突q_{i,j,e}互斥",
              "description": "是否为识别的e建立两条互斥不等式，避免相向或同向重叠通过时间窗口。",
              "score": 25,
              "evaluation_focus": "约束设计",
              "scoring_hint": "高分：清晰互斥形式与适用边；中分：笼统限制；低分：缺失或错误方向处理。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "外层枚举与并行策略",
              "description": "是否实现问题2的10场景并行/批量求解，问题3对隐蔽待机点分配的组合或内嵌二元。",
              "score": 25,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：可配置并行与批处理；中分：顺序求解但完整；低分：遗漏部分场景。"
            },
            {
              "sub_criteria": "求解器参数与规模控制",
              "description": "是否设置MIPGap(0.5%~1%)、时限(600–1800s)、K路径限制、关键边限缩q/o变量。",
              "score": 25,
              "evaluation_focus": "数值策略",
              "scoring_hint": "高分：参数齐全且解释；中分：部分参数；低分：默认设置导致失控。"
            },
            {
              "sub_criteria": "两阶段分解与热启动/修复",
              "description": "当困难时，先解分配+路径，再固定解时序；冲突用仿真检测并局部修复或热启动回灌。",
              "score": 25,
              "evaluation_focus": "求解技巧",
              "scoring_hint": "高分：给出触发条件与实现流程；中分：仅口头描述；低分：无备选策略。"
            },
            {
              "sub_criteria": "元启发式备用与评估函数",
              "description": "是否提供遗传/退火对离散决策的搜索，个体评估含暴露下界与快速调度启发式。",
              "score": 25,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：可运行且与MILP互补；中分：描述无实现接口；低分：无备用。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据接口与附件2/E队号.xls导出",
              "description": "是否实现读取子任务1数据接口与按附件2格式导出（车ID、出发、节点序列、到离时刻、F1/F2、暴露）。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：字段齐全、时间一位小数、校验通过；中分：小缺漏；低分：无法导出或格式错误。"
            },
            {
              "sub_criteria": "MILP建模代码与大M触发",
              "description": "是否在Gurobi/CPLEX中正确编码x/y/t/u/o/q及大M逻辑与服务时间约束。",
              "score": 30,
              "evaluation_focus": "实现正确性",
              "scoring_hint": "高分：模型与数学一致并可复现；中分：少量bug；低分：约束缺失或变量错误。"
            },
            {
              "sub_criteria": "并行与日志记录",
              "description": "是否实现外层场景并行/队列、求解日志（MIPGap/用时）与随机种子控制。",
              "score": 20,
              "evaluation_focus": "工程能力",
              "scoring_hint": "高分：稳定并行与详尽日志；中分：只有日志或只有并行；低分：无记录。"
            },
            {
              "sub_criteria": "规模控制与配置参数化",
              "description": "是否将K、时限、Gap、关键边阈值、线程数等做成可配置并在代码中生效。",
              "score": 20,
              "evaluation_focus": "可维护性",
              "scoring_hint": "高分：配置文件/CLI统一；中分：硬编码部分参数；低分：不可配置。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "总体暴露与最大单车暴露解读",
              "description": "是否报告每场景总体暴露、最大单车暴露并解释差异来源（路径、转载排队）。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：定量对比与原因分析；中分：仅报告数值；低分：无对比或解读错误。"
            },
            {
              "sub_criteria": "问题2最优五选二场景比较",
              "description": "是否完整比较10组合并给出最优与次优差距、敏感性（如关键站拥堵度）。",
              "score": 25,
              "evaluation_focus": "对比分析",
              "scoring_hint": "高分：表格/排序与差距百分比；中分：只给最优；低分：未覆盖全部组合。"
            },
            {
              "sub_criteria": "问题3隐蔽待机点选择影响",
              "description": "是否分析新增3台C车布置对第二波时序与暴露的改进及容量约束的瓶颈。",
              "score": 25,
              "evaluation_focus": "因果洞察",
              "scoring_hint": "高分：量化改进与瓶颈节点；中分：定性描述；低分：无分析。"
            },
            {
              "sub_criteria": "可行性与冲突校验报告",
              "description": "是否提供单车道冲突检测结果、转载排队可行性、约束违背为零的证明或日志引用。",
              "score": 20,
              "evaluation_focus": "有效性验证",
              "scoring_hint": "高分：列出冲突检查与零违背；中分：部分检查；低分：未验证或存在未披露违背。"
            }
          ]
        }
      }
    },
    "3": {
      "subtask": "子任务3的目标是构建并实施一套可复现的道路节点脆弱性评估与攻防对抗分析流程，输出按定量规则排序的最脆弱节点（优先报告前三名）及其敏感性/鲁棒性度量；其输入为路网拓扑（节点、边、坐标）、车辆类型与速度、转载地域位置与容量、初始或基线调度目标函数（整体暴露时间的计算方法）以及攻击者能力参数（可攻击节点数k、攻击成功概率等）和决策者权重（α、β、γ）。具体方法步骤为：1) 网络与拓扑指标计算：基于输入路网用图论工具（例如NetworkX）计算节点的拓扑中心性指标（介数/流量加权介数、度中心性、连通性断裂指标等），并规范化为B(n)；2) 移除-重规划影响评估：对每一候选节点n，构造“节点移除”情景（删除该节点与相连边），在受损网络上用两级重规划策略计算ΔE(n)=F1(n)−F1(基线)，其中重规划可优先采用快速启发式调度器（如最近可用转载站贪心分配、候选路径重选与时间窗调整）以获得可比且可并行计算的近似解，对关键节点或少量情景再用精确MILP（Gurobi/CPLEX）求精以校正启发式误差；3) 攻击可达性/成本量化：为每节点计算攻击可达性A(n)（例如节点到假定敌方基地/地图边界的距离、敌方火力覆盖或到达时间的代理量），并对A进行归一化处理；4) 脆弱性评分与排序：按可配置权重合成V(n)=α·B(n)+β·ΔE(n)+γ·A(n)，输出节点排名与ΔE明细；5) 对抗博弈分析：将单点分析扩展为攻击集问题，形式化为Stackelberg双层问题 min_{防守策略} max_{攻击集,|attack|=k} F1，求解方法为当k较小时穷举内层攻击集并对每个攻击集调用重规划器评估最坏情形，否则采用贪心近似（按单点ΔE边际效应递增选择）或求解器近似，并报告最差攻击集和对应的性能退化；6) 不确定性与敏感性分析：对关键输入（行驶速度、转载时间、攻击成功率等）采用蒙特卡洛抽样（建议至少1000次）并在每次样本下重复移除-重规划过程或用快速近似评估ΔE分布，计算均值、标准差、百分位数及CVaR以评估尾部风险，同时计算节点排名的稳定性指标（如重排概率或Kendall τ）；7) 结果输出与可视化：为每节点产出B、ΔE、A、V及其不确定性区间、并生成热力图/网络可视化、敏感性图和在不同权重/攻击能力下的排名变化图；8) 计算实现细节：推荐使用Python生态（NetworkX、NumPy/Pandas、joblib/mpi4py并行化）、GIS坐标处理库（GeoPandas）、以及在需精确重规划时调用Gurobi/CPLEX；为保证可操作性应并行化节点移除情景、设置时间上限并记录启发式与精确方法的差异，以便在资源受限时仍能提供可靠的近似评估。该子任务仅产出脆弱性指标、攻防最坏情景分析与不确定性/敏感性报告，并提供可复现的代码、参数设置与运行说明。",
      "criteria": {
        "task_understanding": {
          "core_goal": "评估道路节点脆弱性并进行攻防对抗分析，量化并排序最脆弱节点对整体暴露时间的影响",
          "expected_output": "按节点的B(n)、ΔE(n)、A(n)、V(n)与不确定性区间的数值表；前三名最脆弱节点清单；最坏攻击集(规模k)及对应F1退化报告；权重/参数敏感性与排名稳定性摘要；可复现实验代码与运行说明；可选热力图/排名变化图",
          "key_inputs_constraints": "输入：路网拓扑(N,E,坐标)、车辆类型与速度、转载地域位置与容量、基线调度目标函数F1（整体暴露时间计算）、攻击者能力参数(k、攻击成功概率)、权重(α,β,γ)。约束：节点移除需保持可达性评估；ΔE(n)=F1(n)−F1(基线)由移除-重规划得到；B(n)需规范化；A(n)需可比较尺度；计算需并行或设时间上限以保证可完成。",
          "modeling_type": "评价+仿真+优化",
          "role_in_pipeline": "作为攻防评估环节，依赖子任务1/2提供的基线调度与快速重规划器；其输出为问题4的量化依据，并为问题1/2/3的稳健化提供优先防护节点建议。前序：网络数据与基线F1、启发式/精确重规划器；后序：防护加固设计或稳健调度验证。",
          "assumptions": "若基线F1不可用，使用启发式调度近似；攻击成功概率均匀或给定分布；A(n)以到边界距离的递减函数或给定威胁图近似；k为小整数(≤5)以允许穷举或贪心近似。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "明确V(n)=α·B(n)+β·ΔE(n)+γ·A(n)评估目标",
              "description": "是否准确识别脆弱性评分由拓扑中心性B(n)、移除-重规划影响ΔE(n)、攻击可达性A(n)按权重线性合成，服务于最脆弱节点排序与前三名输出。",
              "score": 30,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：清晰写出三项指标与加权形式；中分：少一项或未规范化说明；低分：未形成合成指标或只口述直觉。"
            },
            {
              "sub_criteria": "识别ΔE(n)=F1(n)−F1(基线)的核心地位",
              "description": "是否将整体暴露时间F1的变化作为关键效用，说明节点移除后需重规划并比较基线。",
              "score": 30,
              "evaluation_focus": "目标定义",
              "scoring_hint": "高分：给出ΔE定义与重规划触发条件；中分：只提影响不量化；低分：忽略F1或误用局部时间。"
            },
            {
              "sub_criteria": "攻击者能力与约束识别(k、成功概率)",
              "description": "是否明确攻击集规模k与成功概率进入评估/博弈模型的角色。",
              "score": 20,
              "evaluation_focus": "需求解析",
              "scoring_hint": "高分：阐明k用于最坏集选择，概率用于期望或CVaR；中分：仅提k；低分：未提攻击能力。"
            },
            {
              "sub_criteria": "并行与时间上限的计算约束",
              "description": "是否识别需并行化节点移除情景并设置求解时间上限以保证完成度。",
              "score": 20,
              "evaluation_focus": "工程意识",
              "scoring_hint": "高分：提出joblib/mpi与超时策略；中分：仅泛指加速；低分：无任何计算约束考虑。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "复述B(n)的图论定义与规范化",
              "description": "是否明确介数/流量加权介数、度中心性、连通性断裂等来源并说明归一化区间。",
              "score": 25,
              "evaluation_focus": "精确表达",
              "scoring_hint": "高分：给出具体中心性并说明[0,1]缩放；中分：只列举不谈规范化；低分：混淆指标或无定义。"
            },
            {
              "sub_criteria": "复述移除-重规划流程生成ΔE(n)",
              "description": "用步骤化语言描述删除节点→快速启发式重规划→必要时MILP精化→计算F1差值。",
              "score": 35,
              "evaluation_focus": "流程梳理",
              "scoring_hint": "高分：包含启发式与精确双层；中分：仅启发式或仅MILP；低分：未提重规划。"
            },
            {
              "sub_criteria": "复述A(n)可达性定义与归一化",
              "description": "说明以距离敌方边界/火力覆盖/到达时间为代理并进行归一化的做法。",
              "score": 20,
              "evaluation_focus": "定义严谨",
              "scoring_hint": "高分：明确度量与缩放；中分：只提距离；低分：未定义A(n)。"
            },
            {
              "sub_criteria": "复述Stackelberg对抗(min防守 max攻击)",
              "description": "表述外层防守、内层选|attack|=k最大化F1的设定及穷举/贪心求解。",
              "score": 20,
              "evaluation_focus": "博弈理解",
              "scoring_hint": "高分：写出min-max与方法；中分：只提最坏k节点；低分：无对抗描述。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "基线F1与重规划器可用性假设",
              "description": "明确若缺MILP则使用启发式近似F1，说明误差界或校正机制。",
              "score": 30,
              "evaluation_focus": "假设管理",
              "scoring_hint": "高分：陈述启发式误差用抽样精化校正；中分：仅称近似可用；低分：未说明可用性。"
            },
            {
              "sub_criteria": "A(n)与攻击成功概率分布假设",
              "description": "指明A(n)的代理变量与攻击成功率的分布/常数设定及其影响。",
              "score": 25,
              "evaluation_focus": "不确定性",
              "scoring_hint": "高分：给出具体分布或区间；中分：常数但解释合理；低分：未提。"
            },
            {
              "sub_criteria": "权重(α,β,γ)设定与敏感性范围",
              "description": "提出默认权重与敏感性扫描区间，避免单项主导。",
              "score": 25,
              "evaluation_focus": "参数设定",
              "scoring_hint": "高分：提供网格或Dirichlet抽样范围；中分：给出默认值；低分：未设权重。"
            },
            {
              "sub_criteria": "节点移除下可达性与不可行处理",
              "description": "假设不可达时的F1惩罚(如大M或CVaR处理)并说明判定规则。",
              "score": 20,
              "evaluation_focus": "稳健性",
              "scoring_hint": "高分：定义不可行罚项与记录；中分：口述跳过或设大值；低分：忽略不可行。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "B(n)多指标融合与规范化实现",
              "description": "给出介数、度中心性、断裂指标的加权或主成分融合并归一化为B(n)。",
              "score": 25,
              "evaluation_focus": "指标设计",
              "scoring_hint": "高分：明确公式与权重/归一化；中分：单一中心性；低分：无可复现定义。"
            },
            {
              "sub_criteria": "ΔE(n)的移除-重规划仿真流程",
              "description": "详细指定删除节点、候选路径重选、时间窗调整、启发式与MILP精化触发阈值。",
              "score": 30,
              "evaluation_focus": "仿真建模",
              "scoring_hint": "高分：含触发阈值与一致性检查；中分：仅描述步骤；低分：概念化无细节。"
            },
            {
              "sub_criteria": "A(n)攻击可达性量化模型",
              "description": "定义到边界距离或威胁图的函数形式并映射至[0,1]，说明参数来源。",
              "score": 20,
              "evaluation_focus": "量化设计",
              "scoring_hint": "高分：提供函数与参数；中分：仅线性距离；低分：未可量化。"
            },
            {
              "sub_criteria": "Stackelberg对抗与k节点选择模型",
              "description": "构造min防守 max|S|=k F1(S)框架，给出穷举/贪心近似与次梯度或启发式组合。",
              "score": 25,
              "evaluation_focus": "优化建模",
              "scoring_hint": "高分：含复杂度与近似保证/启发准则；中分：仅给贪心；低分：无选择模型。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "并行化与时间上限策略(joblib/mpi)",
              "description": "给出节点情景并行批处理、超时、失败回退与日志记录方案。",
              "score": 25,
              "evaluation_focus": "工程算力",
              "scoring_hint": "高分：含批大小、重试与随机种；中分：仅提并行；低分：未考虑算力。"
            },
            {
              "sub_criteria": "启发式与MILP精化的混合求解",
              "description": "规定对高ΔE(n)节点触发MILP精化的阈值与MIPGap/时限。",
              "score": 25,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：量化阈值与求解器参数；中分：口述精化；低分：全启发式或全MILP无策略。"
            },
            {
              "sub_criteria": "不确定性蒙特卡洛与CVaR计算",
              "description": "至少1000次采样，输出ΔE均值/Std/分位数与CVaR，报告排名稳定性(Kendall τ)。",
              "score": 30,
              "evaluation_focus": "统计计算",
              "scoring_hint": "高分：≥1000样本并给CVaR与τ；中分：少量样本或缺CVaR/τ；低分：无不确定性。"
            },
            {
              "sub_criteria": "最坏攻击集求解与验证",
              "description": "k小用穷举，k大用贪心/近似并用留一验证边际效应。",
              "score": 20,
              "evaluation_focus": "优化实现",
              "scoring_hint": "高分：实现并报告近似误差或上界；中分：仅给集合；低分：未求攻击集。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "NetworkX/GeoPandas计算B(n)与A(n)",
              "description": "提供可运行代码计算中心性、断裂指标与空间距离/威胁栅格映射。",
              "score": 25,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：含单测或断言、归一化一致；中分：能跑无校验；低分：伪代码或缺失。"
            },
            {
              "sub_criteria": "移除-重规划管线可复现",
              "description": "实现节点移除、启发式重规划、可选MILP调用接口(Gurobi/CPLEX)、超时控制。",
              "score": 30,
              "evaluation_focus": "系统集成",
              "scoring_hint": "高分：参数化、日志与种子固定；中分：基本流程；低分：无法批量运行。"
            },
            {
              "sub_criteria": "并行与缓存机制",
              "description": "joblib/mpi4py并行场景、结果缓存(避免重复)、失败回退记录。",
              "score": 20,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：带缓存键与断点续跑；中分：仅并行；低分：串行易超时。"
            },
            {
              "sub_criteria": "输出与可视化接口",
              "description": "生成节点表(B,ΔE,A,V)与前三名、最坏攻击集JSON/CSV，绘制热力图/排名变化图。",
              "score": 25,
              "evaluation_focus": "可用性",
              "scoring_hint": "高分：一键生成并含元数据；中分：部分输出；低分：无标准化输出。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "前三名最脆弱节点与ΔE明细",
              "description": "报告排名Top-3节点，逐一给出B(n)、ΔE(n)、A(n)、V(n)与解释其高分原因。",
              "score": 30,
              "evaluation_focus": "结果解释",
              "scoring_hint": "高分：数值齐全且因果清晰；中分：缺1项或解释弱；低分：仅给编号。"
            },
            {
              "sub_criteria": "最坏攻击集(k)导致的F1退化",
              "description": "量化报告在k节点攻击下F1上升、与单点ΔE的次模性/叠加性讨论。",
              "score": 25,
              "evaluation_focus": "对抗分析",
              "scoring_hint": "高分：给绝对/相对退化与对比贪心/穷举；中分：仅总退化；低分：未报告。"
            },
            {
              "sub_criteria": "权重敏感性与排名稳定性",
              "description": "展示不同(α,β,γ)下排名变化与Kendall τ/重排概率，识别稳固/脆弱节点。",
              "score": 25,
              "evaluation_focus": "敏感性",
              "scoring_hint": "高分：网格或抽样图与τ≥阈值讨论；中分：口述敏感性；低分：未做。"
            },
            {
              "sub_criteria": "不确定性区间与CVaR解释",
              "description": "给出ΔE与V的均值/置信区间/CVaR，解释尾部风险的作战含义。",
              "score": 20,
              "evaluation_focus": "风险解读",
              "scoring_hint": "高分：含数值与作战建议；中分：仅均值方差；低分：无区间/风险。"
            }
          ]
        }
      }
    },
    "4": {
      "subtask": "子任务4（多目标扩展与算法整合实施）：本子任务的目标是将“整体暴露时间”优化问题扩展为包含两个附加防护导向目标——（1）单车最长暴露时间 E_max 的最小化，以限制任何单辆发射装置的暴露风险；（2）机动分散性指标 S 的最小化，以量化并降低在空间和时间上同时聚集从而被侦察/集中打击的风险——并基于此设计、实现并验证一套工程化的求解流程以产出一组可供指挥决策的折中（Pareto）解。具体范围与步骤如下：输入数据为路网拓扑（节点与边、道路类别）、节点坐标、发射点与转载站位置与容量、每辆车的类型与初始待机位置、道路速度数据和第一波/第二波齐射时间窗（或第一波时刻固定）；预处理生成每辆车每段阶段的有限候选路径集（例如用Yen的K-shortest），并计算路径上的行驶时长及是否含关键单车道边。度量定义：整体暴露 F1 = ∑_i exposure_i（按既定规则剔除转载时间），E_max = max_i exposure_i，分散性 S = ∑_{i<j} w_space(d_{ij})·w_time(|Δt_{ij}|)（w_space、w_time 可选为指数衰减核或阈值函数，输入参数可配置），所有指标标准化便于加权比较。求解策略采用两阶段与多法并行：第一阶段计算基线最小F1解（MILP或启发式），作为参考；第二阶段在允许基线F1上升的若干松弛水平下，构造并采样Pareto前沿，实施三种互补算法以保证覆盖与可行性：A) 标量化搜索（加权和与ε-约束法）—通过在优化模型中加入变量E_max与S的加权项或将某一指标设为约束逐次求解MILP以获得不同权衡点；B) 元启发式全局搜索（遗传算法/模拟退火/粒子群）—将离散决策（发射点指派、候选路径选择、可能的出发时刻偏移）作为个体编码，评价函数由快速指派-调度启发式计算近似F1、E_max、S，并对优解用精确局部修复器（MILP热启动或局部整数规划）确保约束满足；C) 局部改进与仿真验证回环—对每个候选解用事件驱动仿真器精确计算单车道会车冲突、转载排队与真实暴露，若发现不可行或冲突则以限定规则（错峰出发、替换候选路径或切换转载站）进行局部修正并可将修正结果反馈至优化器。实现细节与技术要求：在模型层面引入E_max变量并用线性约束关联各车辆暴露；将S以可计算的二次或可线性化近似（分段或采样）形式接入目标或约束；为缩减规模仅对高冲突边或高相交候选路径对建立精确不相容约束；采用工业求解器（Gurobi/CPLEX）求解MILP子问题，并以Python生态（NetworkX、NumPy/Pandas、GeoPandas）构建数据处理管线与仿真器，使用并行化(joblib/mpi)对不同权重/ε设定或元启发式种群并行评估。计算策略与预算：为每个权衡点预设最大求解时限与MIPGap以保证可用性（例如每个MILP场景600–1800秒、MIPGap≤1%），对元启发式设定迭代与种群规模并以局部修复次数限制保证实时性。输出与交付物：生成标准化的Pareto解集（每个解含发射点分配、路径、节点到达/离开时刻、F1、E_max、S 值）、可视化的权衡曲线、若干代表性方案的事件驱动仿真日志与可执行的调度表，并附带参数化的规则集（例如允许F1上浮百分比以换取E_max或S的改进）以便决策者选择。质量保证与可复现性：提供完整参数配置、随机种子、候选路径集与求解器日志，并对关键解做灵敏度检验（小范围速度或转载时间扰动）以检验方案稳定性。该子任务不包含对外部攻防分析或选址决策的具体结论，其产出应为一套可运行、可配置且能在给定计算预算内生成多目标折中解和对应可执行调度的算法与软件模块。",
      "criteria": {
        "task_understanding": {
          "core_goal": "在多目标框架下优化两个波次发射调度的整体暴露时间F1、单车最长暴露时间E_max与机动分散性S，并产出Pareto折中解集。",
          "expected_output": "Pareto解集及其F1/E_max/S数值、代表性方案的事件驱动仿真日志、可执行调度表（节点序列与到离时刻）、权衡曲线与参数配置文件、求解器日志与随机种子。",
          "key_inputs_constraints": "输入：路网拓扑(节点/边/道路类别)、节点坐标、发射点与转载站位置与容量(2泊位/单服务器s=10分钟)、车辆集合与类型A/B/C及待机点、道路速度(主干/其他分型)、两波齐射时刻(T1固定或窗口，T2固定)、候选路径集(K最短)。约束：发射点位唯一性、转载站容量与互斥作业、关键单车道边冲突近似约束、F1剔除转载时间、E_max=max_i exposure_i 的线性化、S的可计算近似（核函数或分段线性）。前置：子任务1/2已提供候选路径与τ矩阵及基础MILP内核。",
          "modeling_type": "优化+仿真+评价",
          "role_in_pipeline": "作为多目标扩展与算法整合环节：在子任务1的MILP与候选路径、子任务2的求解框架与数据接口基础上，产出多目标Pareto解及仿真校验结果；其后为指挥决策与报告可视化提供输入。",
          "assumptions": "T1取0为时间基准；S采用双核w_space(距离)与w_time(发射时差)的可调超参数并以分段线性近似；并行资源≥8线程；每个MILP场景限时600–1800秒、MIPGap≤1%。"
        },
        "evaluation_criteria": {
          "问题识别": [
            {
              "sub_criteria": "多目标优化范围界定（F1/E_max/S）",
              "description": "是否准确识别在两个波次调度中需同时最小化整体暴露F1、单车最长暴露E_max与机动分散性S，并明确三者可能冲突关系。",
              "score": 35,
              "evaluation_focus": "建模思维",
              "scoring_hint": "高分：清晰指出三目标权衡与彼此牵制；中分：列出三目标但未分析冲突；低分：遗漏E_max或S，或将其误表述为约束。"
            },
            {
              "sub_criteria": "暴露时间定义与剔除转载时间",
              "description": "是否沿用F1=∑exposure_i且明确转载作业s=10分钟不计入暴露，并说明T1/T2的计时基准。",
              "score": 25,
              "evaluation_focus": "问题界定",
              "scoring_hint": "高分：明确T1=0基准与剔除规则；中分：描述模糊但方向正确；低分：将转载时间计入或时间基准混乱。"
            },
            {
              "sub_criteria": "关键约束识别（发射点唯一/转载容量/单车道冲突）",
              "description": "是否点明发射点唯一性、转载站单服务器与2泊位限制、关键单车道会车冲突的可容许近似。",
              "score": 25,
              "evaluation_focus": "约束意识",
              "scoring_hint": "高分：三项均到位并说明近似范围；中分：缺少其一；低分：多数缺失或与题意不符。"
            },
            {
              "sub_criteria": "Pareto解与决策用途",
              "description": "是否识别需输出Pareto前沿而非单一解，并服务指挥决策的权衡分析。",
              "score": 15,
              "evaluation_focus": "目标意识",
              "scoring_hint": "高分：明确Pareto集合及其可视化需求；中分：提到多组方案但未称Pareto；低分：只给单解。"
            }
          ],
          "问题复述": [
            {
              "sub_criteria": "两阶段流程复述（基线F1→权衡搜索）",
              "description": "是否准确复述先求最小F1基线，再在允许F1上浮下采样F1/E_max/S的Pareto前沿。",
              "score": 30,
              "evaluation_focus": "流程表达",
              "scoring_hint": "高分：给出F1上浮比例或ε设定示例；中分：仅概述两阶段；低分：流程顺序错误。"
            },
            {
              "sub_criteria": "三法并行复述（标量化/元启发式/仿真回环）",
              "description": "是否完整描述A)加权和/ε-约束、B)遗传/退火等全局搜索+局部MILP修复、C)仿真验证与错峰修正闭环。",
              "score": 35,
              "evaluation_focus": "方法理解",
              "scoring_hint": "高分：三法角色与接口清晰；中分：缺少其一或接口不清；低分：仅提单一方法。"
            },
            {
              "sub_criteria": "指标S的定义与近似",
              "description": "是否准确复述S=∑_{i<j} w_space(d_ij)·w_time(|Δt_ij|)并说明核函数与线性化/分段近似策略。",
              "score": 35,
              "evaluation_focus": "指标表述",
              "scoring_hint": "高分：给出核形式与参数可配；中分：仅口头描述；低分：误把S当距离和或未涉及时间项。"
            }
          ],
          "假设建立": [
            {
              "sub_criteria": "时间基准与窗口假设（T1/T2）",
              "description": "明确T1=0或固定时刻、T2固定；若有窗口给出可行区间处理方式（ε-约束或惩罚）。",
              "score": 25,
              "evaluation_focus": "假设清晰",
              "scoring_hint": "高分：量化阐明并与MILP约束一致；中分：仅口头；低分：与模型冲突。"
            },
            {
              "sub_criteria": "S核函数与线性化假设",
              "description": "选择指数/阈值/高斯核并说明分段点数、误差界或上界替代用于MILP可解性。",
              "score": 30,
              "evaluation_focus": "可解性设计",
              "scoring_hint": "高分：给出段数(如5-10段)与误差估计；中分：只给形式；低分：无法接入MILP。"
            },
            {
              "sub_criteria": "单车道冲突近似范围",
              "description": "说明仅对高重合度边/高流量边建成对优先变量q_ij,e，其余用候选路径设计与错峰出发规避。",
              "score": 25,
              "evaluation_focus": "近似边界",
              "scoring_hint": "高分：提供识别阈值(如重合率≥0.4)；中分：原则性表述；低分：未定义范围或全对建模。"
            },
            {
              "sub_criteria": "计算预算与并行假设",
              "description": "阐明每场景限时600–1800秒、MIPGap≤1%、并行线程数与种群规模/迭代上限。",
              "score": 20,
              "evaluation_focus": "资源规划",
              "scoring_hint": "高分：参数齐全且与任务一致；中分：部分给出；低分：无任何预算设定。"
            }
          ],
          "模型构建": [
            {
              "sub_criteria": "E_max变量与线性约束",
              "description": "正确定义E_max并加入exposure_i ≤ E_max以及F1=∑exposure_i（剔除转载时间）的线性关系。",
              "score": 30,
              "evaluation_focus": "数理推导",
              "scoring_hint": "高分：完整且与时间变量一致；中分：少一条关系；低分：未线性化或错误。"
            },
            {
              "sub_criteria": "S的可计算接入（分段/采样）",
              "description": "将S以分段线性或样本点预计算表插入MILP或做ε约束/惩罚，明确变量与约束数量控制。",
              "score": 25,
              "evaluation_focus": "模型设计",
              "scoring_hint": "高分：给出段数与O(n^2)控制策略；中分：仅描述思路；低分：无法求解或不可扩展。"
            },
            {
              "sub_criteria": "标量化与ε-约束建模",
              "description": "实现加权和目标与ε-约束（如F1≤(1+ρ)F1*、S≤S_bar）可切换配置。",
              "score": 20,
              "evaluation_focus": "优化建模",
              "scoring_hint": "高分：两者参数化可切换；中分：仅一种；低分：未体现。"
            },
            {
              "sub_criteria": "关键约束集的规模控制",
              "description": "仅对关键单车道边与瓶颈转载站建立q/o变量，说明筛选准则与变量规模估计。",
              "score": 25,
              "evaluation_focus": "复杂度控制",
              "scoring_hint": "高分：定量阈值与变量数量上界；中分：定性；低分：全量建立导致爆炸。"
            }
          ],
          "模型求解": [
            {
              "sub_criteria": "两阶段与多法并行求解策略",
              "description": "先解最小F1基线，再在多权重/ε下并行求解MILP与元启发式，形成Pareto覆盖。",
              "score": 30,
              "evaluation_focus": "算法选择",
              "scoring_hint": "高分：并行与调度细节清晰；中分：仅顺序跑；低分：缺少任一阶段。"
            },
            {
              "sub_criteria": "求解器配置（MIPGap/限时/并行）",
              "description": "给出Gurobi/CPLEX的MIPGap≤1%、600–1800秒限时、线程配置与热启动/惰性约束使用。",
              "score": 25,
              "evaluation_focus": "工程调优",
              "scoring_hint": "高分：含热启动或惰性约束；中分：仅Gap和限时；低分：缺省或不合理。"
            },
            {
              "sub_criteria": "元启发式与局部MILP修复",
              "description": "编码离散决策（发射点/路径/出发偏移），启发式评估F1/E_max/S，对优解进行局部MILP修复并记录改进。",
              "score": 25,
              "evaluation_focus": "混合优化",
              "scoring_hint": "高分：含修复准则与次数上限；中分：仅启发式；低分：无可行性保障。"
            },
            {
              "sub_criteria": "仿真验证与冲突修复闭环",
              "description": "事件驱动仿真检测单车道/转载排队冲突，采用错峰出发/替换路径/切换转载站规则迭代修复。",
              "score": 20,
              "evaluation_focus": "仿真校验",
              "scoring_hint": "高分：给出触发阈值与终止条件；中分：仅说明有仿真；低分：未验证可行性。"
            }
          ],
          "代码实现": [
            {
              "sub_criteria": "数据管线与接口（候选路径/τ矩阵/配置）",
              "description": "实现读取候选路径集与边时长τ、参数化配置（核参数、ε/权重、限时种子），并输出标准化结果。",
              "score": 30,
              "evaluation_focus": "代码可靠性",
              "scoring_hint": "高分：配置可复现、I/O校验；中分：基本可用；低分：接口不匹配或缺关键字段。"
            },
            {
              "sub_criteria": "MILP建模与求解器封装",
              "description": "用Gurobi/CPLEX构建含E_max与S近似的MILP，支持加权和/ε模式切换与热启动。",
              "score": 30,
              "evaluation_focus": "实现完整性",
              "scoring_hint": "高分：两模式可运行且记录日志；中分：仅一种模式；低分：模型不收敛或实现缺失。"
            },
            {
              "sub_criteria": "并行与缓存（多权重/多场景）",
              "description": "对多权重/ε/种群评估并行化，缓存评估与仿真结果避免重复计算。",
              "score": 20,
              "evaluation_focus": "性能工程",
              "scoring_hint": "高分：显式并行与缓存命中；中分：仅并行或仅缓存；低分：串行耗时过长。"
            },
            {
              "sub_criteria": "仿真器与冲突检测实现",
              "description": "实现事件驱动仿真（时间步/事件队列）、单车道区间冲突与转载排队精确检测，输出日志。",
              "score": 20,
              "evaluation_focus": "系统集成",
              "scoring_hint": "高分：日志详尽可复现；中分：基本检测；低分：无仿真或错误报警。"
            }
          ],
          "结果分析": [
            {
              "sub_criteria": "Pareto前沿覆盖与代表性方案",
              "description": "报告覆盖良好的Pareto点集，标注F1/E_max/S并选取3–5个代表性方案深入展示。",
              "score": 30,
              "evaluation_focus": "结果呈现",
              "scoring_hint": "高分：前沿连续且多样；中分：点少或集中；低分：无前沿图或单点。"
            },
            {
              "sub_criteria": "权衡分析（F1上浮换取E_max或S改进）",
              "description": "量化给出当F1上浮x%时E_max、S的改进幅度与指挥可用规则。",
              "score": 25,
              "evaluation_focus": "决策支持",
              "scoring_hint": "高分：含阈值/拐点；中分：定性描述；低分：无权衡量化。"
            },
            {
              "sub_criteria": "仿真一致性与可行性校验",
              "description": "对所报方案给出仿真暴露与MILP暴露的差异(<指定阈值)与冲突为零或已修复说明。",
              "score": 25,
              "evaluation_focus": "一致性检验",
              "scoring_hint": "高分：误差≤1–3%且无未修复冲突；中分：误差适中；低分：差异大或不可行。"
            },
            {
              "sub_criteria": "敏感性与稳健性",
              "description": "对速度/转载时间小扰动下F1/E_max/S变化与方案稳定性（排名或选择不变性）分析。",
              "score": 20,
              "evaluation_focus": "稳健分析",
              "scoring_hint": "高分：给出±10%扰动下指标变化；中分：定性；低分：未检验。"
            }
          ]
        }
      }
    }
  }
}