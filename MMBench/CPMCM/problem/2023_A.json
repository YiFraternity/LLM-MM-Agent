{
  "background": "\\section*{WLAN网络信道接入机制建模}\n\n\\subsection*{1. 背景}\n\n无线局域网（WLAN, wireless local area network）也即Wi-Fi广泛使用，提供低成本、高吞吐和便利的无线通信服务。基本服务集（BSS, basic service set）是WLAN的基本组成部分。处于某一特定覆盖区域内的站点（STA, station）与一个专职管理BSS的无线接入点（AP, access point）组成一个BSS，称STA关联到AP。常见的AP有无线路由器、WiFi热点等，手机、笔记本、物联设备等是STA。AP给STA发送数据叫作下行方向，反之是上行方向，本文将AP和STA统称为节点，每个节点的发送和接收不能同时发生。各节点共享信道，通过载波侦听多址接入/退避（CSMA/CA, carrier sense multi-access and collision avoidance）的机制避免冲突，称为分布式协调功能（DCF, distributed coordination function）。\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=0.5\\textwidth]{wlan_network.png}\n    \\caption{1.1 WLAN网络}\n\\end{figure}\n\n\\subsection*{1.1 分布式信道接入和二进制指数退避}\n\nDCF机制提供了一种分布式、基于竞争的信道接入功能。可将每个节点接入信道进行数据传输的过程分为3个阶段，信道可用评估（CCA, clear channel assessment）、随机回退、数据传输。\n\n\\begin{enumerate}\n    \\item \\textbf{CCA：} 当一个节点打算发送时，首先进行一个固定时长的载波侦听，这个固定时长被称为DCF帧间距（DIFS, DCF inter-frame space），43μs。如果DIFS时段内接收到的信号能量强度（RSSI, received signal strength indication）低于CCA门限（-82dBm），判断信道为空闲，否则，判断信道为繁忙。\n    \\item \\textbf{随机回退：} 信道空闲时，可能有多个节点准备好了数据，为避免碰撞，节点从[0, CW-1]的均匀分布选取一个随机数作为回退数，等待该回退数个时隙长度slotTime（9μs），随机回退时段时长为回退数乘以slotTime。CW被称为竞争窗口（contention window）。如果信道在随机回退时段保持空闲，则节点开始一次数据传输。在随机回退时段节点持续监听信道，如果期间信道变繁忙，则节点将回退暂停，直到信道在一个DIFS时长重新变为空闲，再继续前面没有回退完的时间。\n    \\item \\textbf{数据传输：} 回退到0的节点发送一个数据帧，接收节点成功接收到数据之后等待短帧帧间距（SIFS, Short inter-frame space）16μs后，回复ACK确认帧（32μs）。如果发送节点收到ACK，则数据发送成功。如果发送数据帧没有被接收节点成功接收，或者ACK发送失败，或者ACK没有被发送节点收到，则数据传输失败，发送节点需要在等待超时后重传数据。等待超时时间ACKTimeout为65μs。\n\\end{enumerate}\n\n随机回退采用二进制指数退避算法确定回退时间。CW的初始值为$CW_{\\text{min}}$，每次数据传输失败后重传数据帧时，CW翻倍。如果CW达到了$CW_{\\text{max}}$，则保持此值，直到被重置为止。每次数据传输成功时CW重置，开始下一个数据帧的回退。若传输连续失败，重传次数达到r后，数据帧被丢弃，CW重置传输下一个数据帧。可见，重传r次时，无论成功还是失败，CW都会重置。\n\\subsection{基于Markov chain的DCF机制建模和系统性能分析}\n\n对于单BSS，$N$个STA给AP发送上行数据，Bianchi（1998）最早基于Markov chain建模。Bianchi模型假设理想信道，不因信道质量差而丢包。当2个及以上节点同时回退到0发送数据时，由于碰撞而丢包。那么信道可能处于三种状态：空闲、成功传输、碰撞，如图1.2所示。将每个状态看作一个虚拟时隙，那么信道在三种虚拟时隙中转化。将退避器所处的阶数和随机回退数用二维Markov chain表示，推导节点在每个虚拟时隙的发送概率$\\tau$和发生碰撞的条件概率$p$，从而评估BSS的吞吐[1]。\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=\\textwidth]{channel_states.png}\n    \\caption{信道状态}\n    \\label{fig:channel_states}\n\\end{figure}\n\nBianchi模型获得了很高的精确度，很多工作在此基础上扩展，Chatzimisios（2002）研究了有最大重传次数限制的媒体接入控制（MAC，medium access control）层性能情况[2]。Huang和Ivan Marsic（2010）介绍了隐藏节点下网络模型和性能分析[3]。Chen（2007）分析了多速率MAC协议的性能[4]。基于Markov链求解$\\tau$和$p$的推导见附录和参考文献。\n\n吞吐是单位时间内发送数据有效载荷的比特数，单位bps。吞吐$S$可以由信道的利用率与物理层速率（单位bps）的乘积表示，\n\n\\begin{equation}\nS = \\frac{\\text{E[一个时隙内传输的有效载荷发送时长]}}{\\text{E[一个时隙长度]}} * \\text{物理层速率}\n\\tag{1}\n\\end{equation}\n\n信道处于三种虚拟时隙的概率可由$\\tau$和$p$表示，空闲时隙的长度$T_e$是slotTime。成功传输和碰撞的传输时长$T_s$和$T_c$分别表示为\n\n\\begin{align}\nT_s &= H + E[P] + SIFS + ACK + DIFS \\\\\nT_c &= H + E*[P] + DIFS + ACKTimeout\n\\tag{2}\n\\end{align}\n\n$H$为数据帧头，包括MAC层头和物理（PHY，physical）层头，E[P]为数据帧的有效载荷传输时长，E*[P]为发生冲突时较长数据帧的有效载荷传输时长，假设所有节点的数据帧长度一样，则E[P]与E*[P]相等。PHY头时长固定，MAC头和有效载荷的发送时长由其字节长度除以物理层速率得到。",
  "problem_requirement": "\\section{WLAN组网中的多BSS建模问题}\n\n节点发送数据后，电磁波信号在自由空间中传播，随着距离的增加，能量衰减越严重。周围节点收到该信号后，根据RSSI是否高于CCA门限，判断信道为忙或闲。一个节点发出信号的RSSI高于CCA门限的区域叫作通信区域，位于该通信区域内的节点与该发送节点互听。随着设备数量、应用类型、网络流量的飞速增长，AP部署日趋高密，如企业办公、工厂、教育场景。如图2.2（a）所示，将信道号为36、44、52、60、149、157的六个信道分配给区域内12个BSS，由于可用信道数有限，不同的BSS复用同一个信道。同频AP（使用相同信道号的AP）之间通信区域存在重叠时，存在相互干扰问题，叫作同频干扰。同频干扰是WLAN组网最显著的干扰问题，本题不考虑异频干扰的情况。家庭或宿舍等单BSS场景中，STA距离AP较近，RSSI较强，互听，假设理想信道，不会因信道质量差而丢包，只有在2个及以上STA同时发送数据时导致碰撞而丢包。而在教学区等场景，同频多BSS场景的情况更复杂。\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=\\textwidth]{ap_deployment.png}\n    \\caption{(a) AP密集部署 (b) 两同频BSS场景 (c) 三同频BSS场景}\n    \\label{fig:ap_deployment}\n\\end{figure}\n首先，并不是所有的节点之间都能互听。假定 AP 和 STA 的发射功率相同，由于节点间距离不同，信号衰减不同，因此 RSSI 不同。节点在 DIFS 时长侦听信号的 RSSI > CCA 门限时，节点才认为信道繁忙，否则认为信道空闲，启动随机回退，发送数据。其次，当有多个 BSS 的节点同时发送数据（叫作并发传输）时，其成功与否与信干比（SIR，signal to interference ratio）有关，若 SIR 足够高，则信号能被成功解调，若 SIR 很低，则信号解调失败。信干比是信号强度与干扰强度的比值，单位是 dB，RSSI 的单位是 dBm，则 SIR 可以用信号 RSSI 与干扰信号 RSSI 的差值表示，本文中不考虑环境噪声。\n\n发送节点间能否互听，并发传输时是否成功，是进行系统建模需要考虑的两个先决条件，前者决定了退避计数器能否回退，后者决定了一次并发传输是成功还是失败，从而直接影响成功、失败和空闲三种状态之间的转换。\n\n\\subsection*{2.1 两 BSS 互听}\n\n考虑 2 个 BSS 互听的场景，仅下行，即两个 AP 分别向各自关联的 STA 发送数据，如图 2.2（b）所示。以 AP1 -> STA1 方向的数据传输为例，其会受到相邻 BSS2 的干扰，对于 STA1 来说，AP1 -> STA1 是信号，AP2 -> STA1 是干扰。对于 AP2 -> STA2 情况类似。假设 ACK 一定能发送成功。根据节点之间的 RSSI 估算两个 AP 并发时的 SIR，考虑不同的情景进行建模。\n\n\\subsubsection*{问题 1：}\n\n假设 AP 发送包的载荷长度为 1500 Bytes（1 Byte = 8 bits），PHY 头时长为 13.6 μs，MAC 头为 30 Bytes，MAC 头和有效载荷采用物理层速率 455.8 Mbps 发送。AP 之间的 RSSI 为 -70 dBm。大部分时候只有一个 AP 能够接入信道，数据传输一定成功。当两个 AP 同时回退到 0 而同时发送数据时，存在同频干扰。假设并发时的 SIR 较低，导致两个 AP 的数据传输都失败。请对该 2BSS 系统进行建模，用数值分析方法求解，评估系统的吞吐。（参数参考附录 4，可编写仿真器验证模型精确度）\n\n\\subsubsection*{问题 2}\n\n假设两个 AP 采用物理层速率 275.3 Mbps 发送数据，并发时两个终端接收到数据的 SIR 较高，两个 AP 的数据传输都能成功。其他条件同问题 1。请对该 2BSS 系统进行建模，用数值分析方法求解，评估系统的吞吐。（参数参考附录 4，可编写仿真器验证模型精确度）\n\n\\subsection*{2.2 两 BSS 不互听}\n\n在 AP 密集部署时，同频 AP 之间的距离远，AP 间 RSSI 低于 CCA 门限，不互听。AP 认为信道空闲，因此总是在退避和发送数据。这是 Wi-Fi 里常见的隐藏节点问题，详见附录。可以预见的是，有很大概率出现二者同时或先后开始发送数据的情况。接收机解调信号时，PHY 头的前面部分码元用于 Wi-Fi 信号识别、频率纠错、定时等功能，叫作前导（Preamble）。如图 2.3 所示，当信号包先到时，接收机先解信号包的 Preamble 并锁定，干扰包被视为干扰，信号包是否接收成功由 SIR 决定；当干扰包先到时，接收机先锁定到干扰包的 Preamble，错过信号包的 Preamble，导致信号包无法解调。小信号屏蔽算法能有效解决这个问题，因为信号包 RSSI 一般大于邻小区的干扰包，接收机在信号包到达时转为锁定 RSSI 更大的信号包，此时信号包能否接收成功同样也由 SIR 决定。由此可以得知，在 SIR 比较小的情况下，如果信号包和干扰包在时间上有如图 2.3 的交叠时，一定会导致本次传输的失败。\\begin{table}\n\\centering\n\\begin{tabular}{c c c c c c c}\n\\hline\n信号 & PHY hdr & MAC hdr & Payload & 信号 & PHY hdr & MAC hdr & Payload \\\\\n\\hline\nPreamble & & & & Preamble & & & \\\\\n\\hline\n干扰 & PHY hdr & MAC hdr & Payload & 干扰 & PHY hdr & MAC hdr & Payload \\\\\n\\hline\n\\end{tabular}\n\\caption{图2.3 并发传输交叠示意图}\n\\end{table}\n\n\\section*{问题3}\n\n假设AP间RSSI为-90dBm，AP发送包的载荷长度为1500Bytes，PHY头时长为13.6，MAC头为30Bytes，MAC头和载荷采用物理层速率455.8Mbps发送。Bianchi模型假设理想信道，实际上，无线传输环境是复杂多变的，当有遮挡物或者人走动时，无线信道都可能会快速发生比较大的变化。实测发现，当仅有一个AP发送数据时，即便不存在邻BSS干扰，也会有10%以内不同程度的丢包。假设因信道质量导致的丢包率$P_e=10\\%$。当两个AP发包在时间上有交叠时，假设SIR比较小，会导致两个AP的发包均失败。请对该2BSS系统进行建模，尽量用数值分析方法求解，评估系统的吞吐。（参数参考附录4和6，可编写仿真器验证模型精确度）\n\n\\section*{2.3 三BSS}\n\n\\section*{问题4}\n\n考虑3BSS场景，如图2.2(c)所示，其中AP1与AP2之间，AP2与AP3之间RSSI均为-70dBm，AP1与AP3之间RSSI为-96dBm。该场景中，AP1与AP3不互听，AP2与两者都互听，可以预见的是，AP2的发送机会被AP1和AP3挤占。AP1与AP3由于不互听可能同时或先后发送数据。假设三个AP发送包的载荷长度为1500Bytes，PHY头时长为13.6$\\mu s$，MAC头为30Bytes，MAC头和载荷采用物理层速率455.8Mbps发送。假设AP1和AP3发包时间交叠时，SIR较大，两者发送均成功。请对该3BSS系统进行建模，尽量用数值分析方法求解，评估系统的吞吐。（参数参考附录4和6，可编写仿真器验证模型精确度）\n\n\\section*{缩略语}\n\n\\begin{itemize}\n    \\item AP: access point (无线接入点)\n    \\item ACK: Acknowledgement (确认)\n    \\item ACK Timeout: 确认超时\n    \\item BSS: basic service set (基本服务集)\n    \\item CCA: clear channel assessment (信道可用评估)\n    \\item CSMA/CA: carrier sense multi-access and collision avoidance (载波监听多址接入/退避)\n    \\item CW: contention window (竞争窗口)\n    \\item DCF: distributed coordination function (分布式协调功能)\n    \\item DIFS: DCF inter-frame space (DCF帧间距)\n    \\item MAC: medium access control (媒体控制)\n    \\item PHY: physical (物理层)\n    \\item RSSI: received signal strength indication (接收信号能量强度)\n    \\item SIFS: short inter-frame space (短帧间距)\n    \\item SIR: signal to interference ratio (信干比)\n    \\item STA: station (站点)\n    \\item WLAN: wireless local area network (无线局域网)\n\\end{itemize}\\section*{缩略语}\n\n\\begin{tabular}{|c|c|c|}\n\\hline\nAP & access point & 无线接入点 \\\\\n\\hline\nACK & Acknowledgement & 确认 \\\\\n\\hline\nACKTimeout &  & 确认超时 \\\\\n\\hline\nBSS & basic service set & 基本服务集 \\\\\n\\hline\nCCA & clear channel assessment & 信道可用性评估 \\\\\n\\hline\nCSMA/CA & carrier sense multi-access and collision avoidance & 载波监听多址接入退避 \\\\\n\\hline\nCW & contention window & 竞争窗口 \\\\\n\\hline\nDCF & distributed coordination function & 分布式协调功能 \\\\\n\\hline\nDIFS & DCF inter-frame space & DCF 帧间距 \\\\\n\\hline\nMAC & medium access control & 媒体控制 \\\\\n\\hline\nPHY & physical & 物理层 \\\\\n\\hline\nRSSI & received signal strength indication & 接收信号能量强度 \\\\\n\\hline\nSIFS & short inter-frame space & 短帧间距 \\\\\n\\hline\nSIR & signal to interference ratio & 信干比 \\\\\n\\hline\nSTA & station & 站点 \\\\\n\\hline\nWLAN & wireless local area network & 无线局域网 \\\\\n\\hline\n\\end{tabular}",
  "dataset_path": [],
  "dataset_description": "",
  "variable_description": [],
  "addendum": "\\section{随机回退}\n\n随机回退采用二进制指数退避算法确定回退时间。CW 的初始值为 $CW_{\\text{min}}$，每次数据传输失败后进行重传时，CW 翻倍。如果 CW 达到了 $CW_{\\text{max}}$，则保持此值，直到被重置为止。每次数据传输成功时 CW 重置，开始下一个数据帧的回退。若传输连续失败，重传次数达到 $r$ 后，数据帧被丢弃，CW 重置传输下一个数据帧。可见，重传 $r$ 次时，无论成功还是失败，CW 都会重置。\n\n图 3.1 以三个节点为例说明。图中 CW 表示当前阶竞争窗口大小，BO 表示随机回退过程时退避计数器从 $[0, CW-1]$ 随机选取的初始值。三个节点的 $CW_{\\text{min}}$ 分别是 8、16、32。开始时，Station c 在发送数据，信道繁忙，数据发送完成后，退避计数器重置。Station a、b 和 c 持续侦听信道 DIFS 时长，信道被检测为空闲，三者分别开始随机回退，都处于第 0 阶，竞争窗为 $[0, CW_{\\text{min}}-1]$。Station a 从 $[0, 7]$ 选择了一个随机数 7，需要回退 7 个 slotTime；Station b 则从 $[0, 15]$ 选择了随机数 12 回退；Station c 从 $[0, 31]$ 选择了随机数 16 回退；显然，Station a 最先回退到 0，抢占到信道，开始一次数据发送，此时，Station b 和 c 在其回退过程中由于侦听到信道繁忙，随机回退暂停。当 Station a 发送成功后，其竞争窗口重置，信道持续 DIFS 时长空闲后，Station a 重新从 $[0, 7]$ 选择随机数 5 回退，Station b 和 c 接着暂停前的回退数继续回退。本次 Station a 和 b 同时回退到 0，同时发送数据，由于冲突导致发送失败，接收节点将不会回复 ACK，Station a 和 b 在等待 ACKTimeout 后判断数据发送失败，进行重传，将竞争窗翻倍，再次侦听信道 DIFS 时长判断信道空闲后，Station a 从 $[0, 15]$ 选择随机数 11 回退，Station b 则从 $[0, 31]$ 选择随机数 9 回退。需要注意的是，图 3.1 中的一次传输 (Tx, transmission) 包含了发送一个数据包和接收一个 ACK，一次 collision 包含了发送一个数据包和等待 ACKTimeout 时长。帧序列如图 3.2 所示，一个数据帧包括 PHY 头、MAC 头和有效载荷 payload。\n\n\\begin{figure}[h]\n\\centering\n\\includegraphics[width=\\textwidth]{image1.png}\n\\caption{二进制指数退避过程}\n\\end{figure}\n\n\\begin{figure}[h]\n\\centering\n\\includegraphics[width=\\textwidth]{image2.png}\n\\caption{帧序列}\n\\end{figure}\n\n\\section{2 Bianchi 模型}\n\n令 $b(t)$ 和 $s(t)$ 代表 $t$ 时刻一个节点退避随机过程的退避计数和退避阶数，这里的 $t$ 是一个离散的虚拟时隙的开始时刻。用 $i$ 表示一个数据的发送次数，也叫作阶数，$r$ 为最大重传次数，$m$ 是最大退避阶数，则 CW 可用下式表示：\n\\begin{equation}\n\\begin{cases}\nW_i = 2^i W_0 & 0 \\leq i \\leq m \\\\\nW_i = 2^m W_0 & m \\leq i \\leq r\n\\end{cases}\n\\tag{3}\n\\end{equation}\n\n二维 $\\{b(t), s(t)\\}$ 随机过程可以用二维 Markov chain 表示，如图 3.3 所示。$b_{i,k} = \\lim_{t \\to \\infty} P\\{s(t) = i, b(t) = k\\}$ 代表二维 Markov chain 的稳态解，$i \\in [0, m]$, $k \\in [0, W_i - 1]$。\n\n\\begin{figure}[h]\n\\centering\n\\includegraphics[width=\\textwidth]{markov_chain_diagram.png}\n\\caption{DCF 的 Markov 链模型}\n\\end{figure}\n\n$p$ 为某个时隙发生碰撞的概率，Markov chain 一步状态转移概率为：\n\\begin{equation}\n\\begin{aligned}\nP\\{i, k | i, k+1\\} &= 1 & k \\in [0, W_i - 2] & i \\in [0, r] \\\\\nP\\{0, k | i, 0\\} &= (1-p)/W_0 & k \\in [0, W_0 - 1] & i \\in [0, r] \\\\\nP\\{i, k | i-1, 0\\} &= p/W_i & k \\in [0, W_i - 1] & i \\in [1, r] \\\\\nP\\{0, k | r, 0\\} &= 1/W_0 & k \\in [0, W_0 - 1] &\n\\end{aligned}\n\\tag{4}\n\\end{equation}\n\n式 (4) 中每个式子分别代表一定的物理含义。第一个等式代表，未达到重传上限时，退避计数器在每个空闲时隙的开始时刻减 1 的概率是 1。第二个等式代表，未达到重传上限时，当一个数据成功传输后，新到达的数据在 $[0, W_0 - 1]$ 中等概率选一个随机数进行回退。第三个等式代表，未达到重传上限时，当一个数据第 $i-1$ 次传输过程发生碰撞，节点进入第 $i$ 阶回退过程，并在 $[0, W_i - 1]$ 中等概率选一个随机数进行回退。最后一个等式代表，当节点到达最大的传输次数以后，无论成功还是失败，CW 都会重置。\n\n该 Markov chain 的任意状态之间可达，是不可约的。任意状态到另一状态的步长不存在周期。从任何状态出发，都能到达另一状态，具有常返性。因此该二进制退避过程的非周期不可约 Markov chain 具有稳态解，且所有稳态的概率之和为 1。\n令 \\( b_{i,k} = \\lim_{t \\to \\infty} P\\{s(t) = i, b(t) = k\\}, i \\in (0, m), k \\in (0, W_i - 1) \\) 表示 Markov chain 的稳态解，从图 3.3 中可以看出，对于一次发送失败的情况，状态 \\( b_{i-1,0} \\) 到状态 \\( b_{i,0} \\) 的步长包括， \\( b_{i-1,0} \\to b_{i,0} \\), \\( b_{i-1,0} \\to b_{i,1} \\to b_{i,0} \\), …… \\( b_{i-1,0} \\to b_{i,W_i-1} \\to \\cdots \\to b_{i,1} \\to b_{i,0} \\)，共 \\( W_i \\) 种，求和可得，\n\n\\[\nb_{i,0} = b_{i-1,0} * (p * 1/W_i + p * 1/W_i * 1 + \\ldots + p * 1/W_i * 1^{W_i-1}) = p * b_{i-1,0},\n\\]\n\n\\[\nb_{i,0} = p * b_{i-1,0} \\quad 0 < i \\leq r \\quad \\Rightarrow \\quad b_{i,0} = p^i * b_{0,0} \\quad 0 < i \\leq r\n\\]\n\n同理，对于任一状态 \\( b_{i,k} \\)，若 \\( 0 < i < r \\)，则是从一次发送失败的状态，通过竞争窗口加倍之后转移过来的。若 \\( i = 0 \\)，则是从任一阶发送成功，或达到重传次数限制后转移过来的。因此有，\n\n\\[\nb_{i,k} =\n\\begin{cases}\nb_{i-1,0} * p * \\frac{W_i - k}{W_i} & 0 < i < r \\\\\n(1 - p) * \\frac{W_i - k}{W_i} * \\sum_{j=0}^r b_{j,0} & i = 0\n\\end{cases}\n\\]\n\n将式 (5) 代入式 (6)，可得，\n\n\\[\nb_{i,k} = \\frac{W_i - k}{W_i} * b_{i,0} \\quad 0 \\leq i \\leq r, 0 \\leq k \\leq W_i - 1\n\\]\n\n根据 Markov chain 的性质，所有稳态的概率之和为 1，因此有，\n\n\\[\n1 = \\sum_{k=0}^{W_i-1} \\sum_{i=0}^r b_{i,k} = \\sum_{i=0}^r b_{i,0} \\sum_{k=0}^{W_i-1} \\frac{W_i - k}{W_i} = \\sum_{i=0}^r b_{i,0} \\frac{W_i + 1}{2}\n\\]\n\n根据式 (3) 和 (8)，可以求得：\n\n\\[\nb_{00} =\n\\begin{cases}\n\\frac{2(1-p)(1-2p)}{(1-2p)(1-p^{r+1}) + W_0(1-p)(1-(2p)^{r+1})} & r \\leq m \\\\\n\\frac{2(1-p)(1-2p)}{W_0(1-(2p)^{m+1})(1-p) + (1-2p)(1-p^{r+1}) + W_0 2^m p^{m+1} (1-p^{r-m})(1-2p)} & m < r\n\\end{cases}\n\\]\n\n节点随机回退到 0 时发送数据，因此节点在一个时隙发送数据帧的概率为\n\n\\[\n\\tau = \\sum_0^r b_{i,0} = b_{0,0} * \\frac{1-p^{r+1}}{1-p}\n\\]\n\n传输数据发生冲突时，至少有另外一个节点也传输数据，共有 \\( N \\) 个节点，因此条件碰撞概率 \\( p \\) 可表示为\n\n\\[\np = 1 - (1 - \\tau)^{N-1}\n\\]\n\n式 (10) 和 (11) 是关于 \\( p \\) 和 \\( \\tau \\) 的二元非线性方程，联立可求解。\n\n\\section{隐藏节点问题}\n\n隐藏节点是指在目的接收节点的通信区域内，而在其他发送节点的通信区域外的节点，这样由于和其他的发送节点互相听不到，会导致意外的同时传输而冲突的情况。如图 3.4 (a) 所示，单 BSS 场景中，STA1 和 STA2 分别能够与 AP 互听，而 STA1 和 STA2 相距较远。STA1 给 AP 发送上行数据时，随着距离的增加，信号衰减严重，STA2 接收到该信号的 RSSI 低于信道监听 CCA 门限，STA2 不在 STA1 的通信范围内，STA2 将无法感知到对方在给 AP 发送数据，判断信道为闲，因此，二者可能会同时或相继给 AP 发送数据，在接收节点 AP 处，来自STA1和STA2的电磁波信号混叠，AP无法正确解码，导致数据发送失败。隐藏节点问题是由CSMA/CA机制所引起的。图3.4（b）是两BSS场景，同理，由于AP1和AP2相距较远，分别不在对方的通信区域，因此可能会同时或相继给各自关联的STA发送数据。与单BSS不同的是，接收节点有两个，接收成功与否，与SIR有关。因为，当信号包先到时，接收机锁定Preamble，干扰包被视为干扰，SIR高则接收成功，否则失败；当干扰包先到时，接收机先锁定干扰包的Preamble，导致错过信号包的Preamble，则一定接收失败。\\section{通用参数列表}\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|}\n\\hline\n参数名称 & 值 \\\\\n\\hline\nACK时长 & 32$\\mu$s \\\\\n\\hline\nSIFS时长 & 16$\\mu$s \\\\\n\\hline\nDIFS时长 & 43$\\mu$s \\\\\n\\hline\nSLOT时长 & 9$\\mu$s \\\\\n\\hline\nACK Timeout时长 & 65$\\mu$s \\\\\n\\hline\nCW min & 16 \\\\\n\\hline\nCW max & 1024 \\\\\n\\hline\n最大重传次数 & 32 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\section{发包时长计算公式}\n\n\\begin{equation}\nt = t_{phy} + t_{mac\\ header} + t_{payload} = t_{phy} + \\frac{L_{mac\\ header} + payload}{rate}\n\\end{equation}\n\n\\section{问题3和4参数}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|}\n\\hline\nCW\\_min & 16 & 32 & 16 & 16 & 32 \\\\\n\\hline\nCW\\_max & 1024 & 1024 & 1024 & 1024 & 1024 \\\\\n\\hline\n最大重传次数 & 6 & 5 & 32 & 6 & 32 \\\\\n\\hline\n物理层速率 & 286.8Mbps & 286.8Mbps & 286.8Mbps & 158.4Mbps & 158.4Mbps \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n参考文献\n\n[1] Bianchi Gi$\\mu s$eppe. IEEE 802.11-Saturation Throughput Analysis [J]. IEEE Communications Letters, 1998, 2(12):318-320.\n\n[2] P. Chatzimisios, V. Vitsas and A. C. Boucouvalas, \"Throughput and delay analysis of IEEE 802.11 protocol,\" Proceedings 3rd IEEE International Workshop on System-on-Chip for Real-Time Applications, 2002, pp. 168-174, doi: 10.1109/IWNA.2002.1241355.\n\n[3] Hung, Fu-Yi, and Ivan Marsic. \"Performance analysis of the IEEE 802.11 DCF in the presence of the hidden stations.\" Computer Networks 54.15 (2010): 2674-2687.\n\n[4] D. R. Chen and Y. J. Zhang, \"Is Dynamic Backoff Effective for Multi-Rate WLANs?\" in IEEE Communications Letters, vol. 11, no. 8, pp. 647-649, Aug$\\mu s$t 2007"
}