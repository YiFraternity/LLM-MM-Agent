{
  "tasks": [],
  "problem_str": "问题背景：\n2009年诺贝尔物理学奖授予了英籍华人高锟（Charles K. Kao）博士，以表彰他对光纤通信发展所做出的贡献，诺贝尔奖委员会在给公众的公开信中写到：\n\n“当诺贝尔物理学奖宣布的时候，世界大部分地方几乎瞬间收到了这条信息…文字、语音和视频信号沿着光纤在世界各地来回传输，几乎瞬时地被微小而便捷的设备接收，人们已经把这种情况当做习惯。光纤通信正是整个通信领域急速发展的前提。”\n\n从诞生至今，50多年里基于数字光纤通信技术的光传送网构建起了全球通信的骨架。从城市内的传输，直到跨越大洋的传输，光传送网为人类提供了大容量、高可靠性和低能耗的信息传输管道，人类对通信容量的追求也成为光传送技术发展的源源不断的动力。\n\n光传送网的规划与建设是运营商、设备商以及政府必须考虑的课题。光传送的基本规律是——在相同技术条件下传输的容量会随着传输距离增加而减小。网络规划者需要在有限资源的条件下，综合考虑传输距离，传输容量、网络拓扑等各种因素，以最大化网络的价值。本课题中，请你们站在上述角度，从底层物理出发为光传送链路建模，制定光传送网规划，探索光传送网有关规律。\n\n问题要求：\n本课题的内容包括：\n\n1）对光传送链路进行简单建模 \n\n2）制定光传送网的规划，并探讨网络的价值\n\n3）改进调制格式\n\n问题-1：光传送链路建模\n\n现代数字传输系统可认为是对0101二进制序列进行编码传输的系统，1个二进制的0或1称为1个比特（bit）。无论是语音、视频还是任何类型的消息，都可以数字化为一串串”0101…”的二进制比特序列，经编码并调制为某个“载体信号”后，再经过特定的“信道”（信息的通道）传输到目的地。图1中给出了简化的模型。在光纤通信中，光纤就是信道，光纤传输的光波就是信息的载体。信道中无法避免的噪声可能导致最终接收的二进制序列中比特出错，即产生误码。\n\n\n图1 简化后的数字传输模型\n\n二进制序列通常需要将K个比特作为一个“符号”进行传输，每个符号有$2^K$个不同状态。光传输利用光波的复振幅承载信号，因此可用复平面上不同的点来对应不同的符号状态，这种将符号状态画在复平面上的图称为“星座图”，图上的点称为“星座点”。如图2(a)所示的QPSK（Quadrature Phase Shift Keying）调制，经过信道叠加噪声和接收机处理后，接收端的星座图不再是理想的四个点，而是会出现扩散。当接收机收到1个符号时，就将发送的符号判定为离该符号最近的星座点。显然，如果噪声过大，接收到的符号可能被判错从而产生误码，如图2(b)中的蓝点。误码率（Bit Error Ratio, BER）定义为错误的比特数占总传输比特数的比例，例如传输了50个符号共100个比特，其中有1个符号被误判为相邻的符号，错误了1个bit，则误码率为0.01。BER是衡量通信系统性能的最根本指标，采用纠错编码，只要纠前BER小于某个门限值（BER容限点），纠错编码后就能实现纠后误码率为零的传输，本题中BER都是指纠错编码前的误码率（纠前BER）。\n\n\n图2 星座图与噪声导致误码的示意图\n\n\n图3中理想星座点用$\\mathbf{s}_k$表示，接收到的符号用$\\mathbf{r}_k$表示，则噪声为\n\\begin{equation}\n    \\mathbf{n}_k = \\mathbf{r}_k - \\mathbf{s}_k\n    \\tag{1}\n\\end{equation}\n噪声通常服从均值为0的正态分布。噪声的方差等于噪声的平均功率，定义为\n\\begin{equation}\n    P_n = \\frac{1}{N} \\sum_{k=1}^N |\\mathbf{n}_k|^2\n    \\tag{2}\n\\end{equation}\n其中N为总共传输的符号数。信号平均功率定义为发送符号绝对值平方的均值：\n\\begin{equation}\n    P_s = \\frac{1}{N} \\sum_{k=1}^N |\\mathbf{s}_k|^2\n    \\tag{3}\n\\end{equation}\n定义信号和噪声功率的比值为信噪比（Signal-to-Noise Ratio, SNR），\n\\begin{equation}\n    \\text{SNR} = \\frac{P_s}{P_n}\n    \\tag{4}\n\\end{equation}\n\n工程上通常用dB作为SNR的单位，定义为\n\\begin{equation}\n\\text{SNR(dB)} = 10 \\log_{10}(P_s / P_n)\n\\tag{5}\n\\end{equation}\n\n增大十倍为加 $10\\text{dB}$，减少 $0.5$ 倍为减去 $3\\text{dB}$。本题中功率单位统一为毫瓦（$mW$），星座图实部和虚部单位为 $\\sqrt{mW}$。\n\n光传输链路由多个相同跨段的级联而成。如图4所示，几十 km 的光纤和一个放大器构成了一个跨段。信号穿传输 $15km$，光功率衰减一半，经超过一定光纤传输后，需要用放大器对光功率进行补偿。在信号、噪声同步放大的同时，放大器还会引入自发辐射噪声，公式为\\n\\[ P_n = 2\\pi hfB(NF+1/Gain), \\]\\n其中 $h$ 是普朗克常数（$6.62606896 \\times 10^{-34} J\\cdot S$），$f$ 是波频率（可设为 $193.1THz$），$B$ 为带宽（设为 $50GHz$），$NF$ 为噪声指数（可设为 $4$），$Gain$ 为补偿光纤损耗对应的功率增益。另一方面，光纤作为一种传输介质，其本身的非线性效应也会等效为加性噪声，其等效噪声功率与入纤功率近似呈平方关系，光功率为 $1mW$ 时的非线性噪声约等于单个放大器噪声的 $2/3$。放大器的自发辐射噪声和光纤的非线性噪声都是加性噪声。非线性噪声在每跨开头叠加，放大器噪声在每跨末尾叠加；每跨中信噪比保持不变。每跨叠加的噪声间相互独立。\n\n子问题1）纠缠误码率与信噪比计算\n\n星座图的编码分布模式也应为调制格式，对于给定的调制格式，BER 和 SNR 呈一一对应的关系，纠缠 BER 门限对应的 SNR 记做“SNR 容限点”。给出图5中所示的三种调制格式及编码方式（相邻星座点距离相等等），每个符号等概率出现，分别称为 QPSK，8QAM（Quadrature·Amplitude·Modulation，QAM），16QAM。请给出 BER 与 SNR 的关系曲线，BER=0.02 时 SNR 容限点分别为多少？\n\n图5 三种调制格式的编码方案\n\n子问题-2）光链路性能计算\n\n当单跨传输距离为80km和100km两种情况，以纠前误码率0.02为门限，图5给出的传输格式最远的传输距离（每跨距离×跨段数量）是多少？\n\n传输格式最远的传输距离（每跨距离×跨段数量）是多少？}\n\n\\subsection*{3. 问题-2 光传送网规划}\n\n表1 给出进一步优化升级后的三种典型光传输设备参数。考虑到通信网络的目的是把更多的人更充分地连接到一起，我们按照如下方式定义网络的价值：\n\n1) 每条直接连接两个城市/区域的链路当做 1 个连接，每个连接的价值定义为传输的容量与连接区域人口数的乘积（取两区域人口数乘积的 0.5 次方）\n\n2) 网络的价值则是所有连接价值的加权和\n\n\\begin{equation}\n\\text{网络价值} = \\sum \\text{权重} \\times \\text{容量} \\times \\text{人口}\n\\tag{6}\n\\end{equation}\n\n以图5给出的北京、南京、上海三座城市为例，若相互之间均互有连接，根据城市的距离可得出能传输的容量。若每条链路的权重为 1，进而再由人口算出网络价值 (Network Value, NV) 为\n\n\\begin{equation}\nNV = \\sqrt{21 \\times 24} m \\times 16 \\, \\text{Tb/s} + \\sqrt{21 \\times 8} m \\times 16 \\, \\text{Tb/s} + \\sqrt{24 \\times 8} \\times 32 \\, \\text{Tb/s} \\approx 1010 \\, \\text{mTb/s}\n\\tag{7}\n\\end{equation}\n\n其中 \\( m \\) 代表百万人 (million)，\\( \\text{Tb/s} = 10^{12} \\, \\text{bit/s} \\)，该网络的连接数为 3。\n\n然而由于资源等因素制约，网络往往并不能让每对节点都直接连接，但可通过中间节点连接起来。以图5(b) 为例，网络连接数为 2，北京和南京之间需通过上海中转。若北京上海之间的传输仅保留一半容量 (100Gb/s)，而另一半容量用于南京到北京的信号传输 (100Gb/s)，相应地南京与上海之间的直接传输容量也会降低至 300Gb/s，此时网络的价值为\n\n\\begin{equation}\nNV = \\sqrt{21 \\times 24} m \\times 8 \\, \\text{Tb/s} + \\sqrt{21 \\times 8} m \\times 8 \\, \\text{Tb/s} + \\sqrt{24 \\times 8} \\times 24 \\, \\text{Tb/s} \\approx 616 \\, \\text{mTb/s}\n\\tag{8}\n\\end{equation}\n\n根据需要两个节点之间也可以有多个连接。\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=0.8\\textwidth]{network_diagram.png}\n    \\caption{三个节点网络示意图}\n    \\label{fig:network_diagram}\n\\end{figure}\n\n\\begin{table}[h]\n    \\centering\n    \\begin{tabular}{|c|c|c|}\n        \\hline\n        单波传输容量 & 最大传输距离 & 总容量 \\\\\n        \\hline\n        100Gb/s & 3000km & 8Tb/s \\\\\n        \\hline\n        200Gb/s & 1200km & 16Tb/s \\\\\n        \\hline\n        400Gb/s & 600km & 32Tb/s \\\\\n        \\hline\n    \\end{tabular}\n    \\caption{不同传输格式的传输距离}\n    \\label{tab:transmission_distance}\n\\end{table}\n\n请你们队考虑价值与需求为图6中的我国城市群制定光传送网规划，图中共有12个区域(其中北京/天津，深圳/广州均按1个区域对待)， \n\n子问题-1:如果连接数从16增加到33条时，不考虑中间节点，给出你们的两个网络规划及其价值。网络价值最多是多少？\n\n子问题-2：存在中间节点，且两个节点之间可以有多个连接的情况下，重新解决子问题-1并给出所有中间节点传输容量的分配，假定每条链路容量可任意分配，只要总容量不超过表1的规定。如果由市扩大为省（区）影响如何？（人口请从网上查找）\n\n子问题-3:光传送网络价值有多个侧面，例如从运营商的角度，连接经济发达的地区会带来更多的收入，从政府的角度保障发展相对滞后地区的通信是均衡发展的要求等。你队认为制定光传送网络规划的目标函数应该是什么？前面制定的规划有无变化？ \n\n\n图7 需要考虑的城市群\n\n问题-3 改善星座图\n\n由第一问可知，纠前BER不变时，降低SNR容限点可以提高系统容忍噪声的能力，从而延长链路的总长度。请尝试任意改变16QAM方案中星座点的位置、数量或每个点的概率，探索产生比图5中8QAM（相邻各星座点之间距离相等）具有更低SNR容限点的调制方案？调制格式的信息熵需保持为3bit。\n\n信息熵定义为：\n\\begin{equation}\n\\Omega = -\\sum_{1}^{N} p_k \\log_2(p_k)\n\\tag{9}\n\\end{equation}\n其中$p_k$为每个符号状态出现的概率，$N$为状态数。图5所示的等概率情况下，QPSK、8QAM和16QAM的信息熵分别为2bit，3bit和4bit。\nAddendum: \n无",
  "problem": {
    "background": "2009年诺贝尔物理学奖授予了英籍华人高锟（Charles K. Kao）博士，以表彰他对光纤通信发展所做出的贡献，诺贝尔奖委员会在给公众的公开信中写到：\n\n“当诺贝尔物理学奖宣布的时候，世界大部分地方几乎瞬间收到了这条信息…文字、语音和视频信号沿着光纤在世界各地来回传输，几乎瞬时地被微小而便捷的设备接收，人们已经把这种情况当做习惯。光纤通信正是整个通信领域急速发展的前提。”\n\n从诞生至今，50多年里基于数字光纤通信技术的光传送网构建起了全球通信的骨架。从城市内的传输，直到跨越大洋的传输，光传送网为人类提供了大容量、高可靠性和低能耗的信息传输管道，人类对通信容量的追求也成为光传送技术发展的源源不断的动力。\n\n光传送网的规划与建设是运营商、设备商以及政府必须考虑的课题。光传送的基本规律是——在相同技术条件下传输的容量会随着传输距离增加而减小。网络规划者需要在有限资源的条件下，综合考虑传输距离，传输容量、网络拓扑等各种因素，以最大化网络的价值。本课题中，请你们站在上述角度，从底层物理出发为光传送链路建模，制定光传送网规划，探索光传送网有关规律。",
    "problem_requirement": "本课题的内容包括：\n\n1）对光传送链路进行简单建模 \n\n2）制定光传送网的规划，并探讨网络的价值\n\n3）改进调制格式\n\n问题-1：光传送链路建模\n\n现代数字传输系统可认为是对0101二进制序列进行编码传输的系统，1个二进制的0或1称为1个比特（bit）。无论是语音、视频还是任何类型的消息，都可以数字化为一串串”0101…”的二进制比特序列，经编码并调制为某个“载体信号”后，再经过特定的“信道”（信息的通道）传输到目的地。图1中给出了简化的模型。在光纤通信中，光纤就是信道，光纤传输的光波就是信息的载体。信道中无法避免的噪声可能导致最终接收的二进制序列中比特出错，即产生误码。\n\n\n图1 简化后的数字传输模型\n\n二进制序列通常需要将K个比特作为一个“符号”进行传输，每个符号有$2^K$个不同状态。光传输利用光波的复振幅承载信号，因此可用复平面上不同的点来对应不同的符号状态，这种将符号状态画在复平面上的图称为“星座图”，图上的点称为“星座点”。如图2(a)所示的QPSK（Quadrature Phase Shift Keying）调制，经过信道叠加噪声和接收机处理后，接收端的星座图不再是理想的四个点，而是会出现扩散。当接收机收到1个符号时，就将发送的符号判定为离该符号最近的星座点。显然，如果噪声过大，接收到的符号可能被判错从而产生误码，如图2(b)中的蓝点。误码率（Bit Error Ratio, BER）定义为错误的比特数占总传输比特数的比例，例如传输了50个符号共100个比特，其中有1个符号被误判为相邻的符号，错误了1个bit，则误码率为0.01。BER是衡量通信系统性能的最根本指标，采用纠错编码，只要纠前BER小于某个门限值（BER容限点），纠错编码后就能实现纠后误码率为零的传输，本题中BER都是指纠错编码前的误码率（纠前BER）。\n\n\n图2 星座图与噪声导致误码的示意图\n\n\n图3中理想星座点用$\\mathbf{s}_k$表示，接收到的符号用$\\mathbf{r}_k$表示，则噪声为\n\\begin{equation}\n    \\mathbf{n}_k = \\mathbf{r}_k - \\mathbf{s}_k\n    \\tag{1}\n\\end{equation}\n噪声通常服从均值为0的正态分布。噪声的方差等于噪声的平均功率，定义为\n\\begin{equation}\n    P_n = \\frac{1}{N} \\sum_{k=1}^N |\\mathbf{n}_k|^2\n    \\tag{2}\n\\end{equation}\n其中N为总共传输的符号数。信号平均功率定义为发送符号绝对值平方的均值：\n\\begin{equation}\n    P_s = \\frac{1}{N} \\sum_{k=1}^N |\\mathbf{s}_k|^2\n    \\tag{3}\n\\end{equation}\n定义信号和噪声功率的比值为信噪比（Signal-to-Noise Ratio, SNR），\n\\begin{equation}\n    \\text{SNR} = \\frac{P_s}{P_n}\n    \\tag{4}\n\\end{equation}\n\n工程上通常用dB作为SNR的单位，定义为\n\\begin{equation}\n\\text{SNR(dB)} = 10 \\log_{10}(P_s / P_n)\n\\tag{5}\n\\end{equation}\n\n增大十倍为加 $10\\text{dB}$，减少 $0.5$ 倍为减去 $3\\text{dB}$。本题中功率单位统一为毫瓦（$mW$），星座图实部和虚部单位为 $\\sqrt{mW}$。\n\n光传输链路由多个相同跨段的级联而成。如图4所示，几十 km 的光纤和一个放大器构成了一个跨段。信号穿传输 $15km$，光功率衰减一半，经超过一定光纤传输后，需要用放大器对光功率进行补偿。在信号、噪声同步放大的同时，放大器还会引入自发辐射噪声，公式为\\n\\[ P_n = 2\\pi hfB(NF+1/Gain), \\]\\n其中 $h$ 是普朗克常数（$6.62606896 \\times 10^{-34} J\\cdot S$），$f$ 是波频率（可设为 $193.1THz$），$B$ 为带宽（设为 $50GHz$），$NF$ 为噪声指数（可设为 $4$），$Gain$ 为补偿光纤损耗对应的功率增益。另一方面，光纤作为一种传输介质，其本身的非线性效应也会等效为加性噪声，其等效噪声功率与入纤功率近似呈平方关系，光功率为 $1mW$ 时的非线性噪声约等于单个放大器噪声的 $2/3$。放大器的自发辐射噪声和光纤的非线性噪声都是加性噪声。非线性噪声在每跨开头叠加，放大器噪声在每跨末尾叠加；每跨中信噪比保持不变。每跨叠加的噪声间相互独立。\n\n子问题1）纠缠误码率与信噪比计算\n\n星座图的编码分布模式也应为调制格式，对于给定的调制格式，BER 和 SNR 呈一一对应的关系，纠缠 BER 门限对应的 SNR 记做“SNR 容限点”。给出图5中所示的三种调制格式及编码方式（相邻星座点距离相等等），每个符号等概率出现，分别称为 QPSK，8QAM（Quadrature·Amplitude·Modulation，QAM），16QAM。请给出 BER 与 SNR 的关系曲线，BER=0.02 时 SNR 容限点分别为多少？\n\n图5 三种调制格式的编码方案\n\n子问题-2）光链路性能计算\n\n当单跨传输距离为80km和100km两种情况，以纠前误码率0.02为门限，图5给出的传输格式最远的传输距离（每跨距离×跨段数量）是多少？\n\n传输格式最远的传输距离（每跨距离×跨段数量）是多少？}\n\n\\subsection*{3. 问题-2 光传送网规划}\n\n表1 给出进一步优化升级后的三种典型光传输设备参数。考虑到通信网络的目的是把更多的人更充分地连接到一起，我们按照如下方式定义网络的价值：\n\n1) 每条直接连接两个城市/区域的链路当做 1 个连接，每个连接的价值定义为传输的容量与连接区域人口数的乘积（取两区域人口数乘积的 0.5 次方）\n\n2) 网络的价值则是所有连接价值的加权和\n\n\\begin{equation}\n\\text{网络价值} = \\sum \\text{权重} \\times \\text{容量} \\times \\text{人口}\n\\tag{6}\n\\end{equation}\n\n以图5给出的北京、南京、上海三座城市为例，若相互之间均互有连接，根据城市的距离可得出能传输的容量。若每条链路的权重为 1，进而再由人口算出网络价值 (Network Value, NV) 为\n\n\\begin{equation}\nNV = \\sqrt{21 \\times 24} m \\times 16 \\, \\text{Tb/s} + \\sqrt{21 \\times 8} m \\times 16 \\, \\text{Tb/s} + \\sqrt{24 \\times 8} \\times 32 \\, \\text{Tb/s} \\approx 1010 \\, \\text{mTb/s}\n\\tag{7}\n\\end{equation}\n\n其中 \\( m \\) 代表百万人 (million)，\\( \\text{Tb/s} = 10^{12} \\, \\text{bit/s} \\)，该网络的连接数为 3。\n\n然而由于资源等因素制约，网络往往并不能让每对节点都直接连接，但可通过中间节点连接起来。以图5(b) 为例，网络连接数为 2，北京和南京之间需通过上海中转。若北京上海之间的传输仅保留一半容量 (100Gb/s)，而另一半容量用于南京到北京的信号传输 (100Gb/s)，相应地南京与上海之间的直接传输容量也会降低至 300Gb/s，此时网络的价值为\n\n\\begin{equation}\nNV = \\sqrt{21 \\times 24} m \\times 8 \\, \\text{Tb/s} + \\sqrt{21 \\times 8} m \\times 8 \\, \\text{Tb/s} + \\sqrt{24 \\times 8} \\times 24 \\, \\text{Tb/s} \\approx 616 \\, \\text{mTb/s}\n\\tag{8}\n\\end{equation}\n\n根据需要两个节点之间也可以有多个连接。\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=0.8\\textwidth]{network_diagram.png}\n    \\caption{三个节点网络示意图}\n    \\label{fig:network_diagram}\n\\end{figure}\n\n\\begin{table}[h]\n    \\centering\n    \\begin{tabular}{|c|c|c|}\n        \\hline\n        单波传输容量 & 最大传输距离 & 总容量 \\\\\n        \\hline\n        100Gb/s & 3000km & 8Tb/s \\\\\n        \\hline\n        200Gb/s & 1200km & 16Tb/s \\\\\n        \\hline\n        400Gb/s & 600km & 32Tb/s \\\\\n        \\hline\n    \\end{tabular}\n    \\caption{不同传输格式的传输距离}\n    \\label{tab:transmission_distance}\n\\end{table}\n\n请你们队考虑价值与需求为图6中的我国城市群制定光传送网规划，图中共有12个区域(其中北京/天津，深圳/广州均按1个区域对待)， \n\n子问题-1:如果连接数从16增加到33条时，不考虑中间节点，给出你们的两个网络规划及其价值。网络价值最多是多少？\n\n子问题-2：存在中间节点，且两个节点之间可以有多个连接的情况下，重新解决子问题-1并给出所有中间节点传输容量的分配，假定每条链路容量可任意分配，只要总容量不超过表1的规定。如果由市扩大为省（区）影响如何？（人口请从网上查找）\n\n子问题-3:光传送网络价值有多个侧面，例如从运营商的角度，连接经济发达的地区会带来更多的收入，从政府的角度保障发展相对滞后地区的通信是均衡发展的要求等。你队认为制定光传送网络规划的目标函数应该是什么？前面制定的规划有无变化？ \n\n\n图7 需要考虑的城市群\n\n问题-3 改善星座图\n\n由第一问可知，纠前BER不变时，降低SNR容限点可以提高系统容忍噪声的能力，从而延长链路的总长度。请尝试任意改变16QAM方案中星座点的位置、数量或每个点的概率，探索产生比图5中8QAM（相邻各星座点之间距离相等）具有更低SNR容限点的调制方案？调制格式的信息熵需保持为3bit。\n\n信息熵定义为：\n\\begin{equation}\n\\Omega = -\\sum_{1}^{N} p_k \\log_2(p_k)\n\\tag{9}\n\\end{equation}\n其中$p_k$为每个符号状态出现的概率，$N$为状态数。图5所示的等概率情况下，QPSK、8QAM和16QAM的信息熵分别为2bit，3bit和4bit。",
    "dataset_path": [],
    "dataset_description": {},
    "variable_description": [],
    "addendum": "无",
    "data_summary": "",
    "data_description": {},
    "problem_str": "问题背景：\n2009年诺贝尔物理学奖授予了英籍华人高锟（Charles K. Kao）博士，以表彰他对光纤通信发展所做出的贡献，诺贝尔奖委员会在给公众的公开信中写到：\n\n“当诺贝尔物理学奖宣布的时候，世界大部分地方几乎瞬间收到了这条信息…文字、语音和视频信号沿着光纤在世界各地来回传输，几乎瞬时地被微小而便捷的设备接收，人们已经把这种情况当做习惯。光纤通信正是整个通信领域急速发展的前提。”\n\n从诞生至今，50多年里基于数字光纤通信技术的光传送网构建起了全球通信的骨架。从城市内的传输，直到跨越大洋的传输，光传送网为人类提供了大容量、高可靠性和低能耗的信息传输管道，人类对通信容量的追求也成为光传送技术发展的源源不断的动力。\n\n光传送网的规划与建设是运营商、设备商以及政府必须考虑的课题。光传送的基本规律是——在相同技术条件下传输的容量会随着传输距离增加而减小。网络规划者需要在有限资源的条件下，综合考虑传输距离，传输容量、网络拓扑等各种因素，以最大化网络的价值。本课题中，请你们站在上述角度，从底层物理出发为光传送链路建模，制定光传送网规划，探索光传送网有关规律。\n\n问题要求：\n本课题的内容包括：\n\n1）对光传送链路进行简单建模 \n\n2）制定光传送网的规划，并探讨网络的价值\n\n3）改进调制格式\n\n问题-1：光传送链路建模\n\n现代数字传输系统可认为是对0101二进制序列进行编码传输的系统，1个二进制的0或1称为1个比特（bit）。无论是语音、视频还是任何类型的消息，都可以数字化为一串串”0101…”的二进制比特序列，经编码并调制为某个“载体信号”后，再经过特定的“信道”（信息的通道）传输到目的地。图1中给出了简化的模型。在光纤通信中，光纤就是信道，光纤传输的光波就是信息的载体。信道中无法避免的噪声可能导致最终接收的二进制序列中比特出错，即产生误码。\n\n\n图1 简化后的数字传输模型\n\n二进制序列通常需要将K个比特作为一个“符号”进行传输，每个符号有$2^K$个不同状态。光传输利用光波的复振幅承载信号，因此可用复平面上不同的点来对应不同的符号状态，这种将符号状态画在复平面上的图称为“星座图”，图上的点称为“星座点”。如图2(a)所示的QPSK（Quadrature Phase Shift Keying）调制，经过信道叠加噪声和接收机处理后，接收端的星座图不再是理想的四个点，而是会出现扩散。当接收机收到1个符号时，就将发送的符号判定为离该符号最近的星座点。显然，如果噪声过大，接收到的符号可能被判错从而产生误码，如图2(b)中的蓝点。误码率（Bit Error Ratio, BER）定义为错误的比特数占总传输比特数的比例，例如传输了50个符号共100个比特，其中有1个符号被误判为相邻的符号，错误了1个bit，则误码率为0.01。BER是衡量通信系统性能的最根本指标，采用纠错编码，只要纠前BER小于某个门限值（BER容限点），纠错编码后就能实现纠后误码率为零的传输，本题中BER都是指纠错编码前的误码率（纠前BER）。\n\n\n图2 星座图与噪声导致误码的示意图\n\n\n图3中理想星座点用$\\mathbf{s}_k$表示，接收到的符号用$\\mathbf{r}_k$表示，则噪声为\n\\begin{equation}\n    \\mathbf{n}_k = \\mathbf{r}_k - \\mathbf{s}_k\n    \\tag{1}\n\\end{equation}\n噪声通常服从均值为0的正态分布。噪声的方差等于噪声的平均功率，定义为\n\\begin{equation}\n    P_n = \\frac{1}{N} \\sum_{k=1}^N |\\mathbf{n}_k|^2\n    \\tag{2}\n\\end{equation}\n其中N为总共传输的符号数。信号平均功率定义为发送符号绝对值平方的均值：\n\\begin{equation}\n    P_s = \\frac{1}{N} \\sum_{k=1}^N |\\mathbf{s}_k|^2\n    \\tag{3}\n\\end{equation}\n定义信号和噪声功率的比值为信噪比（Signal-to-Noise Ratio, SNR），\n\\begin{equation}\n    \\text{SNR} = \\frac{P_s}{P_n}\n    \\tag{4}\n\\end{equation}\n\n工程上通常用dB作为SNR的单位，定义为\n\\begin{equation}\n\\text{SNR(dB)} = 10 \\log_{10}(P_s / P_n)\n\\tag{5}\n\\end{equation}\n\n增大十倍为加 $10\\text{dB}$，减少 $0.5$ 倍为减去 $3\\text{dB}$。本题中功率单位统一为毫瓦（$mW$），星座图实部和虚部单位为 $\\sqrt{mW}$。\n\n光传输链路由多个相同跨段的级联而成。如图4所示，几十 km 的光纤和一个放大器构成了一个跨段。信号穿传输 $15km$，光功率衰减一半，经超过一定光纤传输后，需要用放大器对光功率进行补偿。在信号、噪声同步放大的同时，放大器还会引入自发辐射噪声，公式为\\n\\[ P_n = 2\\pi hfB(NF+1/Gain), \\]\\n其中 $h$ 是普朗克常数（$6.62606896 \\times 10^{-34} J\\cdot S$），$f$ 是波频率（可设为 $193.1THz$），$B$ 为带宽（设为 $50GHz$），$NF$ 为噪声指数（可设为 $4$），$Gain$ 为补偿光纤损耗对应的功率增益。另一方面，光纤作为一种传输介质，其本身的非线性效应也会等效为加性噪声，其等效噪声功率与入纤功率近似呈平方关系，光功率为 $1mW$ 时的非线性噪声约等于单个放大器噪声的 $2/3$。放大器的自发辐射噪声和光纤的非线性噪声都是加性噪声。非线性噪声在每跨开头叠加，放大器噪声在每跨末尾叠加；每跨中信噪比保持不变。每跨叠加的噪声间相互独立。\n\n子问题1）纠缠误码率与信噪比计算\n\n星座图的编码分布模式也应为调制格式，对于给定的调制格式，BER 和 SNR 呈一一对应的关系，纠缠 BER 门限对应的 SNR 记做“SNR 容限点”。给出图5中所示的三种调制格式及编码方式（相邻星座点距离相等等），每个符号等概率出现，分别称为 QPSK，8QAM（Quadrature·Amplitude·Modulation，QAM），16QAM。请给出 BER 与 SNR 的关系曲线，BER=0.02 时 SNR 容限点分别为多少？\n\n图5 三种调制格式的编码方案\n\n子问题-2）光链路性能计算\n\n当单跨传输距离为80km和100km两种情况，以纠前误码率0.02为门限，图5给出的传输格式最远的传输距离（每跨距离×跨段数量）是多少？\n\n传输格式最远的传输距离（每跨距离×跨段数量）是多少？}\n\n\\subsection*{3. 问题-2 光传送网规划}\n\n表1 给出进一步优化升级后的三种典型光传输设备参数。考虑到通信网络的目的是把更多的人更充分地连接到一起，我们按照如下方式定义网络的价值：\n\n1) 每条直接连接两个城市/区域的链路当做 1 个连接，每个连接的价值定义为传输的容量与连接区域人口数的乘积（取两区域人口数乘积的 0.5 次方）\n\n2) 网络的价值则是所有连接价值的加权和\n\n\\begin{equation}\n\\text{网络价值} = \\sum \\text{权重} \\times \\text{容量} \\times \\text{人口}\n\\tag{6}\n\\end{equation}\n\n以图5给出的北京、南京、上海三座城市为例，若相互之间均互有连接，根据城市的距离可得出能传输的容量。若每条链路的权重为 1，进而再由人口算出网络价值 (Network Value, NV) 为\n\n\\begin{equation}\nNV = \\sqrt{21 \\times 24} m \\times 16 \\, \\text{Tb/s} + \\sqrt{21 \\times 8} m \\times 16 \\, \\text{Tb/s} + \\sqrt{24 \\times 8} \\times 32 \\, \\text{Tb/s} \\approx 1010 \\, \\text{mTb/s}\n\\tag{7}\n\\end{equation}\n\n其中 \\( m \\) 代表百万人 (million)，\\( \\text{Tb/s} = 10^{12} \\, \\text{bit/s} \\)，该网络的连接数为 3。\n\n然而由于资源等因素制约，网络往往并不能让每对节点都直接连接，但可通过中间节点连接起来。以图5(b) 为例，网络连接数为 2，北京和南京之间需通过上海中转。若北京上海之间的传输仅保留一半容量 (100Gb/s)，而另一半容量用于南京到北京的信号传输 (100Gb/s)，相应地南京与上海之间的直接传输容量也会降低至 300Gb/s，此时网络的价值为\n\n\\begin{equation}\nNV = \\sqrt{21 \\times 24} m \\times 8 \\, \\text{Tb/s} + \\sqrt{21 \\times 8} m \\times 8 \\, \\text{Tb/s} + \\sqrt{24 \\times 8} \\times 24 \\, \\text{Tb/s} \\approx 616 \\, \\text{mTb/s}\n\\tag{8}\n\\end{equation}\n\n根据需要两个节点之间也可以有多个连接。\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=0.8\\textwidth]{network_diagram.png}\n    \\caption{三个节点网络示意图}\n    \\label{fig:network_diagram}\n\\end{figure}\n\n\\begin{table}[h]\n    \\centering\n    \\begin{tabular}{|c|c|c|}\n        \\hline\n        单波传输容量 & 最大传输距离 & 总容量 \\\\\n        \\hline\n        100Gb/s & 3000km & 8Tb/s \\\\\n        \\hline\n        200Gb/s & 1200km & 16Tb/s \\\\\n        \\hline\n        400Gb/s & 600km & 32Tb/s \\\\\n        \\hline\n    \\end{tabular}\n    \\caption{不同传输格式的传输距离}\n    \\label{tab:transmission_distance}\n\\end{table}\n\n请你们队考虑价值与需求为图6中的我国城市群制定光传送网规划，图中共有12个区域(其中北京/天津，深圳/广州均按1个区域对待)， \n\n子问题-1:如果连接数从16增加到33条时，不考虑中间节点，给出你们的两个网络规划及其价值。网络价值最多是多少？\n\n子问题-2：存在中间节点，且两个节点之间可以有多个连接的情况下，重新解决子问题-1并给出所有中间节点传输容量的分配，假定每条链路容量可任意分配，只要总容量不超过表1的规定。如果由市扩大为省（区）影响如何？（人口请从网上查找）\n\n子问题-3:光传送网络价值有多个侧面，例如从运营商的角度，连接经济发达的地区会带来更多的收入，从政府的角度保障发展相对滞后地区的通信是均衡发展的要求等。你队认为制定光传送网络规划的目标函数应该是什么？前面制定的规划有无变化？ \n\n\n图7 需要考虑的城市群\n\n问题-3 改善星座图\n\n由第一问可知，纠前BER不变时，降低SNR容限点可以提高系统容忍噪声的能力，从而延长链路的总长度。请尝试任意改变16QAM方案中星座点的位置、数量或每个点的概率，探索产生比图5中8QAM（相邻各星座点之间距离相等）具有更低SNR容限点的调制方案？调制格式的信息熵需保持为3bit。\n\n信息熵定义为：\n\\begin{equation}\n\\Omega = -\\sum_{1}^{N} p_k \\log_2(p_k)\n\\tag{9}\n\\end{equation}\n其中$p_k$为每个符号状态出现的概率，$N$为状态数。图5所示的等概率情况下，QPSK、8QAM和16QAM的信息熵分别为2bit，3bit和4bit。\nAddendum: \n无"
  },
  "problem_background": "2009年诺贝尔物理学奖授予了英籍华人高锟（Charles K. Kao）博士，以表彰他对光纤通信发展所做出的贡献，诺贝尔奖委员会在给公众的公开信中写到：\n\n“当诺贝尔物理学奖宣布的时候，世界大部分地方几乎瞬间收到了这条信息…文字、语音和视频信号沿着光纤在世界各地来回传输，几乎瞬时地被微小而便捷的设备接收，人们已经把这种情况当做习惯。光纤通信正是整个通信领域急速发展的前提。”\n\n从诞生至今，50多年里基于数字光纤通信技术的光传送网构建起了全球通信的骨架。从城市内的传输，直到跨越大洋的传输，光传送网为人类提供了大容量、高可靠性和低能耗的信息传输管道，人类对通信容量的追求也成为光传送技术发展的源源不断的动力。\n\n光传送网的规划与建设是运营商、设备商以及政府必须考虑的课题。光传送的基本规律是——在相同技术条件下传输的容量会随着传输距离增加而减小。网络规划者需要在有限资源的条件下，综合考虑传输距离，传输容量、网络拓扑等各种因素，以最大化网络的价值。本课题中，请你们站在上述角度，从底层物理出发为光传送链路建模，制定光传送网规划，探索光传送网有关规律。",
  "problem_requirement": "本课题的内容包括：\n\n1）对光传送链路进行简单建模 \n\n2）制定光传送网的规划，并探讨网络的价值\n\n3）改进调制格式\n\n问题-1：光传送链路建模\n\n现代数字传输系统可认为是对0101二进制序列进行编码传输的系统，1个二进制的0或1称为1个比特（bit）。无论是语音、视频还是任何类型的消息，都可以数字化为一串串”0101…”的二进制比特序列，经编码并调制为某个“载体信号”后，再经过特定的“信道”（信息的通道）传输到目的地。图1中给出了简化的模型。在光纤通信中，光纤就是信道，光纤传输的光波就是信息的载体。信道中无法避免的噪声可能导致最终接收的二进制序列中比特出错，即产生误码。\n\n\n图1 简化后的数字传输模型\n\n二进制序列通常需要将K个比特作为一个“符号”进行传输，每个符号有$2^K$个不同状态。光传输利用光波的复振幅承载信号，因此可用复平面上不同的点来对应不同的符号状态，这种将符号状态画在复平面上的图称为“星座图”，图上的点称为“星座点”。如图2(a)所示的QPSK（Quadrature Phase Shift Keying）调制，经过信道叠加噪声和接收机处理后，接收端的星座图不再是理想的四个点，而是会出现扩散。当接收机收到1个符号时，就将发送的符号判定为离该符号最近的星座点。显然，如果噪声过大，接收到的符号可能被判错从而产生误码，如图2(b)中的蓝点。误码率（Bit Error Ratio, BER）定义为错误的比特数占总传输比特数的比例，例如传输了50个符号共100个比特，其中有1个符号被误判为相邻的符号，错误了1个bit，则误码率为0.01。BER是衡量通信系统性能的最根本指标，采用纠错编码，只要纠前BER小于某个门限值（BER容限点），纠错编码后就能实现纠后误码率为零的传输，本题中BER都是指纠错编码前的误码率（纠前BER）。\n\n\n图2 星座图与噪声导致误码的示意图\n\n\n图3中理想星座点用$\\mathbf{s}_k$表示，接收到的符号用$\\mathbf{r}_k$表示，则噪声为\n\\begin{equation}\n    \\mathbf{n}_k = \\mathbf{r}_k - \\mathbf{s}_k\n    \\tag{1}\n\\end{equation}\n噪声通常服从均值为0的正态分布。噪声的方差等于噪声的平均功率，定义为\n\\begin{equation}\n    P_n = \\frac{1}{N} \\sum_{k=1}^N |\\mathbf{n}_k|^2\n    \\tag{2}\n\\end{equation}\n其中N为总共传输的符号数。信号平均功率定义为发送符号绝对值平方的均值：\n\\begin{equation}\n    P_s = \\frac{1}{N} \\sum_{k=1}^N |\\mathbf{s}_k|^2\n    \\tag{3}\n\\end{equation}\n定义信号和噪声功率的比值为信噪比（Signal-to-Noise Ratio, SNR），\n\\begin{equation}\n    \\text{SNR} = \\frac{P_s}{P_n}\n    \\tag{4}\n\\end{equation}\n\n工程上通常用dB作为SNR的单位，定义为\n\\begin{equation}\n\\text{SNR(dB)} = 10 \\log_{10}(P_s / P_n)\n\\tag{5}\n\\end{equation}\n\n增大十倍为加 $10\\text{dB}$，减少 $0.5$ 倍为减去 $3\\text{dB}$。本题中功率单位统一为毫瓦（$mW$），星座图实部和虚部单位为 $\\sqrt{mW}$。\n\n光传输链路由多个相同跨段的级联而成。如图4所示，几十 km 的光纤和一个放大器构成了一个跨段。信号穿传输 $15km$，光功率衰减一半，经超过一定光纤传输后，需要用放大器对光功率进行补偿。在信号、噪声同步放大的同时，放大器还会引入自发辐射噪声，公式为\\n\\[ P_n = 2\\pi hfB(NF+1/Gain), \\]\\n其中 $h$ 是普朗克常数（$6.62606896 \\times 10^{-34} J\\cdot S$），$f$ 是波频率（可设为 $193.1THz$），$B$ 为带宽（设为 $50GHz$），$NF$ 为噪声指数（可设为 $4$），$Gain$ 为补偿光纤损耗对应的功率增益。另一方面，光纤作为一种传输介质，其本身的非线性效应也会等效为加性噪声，其等效噪声功率与入纤功率近似呈平方关系，光功率为 $1mW$ 时的非线性噪声约等于单个放大器噪声的 $2/3$。放大器的自发辐射噪声和光纤的非线性噪声都是加性噪声。非线性噪声在每跨开头叠加，放大器噪声在每跨末尾叠加；每跨中信噪比保持不变。每跨叠加的噪声间相互独立。\n\n子问题1）纠缠误码率与信噪比计算\n\n星座图的编码分布模式也应为调制格式，对于给定的调制格式，BER 和 SNR 呈一一对应的关系，纠缠 BER 门限对应的 SNR 记做“SNR 容限点”。给出图5中所示的三种调制格式及编码方式（相邻星座点距离相等等），每个符号等概率出现，分别称为 QPSK，8QAM（Quadrature·Amplitude·Modulation，QAM），16QAM。请给出 BER 与 SNR 的关系曲线，BER=0.02 时 SNR 容限点分别为多少？\n\n图5 三种调制格式的编码方案\n\n子问题-2）光链路性能计算\n\n当单跨传输距离为80km和100km两种情况，以纠前误码率0.02为门限，图5给出的传输格式最远的传输距离（每跨距离×跨段数量）是多少？\n\n传输格式最远的传输距离（每跨距离×跨段数量）是多少？}\n\n\\subsection*{3. 问题-2 光传送网规划}\n\n表1 给出进一步优化升级后的三种典型光传输设备参数。考虑到通信网络的目的是把更多的人更充分地连接到一起，我们按照如下方式定义网络的价值：\n\n1) 每条直接连接两个城市/区域的链路当做 1 个连接，每个连接的价值定义为传输的容量与连接区域人口数的乘积（取两区域人口数乘积的 0.5 次方）\n\n2) 网络的价值则是所有连接价值的加权和\n\n\\begin{equation}\n\\text{网络价值} = \\sum \\text{权重} \\times \\text{容量} \\times \\text{人口}\n\\tag{6}\n\\end{equation}\n\n以图5给出的北京、南京、上海三座城市为例，若相互之间均互有连接，根据城市的距离可得出能传输的容量。若每条链路的权重为 1，进而再由人口算出网络价值 (Network Value, NV) 为\n\n\\begin{equation}\nNV = \\sqrt{21 \\times 24} m \\times 16 \\, \\text{Tb/s} + \\sqrt{21 \\times 8} m \\times 16 \\, \\text{Tb/s} + \\sqrt{24 \\times 8} \\times 32 \\, \\text{Tb/s} \\approx 1010 \\, \\text{mTb/s}\n\\tag{7}\n\\end{equation}\n\n其中 \\( m \\) 代表百万人 (million)，\\( \\text{Tb/s} = 10^{12} \\, \\text{bit/s} \\)，该网络的连接数为 3。\n\n然而由于资源等因素制约，网络往往并不能让每对节点都直接连接，但可通过中间节点连接起来。以图5(b) 为例，网络连接数为 2，北京和南京之间需通过上海中转。若北京上海之间的传输仅保留一半容量 (100Gb/s)，而另一半容量用于南京到北京的信号传输 (100Gb/s)，相应地南京与上海之间的直接传输容量也会降低至 300Gb/s，此时网络的价值为\n\n\\begin{equation}\nNV = \\sqrt{21 \\times 24} m \\times 8 \\, \\text{Tb/s} + \\sqrt{21 \\times 8} m \\times 8 \\, \\text{Tb/s} + \\sqrt{24 \\times 8} \\times 24 \\, \\text{Tb/s} \\approx 616 \\, \\text{mTb/s}\n\\tag{8}\n\\end{equation}\n\n根据需要两个节点之间也可以有多个连接。\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=0.8\\textwidth]{network_diagram.png}\n    \\caption{三个节点网络示意图}\n    \\label{fig:network_diagram}\n\\end{figure}\n\n\\begin{table}[h]\n    \\centering\n    \\begin{tabular}{|c|c|c|}\n        \\hline\n        单波传输容量 & 最大传输距离 & 总容量 \\\\\n        \\hline\n        100Gb/s & 3000km & 8Tb/s \\\\\n        \\hline\n        200Gb/s & 1200km & 16Tb/s \\\\\n        \\hline\n        400Gb/s & 600km & 32Tb/s \\\\\n        \\hline\n    \\end{tabular}\n    \\caption{不同传输格式的传输距离}\n    \\label{tab:transmission_distance}\n\\end{table}\n\n请你们队考虑价值与需求为图6中的我国城市群制定光传送网规划，图中共有12个区域(其中北京/天津，深圳/广州均按1个区域对待)， \n\n子问题-1:如果连接数从16增加到33条时，不考虑中间节点，给出你们的两个网络规划及其价值。网络价值最多是多少？\n\n子问题-2：存在中间节点，且两个节点之间可以有多个连接的情况下，重新解决子问题-1并给出所有中间节点传输容量的分配，假定每条链路容量可任意分配，只要总容量不超过表1的规定。如果由市扩大为省（区）影响如何？（人口请从网上查找）\n\n子问题-3:光传送网络价值有多个侧面，例如从运营商的角度，连接经济发达的地区会带来更多的收入，从政府的角度保障发展相对滞后地区的通信是均衡发展的要求等。你队认为制定光传送网络规划的目标函数应该是什么？前面制定的规划有无变化？ \n\n\n图7 需要考虑的城市群\n\n问题-3 改善星座图\n\n由第一问可知，纠前BER不变时，降低SNR容限点可以提高系统容忍噪声的能力，从而延长链路的总长度。请尝试任意改变16QAM方案中星座点的位置、数量或每个点的概率，探索产生比图5中8QAM（相邻各星座点之间距离相等）具有更低SNR容限点的调制方案？调制格式的信息熵需保持为3bit。\n\n信息熵定义为：\n\\begin{equation}\n\\Omega = -\\sum_{1}^{N} p_k \\log_2(p_k)\n\\tag{9}\n\\end{equation}\n其中$p_k$为每个符号状态出现的概率，$N$为状态数。图5所示的等概率情况下，QPSK、8QAM和16QAM的信息熵分别为2bit，3bit和4bit。",
  "problem_analysis": "总体来看，本问题把光传送链路的物理层特性与宏观网络规划问题耦合在一起，目标是从物理噪声与调制限制出发，推导单链路的容量与可达距离，再以这些链路能力为约束去设计多节点网络以最大化“价值函数”。因此建模目标具有双重性质：一方面是底层工程物理建模（从星座图、噪声模型到BER-SNR关系，再到每跨和多跨的链路预算）；另一方面是系统/网络级的优化（在给定节点和资源下，如何分配链路、路由和容量以最大化社会/商业价值）。这两个层面的目标塑造了解题路径：先做精确且可校准的物理链路模型，得到每种调制格式在给定参数下的SNR容限点与最大无纠错可接受距离；再把这些能力作为网络设计的“技术约束”嵌入到流量分配与拓扑选择的优化问题中。厘清这两层目标的优先次序与可替代目标（例如最大化总价值、最小化成本、提升覆盖公平性或提升鲁棒性）将直接影响后续模型的数学形式与求解方法。\n\n在微观建模层面，关键假设与其影响必须明确。题目中把噪声近似为均值为零的高斯加性噪声，并用P_n作为噪声平均功率，这在很多工程分析中是常见且有利于解析推导的简化：在弱非线性和多数光放大器的情况下，ASE（自发辐射噪声）可被视为高斯过程。但这假设隐含了放大器间噪声独立、相位统计可忽略，以及接收端判决采用最近点判决的前提。实际光纤系统还存在色散、相位噪声、偏振模色散、非线性相互作用（如四波混频、自相互作用）等，这些可能导致噪声非高斯、与信号功率相关并有记忆性，从而影响BER-SNR映射的精确性。题目中给出的非线性噪声近似与入纤功率的平方关系、以及“功率为1 mW时非线性噪声约为单放大器噪声的2/3”是有用的经验式近似，但在高通量多波长系统或不同纤芯/放大器参数下可能失准。因此建模应采用分层策略：先用简化AWGN（加性高斯白噪声）模型快速得到BER-SNR曲线、估算跨段与多跨的误码累积，再用更细致的GN模型或数值仿真（包含相位噪声与色散补偿策略）校正关键参数并检验敏感性。\n\n在星座与误码的关系上，调制格式（QPSK、8QAM、16QAM）在等概率和等星座点最小距离相等的前提下，各自的最差决策域面积不同，从而导致对同一SNR的容忍度不同。实际的度量除了BER之外还应考虑软判决FEC的门槛（通常用预纠错BER或软信息的互信息/对数似然比阈值来替代简单的BER阈值），以及纠错后余误码率的目标。题目要求以纠前BER = 0.02作为门限，这本质上是把“是否可被给定FEC恢复”为二值转换策略，因此在物理层模型里应明确采用何种判决规则（硬判决最近点或软判决与比特映射），因为这会显著改变所需SNR。若要更现实地评估，可并行计算两类门限：基于硬判决的BER-SNR关系和基于互信息（MI）或广义互信息（GMI）来代表软判决FEC的SNR要求。\n\n在跨段/多跨链路建模中题目给出的结构（每跨中信噪比保持不变，放大器在跨段末尾引入ASE噪声而非线性在跨开头累积）是一种便于加和的近似：总噪声功率可以视作独立噪声源的和，因此SNR随跨数下降。但真实系统中，噪声来源的位置、相干和非线性与ASE的相互作用会使得简单的“线性叠加”出现偏差；尤其当发射功率为设计极限且跨数增多时，非线性噪声不是独立的白噪声，而是与信号功率和相邻波之间的配置强烈耦合。建模时需注意噪声随跨数的增长速率、与发射功率的二次或更高次关系，以及放大器的噪声指数（NF）和增益（Gain）在实际温度、老化、波长滤波等条件下的变动。\n\n把链路能力带入网络层面，问题转化为资源受限下的拓扑选择与容量分配问题。题目提供了三种“典型设备参数”对应不同单波速率/最大传输距离/总容量，这在工程上对应不同调制与前向纠错等级的组合、不同的物理层复用数和波分复用（WDM）通道数。网络规划中所定义的价值函数——每条连接的价值等于容量乘以两端人口数乘积的0.5次方（并且网络价值为所有连接值的加权和）是一个基于人口潜在流量的代理指标，但自带明显的价值取向：它偏向于把“连接人口多的对”赋予更高权重，进而可能倾向于优先连通大城市群以最大化价值。该指标忽略了地区经济活力差异、带宽需求的人均差异、时空流量分布、以及延迟/可靠性等其他关键要素。此外用平方根的人口乘积作为连接价值的选择在理论上类似Gravitation模型的缩放，但具体幂指数是可调整的；采用不同的函数形态（如线性、对数或基于GDP、现有互联网流量数据的估计）会显著改变最优拓扑。设计网络时还必须权衡拓扑多样性（冗余和容错）、成本约束（链路铺设与运营成本、光纤租用、端设备费用）、以及物理约束（光谱资源、波道数量、路由长度限制）。因此更合理的做法是把价值最大化作为多目标问题的一部分，与成本最小化、服务公平性和网络鲁棒性并列，并采用权重或Pareto前沿分析来折衷。\n\n在允许中继节点与多条连接的情形下，问题演化为流量分配或多商品流问题：每对节点的有效容量可以通过多跳传输共享中继节点处的物理波分资源，且单个光纤的总容量受题表中“总容量”限制。关键决策变量包括哪些边被建立（拓扑选择）、每个边上分配的不同波段数（离散或连续）、以及每个对端对的流通过哪条路径与在中继处的复用策略。若放宽为连续容量分配，可以建立线性/凸规划模型来最大化网络价值，约束包括每条物理链路的总容量上限、每个波道单波速率与最大传输距离对应关系（超过距离需中继/再生或更低阶调制）、以及每对端节点的路由可达性。若考虑离散波道和整数量的限制，则问题是整数/混合整数优化，复杂度较高，需要启发式或元启发式算法。将市级扩张到省级会改变节点数量和人口分布，进而影响流量需求矩阵与最优拓扑；更大尺度意味着需要考虑更长链路、更多放大器和可能的海底/陆地主干网分界，这会使得物理层约束更加关键。\n\n时间尺度与动态性方面，不应忽视流量增长、技术演进与故障风险对规划结果的影响。通信需求通常呈指数或多项式增长，且地区之间增长率差异显著；同时光学传输技术（更高阶调制、谱效率提升、可变速率编码、柔性光谱分配）会使得设备参数与“最大传输距离-速率”表随着时间变化。因此静态最优化可能在短期内有效，但长期容易过时。合理策略是采用情景分析与稳健优化：针对若干未来流量与技术路径（保守、中性、激进）进行规划，或者引入可升级性和模块化设计，优先铺设能以低成本升级调制/终端能力的链路。还应考虑灾备和维护成本，设计带保护容量或可快速恢复的环网等拓扑以提高服务连续性。\n\n关于调制改进（第3部分），问题提示了通过改变星座点位置和概率分布在保持信息熵（例如3 bit）不变的前提下降低SNR容限点的方向。这里应当提到两类常见且有效的技术路线：地理（几何）星座设计和概率成形。几何星座通过改变星座点的几何布局来增加最小欧氏距离或使判别边界对噪声更宽容，而概率成形（probabilistic shaping）通过非均匀符号概率分配把更高能量点使用频率降低、把低能量点使用频率提高，从而在平均能量受限时接近香农极限并降低所需SNR达到同等信息率。现代光传输中常采用概率振幅调制（PAS）结合强大的软判决FEC以实现既有高谱效率又有较低SNR门限的效果。建模与比较这些方案需要用信息论工具（互信息、GMI）而不是仅凭传统BER，因为非均匀概率与软判决会使硬判决BER难以反映实际解码可达性。\n\n最后必须强调不确定性管理与迭代建模的重要性。关键参数（纤损、放大器NF、非线性系数、实际人口带宽需求、安装与维护费用）具有显著不确定性，最优解对这些参数的敏感度需要被检验。建议在建模过程中采用分层与迭代策略：先用简化模型（AWGN + 独立噪声叠加）做可行性快速筛选，随后用更精细的物理仿真（GN模型、分步仿真）与历史流量/试验数据校准模型，最后在网络层做稳健或多目标优化并通过蒙特卡洛情景分析评估方案在参数扰动下的表现。与此同时，价值函数的选取应当透明并可调整，允许利益相关者（运营商、政府、社区）在效率、覆盖与公平之间做明确权衡。建模不是一次性收敛的过程，而应是一个包含数据采集、参数估计、方案生成、现场验证与逐步修正的循环，这样才能在实际工程中既保持物理现实性，又兼顾经济与社会目标。",
  "modeling_solution": "总体建模思路与假设说明：为将物理层的噪声-星座行为与宏观网络规划问题有效耦合，我提出一个分层耦合模型（物理层→链路容量约束→网络层优化→调制设计优化），其核心思想是用可解释的解析近似和数值求解工具，把“每条链路在给定调制格式与跨段长度下的可用端到端容量”作为网络层优化的约束。为便于分析并保留工程可校准性，模型基于以下关键假设：所有噪声在判决尺度上可近似为加性高斯噪声（AWGN）；放大器产生的ASE噪声与光纤非线性噪声可视为互相独立的加性功率噪声并在跨段上线性叠加；每跨的放大器按跨段损耗补偿（Gain），使得跨段间的平均信号功率 Ps 保持恒定；调制判决采用最近点判决（硬判决）或可扩展至基于互信息/广义互信息(GMI)的软判决门限；网络层允许边上容量以选定技术类型分配（100/200/400 Gb/s 单波）并受每类技术最大端到端可传输距离约束。以上假设可在后续通过更复杂的 GN 模型或实验数据逐步放松与校准。\n\n变量与参数定义（主要量表述）： 对于物理链路与调制：符号集合 S = {s_k ∈ C, k=1..N} 为星座点；每符号出现概率 p_k（等概率或概率成形）；符号平均功率 P_s = (1/N) Σ |s_k|^2（单位 mW）；单跨 ASE 噪声功率 P_n,ASE = 2π h f B (NF + 1/Gain)（题目给出，单位 mW）；单跨等效非线性噪声近似为 P_n,NL = α_nl · P_s^2，其中 α_nl 为与纤长、色散、波分复用数等参数相关的经验系数（利用“当 P_s = 1 mW 时 P_n,NL ≈ (2/3) P_n,ASE”可解出 α_nl = (2/3 P_n,ASE)）；跨段数为 Nspan，单跨物理长度 Lspan（km），端到端长度 L = Nspan·Lspan。总噪声近似为 P_n,total = Nspan · (P_n,ASE + P_n,NL)。 单跨/端到端信噪比定义为 γ = P_s / P_n,total（无量纲）。 BER 表达中用 Q(x) 表示高斯 Q 函数。 对于网络规划：图 G = (V, E_cand) 为候选完全图或基于地理距离裁剪后的候选边集合，节点集合 V 为城市/区域，节点人口 pop_i（百万，m）。 每条物理链路 e 的距离 d_e 已知；三类技术索引 t ∈ {1,2,3} 分别对应每波率 100/200/400 Gb/s，其单链路最大端到端可支持距离 D_t（表格给定）和最大总容量 C_t（表格给定，单位 Tb/s）。 决策变量包括 y_e,t ∈ {0,1}（是否在边 e 上部署技术 t，若允许混合部署也可用整数数量的波道 n_e,t），并定义边 e 的有效双向总容量 Cap_e = Σ_t y_e,t C_t（或 Cap_e = Σ_t n_e,t · r_t 若按波道计数，r_t 为每波速率），边容量对方向可分配（双向共享）。 网络价值（单目标）定义与题目一致： NV = Σ_{i<j} w_{ij} · f_{ij} · sqrt(pop_i · pop_j)，其中 f_{ij} 为 i↔j 的端到端可用吞吐量（直接链路为 Cap_e，如果需要中继则 f_{ij} 为多跳最大可分配流量），权重 w_{ij} 可统一设 1 或基于优先级调整。\n\n物理层关键方程（BER—SNR—跨段数关系）： 在 AWGN 假设下，对于方形 M-QAM（给出常用近似），符号错误率可近似为 P_sym ≈ 4 (1 − 1/√M) Q(√(3 γ_sym/(M−1)))，其中 γ_sym 表示每符号 SNR（与我们定义的 γ 直接对应）；比特误码率可估为 BER ≈ P_sym / log2 M（Gray 映射近似）。 对于 QPSK（M=4）可用精确表达 BER_QPSK = Q(√(2 γ_bit))（γ_bit 与 γ_sym 之间按 bit-per-symbol 转换）。 对于非方形 8QAM 或任意星座，使用对比最邻近对的并集界（union bound）或更可靠地通过 Monte Carlo 仿真/数值求解给出 BER(γ) 曲线：对每一测试 γ 值，按指定星座位置 s_k 与概率 p_k 生成大批带噪样本 r = s_k + n（n∼CN(0,P_n/2 per dim)），实施判决并统计误比特率（此为推荐的数值策略以得到准确曲线）。 给定某一格式的 BER(γ)，把 BER容限定义为 γ_th 满足 BER(γ_th) = 0.02。 端到端 SNR 随跨段数 Nspan 的衰减由总噪声累积给出： γ_total(Nspan) = P_s / (Nspan · (P_n,ASE + α_nl P_s^2)). 因此端到端可允许的最大跨数 N_max(γ_th) = ⌊ P_s / (γ_th · (P_n,ASE + α_nl P_s^2)) ⌋。 进而最大传输距离 L_max = N_max · Lspan。 若放大器 NF、Gain 或跨段长度变化，Pn,ASE 随之变化（Gain=10^(αdB · Lspan/10)），可在公式中直接更新。\n\n链路技术可用性约束：某格式 t 仅当 L ≤ D_t（表格给定最大端到端可支持距离）时可用于端到端无限长链路；若 L > D_t 则要么通过中继节点分段传播（中继点必须放置使每段 ≤ D_t），要么降档使用低阶格式。 在网络层，我们把每条候选边的最大可提供容量 Cap_e,t = C_t 当 d_e ≤ D_t，否则 Cap_e,t = 0。\n\n网络层优化模型（无中继，固定连接数情形）： 若不允许中继、要求连接数固定为 K，则从候选边集合中选择至多 K 条边并为每条边选择一个技术 t（或不选），目标是最大化 NV = Σ_{selected edges e connecting i−j} sqrt(pop_i pop_j) · Cap_e. 对应整数优化问题为： maximize Σ_{e} Σ_t y_e,t · c_t · w_e subject to Σ_e Σ_t y_e,t ≤ K, y_e,t ∈ {0,1}, y_e,t allowed only if d_e ≤ D_t. 该 MILP 可用标准分支定界求解器（CPLEX、Gurobi）在 N=12 小规模实例中很快获得最优解。 当允许一条边部署多种技术或多个波道时，可用整数变量 n_e,t ≥ 0（整数）替换 y，并把 Cap_e = Σ_t n_e,t · r_t，约束 Σ_t n_e,t ≤ N_slots_per_fiber（若有），目标同上。\n\n网络层优化模型（允许中继与多跳，流量分配情形）： 为更真实地衡量“两个节点之间通过中继能获得多少端到端吞吐量”，将问题建为多商品最大流（multicommodity flow），定义对每有用对 (i,j) 一个流变量 f_{ij}^{(p)} 沿路径 p 或在边上直接二元流变量 f_{ij,e}。目标为最大化 NV = Σ_{i<j} sqrt(pop_i pop_j) · F_{ij}，其中 F_{ij} 为 i–j 的总流量（可被拆分至多条路径），受边容量约束 Σ_{(i,j)} f_{ij,e} ≤ Cap_e（所有对共享）。 较小规模下可直接通过 MILP/LP 求解（若允许路径分割则为线性问题但变量量可大）。 若对象是选择固定数目边而后分配流量，则两类决策耦合为混合整数线性规划（MILP）：二进制变量选择边与技术，连续变量为多商品流，约束边容量由选择决定。 若需要整数波道数约束，问题为更复杂的MIP；可采用分阶段启发式：先选择边与技术（基于单跳价值近似或贪心启发），再在固定拓扑上求解多商品流。\n\n关于容量分配与方向共享的实现细节：模型允许双向共享容量，实际实现时可把边 e 的容量视为双向共享总量 Cap_e，或者拆分为 Cap_e^→ 与 Cap_e^←。此外，对于多波长资源分配，决策变量应反映波长的整数量或可连续分配的光纤宽带（视工程现实决定）。若中继节点需要进行光电再生（即把一根长链拆为若干子链使用高阶格式），模型应允许在中继处“重调制/再生”从而打破单次最大距离限制。\n\n调制设计与 SNR 容限优化：要在保证信息熵 Ω = 3 bits 的前提下设计出比基线 8QAM 具有更低 SNR 容限点的调制方案，应把问题作为在 AWGN 信道下“在给定平均能量约束下最小化所需 SNR 使得可达互信息 ≥ 3 bit”的非线性优化问题。定量方法为：对给定星座 S = {s_k} 与概率分布 p = {p_k}，在噪声方差 σ^2 下计算互信息 I(S,p; σ^2)（或更工程化的度量：GMI，当采用位映射与软判决时更能代表实际 FEC 可达率）；然后寻找最小 σ^2（等价最小 γ）使得 I ≥ 3。 计算 I(S,p;σ^2) 可采用 Monte Carlo 估计互信息或直接用 Blahut–Arimoto 算法求离散输入连续输出信道下的容量/最大互信息（在固定 S 的位置上优化 p 时 BA 是有效工具）。 设计变量可以是星座位置 s_k（几何成形）与/或概率 p_k（概率成形），并需满足平均功率约束 Σ p_k |s_k|^2 = P_s_fixed 与熵约束 Σ -p_k log2 p_k = 3（若星座含更多点则概率非均匀以降有效符号数）。 优化策略为交替优化：固定 s 优化 p（Blahut–Arimoto 或凸优化，因为对于固定 s，I 相对 p 是凸的）；固定 p 用梯度下降（或随机搜索、差分进化）调整 s 以提高 MI 或降低所需 SNR。 初步可使用概率成形（非均匀 p on standard geometry）或几何星座（如放大中心低能量点、拉开外环使最小欧氏距离最大化）作为起点。 理论上，概率成形（PAS 类似）在平均功率受限时最为有效：把高能耗的远径点用较低概率使用，从而降低平均能量以在同一熵下逼近香农极限，通常会降低所需 SNR。 实际判决时若使用硬判决 BER 门限（题目以 BER=0.02 为门限），应同时计算 BER(γ) 与互信息曲线，并以在所选译码策略下真实可恢复为准；若系统采用软判决 FEC，用 MI/GMI 为门限更合适。\n\n求解流程与数值实现策略：首先物理层需要对每种调制（QPSK、8QAM、16QAM、及自设计星座）给出精确的 BER(γ) 曲线；对方形 M-QAM 可以用解析近似公式得到初值，对 8QAM 或自设计星座采用 Monte Carlo 仿真（对每 γ 产生大量符号、加入 AWGN、判决并统计误码）以获得可靠曲线，并进一步求解γ_th 满足 BER(γ_th)=0.02（采用二分或牛顿法在仿真估计值上插值）。 同时利用 ASE 与非线性指数计算 N_max(γ_th) 并得到 L_max。 给定 Lspan（如 80 km、100 km）即可直接算最大跨数及端到端最大传输距离。 在网络层，基于上面的链路可用性 Cap_e,t（只要边长 d_e ≤ D_t）构建 MILP：若不允许中继，求解简单的 0−1 MILP（选择边与技术，约束边数等）；若允许中继并多对流量共享，构建多商品流 MILP（或 LP 若拓扑固定），目标最大化 NV。 在 N=12 的规模，标准 MILP 求解器可直接求出全局最优。 若规模更大或需要离散波道整数约束，可采用启发式算法：先按权重 greedy 选择边（优先连通高 sqrt(pop_i pop_j) 值对），其次在得到拓扑上做 LP 流分配，然后局部搜索改进技术配置（模拟退火或遗传算法）。 对于第 3 问的星座优化，采用交替优化（Blahut–Arimoto +梯度/启发式搜索）来找到降低 γ_th 的方案；对每候选星座在 AWGN 下估计 GMI 与 BER 曲线并比较基线 8QAM。\n\n敏感性分析与模型校准：关键不确定参数包括放大器 NF、非线性系数 α_nl（来源纤参数与多波长干扰）、跨段损耗（dB/km）、实际可部署波道总数及每波带宽 B。对这些参数应做局部敏感性分析：对每个参数在 ±20% 范围内做蒙特卡洛或局部灵敏度求导，量化 L_max 与 NV 的变化，识别决策的临界参数（例如若 α_nl 增大则高阶调制快速失效，网络应偏向多中继与低阶多波技术）。 模型的实测校准可通过对实验室/现场链路测得的 ASE 水平、在不同发射功率下的 BER 曲线以及真实节点间的人均流量数据来实现。 将实验/运营数据拟合 α_nl 与 NF 可把经验系数替换为物理量，从而提高预测精度。\n\n对题目中具体子问题的求解指导（如何得到数值答案）：要回答“BER 与 SNR 曲线及 BER=0.02 时的 SNR 容限点”请按下列步骤实现：对 QPSK 与 16QAM 用解析近似公式先给出曲线值并用数值方法求 γ_th；对 8QAM 与任何非方形或概率成形星座用 Monte Carlo 仿真（例如每个 γ 点发 1e6 符号以确保误差在可接受范围），然后对仿真得到的 BER(γ) 用二分法求解 BER=0.02 的 γ_th。 对“80 km 与 100 km 单跨长度下的最远传输距离”利用上述 N_max 公式求出： N_max = floor( P_s / (γ_th (P_n,ASE + α_nl P_s^2)) )，并计算 L_max = N_max*Lspan。 这些是可直接数值化的步骤，所需输入包括 P_s（取决于发射设计）、h, f, B, NF, Gain（由跨段损耗确定）、α_nl（由题目给的 1 mW 情况标定）等。\n\n关于多目标与目标函数的选择（第 2 问第 3 子问题思考）：题目给定的“人口加权容量乘积的平方根”是一个合乎直觉的单目标，但它偏重人口量。更现实的目标函数应是多目标的：一方面最大化加权吞吐（运营商视角偏好收益最大化，可将权重与地区 GDP、带宽单价相关）；另一方面最小化建设与运营成本（链路建设成本、放大器与终端设备成本、波长资源成本）、并包含公平性或覆盖约束（例如保证每地区最低接入带宽或保证落后地区的连接优先级）。这可转化为带约束的单目标或标量化的加权和目标；在不同权重下，最优拓扑会发生变动（例如更强调公平性会促使把资源从头部节点向边缘、人口少但发展需求大的城市倾斜）。因此在实际规划中应采用 Pareto 分析或可调权重的多目标优化以支持政策制定。若目标改变为“最大化净现值（收益-成本）”，则方案会更倾向于连通大城市；若纳入“社会效益/数字包容”指标，则会更倾向冗余与覆盖弱市镇。\n\n模型验证、实现与计算资源估计：整个流程在单机上即可实现。物理层的 Monte Carlo 仿真（每种星座数百万符号）在现代 CPU/GPU 上可在数分钟到数小时内完成，建议在并行 GPU 上实现以大幅加速。网络层的 MILP 在 12 节点规模下问题规模小，使用商业求解器可在数秒至数分钟内获得最优解；若扩展到省级若干十个节点，问题规模提升，可能需要启发式或分层求解（先生成候选拓扑再局部优化）。模型输出的置信度与输入参数的可靠性强相关：建议用现场测量数据校准 ASE 与非线性参数，并用历史流量数据验证价值函数的预测趋势。\n\n未来扩展与改进路径：为提高模型精细度与工程适用性，可采取以下路径。第一，用 GN 模型或实测互调/四波混频指标替换简单的 α_nl P_s^2 模型，从而更精确地描述多波段布署时的非线性噪声耦合。第二，把 FEC 的软判决性能（通过 GMI）纳入门限判定中，这会显著改变所需 γ_th 并会提升概率成形方案的相对优势。第三，加入成本模型（资本支出与运营支出），把 NV 与成本结合成净社会价值或商业收益目标从而得到更可实施的规划。第四，加入不确定性量化与鲁棒优化（例如对 NF、非线性强度、人口增长情景做随机模型）以获得在多种未来条件下稳健的拓扑。第五，在星座设计一方，采用机器学习/代理优化（例如基于高斯过程的贝叶斯优化）来探索高维的星座位置与概率空间以高效发现低 SNR 阈值的设计。\n\n总结性陈述（如何运用本模型回答题目各子问题）：用本模型可以得到每种调制格式的 BER-γ 曲线并精确求解 BER=0.02 的 SNR 容限点，基于该阈值与题目中 ASE/非线性标定可计算单跨为 80 km 与 100 km 时的最大跨数与最大传输距离。网络层可分别在“不允许中继”和“允许中继且可分配容量”两种设置下求解最优拓扑并给出每条中继链路的容量分配，从而回答当连接数在 16→33 之间变化时的最优网络配置与最大网络价值；若把市级扩展到省级，只需替换节点与人口数据并重新求解 MILP/LP，便可量化影响。第 3 问的星座改进可通过上述互信息最小化 SNR 的优化流程找到概率或几何成形方案，并以 GMI 或 BER 曲线比较其在目标熵（3 bit）下与基线 8QAM 的性能，从而给出是否存在并如何实现更低 SNR 容限点的调制方案。总体而言，本模型兼顾解析可解释性与数值可操作性，易于校准与扩展，既能回答题目所需的定量问题，也能为运营商/政府在策略层面提供多目标权衡的决策支持。",
  "task_descriptions": [
    "子任务1（物理链路与端到端SNR预算）的目标是建立一套可重复、参数化的光纤链路噪声与SNR预算流程和公式，精确规定输入量、假设、计算步骤与输出指标，以便在任意给定单跨长度和发射功率条件下计算端到端信噪比和最大可支持跨数/距离。范围与主要假设：考虑由若干相同跨段级联构成的链路，每跨长度为 L_span（km），跨数为 N_span，单符号平均光功率为 P_s（mW），噪声可近似为均值为0的复高斯加性噪声（每维方差为 P_n/2），放大器在每跨末尾按跨段损耗给予功率增益以保持跨间信号功率恒定，放大器自发辐射噪声（ASE）与光纤非线性噪声视为独立的加性噪声并在各跨线性叠加。所需输入参数（必需）：普朗克常数 h；载波频率 f（例如 193.1 THz）；单波带宽 B（例如 50 GHz）；放大器噪声指数 NF（线性或dB形式）；纤损 α_dB/km（用于计算每跨损耗 loss_dB = α_dB × L_span）；跨段增益 Gain_linear = 10^(loss_dB/10)（用于补偿损耗）；发射平均功率 P_s（mW）；以及用于标定非线性噪声的经验条件（题目给定：当 P_s=1 mW 时单跨非线性噪声约等于单放大器ASE的 2/3）。计算公式与步骤：1) 计算单跨ASE噪声功率 P_n,ASE = 2π h f B (NF + 1/Gain_linear)（单位 mW）；2) 依据标定条件确定非线性系数 α_nl，使得在 P_s=1 mW 时 P_n,NL = α_nl·(1 mW)^2 = (2/3) P_n,ASE，故 α_nl = (2/3) P_n,ASE（mW/ (mW)^2 单位，但在计算中可直接用数值）；3) 对任意给定 P_s 计算每跨非线性等效噪声 P_n,NL = α_nl · P_s^2；4) 近似端到端总噪声功率为 P_n,total = N_span · (P_n,ASE + P_n,NL)（各跨独立同分布，直接相加）；5) 计算端到端线性SNR 为 SNR_linear = P_s / P_n,total，并可转换为 dB： SNR_dB = 10·log10(SNR_linear)；6) 给定某一调制格式对应的纠前BER门限所需的最小SNR（记为 γ_th），可求允许的最大跨数 N_max = floor( P_s / (γ_th · (P_n,ASE + α_nl P_s^2)) )，并得到最大端到端距离 L_max = N_max × L_span；实现与交付物：提供上述公式的清晰实现顺序和单位说明、可替换参数清单及默认值范例（h,f,B,NF,α_dB/km,L_span,P_s）、一个可运行的脚本/函数模板（输入上述参数输出 P_n,ASE、α_nl、P_n,NL、P_n,total、SNR_linear、SNR_dB、N_max、L_max），并附带对关键假设（噪声独立性、信号功率恒定假设、非线性二次近似）与数值稳定性（单位一致性、Gain计算） 的明确声明，以便后续用不同调制门限或更精细非线性模型替换参数后直接复用该预算模块。",
    "子任务2（BER—SNR 曲线与阈值提取）目标是为给定的调制格局（至少包含 QPSK、8QAM、16QAM，星座点坐标与比特映射需作为输入）在复基带 AWGN 信道下精确计算每种调制的 BER( SNR ) 曲线并数值求出满足纠前 BER = 0.02 的最小 SNR（SNR 容限点）；本子任务的范围仅限于信号加性高斯噪声假设、最近点判决（硬判决）以及可选的软判决互信息/GMI 估计，不包含链路级噪声预算或网络层应用。必需输入：每种调制的星座点复坐标 s_k、每符号出现概率 p_k（若未指定默认等概率）、比特映射（建议 Gray 映射）、目标符号平均功率 P_s（mW，或规定将星座归一化后以 Ps=1 处理并标注单位）、以及欲输出的 SNR 表示方式（线性或 dB）；可选输入：期望的仿真精度（SNR 阈值的不确定度，以 dB 为单位）。方法与步骤严格规定如下：1) 归一化星座使得平均功率等于输入 P_s；2) 定义 SNR 为 P_s/P_n（线性），在初始粗网格（例如 SNR_dB 从 -5 到 25 dB、步长 0.5–1 dB）上计算每点 BER；对方形 M‑QAM（QPSK、16QAM）可同时用标准解析近似公式（QPSK: BER = Q(√(2γ_bit)；M‑QAM 符号错估近似 P_sym ≈ 4(1−1/√M) Q(√(3γ_sym/(M−1)))，BER ≈ P_sym/log2 M）作快速初值核验；3) 对于非方形或任意星座（如 8QAM 或自定义星座）以及在解析近似不可信时，使用 Monte Carlo 仿真：对每个 SNR 点按 p_k 随机抽取 N_sym 符号（初始 N_sym = 1e5 符号/点），对每个符号生成独立复高斯噪声 n ∼ CN(0, P_n/2 per dimension)（其中 P_n = P_s / SNR_lin），得到接收样本 r = s_k + n，实施最近点判决计数比特差错并计算点估计 BER 及其二项分布置信区间（使用正态近似或 Clopper–Pearson）；4) 自适应采样与精细化：在粗网格中找到 BER 曲线穿过 0.02 的相邻 SNR 区间后，对该区间采用细网格（步长 ≤0.1 dB）并将每点样本数加大（例如 N_sym = 1e6 或至少直到在该点的错误计数达到 1000 以保证相对误差 ≲√(1/err_count) ≈3%）；若需要更高精度可用二分法在该区间内针对 SNR 直接迭代仿真直至 SNR 阈值不确定度达到预定精度（例如 ±0.05 dB）；5) 若需要软判决性能指标，额外并行估计每个 SNR 点的互信息或 GMI：对每个接收样本计算位级 LLR 并用蒙特卡洛平均法估算 GMI（或用 Blahut–Arimoto 在固定离散输入下估计互信息），以便在采用软判决 FEC 的系统中使用；6) 结果输出要求：对每种调制给出表格（或 CSV）列出 SNR_dB、BER 估计、上下置信界、样本数以及是否为解析/仿真值；给出最终的 SNR 容限点值并附带其置信区间与用于确定该值的采样策略（粗/细网格样本数和仿真误差统计）；同时生成 BER–SNR 曲线图（对数或线性 BER 轴）和细节插值图用于阈值可视化。实现与工具建议：可用 MATLAB (Communications Toolbox) 或 Python (numpy/scipy + numba 或 cupy/GPU 并行) 实现矢量化噪声生成与判决以加速，务必固定随机种子以保证可复现并使用并行计算（多核或 GPU）在阈值附近加大采样。统计与数值注意事项：所有概率估计应提供二项置信区间，禁止用极低样本数点直接插值求阈值；当 BER 接近 0.02 时应确保误差计数足够以避免阈值定位偏差。交付物为：对三种标准调制的 BER(SNR) 数据文件、每种调制 BER=0.02 对应的 SNR 容限点及其置信区间、用于仿真的代码脚本（含参数说明）、以及说明如何用给定星座/概率输入重复该流程的操作手册。",
    "子任务3（网络层规划与优化）：在给定12个节点的城市群节点集、节点间地理距离矩阵和每个节点的人口数据，以及三类可选传输技术参数（每类技术的单波率 r_t、每条链路在技术 t 下的最大端到端可达距离 D_t 与对应的可用总容量 C_t），构建并求解两类严格定义的优化问题以最大化题目给定的网络价值 NV = Σ_{(i,j)∈E_used} sqrt(pop_i·pop_j) · Cap_{ij}（权重可预设为1或输入指定）：第一情形（无中继，固定连接数K）——决策变量为二进制 y_{e,t}（在候选边 e 上是否部署技术 t）；约束为总选边数 Σ_e I[Σ_t y_{e,t}>0] ≤ K（或直接 Σ_{e,t} y_{e,t} ≤ K 若每边仅能选一项）、以及可用性约束 y_{e,t}=0 当 d_e > D_t，边的可用容量 Cap_e = Σ_t y_{e,t}·C_t；目标为最大化 NV，问题为0–1 MILP，应以商业求解器（Gurobi/CPLEX）或开源 MILP（CBC）在Pyomo/PuLP环境中建模并求解，输出最优拓扑、每条被选边的技术配置与对应 NV 值；第二情形（允许中继且可多路径/多连接）——将拓扑选择与流量分配耦合：决策包含边选择二进制变量和/或整数波段数 n_{e,t}（若需整数波长），同时为每需对 (s,d) 定义连续流变量 f_{sd,e}（允许路径拆分）并加入链路容量约束 Σ_{(s,d)} f_{sd,e} ≤ Cap_e，边的 Cap_e 由所选技术或波段数决定，目标依然为最大化 NV = Σ_{s<d} sqrt(pop_s·pop_d)·F_{s,d}（F_{s,d} = Σ_e f_{sd,e}），此为混合整数（若波段整数）或线性（若拓扑固定且容量连续）规划；方法上建议：若规模允许直接用 MILP 求全局最优，否则采用两阶段或分解策略（阶段一：基于边价值启发式或贪心选择候选边集 → 阶段二：在固定拓扑上求解线性多商品流以最优分配流量），并可用 Benders 分解、列生成或局部搜索（模拟退火、遗传算法）处理整数/大规模情形。模型必须明确并强制执行的约束包括：每条被选边的物理距离不得超过所选技术的 D_t，单边或双向容量共享规则（明确 Cap_e 是双向共享还是独立方向分配），每技术的 C_t 不得被单边超用，以及允许多条平行连接时的总波道数/总带宽上限。必需的输入文件与格式应包括：节点清单与人口（CSV）、距离矩阵（CSV或邻接表）、技术参数表（r_t, D_t, C_t）、连接数 K 值或预算约束，以及求解器配置文件；输出应包含被选边列表、每边技术与容量分配、对端点间的流量分配矩阵、计算得到的 NV 值与求解器日志（可复现性所需的随机种子和版本信息）。实施工具建议为 Python + Pyomo（或 PuLP）配合 Gurobi/CPLEX（或 CBC），并使用 networkx 用于拓扑操作与可视化；对于解的可靠性要求提供可选的敏感性/可行性核验脚本（检查所有边的 d_e ≤ D_t 约束、容量守恒与流守恒）。该子任务的交付物为：可运行的模型代码、输入示例文件、求解结果（拓扑与流分配表格）及说明文档，保证第三方可在给定输入下重现实验并在需要时扩展到更大规模或不同约束设定。",
    "子任务4（星座/调制优化、验证与敏感性分析）——范围与目标：在复基带 AWGN 信道假设下，针对保持信息熵为 3 bit 的约束（H(p)=−Σ p_k log2 p_k = 3）和给定平均功率约束（Σ p_k |s_k|^2 = P_s），设计离散输入星座（点位 s_k ∈ C 和对应概率 p_k≥0，总点数 N 可大于或等于 8）以最小化系统在软判决接收（采用位级 LLR 与软 FEC 时的广义互信息 GMI）或硬判决情形下达到目标信息率所需的最小信噪比 SNR_th；在此过程中同时输出满足工程可用性的设计（例如受限峰均比、最小点间距或概率下限）。方法与步骤（精确可复现）：（1）明确输入与约束：输入为初始星座与映射（推荐以 8QAM/格形 QAM 或均匀初值启动）、目标平均功率 P_s、熵目标 3 bit、噪声模型 CN(0,σ^2)（SNR=P_s/σ^2）；对概率 p_k 加入下界 ε>0 和正则化以避免退化；若需工程约束同时加入峰功率上限或最小欧氏距离约束作为软罚项；（2）性能度量：采用 Monte Carlo 估计互信息 I(X;Y)=E[log2 p(y|x)/p(y)] 与位级 GMI（基于接收样本与所选位映射计算 LLR 并按标准公式估计 GMI），并并行计算硬判决 BER（用于与题目硬判决门限比较）；使用大量样本（建议在阈值附近每 SNR 点 ≥1e6 符号或直到错误计数≥1000 以保证置信度）并用并行/GPU 加速；（3）优化框架：采用交替/分块优化——固定星座几何 s，利用 Blahut–Arimoto 或凸优化在 p 空间内最大化 GMI 或满足熵约束并最小化所需 SNR；随后固定 p，针对 s 采用连续优化（若可导则用自适应梯度/Adam，若不可导或多模态则用无梯度全局搜索如 CMA‑ES、差分进化或贝叶斯优化）以提高 GMI/降低 SNR_th；在每次迭代评估时通过快速蒙特卡洛估算 GMI 并在局部收敛后用更大样本量精确化估计；（4）数值细节与收敛标准：采用二分/目标函数搜索确定最小可达 SNR_th（在给定设计下求解最小 σ^2 使得 GMI ≥ 3），优化停止条件为连续若干代（或若干迭代）GMI 改进 < 指定阈值（例如 1e−4 bit）且 SNR_th 估计置信区间收敛到所需精度（例如 ±0.05 dB）；（5）验证与输出：对最终候选设计在更细的 SNR 网格上用高精度 Monte Carlo 生成 GMI vs SNR 和 BER vs SNR 曲线，报告 SNR_th（GMI ≥3）及在硬判决 BER=0.02 下的 SNR 值与置信区间；同时导出星座点坐标、概率分布、位映射、峰均比与最小点距等工程指标，以及用于软解码的 LLR 计算公式/表；（6）敏感性与鲁棒性分析：针对关键系统参数（平均功率 P_s、噪声方差替换为等效噪声以反映 ASE/非线性不确定性、概率下界 ε、峰功率约束）做局部扰动（例如 ±20%）并评估 SNR_th 的变化，必要时采用鲁棒优化目标（最大化在参数不确定集合上的最小 GMI 或最小化最坏情形下的 SNR_th）；（7）实现与工具：建议使用 Python（numpy/scipy、PyTorch 或 JAX 便于自动微分与 GPU 并行）、Blahut–Arimoto 的数值实现、以及无梯度优化库（CMA‑ES、nevergrad 或 scikit‑optimize）；Monte Carlo 用 numba/cupy 并行化或在 GPU 上实现以缩短阈值搜索时间；（8）交付物与可复现性：提交可运行代码（包含参数化接口），最终设计文件（s_k, p_k, 映射）、高精度 GMI/BER 曲线数据与图、SNR_th 值与置信区间、敏感性分析报告，以及使用说明与随机种子/软件环境说明，确保其他工程人员在给定相同输入条件下可直接复现并部署所设计星座。"
  ]
}