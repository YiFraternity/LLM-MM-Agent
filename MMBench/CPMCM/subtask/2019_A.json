{
  "tasks": [],
  "problem_str": "问题背景：\n无线智能传播模型\n\n1 无线信道建模背景\n\n随着 5G NR 技术的发展，5G 在全球范围内的应用也在不断地扩大。运营商在部署 5G 网络的过程中，需要合理地选择覆盖区域内的基站站址，进而通过部署基站来满足用户的通信需求。在整个无线网络规划流程中，高效的网络估算对于精确的 5G 网络部署有着非常重要的意义。无线传播模型正是通过对目标通信覆盖区域内的无线电波传播特性进行预测，使得小区覆盖范围、小区间网络干扰以及通信速率等指标的估算成为可能。由于无线电波传播环境复杂，会受到传播路径上各种因素的影响，如平原、山体、建筑物、湖泊、海洋、森林、大气、地球自身曲率等，使电磁波不再以单一的方式和路径传播而产生复杂的透射、绕射、散射、反射、折射等，所以建立一个准确的模型是一项非常艰巨的任务。\n\n现有的无线传播模型可以按照研究方法进行区分，一般分为：经验模型、理论模型和改进型经验模型。经验模型的获得是从经验数据中获取固定的拟合公式，典型的模型有 Cost231-Hata、Okumura 等。理论模型是根据电磁波传播理论，考虑电磁波在空间中的反射、绕射、折射等来进行损耗计算，比较有代表性的是 Volcano 模型。改进型经验模型是通过在拟合公式中引入更多的参数从而可以为更细的分类场景提供计算模型，典型的有 Standard Propagation Model（SPM）。\n\n在实际传播模型建模中，为了获得符合目标地区实际环境的传播模型，需要收集大量额外的实测数据、工程参数以及电子地图用来对传播模型进行校正。此外无线 LTE 网络已在全球普及，全球几十亿用户，每时每刻都会产生大量数据。如何合理地运用这些数据来辅助无线网络建设就成为了一个重要的课题。\n\n近年来，大数据驱动的 AI 机器学习技术获得了长足的进步，并且在语言、图像处理领域获得了非常成功的运用。伴随着并行计算架构的发展，机器学习技术也具备了在线运算的能力，其高实时性以及低复杂度使得其与无线通信的紧密结合成为了可能。\n\n在本届数学建模竞赛中，希望参赛者能够对机器学习的工作方式有一定掌握并站在设备供应商以及无线运营者的角度，通过合理地运用机器学习模型（不限定只使用这种方法）来建立无线传播模型，并利用模型准确预测在新环境下无线信号覆盖强度，从而大大减少网络建设成本，提高网络建设效率。\n2 无线传播模型建模方法简介 \n\n在传统的无线传播模型的建立 过程中，往往首先需要对传播场景进行划分， 每一个场景对应一个传播 经验模型。然而，经验模型 在实际使用中往往 不够精确，所以仍然需要通过 采集大量的工程参数 以及实际平均信号接收功率 （Reference  Signal Receiving Power ，RSRP）测量值进行经验模型公式的修正 。从所述过程中可以看到，传播模型建立本质上 是一个函数拟合的过程，即通过调整传播模型的 系数，使得利用传播模型计算得到的路径损耗值与实测路径损耗值误差最小。 所以当工程参数 、地理位置信息、特定地理位置测量点的 RSRP已知的情况下 ，该问题可以归类为一个监督学习问题。与传统经验模型需要额外人为物力进行校正相比，是否可以利用采集的历史数据并利用机器学习技术，得到一套合适的机器学习模型用以对不同场景下信道传播路径损耗进行准确预测，成为一个非常有价值的研究方向。\n\n本题为参赛队伍提供“统一”的数据集。各参赛队伍可以自行将数据集拆分为训练集、测试集以及验证集，将其用于 AI 算法模型的训练及测试。算法的目的在于通过寻找工程参数、地图环境等因素与平均信号接收功率（RSRP）之间的映射射线（理论与实践表明 RSRP 是工程参数、地图环境等因素的随机函数），从而能够在新的环境中快速预测特定地点的理论 RSRP 值。\n\n赛题提供的训练数据集包含多个小区的工程参数数据、地图数据和 RSRP 标签数据，其格式为 csv 格式 (Comma-Separated Values, 逗号分隔值文本)。数据集的结构以及对应数据的含义将在下文中详细阐述。\n\n\\section*{3 训练数据集简介}\n\n训练数据集一共包括多个文件，每个文件代表一个小区的内部数据。文件的命名方式为 train_id.csv，其中 id 为小区的唯一标识，例如 train_1003501.csv 表示唯一标识为 1003501 的小区数据。\n\n文件的每一行代表小区内固定大小的测试区域的相关数据，行数不定（根据小区大小不同，面积越大的小区行数据越多，反之亦然），列数则固定为 18 列，其中前 9 列为站点的工程参数数据；中间 8 列为地图数据；最后 1 列是用于训练的 RSRP 标签数据。下表显示了其中一行数据作为样例。\n\n\\begin{table}[H]\n\\centering\n\\caption{训练数据样例}\n\\begin{tabular}{|c|c|c|c|c|c|c|c|c|}\n\\hline\n\\multicolumn{9}{|c|}{工程参数数据} \\\\\n\\hline\nCell Index & Cell X & Cell Y & Height & Azimuth & Electrical Downtilt & Mechanical Downtilt & Frequency Band & RS Power \\\\\n\\hline\n1003501 & 393621.9 & 3394449 & 35 & 300 & 6 & 4 & 2585 & 13.2 \\\\\n\\hline\n\\multicolumn{9}{|c|}{地图数据} \\\\\n\\hline\nCell Altitude & Cell Building Height & Cell Clutter Index & X & Y & Altitude & Building Height & Clutter Index \\\\\n\\hline\n524 & 32 & 1 & 392800 & 3394210 & 524 & 0 & 5 \\\\\n\\hline\n\\multicolumn{9}{|c|}{RSRP 标签数据} \\\\\n\\hline\nRSRP \\\\\n\\hline\n\\end{tabular}\n\\end{table}\\subsection*{3.1 工程参数数据}\n\n工程参数数据记录了某小区内站点的工程参数信息，共有 9 个字段，各字段对应含义如 Table \\ref{tab:engparam} 所示。\n\n\\begin{table}[H]\n\\centering\n\\caption{工程参数数据的字段含义}\n\\label{tab:engparam}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nCell Index & 小区唯一标识 & - \\\\\nCell X & 小区所属站点的栅格位置，X 坐标 & - \\\\\nCell Y & 小区所属站点的栅格位置，Y 坐标 & - \\\\\nHeight & 小区发射机相对地面的高度 & m \\\\\nAzimuth & 小区发射机水平方向角 & Deg \\\\\nElectrical Downtilt & 小区发射机垂直电下倾角 & Deg \\\\\nMechanical Downtilt & 小区发射机垂直机械下倾角 & Deg \\\\\nFrequency Band & 小区发射机中心频率 & MHz \\\\\nRS Power & 小区发射机发射功率 & dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n为方便数据处理，地图进行了栅格化处理，每个栅格代表了 $5m \\times 5m$ 的区域（如下图 Fig.\\ref{fig:grid} 所示），其中 (Cell X, Cell Y) 记录了站点所在栅格的左上角坐标。其他的工程参数 (Height, Azimuth, Electrical Downtilt, Mechanical Downtilt) 如图 Fig.2 所示，其中机械下倾角 (Mechanical Downtilt) 是通过调整天线面板后面的支架来实现的，是一种物理信号下倾；而电下倾角 (Electrical Downtilt) 是通过调整天线内部的射线圈来实现的，是一种电信号下倾。实际的信号天线下倾角是机械下倾角和电下倾角之和。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.6\\textwidth]{grid_example.png}\n\\caption{栅格化地图的坐标说明}\n\\label{fig:grid}\n\\end{figure}\\subsection*{3.2 地图数据}\n\n地图数据记录地形地貌等信息，共有 8 个字段，各字段对应含义如 Table \\ref{tab:mapdata} 所示。考虑地物类型的多样性和复杂性，城区、农村、湖泊等实际地物被抽象为数字，这些数字称为地物类型名称编号 (Clutter Index)，在 Table \\ref{tab:clutter} 中可以看到地物类型名称所对应的实际地物类型。\n\n\\begin{table}[H]\n\\centering\n\\caption{地图数据的字段含义}\n\\label{tab:mapdata}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nCell Building Height & 小区站点所在栅格(Cell X, Cell Y)的建筑物高度，若该栅格没有建筑物，则为0 & m \\\\\nCell Altitude & 小区站点所在栅格(Cell X, Cell Y)的海拔高度 & m \\\\\nCell Clutter Index & 小区站点所在栅格(Cell X, Cell Y)的地物类型索引 & - \\\\\nX & 栅格位置，X坐标 & - \\\\\nY & 栅格位置，Y坐标 & - \\\\\nBuilding Height & 栅格(X,Y)上的建筑物高度，若该栅格没有建筑物，则为0 & m \\\\\nAltitude & 栅格(X,Y)上的海拔高度 & m \\\\\nClutter Index & 栅格(X,Y)上的地物类型索引 & - \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}[H]\n\\centering\n\\caption{地物类型名称的编号含义}\n\\label{tab:clutter}\n\\begin{tabular}{|c|c||c|c|}\n\\hline\nClutter Index & 含义 & Clutter Index & 含义 \\\\\n\\hline\n1 & 海洋 & 11 & 城区高层建筑(40m$\\sim$60m) \\\\\n2 & 内陆湖泊 & 12 & 城区中高层建筑(20m$\\sim$40m) \\\\\n3 & 湿地 & 13 & 城区$<$20m 高密度建筑群 \\\\\n4 & 城郊开阔区域 & 14 & 城区$<$20m 多层建筑 \\\\\n5 & 市区开阔区域 & 15 & 低密度工业建筑区域 \\\\\n6 & 道路开阔区域 & 16 & 高密度工业建筑区域 \\\\\n7 & 植被区 & 17 & 城郊 \\\\\n8 & 灌木植被 & 18 & 发达城郊区域 \\\\\n9 & 森林植被 & 19 & 农村 \\\\\n10 & 城区超高层建筑($>$60m) & 20 & CBD 商务圈 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n与工程参数数据一样，地图数据也进行了栅格化处理，每个栅格代表了 $5m \\times 5m$ 的区域，其中 (X, Y) 记录了地图所在栅格的左上角坐标。\n\n在明确了地图存储格式之后，可以针对不同的参数对地图进行可视化处理。如 Fig.3 所示，Fig.3a-c 分别根据栅格坐标以及房屋高度、海拔高度和地物类型索引作为特征对地图进行可视化处理。通过可视化处理，可以对地图数据有一个更为直观的了解。\\subsection*{3.3 RSRP 标签数据}\n\n平均信号接收功率(RSRP)标签数据作为实测测量结果，在监督学习中用于和机器学习模型预测的结果作比较。共有 1 个字段，对应含义如 Table \\ref{tab:rsrp} 所示。\n\n\\begin{table}[H]\n\\centering\n\\caption{RSRP 标签数据表格的字段含义}\n\\label{tab:rsrp}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nRSRP & 栅格(X,Y)的平均信号接收功率，标签列 & dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n如 Fig.\\ref{fig:rsrpmap} 所示，结合已知工程数据中的坐标和特征以及标签数据中的 RSRP 值，可以清晰地对信号功率分布进行可视化处理，从而明确算法信号强弱覆盖区域。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.7\\textwidth]{rsrp_map.png}\n\\caption{标签数据的可视化处理}\n\\label{fig:rsrpmap}\n\\end{figure}\n\n\\section*{4 无线传播模型建模赛题}\n\n本赛题除在中国研究生数学建模竞赛网站上上交论文外，问题三需要在华为云平台上提交模型，不提交的队伍将被视为没有完成此题而不计入比赛成绩。\n\n\\subsection*{4.1 特征工程中的特征设计}\n\n高效的机器学习模型建立依赖于输入变量与问题目标的强相关性，因此输入变量也称为“特征”。特征工程的本质是从原始数据中转换得到能够最好表征目标问题的参数，并使得各个参数的动态范围在一个相对稳定的范围内，从而提高机器学习模型训练的效率。一般特征工程的典型技术有：\n\n\\begin{itemize}\n\\item 剔除失真、低质量数据；数据插值补齐；去除异常点；\n\\item 连续数据离散化；数据去均值；幅度限制；方差限制。\n\\end{itemize}\n\n高阶的特征工程需要充分利用与目标问题相关的专业知识。对于信道传播模型建模问题，可以如 Fig.\\ref{fig:antenna} 所示根据目标栅格与发射机几何位置来挑选合理的特征。例如， 通过发射机相对地面的高度 $h_b$，机械下倾角 $\\theta_{MD}$，电重直下倾角 $\\theta_{ED}$，发射机所在栅格位置与目标栅格位置，可以得到栅格与发射机的距离 $d$ 以及栅格与信号发射的相对高度 $\\Delta h_r$，而 $\\Delta h_r$ 就可以作为一个特征。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.7\\textwidth]{antenna_features.png}\n\\caption{根据目标栅格与发射机的地理位置关系提取特征}\n\\label{fig:antenna}\n\\end{figure}除了几何位置特征，传统经验信道模型中涉及的参数也可以纳入特征工程的考察范围。例如城市中的经典模型 Cost 231-Hata，其定义如下：\\n\\n\\begin{equation}\\nPL = 46.3 + 33.9 \\log_{10} f - 13.82 \\log_{10} h_b - \\alpha + (44.9 - 6.55 \\log_{10} h_{ue}) \\log_{10} d + c_m,\\n\\end{equation}\\n\\n其中 PL 定义为传播路径损耗(dB)，$f$ 为载波频率(MHz)，$h_b$ 为基站天线有效高度(m)，$h_{ue}$ 为用户天线有效高度(m)，$\\alpha$ 为用户天线高度纠正项(dB)，$d$ 为链路距离(km) 以及 $c_m$ 为场景纠正常数(dB)。RSRP 与 PL 的关系为：\\n\\n\\begin{equation}\\nRSRP = P_t - PL,\\n\\end{equation}\\n\\n其中 $P_t$ 是小区发射机发射功率(dBm) (见 Table 2)。\n\n问题要求：\n\\section*{问题一}\n\n请根据 Cost 231-Hata 模型以及下述数据集信息设计合适的特征，并阐述原因。\n\n\\begin{table}[H]\n\\centering\n\\caption{数据信息}\n\\begin{tabular}{|c|c|c|c|c|c|c|c|}\n\\hline\n\\multicolumn{8}{|c|}{工程参数数据} \\\\\n\\hline\nCell Index & Cell X & Cell Y & Height & Azimuth & Electrical Downtilt & Mechanical Downtilt & Frequency Band & RS Power \\\\\n\\hline\n2 & 100 & 100 & 49m & 45$^\\circ$ & 2$^\\circ$ & 2$^\\circ$ & 1800MHz & 18.2 dBm \\\\\n\\hline\n\\multicolumn{8}{|c|}{地图数据} \\\\\n\\hline\nCell Altitude & Cell Building Height & Cell Clutter Index & X & Y & Altitude & Building Height & Clutter Index \\\\\n\\hline\n47m & 9m & 11 & 500 & 500 & 9m & 0m & 1 \\\\\n\\hline\n\\multicolumn{8}{|c|}{RSRP 标签数据} \\\\\n\\hline\nRSRP \\\\\n\\hline\n-100 dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\subsection*{4.2 特征工程中的特征选择}\n\n完成特征设计后，通常需要选择有意义的特征输入机器学习模型进行训练。对于不同方法构造出来的特征，需要从多个层面来判断这个特征是否合理。通常来说，可以从以下两个方面来选择特征：\n\n\\begin{itemize}\n\\item 特征是否发散：如果一个特征不发散，例如方差接近于 0，也就是说样本在这个特征上基本上没有差异，这个特征在对样本的区分并没有什么作用。\n\\item 特征与目标的相关性：总体来说显见，与目标相关性高的特征，应当优先选择。\n\\end{itemize}\n\n\\section*{问题二}\n\n基于提供的小区数据集，设计多个合适的特征，计算这些特征与目标的相关性，并将结果量化、排序，形成如下的表格，并阐明设计这些特征的原因和用于排序的量化数值的计算方法。\n\n\\begin{table}[H]\n\\centering\n\\caption{特征名称及其与目标的相关性}\n\\begin{tabular}{|c|c|c|}\n\\hline\n排序 & 特征名称 & 该特征与目标的相关性 \\\\\n\\hline\n1 & & \\\\\n2 & & \\\\\n\\vdots & & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\subsection*{4.3 RSRP 预测}\n\n\\section*{问题三}\n\n在设计和选择了有效的特征之后，就可以通过建立预测模型来进行 RSRP 的预测了。请各个参赛队根据自己建立的特征集以及赛题提供的训练数据集，建立基于 AI 的无线传播模型来对不同地理位置的 RSRP 进行预测。为研究生更明白本问题的目标，下面将分别介绍评审数据集、提交内容和线上代码评分方法。\\subsection*{4.3.1 评审数据集简介}\n\n线上代码评分系统将使用对参赛队保密的评审数据集来对模型进行评分，以便公平地测试各参赛队提交模型的实际泛化能力。评审数据集与训练数据集一样，共包括了多个文件，每个文件代表一个小区内的数据。文件的命名方式为 test_id.csv，其中 id 为小区的唯一标识，例如 test_1003501.csv 表示唯一标识为 1003501 的小区数据。\n\n评审数据集的文件中会除了 RSRP 之外的前 17 个字段，与该 17 个字段对应的 RSRP 字段需要由研究生提交的模型代码程序来预测生成。\n\n\\subsection*{4.3.2 提交内容}\n\n论文提交文字形式详细描述输入 AI 模型的建模过程，包括模型的建立方法、参数的设置和训练的结果，特别是第二问问题的相关性消楚。\n\n第二问需要提交完整的模型。针对每一个评审数据集的输入文件，模型输出要求也是一个文件，命名方式与输入文件保持一致，但文件名后加 _result，例如输入文件名为 test_123456.csv，那么输出文件名必须为 test_123456.csv_result。每个输出文件中的结果与输入文件必须一一对应，否则会自动产生全零的 test_123456.csv_result 文件进行评分。每个输出文件内容的样例如下所示：\n\n\\begin{verbatim}\n{\"RSRP\": [[-54.505], [-73.416], [-76.123], [-74.261], [-98.143]]}\n\\end{verbatim}\n\n其中括号内的数字表示输入文件的每一行数据所对应的 RSRP 预测值，预测值的数量与输入文件的行数（表头除外）对应，例如上述的输出文件对应的输入文件应为 5 行（表头除外）。如果输出文件的预测值少于输入文件的行数，则会以 0 的形式将输出文件填满后进行评分；如果输出文件的预测值多余输入文件的行数，则会取输出文件的前 N 个预测值进行评分，其中 N 为输入文件的行数。\n\n\\subsection*{4.3.3 线上代码评分方法}\n\n对于提交的预测 RSRP 值，将根据以下条件进行排序：\n\\begin{itemize}\n\\item 模型在评审数据集的评估下，弱覆盖识别率 (PCRR: Poor coverage recognition rate) 必须大于等于 20\\%。\n\\end{itemize}\n\n在 PCRR 精度达标后，再根据预测均方根误差 (RMSE: Root mean squared error) 大小进行各参赛组的名次排序（RMSE 小者排名靠前）。\n\nPCRR 和 RMSE 的介绍如下所示：\n\n\\textbf{弱覆盖识别率 (PCRR: Poor coverage recognition rate)}\n\n在进行预测的过程中如果可以有效识别弱覆盖区域，能够更好地帮助运营商精准规划和优化网络从而提升客户体验。因此，除 RMSE 为有效测试目标之外，弱覆盖识别准确率也是作为一项非常有价值的评估指标。\n\n在本次建模比赛中，弱覆盖设立门限p，p 的值定义为 -103 dBm。若 RSRP 预测值或实测值小于p, 则为弱覆盖并标记为 1，若大于等于p 则为非弱覆盖并标记为 0。根据比较预测值和实测值得到的弱覆盖点以及非弱覆盖点的类别，可以以下参数进行统计：\n\n\\begin{itemize}\n\\item True Positive (TP)：真实信号为弱覆盖，预测值也为弱覆盖；\n\\item False Positive (FP)：真实信号非弱覆盖，预测值为弱覆盖；\n\\item False Negative (FN)：真实信号为弱覆盖，预测值为非弱覆盖；\n\\item True Negative (TN)：真实信号非弱覆盖，预测值也为非弱覆盖。\n\\end{itemize}\\begin{table}[H]\n\\centering\n\\caption{TP, FP, FN 和 TN 的定义}\n\\begin{tabular}{|c|c|c|}\n\\hline\n & \\textbf{True (弱覆盖)} & \\textbf{False (非弱覆盖)} \\ \\hline\n\\textbf{预测结果 True (弱覆盖)} & TP & FP \\ \\hline\n\\textbf{预测结果 False (非弱覆盖)} & FN & TN \\ \\hline\n\\end{tabular}\n\\end{table}\n\nPCRR 综合考虑 Precision (准确率) 和 Recall (召回率) 的目标，其计算公式如下：\n\n\\begin{equation}\nPCRR = 2 \\times \\frac{Precision \\times Recall}{Precision + Recall}\n\\end{equation}\n\n其中 Precision 可以理解为预测结果为弱覆盖的栅格实际也是弱覆盖的概率，其定义如下：\n\n\\begin{equation}\nPrecision = \\frac{TP}{TP + FP}\n\\end{equation}\n\nRecall 可以理解为真实结果为弱覆盖的栅格有多少被预测成了弱覆盖的概率，其定义如下：\n\n\\begin{equation}\nRecall = \\frac{TP}{TP + FN}\n\\end{equation}\n\nPCRR 的计算代码可以参考以下程序：\n\n\\begin{table}[H]\n\\centering\n\\caption{PCRR 方法参考}\n\\begin{verbatim}\ndef CaculatePcrr(y_true,y_pred):\n    t = -103\n    tp = len(y_true[(y_true < t) & (y_pred < t)])\n    fp = len(y_true[(y_true >= t) & (y_pred < t)])\n    fn = len(y_true[(y_true < t) & (y_pred >= t)])\n\n    precision = tp / (tp + fp)\n    recall = tp / (tp + fn)\n    pcrr = 2 * (precision * recall) / (precision + recall)\n    return pcrr\n\\end{verbatim}\n\\end{table}\n\n其中 $y_{true}$ 为真实的 RSRP 标签列，$y_{pred}$ 为预测的 RSRP 标签列。\n\n\\subsection*{均方根误差 (RMSE: Root mean squared error)}\n\nRMSE 是评估预测值和实测值整体偏差的指标，其大小直观表现了仿真准确性。直接计算评估数据的 RMSE，计算公式如下：\n\n\\begin{equation}\nRMSE = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} (P^{(i)} - \\hat{P}^{(i)})^2}\n\\end{equation}\n\n其中 $P^{(i)}$ 为参赛队机器学习模型对于第 $i$ 组评审数据集的 RSRP 实测值，$\\hat{P}^{(i)}$ 为第 $i$ 组评审数据集的 RSRP 预测量值。\n\nDataset Path:\n[]\n\nData Description:\n该数据集以逗号分隔的CSV文件形式提供，整体由多个小区（基站）对应的若干文件构成，每个文件代表一个小区内的测量记录集合，文件内部各行为该小区内的样本点记录，列为工程参数、地图/空间信息等描述性字段以及在训练集中存在的RSRP标签；训练集文件包含工程参数数据、地图数据和对应的RSRP标签，用于模型训练与验证；评审/测试集由若干命名为test_id.csv（例如test_1003501.csv，id为小区唯一标识）的文件构成，测试文件中保留除RSRP之外的前17个字段（即测试样本提供完整的17个输入特征），而对应的RSRP字段被保密由参赛模型预测生成；线上评分系统使用对参赛队保密的评审数据集以统一方式对提交代码进行评分，以公平评估模型在未见小区上的泛化能力；总体上数据格式统一、列结构一致，训练集可直接用于监督学习建立特征到RSRP的映射，测试集则要求提交程序输出缺失的RSRP列以供评分。",
  "problem": {
    "background": "无线智能传播模型\n\n1 无线信道建模背景\n\n随着 5G NR 技术的发展，5G 在全球范围内的应用也在不断地扩大。运营商在部署 5G 网络的过程中，需要合理地选择覆盖区域内的基站站址，进而通过部署基站来满足用户的通信需求。在整个无线网络规划流程中，高效的网络估算对于精确的 5G 网络部署有着非常重要的意义。无线传播模型正是通过对目标通信覆盖区域内的无线电波传播特性进行预测，使得小区覆盖范围、小区间网络干扰以及通信速率等指标的估算成为可能。由于无线电波传播环境复杂，会受到传播路径上各种因素的影响，如平原、山体、建筑物、湖泊、海洋、森林、大气、地球自身曲率等，使电磁波不再以单一的方式和路径传播而产生复杂的透射、绕射、散射、反射、折射等，所以建立一个准确的模型是一项非常艰巨的任务。\n\n现有的无线传播模型可以按照研究方法进行区分，一般分为：经验模型、理论模型和改进型经验模型。经验模型的获得是从经验数据中获取固定的拟合公式，典型的模型有 Cost231-Hata、Okumura 等。理论模型是根据电磁波传播理论，考虑电磁波在空间中的反射、绕射、折射等来进行损耗计算，比较有代表性的是 Volcano 模型。改进型经验模型是通过在拟合公式中引入更多的参数从而可以为更细的分类场景提供计算模型，典型的有 Standard Propagation Model（SPM）。\n\n在实际传播模型建模中，为了获得符合目标地区实际环境的传播模型，需要收集大量额外的实测数据、工程参数以及电子地图用来对传播模型进行校正。此外无线 LTE 网络已在全球普及，全球几十亿用户，每时每刻都会产生大量数据。如何合理地运用这些数据来辅助无线网络建设就成为了一个重要的课题。\n\n近年来，大数据驱动的 AI 机器学习技术获得了长足的进步，并且在语言、图像处理领域获得了非常成功的运用。伴随着并行计算架构的发展，机器学习技术也具备了在线运算的能力，其高实时性以及低复杂度使得其与无线通信的紧密结合成为了可能。\n\n在本届数学建模竞赛中，希望参赛者能够对机器学习的工作方式有一定掌握并站在设备供应商以及无线运营者的角度，通过合理地运用机器学习模型（不限定只使用这种方法）来建立无线传播模型，并利用模型准确预测在新环境下无线信号覆盖强度，从而大大减少网络建设成本，提高网络建设效率。\n2 无线传播模型建模方法简介 \n\n在传统的无线传播模型的建立 过程中，往往首先需要对传播场景进行划分， 每一个场景对应一个传播 经验模型。然而，经验模型 在实际使用中往往 不够精确，所以仍然需要通过 采集大量的工程参数 以及实际平均信号接收功率 （Reference  Signal Receiving Power ，RSRP）测量值进行经验模型公式的修正 。从所述过程中可以看到，传播模型建立本质上 是一个函数拟合的过程，即通过调整传播模型的 系数，使得利用传播模型计算得到的路径损耗值与实测路径损耗值误差最小。 所以当工程参数 、地理位置信息、特定地理位置测量点的 RSRP已知的情况下 ，该问题可以归类为一个监督学习问题。与传统经验模型需要额外人为物力进行校正相比，是否可以利用采集的历史数据并利用机器学习技术，得到一套合适的机器学习模型用以对不同场景下信道传播路径损耗进行准确预测，成为一个非常有价值的研究方向。\n\n本题为参赛队伍提供“统一”的数据集。各参赛队伍可以自行将数据集拆分为训练集、测试集以及验证集，将其用于 AI 算法模型的训练及测试。算法的目的在于通过寻找工程参数、地图环境等因素与平均信号接收功率（RSRP）之间的映射射线（理论与实践表明 RSRP 是工程参数、地图环境等因素的随机函数），从而能够在新的环境中快速预测特定地点的理论 RSRP 值。\n\n赛题提供的训练数据集包含多个小区的工程参数数据、地图数据和 RSRP 标签数据，其格式为 csv 格式 (Comma-Separated Values, 逗号分隔值文本)。数据集的结构以及对应数据的含义将在下文中详细阐述。\n\n\\section*{3 训练数据集简介}\n\n训练数据集一共包括多个文件，每个文件代表一个小区的内部数据。文件的命名方式为 train_id.csv，其中 id 为小区的唯一标识，例如 train_1003501.csv 表示唯一标识为 1003501 的小区数据。\n\n文件的每一行代表小区内固定大小的测试区域的相关数据，行数不定（根据小区大小不同，面积越大的小区行数据越多，反之亦然），列数则固定为 18 列，其中前 9 列为站点的工程参数数据；中间 8 列为地图数据；最后 1 列是用于训练的 RSRP 标签数据。下表显示了其中一行数据作为样例。\n\n\\begin{table}[H]\n\\centering\n\\caption{训练数据样例}\n\\begin{tabular}{|c|c|c|c|c|c|c|c|c|}\n\\hline\n\\multicolumn{9}{|c|}{工程参数数据} \\\\\n\\hline\nCell Index & Cell X & Cell Y & Height & Azimuth & Electrical Downtilt & Mechanical Downtilt & Frequency Band & RS Power \\\\\n\\hline\n1003501 & 393621.9 & 3394449 & 35 & 300 & 6 & 4 & 2585 & 13.2 \\\\\n\\hline\n\\multicolumn{9}{|c|}{地图数据} \\\\\n\\hline\nCell Altitude & Cell Building Height & Cell Clutter Index & X & Y & Altitude & Building Height & Clutter Index \\\\\n\\hline\n524 & 32 & 1 & 392800 & 3394210 & 524 & 0 & 5 \\\\\n\\hline\n\\multicolumn{9}{|c|}{RSRP 标签数据} \\\\\n\\hline\nRSRP \\\\\n\\hline\n\\end{tabular}\n\\end{table}\\subsection*{3.1 工程参数数据}\n\n工程参数数据记录了某小区内站点的工程参数信息，共有 9 个字段，各字段对应含义如 Table \\ref{tab:engparam} 所示。\n\n\\begin{table}[H]\n\\centering\n\\caption{工程参数数据的字段含义}\n\\label{tab:engparam}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nCell Index & 小区唯一标识 & - \\\\\nCell X & 小区所属站点的栅格位置，X 坐标 & - \\\\\nCell Y & 小区所属站点的栅格位置，Y 坐标 & - \\\\\nHeight & 小区发射机相对地面的高度 & m \\\\\nAzimuth & 小区发射机水平方向角 & Deg \\\\\nElectrical Downtilt & 小区发射机垂直电下倾角 & Deg \\\\\nMechanical Downtilt & 小区发射机垂直机械下倾角 & Deg \\\\\nFrequency Band & 小区发射机中心频率 & MHz \\\\\nRS Power & 小区发射机发射功率 & dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n为方便数据处理，地图进行了栅格化处理，每个栅格代表了 $5m \\times 5m$ 的区域（如下图 Fig.\\ref{fig:grid} 所示），其中 (Cell X, Cell Y) 记录了站点所在栅格的左上角坐标。其他的工程参数 (Height, Azimuth, Electrical Downtilt, Mechanical Downtilt) 如图 Fig.2 所示，其中机械下倾角 (Mechanical Downtilt) 是通过调整天线面板后面的支架来实现的，是一种物理信号下倾；而电下倾角 (Electrical Downtilt) 是通过调整天线内部的射线圈来实现的，是一种电信号下倾。实际的信号天线下倾角是机械下倾角和电下倾角之和。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.6\\textwidth]{grid_example.png}\n\\caption{栅格化地图的坐标说明}\n\\label{fig:grid}\n\\end{figure}\\subsection*{3.2 地图数据}\n\n地图数据记录地形地貌等信息，共有 8 个字段，各字段对应含义如 Table \\ref{tab:mapdata} 所示。考虑地物类型的多样性和复杂性，城区、农村、湖泊等实际地物被抽象为数字，这些数字称为地物类型名称编号 (Clutter Index)，在 Table \\ref{tab:clutter} 中可以看到地物类型名称所对应的实际地物类型。\n\n\\begin{table}[H]\n\\centering\n\\caption{地图数据的字段含义}\n\\label{tab:mapdata}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nCell Building Height & 小区站点所在栅格(Cell X, Cell Y)的建筑物高度，若该栅格没有建筑物，则为0 & m \\\\\nCell Altitude & 小区站点所在栅格(Cell X, Cell Y)的海拔高度 & m \\\\\nCell Clutter Index & 小区站点所在栅格(Cell X, Cell Y)的地物类型索引 & - \\\\\nX & 栅格位置，X坐标 & - \\\\\nY & 栅格位置，Y坐标 & - \\\\\nBuilding Height & 栅格(X,Y)上的建筑物高度，若该栅格没有建筑物，则为0 & m \\\\\nAltitude & 栅格(X,Y)上的海拔高度 & m \\\\\nClutter Index & 栅格(X,Y)上的地物类型索引 & - \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}[H]\n\\centering\n\\caption{地物类型名称的编号含义}\n\\label{tab:clutter}\n\\begin{tabular}{|c|c||c|c|}\n\\hline\nClutter Index & 含义 & Clutter Index & 含义 \\\\\n\\hline\n1 & 海洋 & 11 & 城区高层建筑(40m$\\sim$60m) \\\\\n2 & 内陆湖泊 & 12 & 城区中高层建筑(20m$\\sim$40m) \\\\\n3 & 湿地 & 13 & 城区$<$20m 高密度建筑群 \\\\\n4 & 城郊开阔区域 & 14 & 城区$<$20m 多层建筑 \\\\\n5 & 市区开阔区域 & 15 & 低密度工业建筑区域 \\\\\n6 & 道路开阔区域 & 16 & 高密度工业建筑区域 \\\\\n7 & 植被区 & 17 & 城郊 \\\\\n8 & 灌木植被 & 18 & 发达城郊区域 \\\\\n9 & 森林植被 & 19 & 农村 \\\\\n10 & 城区超高层建筑($>$60m) & 20 & CBD 商务圈 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n与工程参数数据一样，地图数据也进行了栅格化处理，每个栅格代表了 $5m \\times 5m$ 的区域，其中 (X, Y) 记录了地图所在栅格的左上角坐标。\n\n在明确了地图存储格式之后，可以针对不同的参数对地图进行可视化处理。如 Fig.3 所示，Fig.3a-c 分别根据栅格坐标以及房屋高度、海拔高度和地物类型索引作为特征对地图进行可视化处理。通过可视化处理，可以对地图数据有一个更为直观的了解。\\subsection*{3.3 RSRP 标签数据}\n\n平均信号接收功率(RSRP)标签数据作为实测测量结果，在监督学习中用于和机器学习模型预测的结果作比较。共有 1 个字段，对应含义如 Table \\ref{tab:rsrp} 所示。\n\n\\begin{table}[H]\n\\centering\n\\caption{RSRP 标签数据表格的字段含义}\n\\label{tab:rsrp}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nRSRP & 栅格(X,Y)的平均信号接收功率，标签列 & dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n如 Fig.\\ref{fig:rsrpmap} 所示，结合已知工程数据中的坐标和特征以及标签数据中的 RSRP 值，可以清晰地对信号功率分布进行可视化处理，从而明确算法信号强弱覆盖区域。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.7\\textwidth]{rsrp_map.png}\n\\caption{标签数据的可视化处理}\n\\label{fig:rsrpmap}\n\\end{figure}\n\n\\section*{4 无线传播模型建模赛题}\n\n本赛题除在中国研究生数学建模竞赛网站上上交论文外，问题三需要在华为云平台上提交模型，不提交的队伍将被视为没有完成此题而不计入比赛成绩。\n\n\\subsection*{4.1 特征工程中的特征设计}\n\n高效的机器学习模型建立依赖于输入变量与问题目标的强相关性，因此输入变量也称为“特征”。特征工程的本质是从原始数据中转换得到能够最好表征目标问题的参数，并使得各个参数的动态范围在一个相对稳定的范围内，从而提高机器学习模型训练的效率。一般特征工程的典型技术有：\n\n\\begin{itemize}\n\\item 剔除失真、低质量数据；数据插值补齐；去除异常点；\n\\item 连续数据离散化；数据去均值；幅度限制；方差限制。\n\\end{itemize}\n\n高阶的特征工程需要充分利用与目标问题相关的专业知识。对于信道传播模型建模问题，可以如 Fig.\\ref{fig:antenna} 所示根据目标栅格与发射机几何位置来挑选合理的特征。例如， 通过发射机相对地面的高度 $h_b$，机械下倾角 $\\theta_{MD}$，电重直下倾角 $\\theta_{ED}$，发射机所在栅格位置与目标栅格位置，可以得到栅格与发射机的距离 $d$ 以及栅格与信号发射的相对高度 $\\Delta h_r$，而 $\\Delta h_r$ 就可以作为一个特征。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.7\\textwidth]{antenna_features.png}\n\\caption{根据目标栅格与发射机的地理位置关系提取特征}\n\\label{fig:antenna}\n\\end{figure}除了几何位置特征，传统经验信道模型中涉及的参数也可以纳入特征工程的考察范围。例如城市中的经典模型 Cost 231-Hata，其定义如下：\\n\\n\\begin{equation}\\nPL = 46.3 + 33.9 \\log_{10} f - 13.82 \\log_{10} h_b - \\alpha + (44.9 - 6.55 \\log_{10} h_{ue}) \\log_{10} d + c_m,\\n\\end{equation}\\n\\n其中 PL 定义为传播路径损耗(dB)，$f$ 为载波频率(MHz)，$h_b$ 为基站天线有效高度(m)，$h_{ue}$ 为用户天线有效高度(m)，$\\alpha$ 为用户天线高度纠正项(dB)，$d$ 为链路距离(km) 以及 $c_m$ 为场景纠正常数(dB)。RSRP 与 PL 的关系为：\\n\\n\\begin{equation}\\nRSRP = P_t - PL,\\n\\end{equation}\\n\\n其中 $P_t$ 是小区发射机发射功率(dBm) (见 Table 2)。",
    "problem_requirement": "\\section*{问题一}\n\n请根据 Cost 231-Hata 模型以及下述数据集信息设计合适的特征，并阐述原因。\n\n\\begin{table}[H]\n\\centering\n\\caption{数据信息}\n\\begin{tabular}{|c|c|c|c|c|c|c|c|}\n\\hline\n\\multicolumn{8}{|c|}{工程参数数据} \\\\\n\\hline\nCell Index & Cell X & Cell Y & Height & Azimuth & Electrical Downtilt & Mechanical Downtilt & Frequency Band & RS Power \\\\\n\\hline\n2 & 100 & 100 & 49m & 45$^\\circ$ & 2$^\\circ$ & 2$^\\circ$ & 1800MHz & 18.2 dBm \\\\\n\\hline\n\\multicolumn{8}{|c|}{地图数据} \\\\\n\\hline\nCell Altitude & Cell Building Height & Cell Clutter Index & X & Y & Altitude & Building Height & Clutter Index \\\\\n\\hline\n47m & 9m & 11 & 500 & 500 & 9m & 0m & 1 \\\\\n\\hline\n\\multicolumn{8}{|c|}{RSRP 标签数据} \\\\\n\\hline\nRSRP \\\\\n\\hline\n-100 dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\subsection*{4.2 特征工程中的特征选择}\n\n完成特征设计后，通常需要选择有意义的特征输入机器学习模型进行训练。对于不同方法构造出来的特征，需要从多个层面来判断这个特征是否合理。通常来说，可以从以下两个方面来选择特征：\n\n\\begin{itemize}\n\\item 特征是否发散：如果一个特征不发散，例如方差接近于 0，也就是说样本在这个特征上基本上没有差异，这个特征在对样本的区分并没有什么作用。\n\\item 特征与目标的相关性：总体来说显见，与目标相关性高的特征，应当优先选择。\n\\end{itemize}\n\n\\section*{问题二}\n\n基于提供的小区数据集，设计多个合适的特征，计算这些特征与目标的相关性，并将结果量化、排序，形成如下的表格，并阐明设计这些特征的原因和用于排序的量化数值的计算方法。\n\n\\begin{table}[H]\n\\centering\n\\caption{特征名称及其与目标的相关性}\n\\begin{tabular}{|c|c|c|}\n\\hline\n排序 & 特征名称 & 该特征与目标的相关性 \\\\\n\\hline\n1 & & \\\\\n2 & & \\\\\n\\vdots & & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\subsection*{4.3 RSRP 预测}\n\n\\section*{问题三}\n\n在设计和选择了有效的特征之后，就可以通过建立预测模型来进行 RSRP 的预测了。请各个参赛队根据自己建立的特征集以及赛题提供的训练数据集，建立基于 AI 的无线传播模型来对不同地理位置的 RSRP 进行预测。为研究生更明白本问题的目标，下面将分别介绍评审数据集、提交内容和线上代码评分方法。\\subsection*{4.3.1 评审数据集简介}\n\n线上代码评分系统将使用对参赛队保密的评审数据集来对模型进行评分，以便公平地测试各参赛队提交模型的实际泛化能力。评审数据集与训练数据集一样，共包括了多个文件，每个文件代表一个小区内的数据。文件的命名方式为 test_id.csv，其中 id 为小区的唯一标识，例如 test_1003501.csv 表示唯一标识为 1003501 的小区数据。\n\n评审数据集的文件中会除了 RSRP 之外的前 17 个字段，与该 17 个字段对应的 RSRP 字段需要由研究生提交的模型代码程序来预测生成。\n\n\\subsection*{4.3.2 提交内容}\n\n论文提交文字形式详细描述输入 AI 模型的建模过程，包括模型的建立方法、参数的设置和训练的结果，特别是第二问问题的相关性消楚。\n\n第二问需要提交完整的模型。针对每一个评审数据集的输入文件，模型输出要求也是一个文件，命名方式与输入文件保持一致，但文件名后加 _result，例如输入文件名为 test_123456.csv，那么输出文件名必须为 test_123456.csv_result。每个输出文件中的结果与输入文件必须一一对应，否则会自动产生全零的 test_123456.csv_result 文件进行评分。每个输出文件内容的样例如下所示：\n\n\\begin{verbatim}\n{\"RSRP\": [[-54.505], [-73.416], [-76.123], [-74.261], [-98.143]]}\n\\end{verbatim}\n\n其中括号内的数字表示输入文件的每一行数据所对应的 RSRP 预测值，预测值的数量与输入文件的行数（表头除外）对应，例如上述的输出文件对应的输入文件应为 5 行（表头除外）。如果输出文件的预测值少于输入文件的行数，则会以 0 的形式将输出文件填满后进行评分；如果输出文件的预测值多余输入文件的行数，则会取输出文件的前 N 个预测值进行评分，其中 N 为输入文件的行数。\n\n\\subsection*{4.3.3 线上代码评分方法}\n\n对于提交的预测 RSRP 值，将根据以下条件进行排序：\n\\begin{itemize}\n\\item 模型在评审数据集的评估下，弱覆盖识别率 (PCRR: Poor coverage recognition rate) 必须大于等于 20\\%。\n\\end{itemize}\n\n在 PCRR 精度达标后，再根据预测均方根误差 (RMSE: Root mean squared error) 大小进行各参赛组的名次排序（RMSE 小者排名靠前）。\n\nPCRR 和 RMSE 的介绍如下所示：\n\n\\textbf{弱覆盖识别率 (PCRR: Poor coverage recognition rate)}\n\n在进行预测的过程中如果可以有效识别弱覆盖区域，能够更好地帮助运营商精准规划和优化网络从而提升客户体验。因此，除 RMSE 为有效测试目标之外，弱覆盖识别准确率也是作为一项非常有价值的评估指标。\n\n在本次建模比赛中，弱覆盖设立门限p，p 的值定义为 -103 dBm。若 RSRP 预测值或实测值小于p, 则为弱覆盖并标记为 1，若大于等于p 则为非弱覆盖并标记为 0。根据比较预测值和实测值得到的弱覆盖点以及非弱覆盖点的类别，可以以下参数进行统计：\n\n\\begin{itemize}\n\\item True Positive (TP)：真实信号为弱覆盖，预测值也为弱覆盖；\n\\item False Positive (FP)：真实信号非弱覆盖，预测值为弱覆盖；\n\\item False Negative (FN)：真实信号为弱覆盖，预测值为非弱覆盖；\n\\item True Negative (TN)：真实信号非弱覆盖，预测值也为非弱覆盖。\n\\end{itemize}\\begin{table}[H]\n\\centering\n\\caption{TP, FP, FN 和 TN 的定义}\n\\begin{tabular}{|c|c|c|}\n\\hline\n & \\textbf{True (弱覆盖)} & \\textbf{False (非弱覆盖)} \\ \\hline\n\\textbf{预测结果 True (弱覆盖)} & TP & FP \\ \\hline\n\\textbf{预测结果 False (非弱覆盖)} & FN & TN \\ \\hline\n\\end{tabular}\n\\end{table}\n\nPCRR 综合考虑 Precision (准确率) 和 Recall (召回率) 的目标，其计算公式如下：\n\n\\begin{equation}\nPCRR = 2 \\times \\frac{Precision \\times Recall}{Precision + Recall}\n\\end{equation}\n\n其中 Precision 可以理解为预测结果为弱覆盖的栅格实际也是弱覆盖的概率，其定义如下：\n\n\\begin{equation}\nPrecision = \\frac{TP}{TP + FP}\n\\end{equation}\n\nRecall 可以理解为真实结果为弱覆盖的栅格有多少被预测成了弱覆盖的概率，其定义如下：\n\n\\begin{equation}\nRecall = \\frac{TP}{TP + FN}\n\\end{equation}\n\nPCRR 的计算代码可以参考以下程序：\n\n\\begin{table}[H]\n\\centering\n\\caption{PCRR 方法参考}\n\\begin{verbatim}\ndef CaculatePcrr(y_true,y_pred):\n    t = -103\n    tp = len(y_true[(y_true < t) & (y_pred < t)])\n    fp = len(y_true[(y_true >= t) & (y_pred < t)])\n    fn = len(y_true[(y_true < t) & (y_pred >= t)])\n\n    precision = tp / (tp + fp)\n    recall = tp / (tp + fn)\n    pcrr = 2 * (precision * recall) / (precision + recall)\n    return pcrr\n\\end{verbatim}\n\\end{table}\n\n其中 $y_{true}$ 为真实的 RSRP 标签列，$y_{pred}$ 为预测的 RSRP 标签列。\n\n\\subsection*{均方根误差 (RMSE: Root mean squared error)}\n\nRMSE 是评估预测值和实测值整体偏差的指标，其大小直观表现了仿真准确性。直接计算评估数据的 RMSE，计算公式如下：\n\n\\begin{equation}\nRMSE = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} (P^{(i)} - \\hat{P}^{(i)})^2}\n\\end{equation}\n\n其中 $P^{(i)}$ 为参赛队机器学习模型对于第 $i$ 组评审数据集的 RSRP 实测值，$\\hat{P}^{(i)}$ 为第 $i$ 组评审数据集的 RSRP 预测量值。",
    "dataset_path": [],
    "dataset_description": "赛题提供的训练数据集包含多个小区的工程参数 数据、地图数据 和RSRP标签数据 ，\n其格式为csv格式（Comma -Separated  Values , 逗号分隔值格式 ）。数据集的结构以及对应\n数据的含义 将会在下节中详细阐述 。\n线上代码评分系统 将使用对参赛队保密的评审 数据集来对模型进行评分，以便公平地 测\n试各参赛队提交模型的实际泛化能力 。评审数据集与训练数据集一样， 一共包括了多个文件，\n每个文件代表一个小区内的数据 。文件的命名方式为 test_ id.csv，其中 id为小区的唯一标\n识，例如 test_ 1003501 .csv表示唯一标识 为1003 501的小区数据。\n评审数据集的文件中 含有除了 RSRP之外的前 17个字段，与该17个字段对应的 RSRP\n字段需要由 研究生提交 的模型代码程序预测生成。",
    "variable_description": [],
    "addendum": "",
    "data_summary": "Dataset Path:\n[]\n\nData Description:\n该数据集以逗号分隔的CSV文件形式提供，整体由多个小区（基站）对应的若干文件构成，每个文件代表一个小区内的测量记录集合，文件内部各行为该小区内的样本点记录，列为工程参数、地图/空间信息等描述性字段以及在训练集中存在的RSRP标签；训练集文件包含工程参数数据、地图数据和对应的RSRP标签，用于模型训练与验证；评审/测试集由若干命名为test_id.csv（例如test_1003501.csv，id为小区唯一标识）的文件构成，测试文件中保留除RSRP之外的前17个字段（即测试样本提供完整的17个输入特征），而对应的RSRP字段被保密由参赛模型预测生成；线上评分系统使用对参赛队保密的评审数据集以统一方式对提交代码进行评分，以公平评估模型在未见小区上的泛化能力；总体上数据格式统一、列结构一致，训练集可直接用于监督学习建立特征到RSRP的映射，测试集则要求提交程序输出缺失的RSRP列以供评分。",
    "data_description": "赛题提供的训练数据集包含多个小区的工程参数 数据、地图数据 和RSRP标签数据 ，\n其格式为csv格式（Comma -Separated  Values , 逗号分隔值格式 ）。数据集的结构以及对应\n数据的含义 将会在下节中详细阐述 。\n线上代码评分系统 将使用对参赛队保密的评审 数据集来对模型进行评分，以便公平地 测\n试各参赛队提交模型的实际泛化能力 。评审数据集与训练数据集一样， 一共包括了多个文件，\n每个文件代表一个小区内的数据 。文件的命名方式为 test_ id.csv，其中 id为小区的唯一标\n识，例如 test_ 1003501 .csv表示唯一标识 为1003 501的小区数据。\n评审数据集的文件中 含有除了 RSRP之外的前 17个字段，与该17个字段对应的 RSRP\n字段需要由 研究生提交 的模型代码程序预测生成。",
    "problem_str": "问题背景：\n无线智能传播模型\n\n1 无线信道建模背景\n\n随着 5G NR 技术的发展，5G 在全球范围内的应用也在不断地扩大。运营商在部署 5G 网络的过程中，需要合理地选择覆盖区域内的基站站址，进而通过部署基站来满足用户的通信需求。在整个无线网络规划流程中，高效的网络估算对于精确的 5G 网络部署有着非常重要的意义。无线传播模型正是通过对目标通信覆盖区域内的无线电波传播特性进行预测，使得小区覆盖范围、小区间网络干扰以及通信速率等指标的估算成为可能。由于无线电波传播环境复杂，会受到传播路径上各种因素的影响，如平原、山体、建筑物、湖泊、海洋、森林、大气、地球自身曲率等，使电磁波不再以单一的方式和路径传播而产生复杂的透射、绕射、散射、反射、折射等，所以建立一个准确的模型是一项非常艰巨的任务。\n\n现有的无线传播模型可以按照研究方法进行区分，一般分为：经验模型、理论模型和改进型经验模型。经验模型的获得是从经验数据中获取固定的拟合公式，典型的模型有 Cost231-Hata、Okumura 等。理论模型是根据电磁波传播理论，考虑电磁波在空间中的反射、绕射、折射等来进行损耗计算，比较有代表性的是 Volcano 模型。改进型经验模型是通过在拟合公式中引入更多的参数从而可以为更细的分类场景提供计算模型，典型的有 Standard Propagation Model（SPM）。\n\n在实际传播模型建模中，为了获得符合目标地区实际环境的传播模型，需要收集大量额外的实测数据、工程参数以及电子地图用来对传播模型进行校正。此外无线 LTE 网络已在全球普及，全球几十亿用户，每时每刻都会产生大量数据。如何合理地运用这些数据来辅助无线网络建设就成为了一个重要的课题。\n\n近年来，大数据驱动的 AI 机器学习技术获得了长足的进步，并且在语言、图像处理领域获得了非常成功的运用。伴随着并行计算架构的发展，机器学习技术也具备了在线运算的能力，其高实时性以及低复杂度使得其与无线通信的紧密结合成为了可能。\n\n在本届数学建模竞赛中，希望参赛者能够对机器学习的工作方式有一定掌握并站在设备供应商以及无线运营者的角度，通过合理地运用机器学习模型（不限定只使用这种方法）来建立无线传播模型，并利用模型准确预测在新环境下无线信号覆盖强度，从而大大减少网络建设成本，提高网络建设效率。\n2 无线传播模型建模方法简介 \n\n在传统的无线传播模型的建立 过程中，往往首先需要对传播场景进行划分， 每一个场景对应一个传播 经验模型。然而，经验模型 在实际使用中往往 不够精确，所以仍然需要通过 采集大量的工程参数 以及实际平均信号接收功率 （Reference  Signal Receiving Power ，RSRP）测量值进行经验模型公式的修正 。从所述过程中可以看到，传播模型建立本质上 是一个函数拟合的过程，即通过调整传播模型的 系数，使得利用传播模型计算得到的路径损耗值与实测路径损耗值误差最小。 所以当工程参数 、地理位置信息、特定地理位置测量点的 RSRP已知的情况下 ，该问题可以归类为一个监督学习问题。与传统经验模型需要额外人为物力进行校正相比，是否可以利用采集的历史数据并利用机器学习技术，得到一套合适的机器学习模型用以对不同场景下信道传播路径损耗进行准确预测，成为一个非常有价值的研究方向。\n\n本题为参赛队伍提供“统一”的数据集。各参赛队伍可以自行将数据集拆分为训练集、测试集以及验证集，将其用于 AI 算法模型的训练及测试。算法的目的在于通过寻找工程参数、地图环境等因素与平均信号接收功率（RSRP）之间的映射射线（理论与实践表明 RSRP 是工程参数、地图环境等因素的随机函数），从而能够在新的环境中快速预测特定地点的理论 RSRP 值。\n\n赛题提供的训练数据集包含多个小区的工程参数数据、地图数据和 RSRP 标签数据，其格式为 csv 格式 (Comma-Separated Values, 逗号分隔值文本)。数据集的结构以及对应数据的含义将在下文中详细阐述。\n\n\\section*{3 训练数据集简介}\n\n训练数据集一共包括多个文件，每个文件代表一个小区的内部数据。文件的命名方式为 train_id.csv，其中 id 为小区的唯一标识，例如 train_1003501.csv 表示唯一标识为 1003501 的小区数据。\n\n文件的每一行代表小区内固定大小的测试区域的相关数据，行数不定（根据小区大小不同，面积越大的小区行数据越多，反之亦然），列数则固定为 18 列，其中前 9 列为站点的工程参数数据；中间 8 列为地图数据；最后 1 列是用于训练的 RSRP 标签数据。下表显示了其中一行数据作为样例。\n\n\\begin{table}[H]\n\\centering\n\\caption{训练数据样例}\n\\begin{tabular}{|c|c|c|c|c|c|c|c|c|}\n\\hline\n\\multicolumn{9}{|c|}{工程参数数据} \\\\\n\\hline\nCell Index & Cell X & Cell Y & Height & Azimuth & Electrical Downtilt & Mechanical Downtilt & Frequency Band & RS Power \\\\\n\\hline\n1003501 & 393621.9 & 3394449 & 35 & 300 & 6 & 4 & 2585 & 13.2 \\\\\n\\hline\n\\multicolumn{9}{|c|}{地图数据} \\\\\n\\hline\nCell Altitude & Cell Building Height & Cell Clutter Index & X & Y & Altitude & Building Height & Clutter Index \\\\\n\\hline\n524 & 32 & 1 & 392800 & 3394210 & 524 & 0 & 5 \\\\\n\\hline\n\\multicolumn{9}{|c|}{RSRP 标签数据} \\\\\n\\hline\nRSRP \\\\\n\\hline\n\\end{tabular}\n\\end{table}\\subsection*{3.1 工程参数数据}\n\n工程参数数据记录了某小区内站点的工程参数信息，共有 9 个字段，各字段对应含义如 Table \\ref{tab:engparam} 所示。\n\n\\begin{table}[H]\n\\centering\n\\caption{工程参数数据的字段含义}\n\\label{tab:engparam}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nCell Index & 小区唯一标识 & - \\\\\nCell X & 小区所属站点的栅格位置，X 坐标 & - \\\\\nCell Y & 小区所属站点的栅格位置，Y 坐标 & - \\\\\nHeight & 小区发射机相对地面的高度 & m \\\\\nAzimuth & 小区发射机水平方向角 & Deg \\\\\nElectrical Downtilt & 小区发射机垂直电下倾角 & Deg \\\\\nMechanical Downtilt & 小区发射机垂直机械下倾角 & Deg \\\\\nFrequency Band & 小区发射机中心频率 & MHz \\\\\nRS Power & 小区发射机发射功率 & dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n为方便数据处理，地图进行了栅格化处理，每个栅格代表了 $5m \\times 5m$ 的区域（如下图 Fig.\\ref{fig:grid} 所示），其中 (Cell X, Cell Y) 记录了站点所在栅格的左上角坐标。其他的工程参数 (Height, Azimuth, Electrical Downtilt, Mechanical Downtilt) 如图 Fig.2 所示，其中机械下倾角 (Mechanical Downtilt) 是通过调整天线面板后面的支架来实现的，是一种物理信号下倾；而电下倾角 (Electrical Downtilt) 是通过调整天线内部的射线圈来实现的，是一种电信号下倾。实际的信号天线下倾角是机械下倾角和电下倾角之和。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.6\\textwidth]{grid_example.png}\n\\caption{栅格化地图的坐标说明}\n\\label{fig:grid}\n\\end{figure}\\subsection*{3.2 地图数据}\n\n地图数据记录地形地貌等信息，共有 8 个字段，各字段对应含义如 Table \\ref{tab:mapdata} 所示。考虑地物类型的多样性和复杂性，城区、农村、湖泊等实际地物被抽象为数字，这些数字称为地物类型名称编号 (Clutter Index)，在 Table \\ref{tab:clutter} 中可以看到地物类型名称所对应的实际地物类型。\n\n\\begin{table}[H]\n\\centering\n\\caption{地图数据的字段含义}\n\\label{tab:mapdata}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nCell Building Height & 小区站点所在栅格(Cell X, Cell Y)的建筑物高度，若该栅格没有建筑物，则为0 & m \\\\\nCell Altitude & 小区站点所在栅格(Cell X, Cell Y)的海拔高度 & m \\\\\nCell Clutter Index & 小区站点所在栅格(Cell X, Cell Y)的地物类型索引 & - \\\\\nX & 栅格位置，X坐标 & - \\\\\nY & 栅格位置，Y坐标 & - \\\\\nBuilding Height & 栅格(X,Y)上的建筑物高度，若该栅格没有建筑物，则为0 & m \\\\\nAltitude & 栅格(X,Y)上的海拔高度 & m \\\\\nClutter Index & 栅格(X,Y)上的地物类型索引 & - \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}[H]\n\\centering\n\\caption{地物类型名称的编号含义}\n\\label{tab:clutter}\n\\begin{tabular}{|c|c||c|c|}\n\\hline\nClutter Index & 含义 & Clutter Index & 含义 \\\\\n\\hline\n1 & 海洋 & 11 & 城区高层建筑(40m$\\sim$60m) \\\\\n2 & 内陆湖泊 & 12 & 城区中高层建筑(20m$\\sim$40m) \\\\\n3 & 湿地 & 13 & 城区$<$20m 高密度建筑群 \\\\\n4 & 城郊开阔区域 & 14 & 城区$<$20m 多层建筑 \\\\\n5 & 市区开阔区域 & 15 & 低密度工业建筑区域 \\\\\n6 & 道路开阔区域 & 16 & 高密度工业建筑区域 \\\\\n7 & 植被区 & 17 & 城郊 \\\\\n8 & 灌木植被 & 18 & 发达城郊区域 \\\\\n9 & 森林植被 & 19 & 农村 \\\\\n10 & 城区超高层建筑($>$60m) & 20 & CBD 商务圈 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n与工程参数数据一样，地图数据也进行了栅格化处理，每个栅格代表了 $5m \\times 5m$ 的区域，其中 (X, Y) 记录了地图所在栅格的左上角坐标。\n\n在明确了地图存储格式之后，可以针对不同的参数对地图进行可视化处理。如 Fig.3 所示，Fig.3a-c 分别根据栅格坐标以及房屋高度、海拔高度和地物类型索引作为特征对地图进行可视化处理。通过可视化处理，可以对地图数据有一个更为直观的了解。\\subsection*{3.3 RSRP 标签数据}\n\n平均信号接收功率(RSRP)标签数据作为实测测量结果，在监督学习中用于和机器学习模型预测的结果作比较。共有 1 个字段，对应含义如 Table \\ref{tab:rsrp} 所示。\n\n\\begin{table}[H]\n\\centering\n\\caption{RSRP 标签数据表格的字段含义}\n\\label{tab:rsrp}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nRSRP & 栅格(X,Y)的平均信号接收功率，标签列 & dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n如 Fig.\\ref{fig:rsrpmap} 所示，结合已知工程数据中的坐标和特征以及标签数据中的 RSRP 值，可以清晰地对信号功率分布进行可视化处理，从而明确算法信号强弱覆盖区域。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.7\\textwidth]{rsrp_map.png}\n\\caption{标签数据的可视化处理}\n\\label{fig:rsrpmap}\n\\end{figure}\n\n\\section*{4 无线传播模型建模赛题}\n\n本赛题除在中国研究生数学建模竞赛网站上上交论文外，问题三需要在华为云平台上提交模型，不提交的队伍将被视为没有完成此题而不计入比赛成绩。\n\n\\subsection*{4.1 特征工程中的特征设计}\n\n高效的机器学习模型建立依赖于输入变量与问题目标的强相关性，因此输入变量也称为“特征”。特征工程的本质是从原始数据中转换得到能够最好表征目标问题的参数，并使得各个参数的动态范围在一个相对稳定的范围内，从而提高机器学习模型训练的效率。一般特征工程的典型技术有：\n\n\\begin{itemize}\n\\item 剔除失真、低质量数据；数据插值补齐；去除异常点；\n\\item 连续数据离散化；数据去均值；幅度限制；方差限制。\n\\end{itemize}\n\n高阶的特征工程需要充分利用与目标问题相关的专业知识。对于信道传播模型建模问题，可以如 Fig.\\ref{fig:antenna} 所示根据目标栅格与发射机几何位置来挑选合理的特征。例如， 通过发射机相对地面的高度 $h_b$，机械下倾角 $\\theta_{MD}$，电重直下倾角 $\\theta_{ED}$，发射机所在栅格位置与目标栅格位置，可以得到栅格与发射机的距离 $d$ 以及栅格与信号发射的相对高度 $\\Delta h_r$，而 $\\Delta h_r$ 就可以作为一个特征。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.7\\textwidth]{antenna_features.png}\n\\caption{根据目标栅格与发射机的地理位置关系提取特征}\n\\label{fig:antenna}\n\\end{figure}除了几何位置特征，传统经验信道模型中涉及的参数也可以纳入特征工程的考察范围。例如城市中的经典模型 Cost 231-Hata，其定义如下：\\n\\n\\begin{equation}\\nPL = 46.3 + 33.9 \\log_{10} f - 13.82 \\log_{10} h_b - \\alpha + (44.9 - 6.55 \\log_{10} h_{ue}) \\log_{10} d + c_m,\\n\\end{equation}\\n\\n其中 PL 定义为传播路径损耗(dB)，$f$ 为载波频率(MHz)，$h_b$ 为基站天线有效高度(m)，$h_{ue}$ 为用户天线有效高度(m)，$\\alpha$ 为用户天线高度纠正项(dB)，$d$ 为链路距离(km) 以及 $c_m$ 为场景纠正常数(dB)。RSRP 与 PL 的关系为：\\n\\n\\begin{equation}\\nRSRP = P_t - PL,\\n\\end{equation}\\n\\n其中 $P_t$ 是小区发射机发射功率(dBm) (见 Table 2)。\n\n问题要求：\n\\section*{问题一}\n\n请根据 Cost 231-Hata 模型以及下述数据集信息设计合适的特征，并阐述原因。\n\n\\begin{table}[H]\n\\centering\n\\caption{数据信息}\n\\begin{tabular}{|c|c|c|c|c|c|c|c|}\n\\hline\n\\multicolumn{8}{|c|}{工程参数数据} \\\\\n\\hline\nCell Index & Cell X & Cell Y & Height & Azimuth & Electrical Downtilt & Mechanical Downtilt & Frequency Band & RS Power \\\\\n\\hline\n2 & 100 & 100 & 49m & 45$^\\circ$ & 2$^\\circ$ & 2$^\\circ$ & 1800MHz & 18.2 dBm \\\\\n\\hline\n\\multicolumn{8}{|c|}{地图数据} \\\\\n\\hline\nCell Altitude & Cell Building Height & Cell Clutter Index & X & Y & Altitude & Building Height & Clutter Index \\\\\n\\hline\n47m & 9m & 11 & 500 & 500 & 9m & 0m & 1 \\\\\n\\hline\n\\multicolumn{8}{|c|}{RSRP 标签数据} \\\\\n\\hline\nRSRP \\\\\n\\hline\n-100 dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\subsection*{4.2 特征工程中的特征选择}\n\n完成特征设计后，通常需要选择有意义的特征输入机器学习模型进行训练。对于不同方法构造出来的特征，需要从多个层面来判断这个特征是否合理。通常来说，可以从以下两个方面来选择特征：\n\n\\begin{itemize}\n\\item 特征是否发散：如果一个特征不发散，例如方差接近于 0，也就是说样本在这个特征上基本上没有差异，这个特征在对样本的区分并没有什么作用。\n\\item 特征与目标的相关性：总体来说显见，与目标相关性高的特征，应当优先选择。\n\\end{itemize}\n\n\\section*{问题二}\n\n基于提供的小区数据集，设计多个合适的特征，计算这些特征与目标的相关性，并将结果量化、排序，形成如下的表格，并阐明设计这些特征的原因和用于排序的量化数值的计算方法。\n\n\\begin{table}[H]\n\\centering\n\\caption{特征名称及其与目标的相关性}\n\\begin{tabular}{|c|c|c|}\n\\hline\n排序 & 特征名称 & 该特征与目标的相关性 \\\\\n\\hline\n1 & & \\\\\n2 & & \\\\\n\\vdots & & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\subsection*{4.3 RSRP 预测}\n\n\\section*{问题三}\n\n在设计和选择了有效的特征之后，就可以通过建立预测模型来进行 RSRP 的预测了。请各个参赛队根据自己建立的特征集以及赛题提供的训练数据集，建立基于 AI 的无线传播模型来对不同地理位置的 RSRP 进行预测。为研究生更明白本问题的目标，下面将分别介绍评审数据集、提交内容和线上代码评分方法。\\subsection*{4.3.1 评审数据集简介}\n\n线上代码评分系统将使用对参赛队保密的评审数据集来对模型进行评分，以便公平地测试各参赛队提交模型的实际泛化能力。评审数据集与训练数据集一样，共包括了多个文件，每个文件代表一个小区内的数据。文件的命名方式为 test_id.csv，其中 id 为小区的唯一标识，例如 test_1003501.csv 表示唯一标识为 1003501 的小区数据。\n\n评审数据集的文件中会除了 RSRP 之外的前 17 个字段，与该 17 个字段对应的 RSRP 字段需要由研究生提交的模型代码程序来预测生成。\n\n\\subsection*{4.3.2 提交内容}\n\n论文提交文字形式详细描述输入 AI 模型的建模过程，包括模型的建立方法、参数的设置和训练的结果，特别是第二问问题的相关性消楚。\n\n第二问需要提交完整的模型。针对每一个评审数据集的输入文件，模型输出要求也是一个文件，命名方式与输入文件保持一致，但文件名后加 _result，例如输入文件名为 test_123456.csv，那么输出文件名必须为 test_123456.csv_result。每个输出文件中的结果与输入文件必须一一对应，否则会自动产生全零的 test_123456.csv_result 文件进行评分。每个输出文件内容的样例如下所示：\n\n\\begin{verbatim}\n{\"RSRP\": [[-54.505], [-73.416], [-76.123], [-74.261], [-98.143]]}\n\\end{verbatim}\n\n其中括号内的数字表示输入文件的每一行数据所对应的 RSRP 预测值，预测值的数量与输入文件的行数（表头除外）对应，例如上述的输出文件对应的输入文件应为 5 行（表头除外）。如果输出文件的预测值少于输入文件的行数，则会以 0 的形式将输出文件填满后进行评分；如果输出文件的预测值多余输入文件的行数，则会取输出文件的前 N 个预测值进行评分，其中 N 为输入文件的行数。\n\n\\subsection*{4.3.3 线上代码评分方法}\n\n对于提交的预测 RSRP 值，将根据以下条件进行排序：\n\\begin{itemize}\n\\item 模型在评审数据集的评估下，弱覆盖识别率 (PCRR: Poor coverage recognition rate) 必须大于等于 20\\%。\n\\end{itemize}\n\n在 PCRR 精度达标后，再根据预测均方根误差 (RMSE: Root mean squared error) 大小进行各参赛组的名次排序（RMSE 小者排名靠前）。\n\nPCRR 和 RMSE 的介绍如下所示：\n\n\\textbf{弱覆盖识别率 (PCRR: Poor coverage recognition rate)}\n\n在进行预测的过程中如果可以有效识别弱覆盖区域，能够更好地帮助运营商精准规划和优化网络从而提升客户体验。因此，除 RMSE 为有效测试目标之外，弱覆盖识别准确率也是作为一项非常有价值的评估指标。\n\n在本次建模比赛中，弱覆盖设立门限p，p 的值定义为 -103 dBm。若 RSRP 预测值或实测值小于p, 则为弱覆盖并标记为 1，若大于等于p 则为非弱覆盖并标记为 0。根据比较预测值和实测值得到的弱覆盖点以及非弱覆盖点的类别，可以以下参数进行统计：\n\n\\begin{itemize}\n\\item True Positive (TP)：真实信号为弱覆盖，预测值也为弱覆盖；\n\\item False Positive (FP)：真实信号非弱覆盖，预测值为弱覆盖；\n\\item False Negative (FN)：真实信号为弱覆盖，预测值为非弱覆盖；\n\\item True Negative (TN)：真实信号非弱覆盖，预测值也为非弱覆盖。\n\\end{itemize}\\begin{table}[H]\n\\centering\n\\caption{TP, FP, FN 和 TN 的定义}\n\\begin{tabular}{|c|c|c|}\n\\hline\n & \\textbf{True (弱覆盖)} & \\textbf{False (非弱覆盖)} \\ \\hline\n\\textbf{预测结果 True (弱覆盖)} & TP & FP \\ \\hline\n\\textbf{预测结果 False (非弱覆盖)} & FN & TN \\ \\hline\n\\end{tabular}\n\\end{table}\n\nPCRR 综合考虑 Precision (准确率) 和 Recall (召回率) 的目标，其计算公式如下：\n\n\\begin{equation}\nPCRR = 2 \\times \\frac{Precision \\times Recall}{Precision + Recall}\n\\end{equation}\n\n其中 Precision 可以理解为预测结果为弱覆盖的栅格实际也是弱覆盖的概率，其定义如下：\n\n\\begin{equation}\nPrecision = \\frac{TP}{TP + FP}\n\\end{equation}\n\nRecall 可以理解为真实结果为弱覆盖的栅格有多少被预测成了弱覆盖的概率，其定义如下：\n\n\\begin{equation}\nRecall = \\frac{TP}{TP + FN}\n\\end{equation}\n\nPCRR 的计算代码可以参考以下程序：\n\n\\begin{table}[H]\n\\centering\n\\caption{PCRR 方法参考}\n\\begin{verbatim}\ndef CaculatePcrr(y_true,y_pred):\n    t = -103\n    tp = len(y_true[(y_true < t) & (y_pred < t)])\n    fp = len(y_true[(y_true >= t) & (y_pred < t)])\n    fn = len(y_true[(y_true < t) & (y_pred >= t)])\n\n    precision = tp / (tp + fp)\n    recall = tp / (tp + fn)\n    pcrr = 2 * (precision * recall) / (precision + recall)\n    return pcrr\n\\end{verbatim}\n\\end{table}\n\n其中 $y_{true}$ 为真实的 RSRP 标签列，$y_{pred}$ 为预测的 RSRP 标签列。\n\n\\subsection*{均方根误差 (RMSE: Root mean squared error)}\n\nRMSE 是评估预测值和实测值整体偏差的指标，其大小直观表现了仿真准确性。直接计算评估数据的 RMSE，计算公式如下：\n\n\\begin{equation}\nRMSE = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} (P^{(i)} - \\hat{P}^{(i)})^2}\n\\end{equation}\n\n其中 $P^{(i)}$ 为参赛队机器学习模型对于第 $i$ 组评审数据集的 RSRP 实测值，$\\hat{P}^{(i)}$ 为第 $i$ 组评审数据集的 RSRP 预测量值。\n\nDataset Path:\n[]\n\nData Description:\n该数据集以逗号分隔的CSV文件形式提供，整体由多个小区（基站）对应的若干文件构成，每个文件代表一个小区内的测量记录集合，文件内部各行为该小区内的样本点记录，列为工程参数、地图/空间信息等描述性字段以及在训练集中存在的RSRP标签；训练集文件包含工程参数数据、地图数据和对应的RSRP标签，用于模型训练与验证；评审/测试集由若干命名为test_id.csv（例如test_1003501.csv，id为小区唯一标识）的文件构成，测试文件中保留除RSRP之外的前17个字段（即测试样本提供完整的17个输入特征），而对应的RSRP字段被保密由参赛模型预测生成；线上评分系统使用对参赛队保密的评审数据集以统一方式对提交代码进行评分，以公平评估模型在未见小区上的泛化能力；总体上数据格式统一、列结构一致，训练集可直接用于监督学习建立特征到RSRP的映射，测试集则要求提交程序输出缺失的RSRP列以供评分。"
  },
  "problem_background": "无线智能传播模型\n\n1 无线信道建模背景\n\n随着 5G NR 技术的发展，5G 在全球范围内的应用也在不断地扩大。运营商在部署 5G 网络的过程中，需要合理地选择覆盖区域内的基站站址，进而通过部署基站来满足用户的通信需求。在整个无线网络规划流程中，高效的网络估算对于精确的 5G 网络部署有着非常重要的意义。无线传播模型正是通过对目标通信覆盖区域内的无线电波传播特性进行预测，使得小区覆盖范围、小区间网络干扰以及通信速率等指标的估算成为可能。由于无线电波传播环境复杂，会受到传播路径上各种因素的影响，如平原、山体、建筑物、湖泊、海洋、森林、大气、地球自身曲率等，使电磁波不再以单一的方式和路径传播而产生复杂的透射、绕射、散射、反射、折射等，所以建立一个准确的模型是一项非常艰巨的任务。\n\n现有的无线传播模型可以按照研究方法进行区分，一般分为：经验模型、理论模型和改进型经验模型。经验模型的获得是从经验数据中获取固定的拟合公式，典型的模型有 Cost231-Hata、Okumura 等。理论模型是根据电磁波传播理论，考虑电磁波在空间中的反射、绕射、折射等来进行损耗计算，比较有代表性的是 Volcano 模型。改进型经验模型是通过在拟合公式中引入更多的参数从而可以为更细的分类场景提供计算模型，典型的有 Standard Propagation Model（SPM）。\n\n在实际传播模型建模中，为了获得符合目标地区实际环境的传播模型，需要收集大量额外的实测数据、工程参数以及电子地图用来对传播模型进行校正。此外无线 LTE 网络已在全球普及，全球几十亿用户，每时每刻都会产生大量数据。如何合理地运用这些数据来辅助无线网络建设就成为了一个重要的课题。\n\n近年来，大数据驱动的 AI 机器学习技术获得了长足的进步，并且在语言、图像处理领域获得了非常成功的运用。伴随着并行计算架构的发展，机器学习技术也具备了在线运算的能力，其高实时性以及低复杂度使得其与无线通信的紧密结合成为了可能。\n\n在本届数学建模竞赛中，希望参赛者能够对机器学习的工作方式有一定掌握并站在设备供应商以及无线运营者的角度，通过合理地运用机器学习模型（不限定只使用这种方法）来建立无线传播模型，并利用模型准确预测在新环境下无线信号覆盖强度，从而大大减少网络建设成本，提高网络建设效率。\n2 无线传播模型建模方法简介 \n\n在传统的无线传播模型的建立 过程中，往往首先需要对传播场景进行划分， 每一个场景对应一个传播 经验模型。然而，经验模型 在实际使用中往往 不够精确，所以仍然需要通过 采集大量的工程参数 以及实际平均信号接收功率 （Reference  Signal Receiving Power ，RSRP）测量值进行经验模型公式的修正 。从所述过程中可以看到，传播模型建立本质上 是一个函数拟合的过程，即通过调整传播模型的 系数，使得利用传播模型计算得到的路径损耗值与实测路径损耗值误差最小。 所以当工程参数 、地理位置信息、特定地理位置测量点的 RSRP已知的情况下 ，该问题可以归类为一个监督学习问题。与传统经验模型需要额外人为物力进行校正相比，是否可以利用采集的历史数据并利用机器学习技术，得到一套合适的机器学习模型用以对不同场景下信道传播路径损耗进行准确预测，成为一个非常有价值的研究方向。\n\n本题为参赛队伍提供“统一”的数据集。各参赛队伍可以自行将数据集拆分为训练集、测试集以及验证集，将其用于 AI 算法模型的训练及测试。算法的目的在于通过寻找工程参数、地图环境等因素与平均信号接收功率（RSRP）之间的映射射线（理论与实践表明 RSRP 是工程参数、地图环境等因素的随机函数），从而能够在新的环境中快速预测特定地点的理论 RSRP 值。\n\n赛题提供的训练数据集包含多个小区的工程参数数据、地图数据和 RSRP 标签数据，其格式为 csv 格式 (Comma-Separated Values, 逗号分隔值文本)。数据集的结构以及对应数据的含义将在下文中详细阐述。\n\n\\section*{3 训练数据集简介}\n\n训练数据集一共包括多个文件，每个文件代表一个小区的内部数据。文件的命名方式为 train_id.csv，其中 id 为小区的唯一标识，例如 train_1003501.csv 表示唯一标识为 1003501 的小区数据。\n\n文件的每一行代表小区内固定大小的测试区域的相关数据，行数不定（根据小区大小不同，面积越大的小区行数据越多，反之亦然），列数则固定为 18 列，其中前 9 列为站点的工程参数数据；中间 8 列为地图数据；最后 1 列是用于训练的 RSRP 标签数据。下表显示了其中一行数据作为样例。\n\n\\begin{table}[H]\n\\centering\n\\caption{训练数据样例}\n\\begin{tabular}{|c|c|c|c|c|c|c|c|c|}\n\\hline\n\\multicolumn{9}{|c|}{工程参数数据} \\\\\n\\hline\nCell Index & Cell X & Cell Y & Height & Azimuth & Electrical Downtilt & Mechanical Downtilt & Frequency Band & RS Power \\\\\n\\hline\n1003501 & 393621.9 & 3394449 & 35 & 300 & 6 & 4 & 2585 & 13.2 \\\\\n\\hline\n\\multicolumn{9}{|c|}{地图数据} \\\\\n\\hline\nCell Altitude & Cell Building Height & Cell Clutter Index & X & Y & Altitude & Building Height & Clutter Index \\\\\n\\hline\n524 & 32 & 1 & 392800 & 3394210 & 524 & 0 & 5 \\\\\n\\hline\n\\multicolumn{9}{|c|}{RSRP 标签数据} \\\\\n\\hline\nRSRP \\\\\n\\hline\n\\end{tabular}\n\\end{table}\\subsection*{3.1 工程参数数据}\n\n工程参数数据记录了某小区内站点的工程参数信息，共有 9 个字段，各字段对应含义如 Table \\ref{tab:engparam} 所示。\n\n\\begin{table}[H]\n\\centering\n\\caption{工程参数数据的字段含义}\n\\label{tab:engparam}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nCell Index & 小区唯一标识 & - \\\\\nCell X & 小区所属站点的栅格位置，X 坐标 & - \\\\\nCell Y & 小区所属站点的栅格位置，Y 坐标 & - \\\\\nHeight & 小区发射机相对地面的高度 & m \\\\\nAzimuth & 小区发射机水平方向角 & Deg \\\\\nElectrical Downtilt & 小区发射机垂直电下倾角 & Deg \\\\\nMechanical Downtilt & 小区发射机垂直机械下倾角 & Deg \\\\\nFrequency Band & 小区发射机中心频率 & MHz \\\\\nRS Power & 小区发射机发射功率 & dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n为方便数据处理，地图进行了栅格化处理，每个栅格代表了 $5m \\times 5m$ 的区域（如下图 Fig.\\ref{fig:grid} 所示），其中 (Cell X, Cell Y) 记录了站点所在栅格的左上角坐标。其他的工程参数 (Height, Azimuth, Electrical Downtilt, Mechanical Downtilt) 如图 Fig.2 所示，其中机械下倾角 (Mechanical Downtilt) 是通过调整天线面板后面的支架来实现的，是一种物理信号下倾；而电下倾角 (Electrical Downtilt) 是通过调整天线内部的射线圈来实现的，是一种电信号下倾。实际的信号天线下倾角是机械下倾角和电下倾角之和。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.6\\textwidth]{grid_example.png}\n\\caption{栅格化地图的坐标说明}\n\\label{fig:grid}\n\\end{figure}\\subsection*{3.2 地图数据}\n\n地图数据记录地形地貌等信息，共有 8 个字段，各字段对应含义如 Table \\ref{tab:mapdata} 所示。考虑地物类型的多样性和复杂性，城区、农村、湖泊等实际地物被抽象为数字，这些数字称为地物类型名称编号 (Clutter Index)，在 Table \\ref{tab:clutter} 中可以看到地物类型名称所对应的实际地物类型。\n\n\\begin{table}[H]\n\\centering\n\\caption{地图数据的字段含义}\n\\label{tab:mapdata}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nCell Building Height & 小区站点所在栅格(Cell X, Cell Y)的建筑物高度，若该栅格没有建筑物，则为0 & m \\\\\nCell Altitude & 小区站点所在栅格(Cell X, Cell Y)的海拔高度 & m \\\\\nCell Clutter Index & 小区站点所在栅格(Cell X, Cell Y)的地物类型索引 & - \\\\\nX & 栅格位置，X坐标 & - \\\\\nY & 栅格位置，Y坐标 & - \\\\\nBuilding Height & 栅格(X,Y)上的建筑物高度，若该栅格没有建筑物，则为0 & m \\\\\nAltitude & 栅格(X,Y)上的海拔高度 & m \\\\\nClutter Index & 栅格(X,Y)上的地物类型索引 & - \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}[H]\n\\centering\n\\caption{地物类型名称的编号含义}\n\\label{tab:clutter}\n\\begin{tabular}{|c|c||c|c|}\n\\hline\nClutter Index & 含义 & Clutter Index & 含义 \\\\\n\\hline\n1 & 海洋 & 11 & 城区高层建筑(40m$\\sim$60m) \\\\\n2 & 内陆湖泊 & 12 & 城区中高层建筑(20m$\\sim$40m) \\\\\n3 & 湿地 & 13 & 城区$<$20m 高密度建筑群 \\\\\n4 & 城郊开阔区域 & 14 & 城区$<$20m 多层建筑 \\\\\n5 & 市区开阔区域 & 15 & 低密度工业建筑区域 \\\\\n6 & 道路开阔区域 & 16 & 高密度工业建筑区域 \\\\\n7 & 植被区 & 17 & 城郊 \\\\\n8 & 灌木植被 & 18 & 发达城郊区域 \\\\\n9 & 森林植被 & 19 & 农村 \\\\\n10 & 城区超高层建筑($>$60m) & 20 & CBD 商务圈 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n与工程参数数据一样，地图数据也进行了栅格化处理，每个栅格代表了 $5m \\times 5m$ 的区域，其中 (X, Y) 记录了地图所在栅格的左上角坐标。\n\n在明确了地图存储格式之后，可以针对不同的参数对地图进行可视化处理。如 Fig.3 所示，Fig.3a-c 分别根据栅格坐标以及房屋高度、海拔高度和地物类型索引作为特征对地图进行可视化处理。通过可视化处理，可以对地图数据有一个更为直观的了解。\\subsection*{3.3 RSRP 标签数据}\n\n平均信号接收功率(RSRP)标签数据作为实测测量结果，在监督学习中用于和机器学习模型预测的结果作比较。共有 1 个字段，对应含义如 Table \\ref{tab:rsrp} 所示。\n\n\\begin{table}[H]\n\\centering\n\\caption{RSRP 标签数据表格的字段含义}\n\\label{tab:rsrp}\n\\begin{tabular}{|c|c|c|}\n\\hline\n字段名称 & 含义 & 单位 \\\\\n\\hline\nRSRP & 栅格(X,Y)的平均信号接收功率，标签列 & dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n如 Fig.\\ref{fig:rsrpmap} 所示，结合已知工程数据中的坐标和特征以及标签数据中的 RSRP 值，可以清晰地对信号功率分布进行可视化处理，从而明确算法信号强弱覆盖区域。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.7\\textwidth]{rsrp_map.png}\n\\caption{标签数据的可视化处理}\n\\label{fig:rsrpmap}\n\\end{figure}\n\n\\section*{4 无线传播模型建模赛题}\n\n本赛题除在中国研究生数学建模竞赛网站上上交论文外，问题三需要在华为云平台上提交模型，不提交的队伍将被视为没有完成此题而不计入比赛成绩。\n\n\\subsection*{4.1 特征工程中的特征设计}\n\n高效的机器学习模型建立依赖于输入变量与问题目标的强相关性，因此输入变量也称为“特征”。特征工程的本质是从原始数据中转换得到能够最好表征目标问题的参数，并使得各个参数的动态范围在一个相对稳定的范围内，从而提高机器学习模型训练的效率。一般特征工程的典型技术有：\n\n\\begin{itemize}\n\\item 剔除失真、低质量数据；数据插值补齐；去除异常点；\n\\item 连续数据离散化；数据去均值；幅度限制；方差限制。\n\\end{itemize}\n\n高阶的特征工程需要充分利用与目标问题相关的专业知识。对于信道传播模型建模问题，可以如 Fig.\\ref{fig:antenna} 所示根据目标栅格与发射机几何位置来挑选合理的特征。例如， 通过发射机相对地面的高度 $h_b$，机械下倾角 $\\theta_{MD}$，电重直下倾角 $\\theta_{ED}$，发射机所在栅格位置与目标栅格位置，可以得到栅格与发射机的距离 $d$ 以及栅格与信号发射的相对高度 $\\Delta h_r$，而 $\\Delta h_r$ 就可以作为一个特征。\n\n\\begin{figure}[H]\n\\centering\n\\includegraphics[width=0.7\\textwidth]{antenna_features.png}\n\\caption{根据目标栅格与发射机的地理位置关系提取特征}\n\\label{fig:antenna}\n\\end{figure}除了几何位置特征，传统经验信道模型中涉及的参数也可以纳入特征工程的考察范围。例如城市中的经典模型 Cost 231-Hata，其定义如下：\\n\\n\\begin{equation}\\nPL = 46.3 + 33.9 \\log_{10} f - 13.82 \\log_{10} h_b - \\alpha + (44.9 - 6.55 \\log_{10} h_{ue}) \\log_{10} d + c_m,\\n\\end{equation}\\n\\n其中 PL 定义为传播路径损耗(dB)，$f$ 为载波频率(MHz)，$h_b$ 为基站天线有效高度(m)，$h_{ue}$ 为用户天线有效高度(m)，$\\alpha$ 为用户天线高度纠正项(dB)，$d$ 为链路距离(km) 以及 $c_m$ 为场景纠正常数(dB)。RSRP 与 PL 的关系为：\\n\\n\\begin{equation}\\nRSRP = P_t - PL,\\n\\end{equation}\\n\\n其中 $P_t$ 是小区发射机发射功率(dBm) (见 Table 2)。",
  "problem_requirement": "\\section*{问题一}\n\n请根据 Cost 231-Hata 模型以及下述数据集信息设计合适的特征，并阐述原因。\n\n\\begin{table}[H]\n\\centering\n\\caption{数据信息}\n\\begin{tabular}{|c|c|c|c|c|c|c|c|}\n\\hline\n\\multicolumn{8}{|c|}{工程参数数据} \\\\\n\\hline\nCell Index & Cell X & Cell Y & Height & Azimuth & Electrical Downtilt & Mechanical Downtilt & Frequency Band & RS Power \\\\\n\\hline\n2 & 100 & 100 & 49m & 45$^\\circ$ & 2$^\\circ$ & 2$^\\circ$ & 1800MHz & 18.2 dBm \\\\\n\\hline\n\\multicolumn{8}{|c|}{地图数据} \\\\\n\\hline\nCell Altitude & Cell Building Height & Cell Clutter Index & X & Y & Altitude & Building Height & Clutter Index \\\\\n\\hline\n47m & 9m & 11 & 500 & 500 & 9m & 0m & 1 \\\\\n\\hline\n\\multicolumn{8}{|c|}{RSRP 标签数据} \\\\\n\\hline\nRSRP \\\\\n\\hline\n-100 dBm \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\subsection*{4.2 特征工程中的特征选择}\n\n完成特征设计后，通常需要选择有意义的特征输入机器学习模型进行训练。对于不同方法构造出来的特征，需要从多个层面来判断这个特征是否合理。通常来说，可以从以下两个方面来选择特征：\n\n\\begin{itemize}\n\\item 特征是否发散：如果一个特征不发散，例如方差接近于 0，也就是说样本在这个特征上基本上没有差异，这个特征在对样本的区分并没有什么作用。\n\\item 特征与目标的相关性：总体来说显见，与目标相关性高的特征，应当优先选择。\n\\end{itemize}\n\n\\section*{问题二}\n\n基于提供的小区数据集，设计多个合适的特征，计算这些特征与目标的相关性，并将结果量化、排序，形成如下的表格，并阐明设计这些特征的原因和用于排序的量化数值的计算方法。\n\n\\begin{table}[H]\n\\centering\n\\caption{特征名称及其与目标的相关性}\n\\begin{tabular}{|c|c|c|}\n\\hline\n排序 & 特征名称 & 该特征与目标的相关性 \\\\\n\\hline\n1 & & \\\\\n2 & & \\\\\n\\vdots & & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\subsection*{4.3 RSRP 预测}\n\n\\section*{问题三}\n\n在设计和选择了有效的特征之后，就可以通过建立预测模型来进行 RSRP 的预测了。请各个参赛队根据自己建立的特征集以及赛题提供的训练数据集，建立基于 AI 的无线传播模型来对不同地理位置的 RSRP 进行预测。为研究生更明白本问题的目标，下面将分别介绍评审数据集、提交内容和线上代码评分方法。\\subsection*{4.3.1 评审数据集简介}\n\n线上代码评分系统将使用对参赛队保密的评审数据集来对模型进行评分，以便公平地测试各参赛队提交模型的实际泛化能力。评审数据集与训练数据集一样，共包括了多个文件，每个文件代表一个小区内的数据。文件的命名方式为 test_id.csv，其中 id 为小区的唯一标识，例如 test_1003501.csv 表示唯一标识为 1003501 的小区数据。\n\n评审数据集的文件中会除了 RSRP 之外的前 17 个字段，与该 17 个字段对应的 RSRP 字段需要由研究生提交的模型代码程序来预测生成。\n\n\\subsection*{4.3.2 提交内容}\n\n论文提交文字形式详细描述输入 AI 模型的建模过程，包括模型的建立方法、参数的设置和训练的结果，特别是第二问问题的相关性消楚。\n\n第二问需要提交完整的模型。针对每一个评审数据集的输入文件，模型输出要求也是一个文件，命名方式与输入文件保持一致，但文件名后加 _result，例如输入文件名为 test_123456.csv，那么输出文件名必须为 test_123456.csv_result。每个输出文件中的结果与输入文件必须一一对应，否则会自动产生全零的 test_123456.csv_result 文件进行评分。每个输出文件内容的样例如下所示：\n\n\\begin{verbatim}\n{\"RSRP\": [[-54.505], [-73.416], [-76.123], [-74.261], [-98.143]]}\n\\end{verbatim}\n\n其中括号内的数字表示输入文件的每一行数据所对应的 RSRP 预测值，预测值的数量与输入文件的行数（表头除外）对应，例如上述的输出文件对应的输入文件应为 5 行（表头除外）。如果输出文件的预测值少于输入文件的行数，则会以 0 的形式将输出文件填满后进行评分；如果输出文件的预测值多余输入文件的行数，则会取输出文件的前 N 个预测值进行评分，其中 N 为输入文件的行数。\n\n\\subsection*{4.3.3 线上代码评分方法}\n\n对于提交的预测 RSRP 值，将根据以下条件进行排序：\n\\begin{itemize}\n\\item 模型在评审数据集的评估下，弱覆盖识别率 (PCRR: Poor coverage recognition rate) 必须大于等于 20\\%。\n\\end{itemize}\n\n在 PCRR 精度达标后，再根据预测均方根误差 (RMSE: Root mean squared error) 大小进行各参赛组的名次排序（RMSE 小者排名靠前）。\n\nPCRR 和 RMSE 的介绍如下所示：\n\n\\textbf{弱覆盖识别率 (PCRR: Poor coverage recognition rate)}\n\n在进行预测的过程中如果可以有效识别弱覆盖区域，能够更好地帮助运营商精准规划和优化网络从而提升客户体验。因此，除 RMSE 为有效测试目标之外，弱覆盖识别准确率也是作为一项非常有价值的评估指标。\n\n在本次建模比赛中，弱覆盖设立门限p，p 的值定义为 -103 dBm。若 RSRP 预测值或实测值小于p, 则为弱覆盖并标记为 1，若大于等于p 则为非弱覆盖并标记为 0。根据比较预测值和实测值得到的弱覆盖点以及非弱覆盖点的类别，可以以下参数进行统计：\n\n\\begin{itemize}\n\\item True Positive (TP)：真实信号为弱覆盖，预测值也为弱覆盖；\n\\item False Positive (FP)：真实信号非弱覆盖，预测值为弱覆盖；\n\\item False Negative (FN)：真实信号为弱覆盖，预测值为非弱覆盖；\n\\item True Negative (TN)：真实信号非弱覆盖，预测值也为非弱覆盖。\n\\end{itemize}\\begin{table}[H]\n\\centering\n\\caption{TP, FP, FN 和 TN 的定义}\n\\begin{tabular}{|c|c|c|}\n\\hline\n & \\textbf{True (弱覆盖)} & \\textbf{False (非弱覆盖)} \\ \\hline\n\\textbf{预测结果 True (弱覆盖)} & TP & FP \\ \\hline\n\\textbf{预测结果 False (非弱覆盖)} & FN & TN \\ \\hline\n\\end{tabular}\n\\end{table}\n\nPCRR 综合考虑 Precision (准确率) 和 Recall (召回率) 的目标，其计算公式如下：\n\n\\begin{equation}\nPCRR = 2 \\times \\frac{Precision \\times Recall}{Precision + Recall}\n\\end{equation}\n\n其中 Precision 可以理解为预测结果为弱覆盖的栅格实际也是弱覆盖的概率，其定义如下：\n\n\\begin{equation}\nPrecision = \\frac{TP}{TP + FP}\n\\end{equation}\n\nRecall 可以理解为真实结果为弱覆盖的栅格有多少被预测成了弱覆盖的概率，其定义如下：\n\n\\begin{equation}\nRecall = \\frac{TP}{TP + FN}\n\\end{equation}\n\nPCRR 的计算代码可以参考以下程序：\n\n\\begin{table}[H]\n\\centering\n\\caption{PCRR 方法参考}\n\\begin{verbatim}\ndef CaculatePcrr(y_true,y_pred):\n    t = -103\n    tp = len(y_true[(y_true < t) & (y_pred < t)])\n    fp = len(y_true[(y_true >= t) & (y_pred < t)])\n    fn = len(y_true[(y_true < t) & (y_pred >= t)])\n\n    precision = tp / (tp + fp)\n    recall = tp / (tp + fn)\n    pcrr = 2 * (precision * recall) / (precision + recall)\n    return pcrr\n\\end{verbatim}\n\\end{table}\n\n其中 $y_{true}$ 为真实的 RSRP 标签列，$y_{pred}$ 为预测的 RSRP 标签列。\n\n\\subsection*{均方根误差 (RMSE: Root mean squared error)}\n\nRMSE 是评估预测值和实测值整体偏差的指标，其大小直观表现了仿真准确性。直接计算评估数据的 RMSE，计算公式如下：\n\n\\begin{equation}\nRMSE = \\sqrt{\\frac{1}{N} \\sum_{i=1}^{N} (P^{(i)} - \\hat{P}^{(i)})^2}\n\\end{equation}\n\n其中 $P^{(i)}$ 为参赛队机器学习模型对于第 $i$ 组评审数据集的 RSRP 实测值，$\\hat{P}^{(i)}$ 为第 $i$ 组评审数据集的 RSRP 预测量值。",
  "problem_analysis": "本问题从宏观上属于一个以工程目标驱动的监督学习与物理建模混合问题：目标是构建一个在未观测小区上能够可靠预测栅格级平均接收功率（RSRP）的模型，以便在基站部署与覆盖优化中减少实测成本、提高效率并支持弱覆盖识别（PCRR）。这一目标直接塑造了解题路径：既要关注数值回归精度（RMSE）以保证整体预测的准确性，也要兼顾分类式的弱覆盖识别能力（PCRR）以满足工程上的风险控制要求。因此建模思路必然在物理先验（如路径损耗模型Cost231‑Hata、几何几何关系、天线下倾／方位特性等）与数据驱动方法（机器学习、深度学习或统计学习）之间寻求平衡。物理模型可提供可解释的基线和结构化特征、约束模型输出的物理范围；数据驱动方法则能够学习经验模型难以覆盖的复杂非线性、交互效应和场景特定校正项。由此，一个自然的策略是把经典模型输出与几何和栅格级地图特征一起作为机器学习的输入（残差学习或混合模型），并在训练与验证阶段以跨小区的留一或分组验证来检验泛化能力。\n\n在问题描述中隐含并显性的前提出现在多个层面上，理解和批判这些假设对模型解释力和适用性至关重要。首先假定训练数据对于未来评审小区具有代表性：若训练集覆盖的地物类型、建筑密度、地形起伏、频段和天线配置分布与目标场景不同，模型可能发生显著的域外失配（domain shift）。其次数据表中体现的栅格化表示（5m×5m）和所给工程参数被视为足够表征大尺度（慢衰落）信号变化，而忽略了小尺度多径快速衰落及短期环境变化。这一简化仅在RSRP为大尺度平均值时近似成立，但仍然依赖于测量平均窗口、UE高度分布和测量条件的一致性。再者常隐含的假设包括标签准确性（测量误差可忽略或被视为随机噪声）、天线特性与报表参数足够描述发射机辐射（而实际上完整天线增益图、馈线损耗、天线竖向/方位图可能缺失或近似），以及地物Clutter Index与真实电磁穿透／散射特性之间存在稳定映射。任何一条假设被违背都会影响模型的偏差与不确定性，因此建模时需有明确的健壮性检验与不确定度表示（例如置信区间或后验分布）。\n\n各要素之间存在复杂的相互依赖与多尺度耦合。最显著的耦合来自几何关系（发射机高度、目标栅格海拔、两点直线距离、相对高度差、方位与天线下倾）与环境阻挡（建筑高度分布、道路/植被/水体的Clutter Index）共同决定直视路径是否存在、绕射与遮挡损耗的大小。发射功率与频率为全局放缩因子，但天线方向性与下倾会使空间上发射场强呈强烈非均匀分布，这与地图的方向性特征（如高楼聚集在某一方位）产生交互项。此外空间自相关（邻近栅格的RSRP高度相关）意味着样本不是独立同分布，若训练时忽略空间结构，模型可能高估泛化能力；相反，利用空间相关性（如通过高斯过程、基于图的模型或卷积网络）可提升性能但增加计算复杂性。还有一个潜在张力来自目标的双重性质：对RMSE的优化倾向于减少总体平方误差，而PCRR的提升要求对弱覆盖样本（通常为少数）更高的召回与精准度，这会引发模型偏置选择（例如通过加权损失、阈值后处理或对弱覆盖样本过采样）需要在整体误差与弱覆盖识别间权衡。\n\n问题的动态性与时间尺度效应不容忽视：尽管提供的数据和目标是静态的空间预测，但无线信道在日尺度、季节尺度以及配置变更时均会演化。植被叶片量、气象条件（雨衰）、建筑施工或基站天线调整会改变传播特性，若模型忽略这些时间维度，部署后可能快速退化。因此需在模型生命周期中纳入迭代更新、在线学习或定期重训练策略，并对模型预测的不确定性进行监控。模型在外部扰动下的行为还反映在对参数扰动的敏感度：例如小幅改变天线下倾或用户高度分布可能导致大范围的预测差异，检验这些敏感性可以指导在工程上添加安全裕度或选择更稳定的特征集。长期效应还包括数据漂移与概化退化，要求在工程应用时保留回测机制并结合少量新测点做迁移学习或领域自适应。\n\n从方法论的多元视角来看，本问题可以被重构为多种等价或互补的问题表述：把它当成纯回归问题以最小化RMSE、把它当成二分类问题以最大化PCRR、把它当成带不确定性输出的回归（贝叶斯回归或高斯过程）以提供可信区间，或者把目标作为多任务学习：同时预测RSRP与弱覆盖标签、LOS/NLOS概率、以及预测不确定性。这些替代视角会导出不同的建模策略与评估准则。例如以物理先验为核心的残差学习（即先用Cost231等估计路径损耗，再用ML拟合残差）既保持物理可解释性又增强数据驱动校正能力；以图神经网络或卷积神经网络处理栅格化地图则更充分利用空间结构，但对训练数据量和泛化控制提出更高要求。贝叶斯或分布式方法能把不确定性带入决策，从而在工程部署时量化风险；而基于采样策略（active learning）的框架可以指导实际测点采集以最小化不确定性增长。\n\n在不确定性与风险识别方面，需明确几类关键风险：域外推广风险（训练-评审小区分布差异）、测量误差与标签噪声（系统偏差可能导致模型偏置）、样本不平衡（弱覆盖样本稀少使PCRR难以稳定）、可解释性不足（运维方需要理解预测根源以制定工程动作），以及过度拟合高维交互特征带来的虚假相关性。针对这些风险，合理的权衡策略包括引入基于物理的正则化、对重要特征做敏感性分析、采用交叉小区验证来估计泛化误差、使用不确定性覆盖（例如置信区间、预测分位数）来支持保守工程决策，以及对弱覆盖类进行特定的再采样或成本敏感学习以满足PCRR门槛。\n\n建模过程应被视为迭代性、开放性的工程：初始阶段应以探索性数据分析为基础，验证特征分布、空间自相关、类别不平衡和潜在缺失值；随后基于物理直觉构造一组基础特征（距离、对数距离、发射与接收高度差、天线下倾合成角、载波频率、发射功率、Cell Clutter与目标栅格Clutter、路径两点间建筑遮挡指标或沿射线的高度剖面统计量等），并将Cost231类模型输出纳入特征集合以提供基线预测；接下来的模型选择阶段应尝试若干可解释与非可解释方法（线性回归+交互项、树模型、带空间结构的高斯过程、卷积或图神经网络的端到端学习）并以跨小区留出集合评估RMSE与PCRR，同时用分层采样评估弱覆盖类性能。重要的是在训练中融合工程约束，如输出物理界限、对异常预测进行后处理、以及用混合损失（MSE与加权分类损失）兼顾RMSE与PCRR目标。最终部署时应设计在线监控与定期重训练流程、异常检测机制以及可解释性工具（特征重要性、局部解释）以便运营人员理解与信任模型输出。\n\n综上，成功的方案不是单一模型的胜利，而是物理知识与数据驱动方法、静态拟合与动态维护、准确性与稳定性、整体性能与弱覆盖识别之间的综合权衡。对隐含假设保持批判性、对域外泛化保持警惕、对不确定性进行量化并以迭代的实验—验证—部署循环逐步改进模型，才能在工程实践中把机器学习的优势转化为可靠的无线传播估算能力。",
  "modeling_solution": "目标概述：本模型旨在利用训练集中提供的工程参数与栅格化地图数据，构建一个既有物理可解释性又具备良好泛化能力的混合（物理+数据驱动）无线传播预测器，用于在未观测小区上预测每个栅格的平均接收功率 RSRP，并同时保证弱覆盖识别能力（PCRR≥20%）与较小的全局均方根误差（RMSE）。为达到这一目标，我提出一个分层混合建模框架：第一层用基于物理的路径损耗模型（以 Cost231-Hata 为基线）计算初始路径损耗与天线方向性修正项；第二层基于栅格地图沿射线的阻挡/遮挡指标和栅格统计量计算显式阻挡损耗与场景相关修正项；第三层用机器学习对物理模型的残差进行建模以捕捉复杂非线性和场景专属效应；模型输出为 RSRP 的点估计与不确定度（置信区间或分位数），并同时输出弱覆盖概率以满足 PCRR 要求。该架构兼顾物理先验（提高可解释性与少样本泛化）与数据驱动校正（提高精度与场景特异性）。\n\n主要假设：假设提供的 RSRP 为对小尺度快衰落已平均化后的栅格级慢衰落统计量，因此可用大尺度路径损耗理论作为基线。假设天线参数（发射功率、方位、下倾）在文件中足够代表发射方向性，且天线垂直/水平增益图可由近似模型替代（若缺失，使用标准方向性近似）。假设栅格的建筑高度、海拔和地物索引能代表阻挡、散射和吸收的主要影响，且沿路径的离散栅格采样能够近似连续的高度剖面。假设测量误差为零均值独立噪声，可以通过模型中随机项来近似。假设训练数据与将来评审小区存在一定代表性重叠，但允许存在分布转移，因此在训练策略中采用跨小区验证与领域自适应/微调策略。\n\n变量与参数定义（用大写变量表示常量/参数，小写表示函数或样本量化）：对任意基站（小区）和目标栅格 i，令 (x_c,y_c) 为基站左上角栅格坐标，(x_i,y_i) 为目标栅格左上角坐标；h_b 为基站天线相对地面高度（m）；h_ci 为基站格海拔（m）；h_i 为目标栅格海拔（m）；b_h_i 为目标格建筑高度（m）；f 为工作频率（MHz）；P_t 为发射功率（dBm）；Az 为基站方位（deg）， theta_md 与 theta_ed 分别为机械与电下倾角（deg），theta_eff = theta_md + theta_ed 为合成下倾角；d_i 为基站与目标的平面距离（m），d_km = d_i/1000（km）；Delta_h_i = (h_b + h_ci) - (h_i + b_h_i) 为发射机与接收点的相对高差（m）；phi_i 为目标相对于基站的方位角（deg），delta_phi = wrap(Az - phi_i) 为方位差（deg）；CI_cell 与 CI_i 为基站格与目标格的 Clutter Index。定义沿路径的阻挡统计量 B_max(i) = max_{cells along ray} building_height, B_frac(i) = fraction of sampled cells with building_height > line_of_sight_height, N_int(i) = number of intersections with buildings (整数)，CL_mean(i) = mean clutter index along ray，elev_angle_i = atan(Delta_h_i / d_i) 为仰角（rad），G_v(elev_i) 为天线垂直方向增益函数近似值（dB），G_h(delta_phi) 为天线水平方向增益近似（dB）。残差函数 r(i) 表示物理模型预测与真实 RSRP 之间的差异。\n\n物理基线与组合方程：先以 Cost231‑Hata 或其适用变体给出基本路径损耗 PL_base(i)（dB），表达式可采用标准形式\nPL_base(i) = 46.3 + 33.9*log10(f) - 13.82*log10(h_b) - alpha(h_ue) + (44.9 - 6.55*log10(h_ue))*log10(d_km) + c_m\n这里 h_ue 可近似为用户天线高度（若未知取 1.5 m 或以栅格建筑高度修正），alpha 为用户高度修正项，c_m 为场景修正常数（可按 Clutter Index 映射初始赋值）。将天线方向性与仰角修正加入损耗模型：L_antenna(i) = -G_v(elev_angle_i) - G_h(delta_phi)（dB），注意这会降低路径损耗计算所需的接收增益项（负号表示增益降低损耗）。同时计算显式遮挡损耗 L_block(i) 由沿射线的建筑统计量决定，提出一个可微分/可学习的函数形式：\nL_block(i) = beta1 * B_max_norm(i) + beta2 * B_frac(i) + beta3 * N_int(i) + beta4 * max(0, h_building_line_of_sight_clearance_deficit)\n其中 B_max_norm 为最大建筑高度标准化值，beta_k 为经验系数（初值可由理论或可训练）。同时引入基于 Clutter 的衰减 L_clutter(i) = gamma(CI_cell, CI_i, CL_mean(i))，可以用查表或线性组合近似不同 clutter 的额外损耗。综合得到物理预测的路径损耗：\nPL_phys(i) = PL_base(i) + L_block(i) + L_clutter(i) + L_misc\nRSRP_phys(i) = P_t - PL_phys(i) + epsilon_phys，其中 epsilon_phys 为未建模噪声/残余。\n\n残差建模（数据驱动层）：定义残差 r(i) = RSRP_true(i) - RSRP_phys(i)。假设 r(i) 为训练数据可观测并且由一组特征 X_i 驱动，X_i 包含几何特征（log d, d, Delta_h, elev_angle, delta_phi）、天线特征（theta_eff, P_t, f）、沿线阻挡统计（B_max, B_frac, N_int, CL_mean）、本地栅格统计（b_h_i, CI_i, h_i）、空间邻域特征（邻近栅格的平均 RSRP 或 CL_mean 的邻域统计，若训练时可用）以及 Cost231 的元特征（PL_base、L_block、L_clutter）。残差用一个强健的回归器拟合：r_hat(i) = F(X_i; w), 其中 F 可以选择 LightGBM/XGBoost 作为首选（对异质特征、缺失值鲁棒、计算高效），或在数据量大且具有空间图结构时采用图神经网络或卷积神经网络；同时为输出不确定度，采用模型集成（多模型平均）与分位回归（quantile regression）或贝叶斯近似（MC Dropout 或深度集成）来估计预测区间。最终 RSRP_pred(i) = RSRP_phys(i) + r_hat(i).\n\n损失函数与弱覆盖约束的整合：训练时最小化复合损失 L = MSE(RSRP_true, RSRP_pred) + lambda * L_weak，L_weak 可定义为加权交叉熵或 Focal Loss 针对弱覆盖类别（RSRP < p，其中 p = -103 dBm），以增加对弱覆盖样本的敏感度。更直接的策略为对低于阈值的样本在 MSE 中加权：w(i) = 1 + alpha * I(RSRP_true(i) < p)，从而提高这些样本在梯度更新中的影响，alpha 可通过验证集调整以在满足 PCRR≥20% 的同时尽量不损失整体 RMSE。模型训练过程中应采用交叉小区留一法（leave-one-cell-out）或按小区分层的 K 折交叉验证来严格评估跨小区泛化，避免数据泄露。\n\n特征计算与实现细节：计算沿射线统计量可采用栅格化线遍历算法（Bresenham 或 DDA）在发射点与目标点之间按 5m 步长采样栅格，收集每个栅格的 building_height、clutter_index 与 altitude，用以计算 B_max, B_frac, N_int, CL_mean 及 LOS 判定。天线垂直增益 G_v(elev) 可用常见的天线近似模型 G_v(e) = -min(12*(e - theta_eff)^2 / theta_3dB^2, A_m)（dB），其中 theta_3dB 与 A_m 为天线半功率角与最大衰减常数，若未知可按标准值（例如 theta_3dB=6°，A_m=20 dB）设定并在训练中允许微调。Clutter 对应的初始 c_m 或 L_clutter 映射表可由文献或测量数据估计，并作为可训练偏置项纳入残差模型。对角度进行周期性归一化（例如使用 sin/cos 表示）以避免角度跳变问题。\n\n求解策略与参数估计：预处理阶段进行缺失值填补（建筑高度等可填0或邻域插值）、异常检测（极端 RSRP、异常位置点）。物理参数（beta_k, gamma 等）可以通过最小二乘在训练集上粗估以初始化物理层，然后固定或作为可学习参数与 ML 层一起优化。数据驱动模型使用树模型（LightGBM）时采用贝叶斯优化或交叉验证网格搜索调参（学习率、树深、叶子数、正则化项等）。若采用神经网络，则需 GPU 并进行 early-stopping、防过拟合（dropout、L2）。为了得到不确定度，训练多次初始化模型或使用分位回归目标，并通过集合预测的方差作为不确定度估计。计算资源层面，单个小区的特征构造可并行化（按目标栅格分片），训练 LightGBM 在常见硬件（8-16 CPU cores，16-64 GB RAM）上可在数小时内完成；若采用深度网络则需 GPU（例如单块 16GB 显存）以加速训练。推理阶段可在边缘或云端并行处理 test_id.csv 文件，每个文件独立并行运行。\n\n模型校准、验证与敏感性分析：使用留一小区验证与分层 K 折验证来估计 RMSE 与 PCRR 的稳健性。在验证集上计算 PCRR 并调整弱覆盖加权参数 alpha 或 lambda 以满足 PCRR≥20%。对关键输入参数（天线下倾、发射功率、建筑高度偏差、频率）进行局部灵敏度分析，通过参数扰动和蒙特卡洛仿真估计输出方差与偏差，必要时进行 Sobol 总方差分解以量化不同特征对 RSRP 预测方差的贡献。对模型不确定度较大的区域建议触发主动学习采样策略：选择信息增益最大的栅格点进行实地测量以快速减少不确定性并微调模型。\n\n域外泛化与在线适应：为应对评审集可能的域偏移，模型在部署时应具备二阶段适应策略：第一阶段为“零次”推断，输出置信度与弱覆盖概率；第二阶段若可以获取少量标注（少量实测 RSRP），采用微调或贝叶斯后验更新迅速改善模型（参数微调或残差模型重训练）。另外可构造分层混合效应模型，在全局层学习通用参数（例如beta_k的先验分布），在小区层学习偏差项（随机效应），从而在新小区上用少量数据快速估计小区特有偏差。\n\n可解释性与特征重要性：对训练完成的 ML 层采用 SHAP 值或特征重要性排名来解释残差的驱动因子，并使用部分依赖图（PDP）查看单一特征对预测的非线性影响。这不仅帮助调试与工程可行性分析，也能为运维人员提供可操作的建议（例如调整下倾或改变站点高度的预期覆盖改进量）。\n\n扩展与未来改进：可将本方法扩展为联合多任务学习，同时预测 RSRP、弱覆盖标签和 LOS/NLOS 概率，以共享表示提高弱覆盖召回。若可用更高精度地形/建筑矢量数据，可并入光学或遥感影像并利用卷积神经网络直接从图像中学习遮挡特征，或构建高保真射线追踪仿真作为教师模型并训练轻量代理模型用于快速推断。长期运行中建议部署在线学习机制以适应环境变化，并结合主动学习策略定期选取测点最小化总体不确定度。\n\n总结性陈述：该混合模型以 Cost231‑Hata 等物理基线保证物理一致性，以沿射线的显式阻挡特征补偿地形与建筑影响，并以机器学习拟合复杂残差与场景交互，辅以加权损失或多任务目标确保弱覆盖识别能力。训练与验证采用跨小区策略以评估泛化，采用不确定度估计与灵敏度分析保障工程应用的稳健性，并通过在线适配与主动测量策略维护模型长期有效性。该方案在兼顾可解释性与精度的同时，提供了可实现的特征计算、求解流程与部署路径，适合在给定的栅格化数据集与工程约束下用于实际 RSRP 预测与网络规划支持。",
  "task_descriptions": [
    "子任务一（数据预处理与物理基线及特征构造）的目标是把每个小区的原始 CSV 栅格化数据转换为可直接输入后续机器学习流程的干净、结构化特征表，并同时计算基于 Cost231‑Hata 的物理基线 RSRP 估计（RSRP_phys）以作为后续残差建模的元特征；该任务的范围仅限于数据清洗、几何量与天线量的确定、沿射线路径阻挡/地物统计量的计算、以及对所有候选特征进行必要的数值变换与标准化并输出最终特征文件。具体步骤和方法如下：1) 数据加载与坐标转换：读取每个 train_*.csv 文件（或 test 文件），将给定的格网左上角坐标(Cell X, Cell Y 和 X, Y)换算为格点中心坐标（建议加 2.5 m 偏移以表示 5m×5m 网格中心），并统一单位（m、MHz、dBm）；2) 缺失值与异常处理：对建筑高度、海拔等缺失值采用邻域中位数或直接以 0（无建筑）填补，使用 IQR 或 Z‑score 检测 RSRP 或几何异常点并记录（可选择剔除或标记供后续处理），对分类变量（Clutter Index）检查非法编码并修正；3) 基本几何与天线特征计算：逐样本计算平面距离 d（m）、d_km、对数距离 log10(d_km+ε)、发射-接收相对高度 Δh = (Height + Cell Altitude) - (Altitude + Building Height)、仰角 elev = atan2(Δh, d)（弧度与度两种形式保存）、目标方位 phi = atan2(y_target - y_cell, x_target - x_cell)（deg）及方位差 δphi = wrap(Az - phi)；用 sin/cos 编码角度周期性特征以避免跳变；合成下倾角 theta_eff = Mechanical Downtilt + Electrical Downtilt；4) 物理基线计算：按 Cost231‑Hata 标准公式计算 PL_base（使用 f、h_b、h_ue（缺省取 1.5 m 或用目标格建筑高度校正）、d_km、场景常数 c_m 可按 Clutter Index 初值表映射），并通过天线方向性修正将天线增益近似加入：垂直面增益 G_v(elev) ≈ -min(12*((elev_deg - theta_eff)/theta_3dB)^2, A_m)（dB，默认 theta_3dB=6°、A_m=20 dB 可配置），水平面增益 G_h(δphi) ≈ -min(12*(δphi/phi_3dB)^2, A_h)（dB，默认 phi_3dB=65°、A_h=20 dB），将 L_antenna = - (G_v + G_h) 作为损耗修正项，形成初始 PL_phys = PL_base + L_antenna + L_clutter_init（其中 L_clutter_init 可通过 Clutter Index 查表或用固定偏移量估计），并计算 RSRP_phys = P_t - PL_phys；5) 沿射线阻挡/地物统计特征：对每个基站—目标栅格对使用栅格线遍历算法（Bresenham 或 DDA，步长以格子分辨率 5m 为单位）采样路径上的栅格，收集沿线 Building Height、Altitude 与 Clutter Index 并计算 B_max = max(building_height)、B_frac = fraction(building_height > line_of_sight_height)、N_int = number of building intersections（离散计数）、CL_mean = mean(clutter_index)、LOS_flag（简单几何判定有无直视），并可附加沿线高度剖面统计量（mean, std, percentile）；6) 类别与数值特征编码与变换：对 Clutter Index 做一维数值编码并同时保留 one‑hot（或 embedding 协议，若后续模型支持）；对数值特征做必要的对数变换（如 log d）、均值方差标准化或 RobustScaler（对异常鲁棒），对比例特征（B_frac）和计数特征（N_int）做归一/分箱处理；7) 性能与并行化实现细节：建议用 Python 生态（pandas/numpy/scipy）实现数据流水线，沿线采样与大规模几何计算使用 numba 加速或 Cython，或并行化到多进程/分布式任务以处理每个小区文件；若可用，借助 shapely 用于角度与几何校验；8) 输出与约定：为每个输入文件生成对应的特征 CSV，列包括原始输入索引、RSRP（训练集保留）、计算的几何特征（d, log d, Δh, elev, sin/cos phi, δphi sin/cos）、天线特征（theta_eff, P_t, f）、沿线统计（B_max, B_frac, N_int, CL_mean, LOS_flag）、物理元特征（PL_base, L_antenna, L_clutter_init, RSRP_phys）、标准化版本及缺失/异常标记；并输出一份特征字典（字段名、单位、计算公式与默认参数）以保证可复现性。该子任务不涉及模型训练或结果评估，其成功交付为下游残差建模提供完整、可解释且计算可重复的特征表与物理基线列。",
    "子任务二的目标是用机器学习对物理基线预测与真实RSRP之间的残差进行建模，从而输出残差估计r̂并形成最终预测RSRP_pred = RSRP_phys + r̂，以及为工程决策提供不确定度与弱覆盖概率输出；其范围仅限于模型选择、训练目标、训练流程、超参数调优、欠/过拟合控制、类别不平衡处理与不确定度估计，并以已经由前处理得到的特征表（每个样本包含几何特征如d、log d、Δh、仰角/方位的sin/cos编码；天线/发射特征如P_t、f、theta_eff；沿射线阻挡统计如B_max、B_frac、N_int、CL_mean、LOS_flag；以及物理元特征PL_base、L_antenna、L_clutter_init等）和训练集的真实RSRP作为输入；方法上优先选择基于梯度提升树的回归器（LightGBM或XGBoost）作为主模型，理由是对异质特征与缺失值鲁棒且训练高效，备选方案包括多层感知器或卷积/图神经网络用于在样本量与空间结构充足时捕捉复杂空间相关性；训练目标采用复合损失，主损失为MSE或Huber loss以最小化残差平方和，辅以针对弱覆盖（阈值p=-103 dBm）加权项以提升PCRR：对真实样本RSRP<p的样本在损失中放大权重w = 1 + α或追加二分类焦点损失，α通过按小区分层的交叉验证（建议使用leave-one-cell-out或按小区分层K折）在验证集上网格或贝叶斯优化调参以在满足PCRR≥20%与控制RMSE之间取得平衡；为应对类别不平衡可采用样本重加权、过采样或合成少数样本技术，但优先使用基于损失权重的方法以避免生成合成空间结构错误样本；训练细节包括使用早停（early stopping）、L2正则与树模型的树深/叶子数/最小样本分裂数等正则化参数来防止过拟合，超参数搜索使用贝叶斯优化工具（如Optuna）或交叉验证网格搜索，并固定随机种子与记录训练日志以确保可复现性；对缺失值与异常值利用树模型天然处理能力或在预处理阶段用标志位记录并填充，中位数/常数填充亦可；不确定度估计采用模型集合（多次不同随机初始化/子样本训练取预测分布）、分位回归（训练不同分位点的模型）或在神经网络情形下使用MC Dropout，必要时对回归输出进行校准（例如使用回归校准或基于残差的置信区间估计）；若需弱覆盖概率输出，可并行训练二分类器（逻辑回归/LightGBM classifier）或以多任务方式同时输出残差和弱覆盖概率，并对分类器概率做Platt或Isotonic校准以提高准确率；模型评估与选择以跨小区验证集的RMSE和PCRR为主要准则，同时监控Precision/Recall/F1在弱覆盖类上的表现与预测置信区间覆盖率（calibration）；为便于后续分析，保存模型特征重要性与基于SHAP的局部/全局解释结果以发现潜在的数据偏差或错误特征，并将最终模型输出包括r̂、RSRP_pred、置信区间上下界及弱覆盖概率，所有训练脚本应支持批量训练、可配置的超参数输入与日志/模型版本管理以保证可重复性。",
    "子任务3聚焦于对已训练模型的严格验证、通过调整使弱覆盖识别（PCRR）达标、以及对模型输出进行灵敏度与不确定性量化；其输入为经子任务1/2生成的特征表与对应真实 RSRP（用于验证集）及模型预测接口，目标是在跨小区条件下评估并保证模型泛化性、满足 PCRR≥20% 的工程门槛并提供可操作的不确定度与敏感性分析结果。具体工作包括：1）验证方案与度量：采用按小区分层的留一小区（leave-one-cell-out）或分层 K 折交叉验证（fold 划分以小区为单位）来模拟域外小区的泛化表现；对每一折/每个被留出小区计算 RMSE 和弱覆盖相关指标（按阈值 p = -103 dBm 统计 TP/FP/FN/TN，进而计算 Precision、Recall 和 PCRR），并输出按小区与总体的平均与方差；2）PCRR 校准：在训练或验证阶段引入加权损失（对真实 RSRP < p 的样本以权重 w = 1+α 放大）或并行训练二分类弱覆盖预测器，通过网格搜索或贝叶斯优化（如 Optuna）在验证集合上寻优 α 或损失比例 λ，以在不显著恶化总体 RMSE 的前提下达到 PCRR≥20%；记录并绘制 RMSE 与 PCRR 的权衡曲线以便工程决策；3）不确定度估计与校准：为回归输出构建置信区间，采用模型集成（多模型随机初始化/子样本训练取预测分布）、分位回归或自举（bootstrap）生成预测区间，并用保真度检验（coverage）在验证集上校准区间宽度；若并行训练分类器则对概率进行 Platt 或 isotonic 校准以改善弱覆盖概率的可靠性；4）局部与全局灵敏度分析：对关键输入（如发射功率、合成下倾角、目标/沿线建筑高度、距离、频率）进行局部扰动（±若干百分比或固定物理量）与蒙特卡洛采样，量化输出均值与方差的变化；并用方差分解方法（如 Sobol 指数，通过 SALib 等工具实现）评估各特征对预测方差的全局贡献，从而识别高影响因子；5）不确定度驱动的采样策略（主动学习触发标准）：基于预测不确定度大小、距离阈值 p 的临界性（靠近阈值点）以及潜在影响量（高 Sobol 值或空间覆盖关键区域），定义优先测量点选择规则（例如 top‑k 不确定点或信息增益最大点）以指导后续实测；6）域适应策略验证：模拟少量标注下的快速微调（如仅重训练残差模型的最后一层或用 few‑shot 样本做增量训练），评估在获取 n 个新点后 RMSE 与 PCRR 的改进速度并记录最小样本量需求；7）可视化与报告产出：为每次验证生成标准化报告，包含按小区与总体的 RMSE/PCRR/Precision/Recall、混淆矩阵、置信区间覆盖率、校准曲线、特征敏感度排名与 Sobol 指数、以及主动采样建议列表；8）实现与工具建议：推荐使用 Python 生态（pandas/numpy/scikit‑learn、LightGBM/XGBoost、Optuna、SHAP、SALib、matplotlib/seaborn），保存可复现的随机种子、模型版本与训练日志，并输出可机器读取的验证结果文件（JSON/CSV）与可视化图表。该子任务仅涵盖验证、校准、灵敏度及不确定度分析与相应决策规则的制定与产出，不涉及特征构造或模型训练以外的其它开发工作。",
    "子任务 4（部署、推理性能、在线适应与运维）旨在把已训练好的模型稳定、可扩展且可审计地投入生产环境，以便对每个输入文件 test_id.csv（每行包含前17个字段的栅格样本）生成符合竞赛要求的输出文件 test_id.csv_result（JSON 格式、RSRP 列表，必要时包含每行的置信区间和弱覆盖概率），并保证高可用性、可监控性与可回滚的模型生命周期管理；其工作范围包括：1) 输入/输出约束与错误处理：实现严格的 I/O 接口，读取每个 test_id.csv，校验列格式与行数，缺失或异常样本按预定义策略处理（填充/标记），若输出预测值少于输入行则按规范填零补齐，若超出则截断，所有 I/O 操作记录元数据（文件名、行数、处理时戳、版本号、失败原因）；2) 特征计算与加速策略：在推理端实现与训练时一致的特征流水线（格点中心坐标转换、平面距离与对数距离、相对高度与仰角、方位 sin/cos 编码、沿射线路径采样统计如 B_max、B_frac、N_int 等、天线增益近似计算），对计算量大的沿线采样采用可复用缓存（按基站—格对缓存路径索引）、并行化（多进程/线程或分片批处理）与矢量化实现（numpy/numba）；3) 模型部署与运行时：将模型制品（LightGBM/XGBoost pickle 或导出为 ONNX、TorchScript）与特征流水线打包为容器镜像（Docker），并通过容器编排（Kubernetes）或无服务器函数部署，提供批量与实时两种推理模式；推荐使用轻量 API（FastAPI/uvicorn）或 gRPC 作为服务入口，支持批处理队列（Kafka/RabbitMQ）与并发工作者，资源建议为 CPU 优先（示例：8–16 核、16–64 GB 内存）并为可选深度模型提供 GPU 节点；4) 性能与可扩展性：制定可配置的 SLA（例如每个含 10k 行的文件在并行环境中处理时间上限），通过批次大小调优、模型量化/ONNX 加速、异步 I/O 与并行任务调度来满足延迟与吞吐要求；5) 日志、监控与告警：对每次推理产生日志（输入摘要、输出摘要、延迟、异常），并在监控平台（Prometheus + Grafana）上上报关键指标（每文件处理时延、吞吐、模型版本、失败率、在线 RMSE 与弱覆盖混淆矩阵的近实时估计、PCRR 近似），当性能或数据分布显著偏离基线阈值时触发告警；6) 模型版本管理与 CI/CD：使用模型注册与版本控制工具（MLflow、DVC 或 S3 + Git 标签）管理模型与特征流水线代码，建立自动化部署流水线（代码检测、单元/集成测试、端到端回归测试、灰度/金丝雀发布与回滚策略），并在部署前在预生产环境执行一致性校验（输出格式、统计特征分布对比）；7) 可靠性与安全：确保环境可复现（固定随机种子、依赖清单、容器化环境）、对敏感存储使用访问控制/加密、并对外部输入进行严格边界校验与速率限制以防滥用；8) 在线适应与重训练策略：定义性能退化与漂移检测触发条件（例如在线 RMSE 或 PCRR 超过阈值、特征分布漂移检测），当触发时自动或半自动启动收集标注数据流程（记录高不确定度或靠近阈值的样本），支持小批量微调（residual 模型或最后几层）在隔离环境验证后上线；9) 主动学习与数据回流：实现不确定度驱动采样接口（按预测置信区间宽度、靠近阈值点或地理代表性选择候测点），并把新标注数据纳入版本化训练数据集以供定期重训练；10) 可观测性与可解释性输出：在推理结果中同时保存用于审计的特征快照、模型版本与 SHAP/特征重要性摘要（可选的每批或按需生成）以支持后续人工诊断；11) 运营手册与恢复流程：提供清单化运维手册（部署步骤、回滚指令、常见故障诊断、数据合规检查、隐私与保密处理流程），并定期执行灾备演练与性能回归测试。该子任务交付物为：可执行的容器镜像与部署清单、推理服务 API 文档、I/O 约定与错误处理规范、监控仪表板配置、CI/CD 管线定义、版本化模型与数据存储位置、自动化触发的重训练策略与主动采样接口，以及运维手册和回滚流程，确保在不依赖外部说明的情况下即可独立部署、运行、监控与维护整个推理与在线适应系统。"
  ]
}