{
  "tasks": [],
  "problem_str": "问题背景：\n汽车行驶工况（Driving Cycle）又称车辆测试循环，是描述汽车行驶的速度-时间曲线（如图1、2，一般总时间在1800秒以内，但没有限制标准，图1总时间为1180秒，图2总时间为1800秒），体现汽车道路行驶的运动学特征，是汽车行业的一项重要的、共性基础技术，是车辆能耗/排放测试方法和限值标准的基础，也是汽车各项性能指标标定优化时的主要基准。目前，欧、美、日等汽车发达国家，均采用适应于各自的汽车行驶工况标准进行车辆性能标定优化和能耗/排放认证。\n\n本世纪初，我国直接采用欧洲的NEDC行驶工况（如图1）对汽车产品能耗/排放的认证，有效促进了汽车节能减排和技术的发展。近年来，随着汽车保有量的快速增长，我国道路交通状况发生很大变化，政府、企业和民众日渐发现以NEDC工况为基准所优化标定的汽车，实际油耗与法规认证结果偏差越来越大，影响了政府的公信力（譬如对某型号汽车，该车标注的工信部油耗6.5升/100公里，用户体验实际油耗可能是8.5-10升/100公里）。另外，欧洲在多年的实践中也发现NEDC工况的诸多不足，转而采用世界轻型车测试循环（WLTC，如图2）。但该工况怠速时间比和平均速度这两个最主要的工况特征，与我国实际汽车行驶工况的差异更大。作为车辆开发、评价的最为基础的依据，开展深入研究，制定反映我国实际道路行驶状况的测试工况，显得越来越重要。\n\n另一方面，我国地域辽阔，各个城市的发展程度、气候条件及交通状况的不同，使得各个城市的汽车行驶工况特征存在明显的不同。因此，基于城市自身的汽车行驶数据进行城市汽车行驶工况的构建研究也越来越迫切，希望所构建的汽车行驶工况与该市汽车的行驶情况尽量吻合，理想情况下是完全代表该市汽车的行驶情况（也可以理解为对实际行驶情况的浓缩），目前北京、上海、合肥等都已经构建了各城市的汽车行驶工况。\n\n为了更好地理解构建汽车行驶工况曲线的重要性，以某型号汽车油耗为例，简单说明标注的工信部油耗是如何测试出来？标注的工信部油耗并不是该型号汽车在实际道路上的实测油耗，而是基于国家标准（如《GB27840-2011重型商用车辆燃料消耗量测量方法》），在实验室里根据汽车行驶工况曲线，按照一定的标准，经检测、计算得出。由此可见，标注的工信部油耗是否与实际油耗相吻合，与汽车行驶工况曲线有密切关系。\n\n问题要求：\n在上述背景下，请根据附件（3个数据文件，每个数据文件为同一辆车在不同时间段内所采集的数据）所提供的某城市轻型汽车实际道路行驶采集的数据（采样频率1Hz），构建一条能体现参与数据采集汽车行驶特征的汽车行驶工况曲线（1200-1300秒），该曲线所体现的汽车运动特征（如平均速度、平均加速度等）能代表所采集数据源的相应特征，两者间的误差越小，说明所构建的汽车行驶工况的代表性越好。\n\n三、解决的问题\n\n1.数据预处理\n\n由汽车行驶数据的采集设备直接记录的原始采集数据往往会包含一些不良数据值，不良数据主要包括几个类型：\n\n由于高层建筑覆盖或过隧道等，GPS信号丢失，造成所提供数据中的时间不连续；\n\n汽车加、减速度异常的数据（普通轿车一般情况下：0至100km/h的加速时间大于7秒，紧急刹车最大减速度在7.5~8 $m/s^2$）；\n\n长期停车（如停车不熄火等候人、停车熄火了但采集设备仍在运行等）所采集的异常数据。\n\n长时间堵车、断断续续低速行驶情况（最高车速小于10km/h）,通常可按怠速情况处理。\n\n一般认为怠速时间超过180秒为异常情况，怠速最长时间可按180秒处理。\n\n请设计合理的方法将上述不良数据进行预处理，并给出各文件数据经处理后的记录数。\n\n2.运动学片段的提取\n\n运动学片段是指汽车从怠速状态开始至下一个怠速状态开始之间的车速区间，如图3所示（基于运动学片段构建汽车行驶工况曲线是日前最常用的方法之一，但并不是必须的步骤，有些构建汽车行驶工况曲线的方法并不需要进行运动学片段划分和提取）。请设计合理的方法，将上述经处理后的数据划分为多个运动学片段，并给出各数据文件最终得到的运动学片段数量。\n\n3. 汽车行驶工况的构建\n\n请根据上述经处理后的数据，构建一条能体现参与数据采集汽车行驶特征的汽车行驶工况曲线（1200-1300秒），该曲线的汽车运动特征能代表所采集数据源（经处理后的数据）的相应特征，两者间的误差越小，说明所构建的汽车行驶工况的代表性越好。要求：\n\n（1）科学、有效的构建方法（数学模型或算法，特别鼓励创新方法，如果采用已有的方法，必须注明来源）；\n\n（2）合理的汽车运动特征评估体系（至少包含但不限于以下指标：平均速度（km/h）、平均行驶速度（km/h）、平均加速度（m/）、平均减速度（m/）、怠速时间比（%）、加速时间比（%）、减速时间比（%）、速度标准差（km/h）、加速度标准差（m/）等）；\n\n（3）按照你们所构建的汽车行驶工况及汽车运动特征评估体系，分别计算出汽车行驶工况与该城市所采集数据源（经处理后的数据）的各指标（运动特征）值，并说明你们所构建的汽车行驶工况的合理性。部分名词解释\n\n\\textbf{怠速}：汽车停止运动，但发动机保持最低转速运转的连续过程。 \n\n\\textbf{加速}：汽车加速度大于 $0.1 m/s^2$ 的连续过程。 \n\n\\textbf{减速}：汽车加速度小于 $-0.1 m/s^2$ 的连续过程。 \n\n\\textbf{巡航/匀速}：汽车加速度的绝对值小于 $0.1 m/s^2$ 非怠速的连续过程。 \n\n\\textbf{平均速度}：一段时间周期内，汽车速度的算术平均值。 \n\n\\textbf{平均行驶速度}：汽车在行驶状态下汽车速度的算术平均值，即不包含汽车怠速状态。 \n\n\\textbf{怠速时间比}：一段时间周期内，怠速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{平均加速度}：汽车在加速状态下各单位时间（秒）加速度的算术平均值。 \n\n\\textbf{平均减速度}：汽车在减速状态下各单位时间（秒）减速度的算术平均值。 \n\n\\textbf{加速时间比}：一段时间周期内，处在加速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{减速时间比}：一段时间周期内，处在减速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{速度标准差}：一段时间周期内，汽车速度的标准差，即包括怠速状态。 \n\n\\textbf{加速度标准差}：一段时间周期内，处在加速状态的汽车加速度的标准差。\nAddendum: \n参考文献：\nLin J, Niemeier D A. Exploratory analysis comparing a stochastic driving cycle to California's regulatory cycle[J]. Atmospheric Environment, 2002, 36(38):5759-5770.\n\nKarande, S., Olson, M., and Saha, B. Development of Representative Vehicle Drive Cycles for Hybrid Applications[J]. SAE Technical Paper 2014-01-1900, 2014, doi:10.4271/2014-01-1900.\n\n姜平，石琴，陈无畏，黄志鹏. 基于小波分析的城市道路行驶工况构建的研究[J]. 汽车工程, 2011(1):70-73.\n\nKnez M, Muneer T, Jereb B, et al. The estimation of a driving cycle for Celje and a comparison to other European cities[J]. Sustainable Cities and Society, 2014, 11:56-60.\n\nHo, Sze-Hwee, Wong, Yiik-Diew, Chang, Victor Wei-Chung. Developing Singapore Driving Cycle for passenger cars to estimate fuel consumption and vehicular emissions [J]. Atmospheric Environment,2014,97:353-362.\nDataset Path:\n['文件1.xlsx', '文件2.xlsx', '文件3.xlsx']\n\nData Description:\n该数据集由三份短时段城市道路行驶记录组成（文件1：2017/12/18 13:42:13–13:44:36；文件2：2017/11/01 19:11:50–19:14:13；文件3：2017/12/01 19:43:57–19:46:20），均为1 Hz采样、时间戳格式为YYYY/MM/DD HH:MM:SS.SSS，单次行驶时长约2分23秒，单文件样本量约143条，总样本量约432条。每条记录为表格化车辆与动力系统传感器数据，主要变量包括GPS车速（km/h）、时间、经度/纬度（度）、加速度（以m/s^2计；文件3提供X/Y/Z三轴加速度，其他文件加速度维度描述可能更简略）、发动机转速（RPM）、扭矩百分比、瞬时油耗（L/100km）、油门踏板开度（%）、空燃比（AFR）、发动机负荷百分比以及进气流量（g/s）。数据适合用于城市驾驶工况分析、瞬时燃油经济性评估、驾驶行为与车辆动力学分析、轨迹/速度-加速事件检测及机理或数据驱动的能耗建模。使用时需注意短时序列长度、可能的传感器噪声与缺失值、时序对齐与采样一致性、经纬度到米制投影或速度-位移计算的转换，以及地理位置隐私保护；常见预处理包括时序同步、缺失值插补、滤波降噪、单位核对与坐标转换等。",
  "problem": {
    "background": "汽车行驶工况（Driving Cycle）又称车辆测试循环，是描述汽车行驶的速度-时间曲线（如图1、2，一般总时间在1800秒以内，但没有限制标准，图1总时间为1180秒，图2总时间为1800秒），体现汽车道路行驶的运动学特征，是汽车行业的一项重要的、共性基础技术，是车辆能耗/排放测试方法和限值标准的基础，也是汽车各项性能指标标定优化时的主要基准。目前，欧、美、日等汽车发达国家，均采用适应于各自的汽车行驶工况标准进行车辆性能标定优化和能耗/排放认证。\n\n本世纪初，我国直接采用欧洲的NEDC行驶工况（如图1）对汽车产品能耗/排放的认证，有效促进了汽车节能减排和技术的发展。近年来，随着汽车保有量的快速增长，我国道路交通状况发生很大变化，政府、企业和民众日渐发现以NEDC工况为基准所优化标定的汽车，实际油耗与法规认证结果偏差越来越大，影响了政府的公信力（譬如对某型号汽车，该车标注的工信部油耗6.5升/100公里，用户体验实际油耗可能是8.5-10升/100公里）。另外，欧洲在多年的实践中也发现NEDC工况的诸多不足，转而采用世界轻型车测试循环（WLTC，如图2）。但该工况怠速时间比和平均速度这两个最主要的工况特征，与我国实际汽车行驶工况的差异更大。作为车辆开发、评价的最为基础的依据，开展深入研究，制定反映我国实际道路行驶状况的测试工况，显得越来越重要。\n\n另一方面，我国地域辽阔，各个城市的发展程度、气候条件及交通状况的不同，使得各个城市的汽车行驶工况特征存在明显的不同。因此，基于城市自身的汽车行驶数据进行城市汽车行驶工况的构建研究也越来越迫切，希望所构建的汽车行驶工况与该市汽车的行驶情况尽量吻合，理想情况下是完全代表该市汽车的行驶情况（也可以理解为对实际行驶情况的浓缩），目前北京、上海、合肥等都已经构建了各城市的汽车行驶工况。\n\n为了更好地理解构建汽车行驶工况曲线的重要性，以某型号汽车油耗为例，简单说明标注的工信部油耗是如何测试出来？标注的工信部油耗并不是该型号汽车在实际道路上的实测油耗，而是基于国家标准（如《GB27840-2011重型商用车辆燃料消耗量测量方法》），在实验室里根据汽车行驶工况曲线，按照一定的标准，经检测、计算得出。由此可见，标注的工信部油耗是否与实际油耗相吻合，与汽车行驶工况曲线有密切关系。",
    "problem_requirement": "在上述背景下，请根据附件（3个数据文件，每个数据文件为同一辆车在不同时间段内所采集的数据）所提供的某城市轻型汽车实际道路行驶采集的数据（采样频率1Hz），构建一条能体现参与数据采集汽车行驶特征的汽车行驶工况曲线（1200-1300秒），该曲线所体现的汽车运动特征（如平均速度、平均加速度等）能代表所采集数据源的相应特征，两者间的误差越小，说明所构建的汽车行驶工况的代表性越好。\n\n三、解决的问题\n\n1.数据预处理\n\n由汽车行驶数据的采集设备直接记录的原始采集数据往往会包含一些不良数据值，不良数据主要包括几个类型：\n\n由于高层建筑覆盖或过隧道等，GPS信号丢失，造成所提供数据中的时间不连续；\n\n汽车加、减速度异常的数据（普通轿车一般情况下：0至100km/h的加速时间大于7秒，紧急刹车最大减速度在7.5~8 $m/s^2$）；\n\n长期停车（如停车不熄火等候人、停车熄火了但采集设备仍在运行等）所采集的异常数据。\n\n长时间堵车、断断续续低速行驶情况（最高车速小于10km/h）,通常可按怠速情况处理。\n\n一般认为怠速时间超过180秒为异常情况，怠速最长时间可按180秒处理。\n\n请设计合理的方法将上述不良数据进行预处理，并给出各文件数据经处理后的记录数。\n\n2.运动学片段的提取\n\n运动学片段是指汽车从怠速状态开始至下一个怠速状态开始之间的车速区间，如图3所示（基于运动学片段构建汽车行驶工况曲线是日前最常用的方法之一，但并不是必须的步骤，有些构建汽车行驶工况曲线的方法并不需要进行运动学片段划分和提取）。请设计合理的方法，将上述经处理后的数据划分为多个运动学片段，并给出各数据文件最终得到的运动学片段数量。\n\n3. 汽车行驶工况的构建\n\n请根据上述经处理后的数据，构建一条能体现参与数据采集汽车行驶特征的汽车行驶工况曲线（1200-1300秒），该曲线的汽车运动特征能代表所采集数据源（经处理后的数据）的相应特征，两者间的误差越小，说明所构建的汽车行驶工况的代表性越好。要求：\n\n（1）科学、有效的构建方法（数学模型或算法，特别鼓励创新方法，如果采用已有的方法，必须注明来源）；\n\n（2）合理的汽车运动特征评估体系（至少包含但不限于以下指标：平均速度（km/h）、平均行驶速度（km/h）、平均加速度（m/）、平均减速度（m/）、怠速时间比（%）、加速时间比（%）、减速时间比（%）、速度标准差（km/h）、加速度标准差（m/）等）；\n\n（3）按照你们所构建的汽车行驶工况及汽车运动特征评估体系，分别计算出汽车行驶工况与该城市所采集数据源（经处理后的数据）的各指标（运动特征）值，并说明你们所构建的汽车行驶工况的合理性。部分名词解释\n\n\\textbf{怠速}：汽车停止运动，但发动机保持最低转速运转的连续过程。 \n\n\\textbf{加速}：汽车加速度大于 $0.1 m/s^2$ 的连续过程。 \n\n\\textbf{减速}：汽车加速度小于 $-0.1 m/s^2$ 的连续过程。 \n\n\\textbf{巡航/匀速}：汽车加速度的绝对值小于 $0.1 m/s^2$ 非怠速的连续过程。 \n\n\\textbf{平均速度}：一段时间周期内，汽车速度的算术平均值。 \n\n\\textbf{平均行驶速度}：汽车在行驶状态下汽车速度的算术平均值，即不包含汽车怠速状态。 \n\n\\textbf{怠速时间比}：一段时间周期内，怠速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{平均加速度}：汽车在加速状态下各单位时间（秒）加速度的算术平均值。 \n\n\\textbf{平均减速度}：汽车在减速状态下各单位时间（秒）减速度的算术平均值。 \n\n\\textbf{加速时间比}：一段时间周期内，处在加速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{减速时间比}：一段时间周期内，处在减速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{速度标准差}：一段时间周期内，汽车速度的标准差，即包括怠速状态。 \n\n\\textbf{加速度标准差}：一段时间周期内，处在加速状态的汽车加速度的标准差。",
    "dataset_path": [
      "文件1.xlsx",
      "文件2.xlsx",
      "文件3.xlsx"
    ],
    "dataset_description": {
      "文件1": "文件1包含了某城市轻型汽车在2017年12月18日13:42:13至13:44:36时间段内的实际道路行驶数据，采样频率为1Hz。数据包括时间、GPS车速、加速度、地理位置、发动机转速、扭矩百分比、瞬时油耗、油门踏板开度、空燃比、发动机负荷百分比和进气流量等。",
      "文件2": "文件2包含了某城市轻型汽车在2017年11月1日19:11:50至19:14:13时间段内的实际道路行驶数据。数据采样频率为1Hz，记录了车辆的GPS车速、加速度、发动机转速、扭矩百分比、瞬时油耗、油门踏板开度、空燃比、发动机负荷百分比和进气流量等信息。",
      "文件3": "文件3包含了某城市轻型汽车在2017年12月1日19:43:57至19:46:20时间段内的实际道路行驶数据，采样频率为1Hz。数据包括时间、GPS车速、加速度（X轴、Y轴、Z轴）、经纬度、发动机转速、扭矩百分比、瞬时油耗、油门踏板开度、空燃比、发动机负荷百分比和进气流量等。"
    },
    "variable_description": [
      {
        "时间": "记录数据的时间戳，格式为YYYY/MM/DD HH:MM:SS.SSS",
        "GPS车速": "车辆的实时速度，单位为km/h",
        "X轴加速度": "车辆沿X轴方向的加速度，单位为m/s^2",
        "Y轴加速度": "车辆沿Y轴方向的加速度，单位为m/s^2",
        "Z轴加速度": "车辆沿Z轴方向的加速度，单位为m/s^2",
        "经度": "车辆的经度坐标",
        "纬度": "车辆的纬度坐标",
        "发动机转速": "发动机的转速，单位为RPM",
        "扭矩百分比": "发动机输出扭矩占最大扭矩的百分比",
        "瞬时油耗": "车辆的瞬时油耗，单位为L/100km",
        "油门踏板开度": "油门踏板的开度百分比",
        "空燃比": "发动机的空燃比",
        "发动机负荷百分比": "发动机的负荷百分比",
        "进气流量": "发动机的进气流量，单位为g/s"
      },
      {
        "时间": "记录数据的时间戳，格式为YYYY/MM/DD HH:MM:SS.SSS",
        "GPS车速": "车辆的实时GPS车速，单位为km/h",
        "X轴加速度": "车辆沿X轴方向的加速度，单位为m/s^2",
        "Y轴加速度": "车辆沿Y轴方向的加速度，单位为m/s^2",
        "Z轴加速度": "车辆沿Z轴方向的加速度，单位为m/s^2",
        "经度": "车辆的经度坐标，单位为度",
        "纬度": "车辆的纬度坐标，单位为度",
        "发动机转速": "发动机的实时转速，单位为RPM",
        "扭矩百分比": "发动机输出扭矩占最大扭矩的百分比",
        "瞬时油耗": "车辆的瞬时油耗，单位为L/100km",
        "油门踏板开度": "油门踏板的开度百分比",
        "空燃比": "发动机的空燃比",
        "发动机负荷百分比": "发动机的负荷百分比",
        "进气流量": "发动机的进气流量，单位为g/s"
      },
      {
        "时间": "记录数据的时间戳，格式为YYYY/MM/DD HH:MM:SS.SSS",
        "GPS车速": "车辆的实时速度，单位为km/h",
        "X轴加速度": "车辆沿X轴方向的加速度，单位为m/s^2",
        "Y轴加速度": "车辆沿Y轴方向的加速度，单位为m/s^2",
        "Z轴加速度": "车辆沿Z轴方向的加速度，单位为m/s^2",
        "经度": "车辆所在位置的经度坐标",
        "纬度": "车辆所在位置的纬度坐标",
        "发动机转速": "发动机的实时转速，单位为rpm",
        "扭矩百分比": "发动机输出扭矩占最大扭矩的百分比",
        "瞬时油耗": "车辆的瞬时油耗，单位为L/100km",
        "油门踏板开度": "油门踏板的开度百分比",
        "空燃比": "发动机的空燃比",
        "发动机负荷百分比": "发动机的负荷百分比",
        "进气流量": "发动机的进气流量，单位为g/s"
      }
    ],
    "addendum": "参考文献：\nLin J, Niemeier D A. Exploratory analysis comparing a stochastic driving cycle to California's regulatory cycle[J]. Atmospheric Environment, 2002, 36(38):5759-5770.\n\nKarande, S., Olson, M., and Saha, B. Development of Representative Vehicle Drive Cycles for Hybrid Applications[J]. SAE Technical Paper 2014-01-1900, 2014, doi:10.4271/2014-01-1900.\n\n姜平，石琴，陈无畏，黄志鹏. 基于小波分析的城市道路行驶工况构建的研究[J]. 汽车工程, 2011(1):70-73.\n\nKnez M, Muneer T, Jereb B, et al. The estimation of a driving cycle for Celje and a comparison to other European cities[J]. Sustainable Cities and Society, 2014, 11:56-60.\n\nHo, Sze-Hwee, Wong, Yiik-Diew, Chang, Victor Wei-Chung. Developing Singapore Driving Cycle for passenger cars to estimate fuel consumption and vehicular emissions [J]. Atmospheric Environment,2014,97:353-362.",
    "data_summary": "Dataset Path:\n['文件1.xlsx', '文件2.xlsx', '文件3.xlsx']\n\nData Description:\n该数据集由三份短时段城市道路行驶记录组成（文件1：2017/12/18 13:42:13–13:44:36；文件2：2017/11/01 19:11:50–19:14:13；文件3：2017/12/01 19:43:57–19:46:20），均为1 Hz采样、时间戳格式为YYYY/MM/DD HH:MM:SS.SSS，单次行驶时长约2分23秒，单文件样本量约143条，总样本量约432条。每条记录为表格化车辆与动力系统传感器数据，主要变量包括GPS车速（km/h）、时间、经度/纬度（度）、加速度（以m/s^2计；文件3提供X/Y/Z三轴加速度，其他文件加速度维度描述可能更简略）、发动机转速（RPM）、扭矩百分比、瞬时油耗（L/100km）、油门踏板开度（%）、空燃比（AFR）、发动机负荷百分比以及进气流量（g/s）。数据适合用于城市驾驶工况分析、瞬时燃油经济性评估、驾驶行为与车辆动力学分析、轨迹/速度-加速事件检测及机理或数据驱动的能耗建模。使用时需注意短时序列长度、可能的传感器噪声与缺失值、时序对齐与采样一致性、经纬度到米制投影或速度-位移计算的转换，以及地理位置隐私保护；常见预处理包括时序同步、缺失值插补、滤波降噪、单位核对与坐标转换等。",
    "data_description": {
      "文件1": "文件1包含了某城市轻型汽车在2017年12月18日13:42:13至13:44:36时间段内的实际道路行驶数据，采样频率为1Hz。数据包括时间、GPS车速、加速度、地理位置、发动机转速、扭矩百分比、瞬时油耗、油门踏板开度、空燃比、发动机负荷百分比和进气流量等。",
      "文件2": "文件2包含了某城市轻型汽车在2017年11月1日19:11:50至19:14:13时间段内的实际道路行驶数据。数据采样频率为1Hz，记录了车辆的GPS车速、加速度、发动机转速、扭矩百分比、瞬时油耗、油门踏板开度、空燃比、发动机负荷百分比和进气流量等信息。",
      "文件3": "文件3包含了某城市轻型汽车在2017年12月1日19:43:57至19:46:20时间段内的实际道路行驶数据，采样频率为1Hz。数据包括时间、GPS车速、加速度（X轴、Y轴、Z轴）、经纬度、发动机转速、扭矩百分比、瞬时油耗、油门踏板开度、空燃比、发动机负荷百分比和进气流量等。"
    },
    "problem_str": "问题背景：\n汽车行驶工况（Driving Cycle）又称车辆测试循环，是描述汽车行驶的速度-时间曲线（如图1、2，一般总时间在1800秒以内，但没有限制标准，图1总时间为1180秒，图2总时间为1800秒），体现汽车道路行驶的运动学特征，是汽车行业的一项重要的、共性基础技术，是车辆能耗/排放测试方法和限值标准的基础，也是汽车各项性能指标标定优化时的主要基准。目前，欧、美、日等汽车发达国家，均采用适应于各自的汽车行驶工况标准进行车辆性能标定优化和能耗/排放认证。\n\n本世纪初，我国直接采用欧洲的NEDC行驶工况（如图1）对汽车产品能耗/排放的认证，有效促进了汽车节能减排和技术的发展。近年来，随着汽车保有量的快速增长，我国道路交通状况发生很大变化，政府、企业和民众日渐发现以NEDC工况为基准所优化标定的汽车，实际油耗与法规认证结果偏差越来越大，影响了政府的公信力（譬如对某型号汽车，该车标注的工信部油耗6.5升/100公里，用户体验实际油耗可能是8.5-10升/100公里）。另外，欧洲在多年的实践中也发现NEDC工况的诸多不足，转而采用世界轻型车测试循环（WLTC，如图2）。但该工况怠速时间比和平均速度这两个最主要的工况特征，与我国实际汽车行驶工况的差异更大。作为车辆开发、评价的最为基础的依据，开展深入研究，制定反映我国实际道路行驶状况的测试工况，显得越来越重要。\n\n另一方面，我国地域辽阔，各个城市的发展程度、气候条件及交通状况的不同，使得各个城市的汽车行驶工况特征存在明显的不同。因此，基于城市自身的汽车行驶数据进行城市汽车行驶工况的构建研究也越来越迫切，希望所构建的汽车行驶工况与该市汽车的行驶情况尽量吻合，理想情况下是完全代表该市汽车的行驶情况（也可以理解为对实际行驶情况的浓缩），目前北京、上海、合肥等都已经构建了各城市的汽车行驶工况。\n\n为了更好地理解构建汽车行驶工况曲线的重要性，以某型号汽车油耗为例，简单说明标注的工信部油耗是如何测试出来？标注的工信部油耗并不是该型号汽车在实际道路上的实测油耗，而是基于国家标准（如《GB27840-2011重型商用车辆燃料消耗量测量方法》），在实验室里根据汽车行驶工况曲线，按照一定的标准，经检测、计算得出。由此可见，标注的工信部油耗是否与实际油耗相吻合，与汽车行驶工况曲线有密切关系。\n\n问题要求：\n在上述背景下，请根据附件（3个数据文件，每个数据文件为同一辆车在不同时间段内所采集的数据）所提供的某城市轻型汽车实际道路行驶采集的数据（采样频率1Hz），构建一条能体现参与数据采集汽车行驶特征的汽车行驶工况曲线（1200-1300秒），该曲线所体现的汽车运动特征（如平均速度、平均加速度等）能代表所采集数据源的相应特征，两者间的误差越小，说明所构建的汽车行驶工况的代表性越好。\n\n三、解决的问题\n\n1.数据预处理\n\n由汽车行驶数据的采集设备直接记录的原始采集数据往往会包含一些不良数据值，不良数据主要包括几个类型：\n\n由于高层建筑覆盖或过隧道等，GPS信号丢失，造成所提供数据中的时间不连续；\n\n汽车加、减速度异常的数据（普通轿车一般情况下：0至100km/h的加速时间大于7秒，紧急刹车最大减速度在7.5~8 $m/s^2$）；\n\n长期停车（如停车不熄火等候人、停车熄火了但采集设备仍在运行等）所采集的异常数据。\n\n长时间堵车、断断续续低速行驶情况（最高车速小于10km/h）,通常可按怠速情况处理。\n\n一般认为怠速时间超过180秒为异常情况，怠速最长时间可按180秒处理。\n\n请设计合理的方法将上述不良数据进行预处理，并给出各文件数据经处理后的记录数。\n\n2.运动学片段的提取\n\n运动学片段是指汽车从怠速状态开始至下一个怠速状态开始之间的车速区间，如图3所示（基于运动学片段构建汽车行驶工况曲线是日前最常用的方法之一，但并不是必须的步骤，有些构建汽车行驶工况曲线的方法并不需要进行运动学片段划分和提取）。请设计合理的方法，将上述经处理后的数据划分为多个运动学片段，并给出各数据文件最终得到的运动学片段数量。\n\n3. 汽车行驶工况的构建\n\n请根据上述经处理后的数据，构建一条能体现参与数据采集汽车行驶特征的汽车行驶工况曲线（1200-1300秒），该曲线的汽车运动特征能代表所采集数据源（经处理后的数据）的相应特征，两者间的误差越小，说明所构建的汽车行驶工况的代表性越好。要求：\n\n（1）科学、有效的构建方法（数学模型或算法，特别鼓励创新方法，如果采用已有的方法，必须注明来源）；\n\n（2）合理的汽车运动特征评估体系（至少包含但不限于以下指标：平均速度（km/h）、平均行驶速度（km/h）、平均加速度（m/）、平均减速度（m/）、怠速时间比（%）、加速时间比（%）、减速时间比（%）、速度标准差（km/h）、加速度标准差（m/）等）；\n\n（3）按照你们所构建的汽车行驶工况及汽车运动特征评估体系，分别计算出汽车行驶工况与该城市所采集数据源（经处理后的数据）的各指标（运动特征）值，并说明你们所构建的汽车行驶工况的合理性。部分名词解释\n\n\\textbf{怠速}：汽车停止运动，但发动机保持最低转速运转的连续过程。 \n\n\\textbf{加速}：汽车加速度大于 $0.1 m/s^2$ 的连续过程。 \n\n\\textbf{减速}：汽车加速度小于 $-0.1 m/s^2$ 的连续过程。 \n\n\\textbf{巡航/匀速}：汽车加速度的绝对值小于 $0.1 m/s^2$ 非怠速的连续过程。 \n\n\\textbf{平均速度}：一段时间周期内，汽车速度的算术平均值。 \n\n\\textbf{平均行驶速度}：汽车在行驶状态下汽车速度的算术平均值，即不包含汽车怠速状态。 \n\n\\textbf{怠速时间比}：一段时间周期内，怠速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{平均加速度}：汽车在加速状态下各单位时间（秒）加速度的算术平均值。 \n\n\\textbf{平均减速度}：汽车在减速状态下各单位时间（秒）减速度的算术平均值。 \n\n\\textbf{加速时间比}：一段时间周期内，处在加速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{减速时间比}：一段时间周期内，处在减速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{速度标准差}：一段时间周期内，汽车速度的标准差，即包括怠速状态。 \n\n\\textbf{加速度标准差}：一段时间周期内，处在加速状态的汽车加速度的标准差。\nAddendum: \n参考文献：\nLin J, Niemeier D A. Exploratory analysis comparing a stochastic driving cycle to California's regulatory cycle[J]. Atmospheric Environment, 2002, 36(38):5759-5770.\n\nKarande, S., Olson, M., and Saha, B. Development of Representative Vehicle Drive Cycles for Hybrid Applications[J]. SAE Technical Paper 2014-01-1900, 2014, doi:10.4271/2014-01-1900.\n\n姜平，石琴，陈无畏，黄志鹏. 基于小波分析的城市道路行驶工况构建的研究[J]. 汽车工程, 2011(1):70-73.\n\nKnez M, Muneer T, Jereb B, et al. The estimation of a driving cycle for Celje and a comparison to other European cities[J]. Sustainable Cities and Society, 2014, 11:56-60.\n\nHo, Sze-Hwee, Wong, Yiik-Diew, Chang, Victor Wei-Chung. Developing Singapore Driving Cycle for passenger cars to estimate fuel consumption and vehicular emissions [J]. Atmospheric Environment,2014,97:353-362.\nDataset Path:\n['文件1.xlsx', '文件2.xlsx', '文件3.xlsx']\n\nData Description:\n该数据集由三份短时段城市道路行驶记录组成（文件1：2017/12/18 13:42:13–13:44:36；文件2：2017/11/01 19:11:50–19:14:13；文件3：2017/12/01 19:43:57–19:46:20），均为1 Hz采样、时间戳格式为YYYY/MM/DD HH:MM:SS.SSS，单次行驶时长约2分23秒，单文件样本量约143条，总样本量约432条。每条记录为表格化车辆与动力系统传感器数据，主要变量包括GPS车速（km/h）、时间、经度/纬度（度）、加速度（以m/s^2计；文件3提供X/Y/Z三轴加速度，其他文件加速度维度描述可能更简略）、发动机转速（RPM）、扭矩百分比、瞬时油耗（L/100km）、油门踏板开度（%）、空燃比（AFR）、发动机负荷百分比以及进气流量（g/s）。数据适合用于城市驾驶工况分析、瞬时燃油经济性评估、驾驶行为与车辆动力学分析、轨迹/速度-加速事件检测及机理或数据驱动的能耗建模。使用时需注意短时序列长度、可能的传感器噪声与缺失值、时序对齐与采样一致性、经纬度到米制投影或速度-位移计算的转换，以及地理位置隐私保护；常见预处理包括时序同步、缺失值插补、滤波降噪、单位核对与坐标转换等。"
  },
  "problem_background": "汽车行驶工况（Driving Cycle）又称车辆测试循环，是描述汽车行驶的速度-时间曲线（如图1、2，一般总时间在1800秒以内，但没有限制标准，图1总时间为1180秒，图2总时间为1800秒），体现汽车道路行驶的运动学特征，是汽车行业的一项重要的、共性基础技术，是车辆能耗/排放测试方法和限值标准的基础，也是汽车各项性能指标标定优化时的主要基准。目前，欧、美、日等汽车发达国家，均采用适应于各自的汽车行驶工况标准进行车辆性能标定优化和能耗/排放认证。\n\n本世纪初，我国直接采用欧洲的NEDC行驶工况（如图1）对汽车产品能耗/排放的认证，有效促进了汽车节能减排和技术的发展。近年来，随着汽车保有量的快速增长，我国道路交通状况发生很大变化，政府、企业和民众日渐发现以NEDC工况为基准所优化标定的汽车，实际油耗与法规认证结果偏差越来越大，影响了政府的公信力（譬如对某型号汽车，该车标注的工信部油耗6.5升/100公里，用户体验实际油耗可能是8.5-10升/100公里）。另外，欧洲在多年的实践中也发现NEDC工况的诸多不足，转而采用世界轻型车测试循环（WLTC，如图2）。但该工况怠速时间比和平均速度这两个最主要的工况特征，与我国实际汽车行驶工况的差异更大。作为车辆开发、评价的最为基础的依据，开展深入研究，制定反映我国实际道路行驶状况的测试工况，显得越来越重要。\n\n另一方面，我国地域辽阔，各个城市的发展程度、气候条件及交通状况的不同，使得各个城市的汽车行驶工况特征存在明显的不同。因此，基于城市自身的汽车行驶数据进行城市汽车行驶工况的构建研究也越来越迫切，希望所构建的汽车行驶工况与该市汽车的行驶情况尽量吻合，理想情况下是完全代表该市汽车的行驶情况（也可以理解为对实际行驶情况的浓缩），目前北京、上海、合肥等都已经构建了各城市的汽车行驶工况。\n\n为了更好地理解构建汽车行驶工况曲线的重要性，以某型号汽车油耗为例，简单说明标注的工信部油耗是如何测试出来？标注的工信部油耗并不是该型号汽车在实际道路上的实测油耗，而是基于国家标准（如《GB27840-2011重型商用车辆燃料消耗量测量方法》），在实验室里根据汽车行驶工况曲线，按照一定的标准，经检测、计算得出。由此可见，标注的工信部油耗是否与实际油耗相吻合，与汽车行驶工况曲线有密切关系。",
  "problem_requirement": "在上述背景下，请根据附件（3个数据文件，每个数据文件为同一辆车在不同时间段内所采集的数据）所提供的某城市轻型汽车实际道路行驶采集的数据（采样频率1Hz），构建一条能体现参与数据采集汽车行驶特征的汽车行驶工况曲线（1200-1300秒），该曲线所体现的汽车运动特征（如平均速度、平均加速度等）能代表所采集数据源的相应特征，两者间的误差越小，说明所构建的汽车行驶工况的代表性越好。\n\n三、解决的问题\n\n1.数据预处理\n\n由汽车行驶数据的采集设备直接记录的原始采集数据往往会包含一些不良数据值，不良数据主要包括几个类型：\n\n由于高层建筑覆盖或过隧道等，GPS信号丢失，造成所提供数据中的时间不连续；\n\n汽车加、减速度异常的数据（普通轿车一般情况下：0至100km/h的加速时间大于7秒，紧急刹车最大减速度在7.5~8 $m/s^2$）；\n\n长期停车（如停车不熄火等候人、停车熄火了但采集设备仍在运行等）所采集的异常数据。\n\n长时间堵车、断断续续低速行驶情况（最高车速小于10km/h）,通常可按怠速情况处理。\n\n一般认为怠速时间超过180秒为异常情况，怠速最长时间可按180秒处理。\n\n请设计合理的方法将上述不良数据进行预处理，并给出各文件数据经处理后的记录数。\n\n2.运动学片段的提取\n\n运动学片段是指汽车从怠速状态开始至下一个怠速状态开始之间的车速区间，如图3所示（基于运动学片段构建汽车行驶工况曲线是日前最常用的方法之一，但并不是必须的步骤，有些构建汽车行驶工况曲线的方法并不需要进行运动学片段划分和提取）。请设计合理的方法，将上述经处理后的数据划分为多个运动学片段，并给出各数据文件最终得到的运动学片段数量。\n\n3. 汽车行驶工况的构建\n\n请根据上述经处理后的数据，构建一条能体现参与数据采集汽车行驶特征的汽车行驶工况曲线（1200-1300秒），该曲线的汽车运动特征能代表所采集数据源（经处理后的数据）的相应特征，两者间的误差越小，说明所构建的汽车行驶工况的代表性越好。要求：\n\n（1）科学、有效的构建方法（数学模型或算法，特别鼓励创新方法，如果采用已有的方法，必须注明来源）；\n\n（2）合理的汽车运动特征评估体系（至少包含但不限于以下指标：平均速度（km/h）、平均行驶速度（km/h）、平均加速度（m/）、平均减速度（m/）、怠速时间比（%）、加速时间比（%）、减速时间比（%）、速度标准差（km/h）、加速度标准差（m/）等）；\n\n（3）按照你们所构建的汽车行驶工况及汽车运动特征评估体系，分别计算出汽车行驶工况与该城市所采集数据源（经处理后的数据）的各指标（运动特征）值，并说明你们所构建的汽车行驶工况的合理性。部分名词解释\n\n\\textbf{怠速}：汽车停止运动，但发动机保持最低转速运转的连续过程。 \n\n\\textbf{加速}：汽车加速度大于 $0.1 m/s^2$ 的连续过程。 \n\n\\textbf{减速}：汽车加速度小于 $-0.1 m/s^2$ 的连续过程。 \n\n\\textbf{巡航/匀速}：汽车加速度的绝对值小于 $0.1 m/s^2$ 非怠速的连续过程。 \n\n\\textbf{平均速度}：一段时间周期内，汽车速度的算术平均值。 \n\n\\textbf{平均行驶速度}：汽车在行驶状态下汽车速度的算术平均值，即不包含汽车怠速状态。 \n\n\\textbf{怠速时间比}：一段时间周期内，怠速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{平均加速度}：汽车在加速状态下各单位时间（秒）加速度的算术平均值。 \n\n\\textbf{平均减速度}：汽车在减速状态下各单位时间（秒）减速度的算术平均值。 \n\n\\textbf{加速时间比}：一段时间周期内，处在加速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{减速时间比}：一段时间周期内，处在减速状态的累计时间长度占该时间周期总时间长度的百分比。 \n\n\\textbf{速度标准差}：一段时间周期内，汽车速度的标准差，即包括怠速状态。 \n\n\\textbf{加速度标准差}：一段时间周期内，处在加速状态的汽车加速度的标准差。",
  "problem_analysis": "总体上，这个建模任务属于从有限、短时的车辆行驶观测序列中提取其运动学特征并合成一条长度为1200–1300秒的代表性行驶工况曲线的逆问题。模型的根本目标是将零散的实测时序数据“浓缩”成一条既能反映原始数据在统计层面（平均速度、怠速占比、加减速时长占比、加速度/速度的均值与方差等）又在动力学形态上保持合理连续性的标准化工况曲线。这个目标直接塑造了解题路径：首先必须把原始原始数据清洗和标准化以获得可靠的输入特征；其次需要把时序划分成若干运动学片段以便捕捉“起—行—停”等基本单元；再次要设计一种能把片段以合理顺序与权重拼接、伸缩或随机生成的合成方法，使合成曲线在统计指标上和动力学上都尽量接近原始数据；最后要设计评价体系与优化准则来衡量并逐步改进合成结果。这个流程中每一步的选择会对最终代表性产生明显影响，因此必须同时考虑物理合理性（例如加速度的物理极限）、数据完整性（例如GPS丢失导致的时间不连续）以及方法学上的偏差（例如过度拟合短时样本导致对整市代表性不足）。\n\n问题描述中含有若干显性或隐性假设与约束，这些假设会限制结果的解释空间。显性的包括采样率为1 Hz、定义的加速/减速阈值（|a|>0.1 m/s^2）、怠速定义与怠速最长按180秒处理等；隐性的包括假定所采集的三段短时记录的统计特征能代表该“城市”的某类行驶情形（尽管数据仅来自同一辆车、且总时长远小于目标工况长度）、以及假定速度传感器与加速度传感器数据的一致性（但实际中GPS速度与车载加速度可能存在偏差）。这些假设会带来若干后果：例如将怠速最长裁剪为180秒会人为降低极端堵车时段对工况的权重；以0.1 m/s^2作为加减速判别阈值会将低幅微调归入巡航，影响加速/减速时间比的统计；把短时样本扩展或重复以构造1200–1300秒的工况会导致合成工况对长期或罕见情形的再现力弱。必须在报告中明确这些假设并在解释结果时注明其外推范围与局限性。\n\n各要素间存在复杂的相互依赖。预处理（时间同步、缺失值插补、滤波）会直接改变派生的加速度（速度的一阶导数对噪声敏感），进而影响到加速/减速段的识别和各类时间比；片段划分策略（例如怠速定义的临界速度、最短段长度、是否合并过短片段）会改变可供合成的基本单元集合及其频率分布；合成策略（例如直接拼接真实片段、按簇取中位数片段、或用马尔可夫链/随机生成）会在时间相关性与统计相符性之间产生权衡。具体的张力包括保持时序连续且物理合理（避免速度跳变和突增加速度）与满足多指标匹配（平均速度、怠速占比、加速度分布等）之间的矛盾；另一层张力是样本量有限时希望保留原始多样性与避免过度重复单一典型片段的冲突。为调和这些矛盾，需要在方法中引入平滑/过渡处理、约束优化和不确定性度量（例如用多目标优化获取一组Pareto解），并在可行性与代表性之间作出透明的权衡说明。\n\n时间尺度与动态因素会显著影响模型稳定性与可解释性。原始数据是短时片段（每段约143 s，合计约432 s），而目标工况远长于此，因此合成过程中不可避免地要重复或时间伸缩已有片段。这样的操作会放大小样本偏差：如果三段数据集中包含某一驾驶风格或特定道路（例如红绿灯密集路段）的偏颇，那么合成工况会系统性地重复该偏差，影响长期能耗/排放推断的可信度。此外，驾驶行为具有日内和季节性变化（时段、天气、司机情绪与交通状况），短时样本难以涵盖这些变异，因此结果在不同情境下可能迅速失真。模型对输入扰动的鲁棒性也需评估：例如滤波截断频率、速度微分方法、怠速阈值等参数的微小调整，可能导致加速/减速时间比和加速度均值发生显著变化。对此应当做敏感性分析，通过参数扫描或自举（bootstrap）评估合成工况指标的不确定区间，而非仅给出点估计。\n\n在方法选择上存在多个可行路径，且不同路径带来不同优势与局限。较为直接且可解释的方法是先做严格预处理（时间戳校验、检测并分割时间不连续区段、对短缺失插值但对较大缺失分段保留原始切片）、对速度作低通滤波（比如Savitzky–Golay或低阶Butterworth）再通过差分计算加速度并二次滤波，以避免噪声放大。基于怠速的分段可用“速度低于某阈且持续若干秒”来界定怠速起点/终点，按怠速到下一怠速划分运动学片段；对极短片段可以合并或丢弃以去除测量抖动。提取后的片段可以基于时间序列相似度（如动态时间规整 DTW）或基于统计特征（片段长度、平均速度、最大加速度等）进行聚类；每一类选择中位（medoid）片段作为代表单元。合成工况可通过按聚类出现频率重新排列代表片段并在拼接时加入过渡窗平滑，若要严格匹配多个统计指标，则可把片段选择与顺序问题形式化为一个组合优化问题，通过遗传算法或模拟退火在满足拼接连续性（末速度≈下一片段首速度）与最小化目标指标误差（加权平方误差或多目标Pareto）之间搜索解。替代方法包括建立速度状态的马尔可夫模型（速度分箱后估计转移矩阵并随机游走生成长序列）、用谱/小波方法保留多尺度能量结构、或用PCA/非负矩阵分解提取典型模式并线性组合生成工况。每种方法的取舍在于：若优先保留真实片段的形态与驾驶事件，拼接聚类代表单元更合适；若优先保证统计量匹配与随机性，马尔可夫或优化生成更灵活；若优先保留多尺度动力学特征，小波或频域方法更稳健。\n\n不确定性管理与模型验证是关键且常被忽视。鉴于数据量小、时段有限，应通过多途径评估合成工况的可靠性：一是对关键评价指标（平均速度、平均行驶速度、怠速时间比、加速/减速时间比、速度/加速度标准差等）计算置信区间，方法可用自举重采样片段或参数扰动；二是计算时间序列层面的误差度量（如速度RMSE、加速度RMSE）并分段报告（怠速段与行驶段分开），以便了解误差来源是怠速比例差异还是瞬态加速/减速行为缺失；三是做敏感性分析，展示若干关键参数（怠速阈值、滤波窗长、是否截断怠速180s）的变动如何影响最终指标；四是若可能用某一文件留作验证集（不用于合成过程）来检验合成工况对未见片段的泛化能力。在结果解读上须明确：合成工况是一种“浓缩”与“近似”产物，适合用于比较性实验或工况试验时作为一个代表场景，但不能替代广泛、长期、多车种的数据来制定城市级法规或政策决策。\n\n从多元视角重新表述问题可以带来不同的建模策略。例如若目标是用于实验室油耗测量以比对原厂标注值，则需要更强调“带入功率负荷与发动机工况”的精确瞬时速度—加速度曲线，此时建议保留原始时序的细节并采用片段拼接加时间伸缩以精确匹配速度波动；若目标是作为统计意义上的城市代表性周期用于城市级尾气排放估算，则更应关注长期统计特征（速度分布、加减速分布、怠速比例）而可接受放弃部分瞬态细节，此时马尔可夫或混合概率模型能更好地生成与统计特征一致的长序列。不同目标会影响方法选择和评估权重，因此在建模前必须明确下游用途并相应设置优化目标与约束。\n\n在方法实现与交付上建议采取迭代式流程：初期采用稳健、可解释的方案（例如：时间校验→滤波→差分→片段划分→聚类→按频率拼接并平滑），生成一版基准工况并计算全部评估指标及其不确定区间；接着根据指标差异有针对性地引入更复杂的方法（例如组合优化或马尔可夫生成）以缩小多目标误差，且在每次迭代中记录方法改动对单项指标的贡献。最后应把方法学、参数选择与不确定性结果一并报告，并对外推性做出明确警示：以单车短时数据构建的工况对城市整体代表性受限，建议扩展样本（多车、多时段、多路线）以获得更稳健的工况或同时生成一组代表性工况（高拥堵/中等/顺畅）而非单一曲线。\n\n总之，这个问题既包含具体的信号处理和时序分段等技术细节，也涉及建模目标选择、方法学权衡与不确定性管理等更高层面的决策。务必在预处理阶段优先保证物理合理性与噪声控制，在片段提取阶段注重语义一致性（怠速/加速/减速/巡航的定义与最小段长度），在合成阶段采用可控的生成方式并通过多目标优化或概率方法平衡统计指标与时序连贯性，同时用自举、敏感性分析和验证集来量化不确定性并明确结论的适用范围。这样的迭代化、透明化建模流程既能提高合成工况的代表性，也能使最终结果在工程应用与政策讨论中更具说服力。",
  "modeling_solution": "总体思路与模型目标说明：本模型面向将三段短时（每段约143 s，总计约432 s）、1 Hz采样的同车实测城市行驶数据“浓缩”为一条长度为1200–1300 s 的代表性驾驶工况曲线。目标是使合成曲线在重要运动学统计量（平均速度、平均行驶速度、怠速时间比、加速/减速时间比、速度与加速度均值/方差等）上尽量接近原始经处理数据的对应量，同时保证速度/加速度时间序列的物理连续性与可执行性（无速度突跳、加速度超限或不合实际的瞬变）。为实现这一目标，采用“预处理→运动学片段提取→片段表征与聚类→代表片段生成→序列生成与时长/统计量校正→拼接与平滑→评价与迭代优化”的流程，并以多目标优化（或启发式搜索）为核心选择与时间伸缩策略，使合成曲线在给定长度约束下最小化统计指标误差与拼接不连续性。\n\n主要假设（为建模与可解性所作的合理简化）\n1）原始数据采样稳定为1 Hz；时间戳若存在不连续或缺失，短缺失（≤5 s）可插值，长缺失则分段处理，不跨段补齐。  \n2）怠速定义：瞬时速度 v(t) ≤ v_idle 且持续至少 t_idle_min，为简化取 v_idle = 1 km/h（≈0.2778 m/s），t_idle_min = 2 s；若采集到的怠速连续时间超过 180 s，则按 180 s 裁剪处理（或当作多段怠速合并但累计计入上限）。  \n3）加速/减速与巡航的阈值采用题目给定值：加速为 a(t) > 0.1 m/s^2，减速为 a(t) < −0.1 m/s^2，巡航为 |a(t)| ≤ 0.1 m/s^2（且非怠速）。  \n4）传感器噪声可用低通滤波与 Savitzky–Golay 拟合平滑，极端异常值（如 |a| > a_clip，取 a_clip = 12 m/s^2）视为测量异常并剔除或替换。  \n5）在合成本模型时允许对代表片段在时间轴上做有限伸缩（time-scaling，因合成长远大于单片段长度必须重复或伸缩），伸缩因子 s_i 受物理限制 s_min ≤ s_i ≤ s_max（建议 0.5 ≤ s_i ≤ 2.0，以避免产生不合理的瞬态），伸缩仅作时间伸缩（保持速度形状比例但改变时长，相应加速度按时间伸缩规则变更）。  \n6）拼接处允许局部平滑（窗口内用分段三次Hermite或B-spline混合），以保证速度及一阶导数（加速度）连续。\n\n符号与变量（已标量化与单位）\nt 为时间（s），T_target 为目标工况总时长（1200–1300 s），v(t) 为瞬时速度（m/s），v_km(t) 为 km/h 形式；a(t) = dv/dt 为瞬时加速度（m/s^2）。每个原始文件 i 含时间序列 {v_i(t_j), lat_i(t_j), lon_i(t_j), rpm_i(t_j), ...}，经预处理后得到 M 个运动学片段 S_m (m=1..M)，每一片段 S_m 为一段速度时间序列长度 L_m 秒。对于片段 S_m 的特征向量用 F_m 表示（见下文定义）。聚类后得 C 类，每类的代表片段 R_c（可以是 medoid 或 DBA 得到的时序平均）。构建变量 x_{c,k} 表示在合成序列中选取第 k 次出现的类别 c（序列式决策），或在整数规划形式下 n_c 表示类别 c 被选取的次数；s_{c,k} 为该次选取的时间伸缩因子。目标函数以原始数据在若干运动学指标上的向量 M_target 与合成曲线对应的 M_construct 为基准，目标为最小化加权平方差 Σ_{q} w_q (M_construct,q − M_target,q)^2 加上拼接不连续性惩罚与物理不合理惩罚（如速度负值、加速度超限等）。\n\n数据预处理与异常检测（数学细则）\n首先对时间戳做一致性检测：若相邻记录时间差 Δt_j ≠ 1 s（允许微小时钟偏移 <0.2 s），标记为时间间隙。对 Δt_j ≤ Δt_interp_max（取 5 s）用线性插值补速度与其他传感量；若 Δt_j > Δt_interp_max，将序列在此处断开，分别作为不同采集段处理。对速度 v（以 m/s 计）先应用低通滤波避免差分时放大噪声。推荐使用 Savitzky–Golay 滤波器（窗口 7–11 点，二阶多项式）或 4 阶带通/低通 Butterworth（截止频率依据目标保留 0–0.5 Hz 的低频分量）得到滤后速度 v_f(t)。由 v_f 用中心差分算加速度： a_est(t) = (v_f(t+1) − v_f(t−1)) / 2 。对 a_est 做二次低通滤波或阈值剪切，若 |a_est| > a_clip（取 12 m/s^2）视为异常并以邻域中位数替代或去除该点并重插值。若长期静止（速度几乎恒为 0 且发动机仍运转的判据可用 rpm>0），将连续怠速时间段标记，若超过 180 s，则将其长度裁剪为 180 s 或把该段分割成若干段使每段 ≤ 180 s（目的是不让单一长怠速占主导权重）。处理完成后得到干净的一组时间序列与断点分段。\n\n运动学片段的提取（精确定义）\n令每一次从“怠速开始”到“下一次怠速开始”之间的连续速度时间序列为一个运动学片段（与问题陈述一致）。具体实现中：在预处理序列上标记所有怠速段起始时间 {t_i^idle,start}（满足 v_f ≤ v_idle 且持续 ≥ t_idle_min）。定义片段 S_m 为从某一怠速结束点（或起始段）到下一个怠速起始点之间的时间区间（两端含或不含怠速段端点可按实验设定，但建议片段不包含怠速段内部）。为避免噪声引起大量极短片段，设最小片段长度 L_min（建议 5 s），若某片段长度 < L_min 可与前后片段按邻接性合并或舍弃（依据合并后是否破坏“怠速到怠速”的语义）。这样可得到 M 个片段并记录每片段的长度 L_m 及速度序列。\n\n片段表征、相似度与聚类（生成代表单元）\n为便于后续组合建模，需要把每个片段 S_m 映射到一个低维特征向量 F_m，其组成建议包含：持续时间 L_m，平均速度 μ_v,m = (1/L_m) Σ_t v_f(t)，最大速度 v_max,m，平均行驶速度（去除片段内部低速怠速子段）μ_vd,m，平均加速度（仅加速期）μ_a_plus,m，平均减速度（仅减速期，绝对值）μ_a_minus,m，加速时间比 p_acc,m（占片段时间的比例），减速时间比 p_dec,m，速度标准差 σ_v,m，能量谱比（低频能量占比）E_low/m 等。也可以直接将原始速度序列按长度归一化（以时间插值到固定长度 L_ref，例如 60 s）并用动态时间规整（DTW）距离或 DBA（DTW barycenter averaging）进行时序聚类。聚类方法可选 K-medoids（对原始片段保留真实片段作为代表）或层次聚类，簇数 C 可用轮廓系数或 Calinski–Harabasz 指标选取。聚类目标是把片段按“运动学模式”分群（例如短促起停型、长匀速型、高加速型等），为合成时提供有限的代表单元集合 {R_c}（每类选 medoid 作为代表原型或用 DBA 得到时序平均原型）。\n\n代表段生成与可变化（时间伸缩）规则\n对每类 c 得到的代表时序 R_c(t)（长度 L_c），允许在合成过程中使用时间伸缩 s ∈ [s_min, s_max] 生成 R_c^s(t) = R_c(t / s) 的伸缩版本（插值后取整秒）。时间伸缩对速度 v(t) 保持形状但在时间轴上压缩/拉长，且加速度按 a_s(t) = (1/s) a_original(t/s) 发生相应缩放，因此伸缩会影响加速度统计量，需在优化目标中显式计入该影响。为防止由于伸缩而产生不现实的峰值加速度，应限制 s 使得 max(|a_s|) ≤ a_phys_max（例如 a_phys_max = 8–10 m/s^2），或者在伸缩后对加速度过大部分进行局部时域平滑以降低尖峰。\n\n序列生成策略（保持统计特征与时间依赖性两种并行方案）\n有两类互补的生成策略：概率模拟（马尔可夫链）和确定性/优化拼接。\n\n概率模拟：用原始片段序列估计类别间的转移概率矩阵 P where P_{ij} = Prob(next cluster = j | current cluster = i)。保持序列依赖可通过按 P 随机构造一条长度接近 T_target 的类别序列 {c_k}，然后依次抽取对应代表段（或对应簇内随机真实片段/伸缩版本），当累计时长接近 T_target 时终止。为更好匹配原始簇的相对时间占有率，可以在采样时对簇的抽样频率施加权重，使得合成总时长上每簇的占比趋近于原始占比。优点：保留原始段间的转移统计；缺点：在样本极少时转移矩阵估计不稳定。\n\n优化拼接（推荐做法）：把合成问题形式化为以下混合整数非线性优化（MINLP）或近似的启发式搜索问题。决策变量为序列长度 K（未知但由约束限定），以及对每个位置 k 的类别 c_k ∈ {1..C}、伸缩因子 s_{k} ∈ [s_min,s_max]。目标函数：\nmin_{K,{c_k},{s_k}} J = Σ_{q} w_q (M_construct,q({c_k,s_k}) − M_target,q)^2 + α Σ_{k=1}^{K−1} D_cont(c_k,s_k,c_{k+1},s_{k+1}) + β Σ_{k} P_phys(c_k,s_k)。\n这里 M_construct,q 为合成曲线按当前序列产生的第 q 项指标（见下文指标集合），w_q 为指标权重；D_cont 为相邻片段拼接不连续性惩罚，定义为 D_cont = (v_end(c_k,s_k) − v_start(c_{k+1},s_{k+1}))^2 + γ (a_end − a_start)^2，其中 v_end 表示片段末速度，v_start 开头速度。P_phys 为物理惩罚，对违背加速度上限或产生不合理发动机状态的伸缩器给予高罚值。约束为 Σ_k s_k L_{c_k} ∈ [T_target_min, T_target_max]（即总时长在 1200–1300 s 之间），且 K 整数、c_k 离散。该问题为组合复杂度很高，推荐使用元启发式算法求解，如遗传算法（GA）或模拟退火（SA），结合局部搜索（比如针对某次拼接做局部的伸缩微调），或在初始解上用贪婪法（按簇时间占比先分配次数 n_c = round(T_target * p_c / L_c)）生成候选解并从中优化。\n\n拼接与平滑实现（确保物理连续性）\n在拼接位置采用短时窗交叉淡入淡出（cross-fade）或用带约束的三次Hermite插值（保证速度与一阶导数连续）来融合末段与下段的速度曲线：设交叉窗口长 w_c（建议 3–8 s），在该窗口内速度按权重 w(t) 平滑过渡： v_out(t) = (1−φ(t)) v_prev(t) + φ(t) v_next_shifted(t) ，其中 φ(t) 为平滑权函数（如三次平滑阶跃），且 v_next_shifted 时序已按结束速度与起始速度对齐（可做线性垫高/低以避免立即速度差）。交叉处理亦应同步调整加速度时间序列，或在交叉窗口内直接用样条使一阶导数连续。若有动力系统变量（发动机转速、扭矩）也应按车速变化做一致的映射与平滑以供能耗估计。\n\n运动学指标定义与评价函数（数学表达）\n总体时间 T = Σ_{t=1}^T_target 1 s。平均速度（km/h）为 V_bar = (1/T) Σ_t v_km(t). 平均行驶速度 V_drive_bar = (1/T_drive) Σ_{t: v>v_idle} v_km(t), 其中 T_drive 是 v>v_idle 的累计秒数。怠速时间比 R_idle = (T_idle / T) × 100%。平均加速度（仅加速段） A_plus = (1/T_acc) Σ_{t: a>0.1} a(t) (m/s^2)，平均减速度（仅减速段） A_minus = (1/T_dec) Σ_{t: a<−0.1} |a(t)|。加速时间比 R_acc = T_acc / T，减速时间比 R_dec = T_dec / T。速度标准差 σ_v = sqrt((1/T) Σ_t (v_km(t) − V_bar)^2). 加速度标准差（仅加速段） σ_a_plus = sqrt((1/T_acc) Σ_{t: a>0.1} (a(t) − A_plus)^2). 这些量直接作为 M_target 与 M_construct 的分量进入优化目标。另可加入速度分布距离（如两者速度直方图的Earth Mover's Distance）与瞬态RMSE（v_series）作为补充指标。可以选择指标权重 w_q 使得重要指标（例如平均行驶速度、怠速时间比）权重较高。\n\n时间伸缩对统计量的影响（解析关系）\n若代表段 R_c(t) 被时间拉伸 s>1，则新段的加速度按 a_s(t) = (1/s) a_orig(t/s)，因此加速均值与标准差会按 1/s 缩放（近似），而速度瞬态能量谱向低频移动。对于优化问题，需用这一解析关系在计算 M_construct 时快速估算伸缩对统计量的影响以避免每次代价过高的插值计算，从而提高优化效率。若较准确需求，可在候选伸缩值上直接计算插值后的时间序列并累积指标。\n\n求解策略、算法实现与计算成本\n实现建议用 Python 与常用数值/优化库：NumPy/Pandas 做预处理，SciPy.signal 实现滤波与 Savitzky–Golay，tslearn 或 fastdtw 提供 DTW 与 DBA，scikit-learn 用于聚类（K-medoids 可用 pyclustering 或自行实现），DEAP 或 pygad 用于遗传算法，cvxpy 在近似连续情形可用于凸部分求解。推荐两阶段求解：先用马尔可夫/概率模拟或贪婪法快速生成若干候选序列（保证统计量粗匹配），再用遗传算法对序列、伸缩因子与拼接顺序做全局优化细调。单次遗传算法在典型问题规模（C≤10，目标长度 1200 s）下在普通笔记本上运行数分钟到几十分钟即可得到满意解；若采用更精确的混合整数规划则计算量大幅增加。\n\n不确定性定量与敏感性分析\n由于样本数据量较小，必须给出合成结果的不确定性。采用自助法（bootstrap）对原片段集合做重采样若干次（例如 B=200），对每次重采样重复聚类（或直接从簇内随机选段）与合成过程，得到一组合成曲线及对应指标分布，从中计算每个指标的置信区间（例如 95%）。进行敏感性分析时对关键参数（v_idle、a_threshold、滤波窗口、s_min/s_max、最小片段长度 L_min、交叉窗口 w_c）做±10–20% 变动并评估结果指标的变异，若某参数导致指标高度敏感，应在方案中给出保守默认值并建议在更大样本下复核。\n\n验证指标与验收准则\n合成曲线应满足时长落在 [1200,1300] s，并在下列量上与原始经处理数据接近：平均速度与平均行驶速度相对误差 ≤ 5–10%（可根据需求设定阈值）；怠速时间比绝对差 ≤ 2–5 百分点；加速/减速时间比相对误差 ≤ 10–15%；速度与加速度标准差相对误差 ≤ 10–20%。此外，建议计算速度时间序列 RMSE 与归一化 RMSE（NRMSE）作为序列相似度指标，并同时报告若干瞬态事件（例如最大加速/最大减速、最大速度）的一致性。若某些指标无法在阈值内被满足，可通过调整指标权重 w_q 在实际工程应用中优先匹配某些关键指标（例如平均行驶速度与怠速比对能耗估算更敏感，应优先匹配）。\n\n验算与调参流程（迭代）\n第一次迭代按默认参数（v_idle=1 km/h、s_min=0.7、s_max=1.7、L_min=5 s、聚类 C 取 4–6）生成候选合成体并评价指标。若某指标偏差较大，优先调整：若平均速度偏低，则增加高速度簇的采样比例或对若干代表段作压缩（s<1）提高瞬时速度；若怠速比偏高，则减少怠速段出现频率或缩短其时长（但不得违反 180 s 裁剪规则）；若加速度统计量偏差大，则调整伸缩因子范围或在拼接时选取形态更接近原始的段。每次调整后再次运行优化并记录指标收敛。最终给出一组权衡最优解，并用 bootstrap 计算其不确定区间。\n\n扩展与未来改进方向\n1）若能获得更多车辆/时段样本，可把模型扩展为分层模型：先按道路类型/时段建簇，再按城市全域权重组合以得到更具代表性的城市级工况。2）将动力系统变量（发动机转速、扭矩百分比、瞬时油耗等）纳入片段特征与代价函数，使合成曲线不仅在运动学上相似，也在动力学（发动机负载）上逼近原始观测，从而用于更准确的能耗/排放评估。3）可尝试基于深度生成模型（如序列到序列的 VAE 或 RNN-GAN）直接学习速度时间序列的分布并采样生成长工况，深度方法在样本充足时能更好地保留复杂时序结构。4）在优化层面，可采用多目标优化（例如 NSGA-II）同时优化多项指标，得到一组 Pareto 最优工况供不同下游需求（节能优先、瞬态保真优先等）选择。5）加入不确定性量化模块（如贝叶斯优化/概率编程）以更系统地把测量噪声与模型不确定性纳入决策。\n\n实现注意事项与可复现性\n实现时务必保存每个阶段的中间产物（预处理后的时间序列、提取的片段及其特征、聚类标签及代表段、候选合成序列与最终权重），以便复现与调优。建议用配置文件记录关键参数（v_idle、阈值、滤波窗、聚类数 C、伸缩界限等）。计算资源需求不高：一个普通笔记本（4–8 核 CPU、8–16 GB 内存）足以完成全部步骤；若使用深度生成模型或大规模 bootstrap，可考虑 GPU/并行化加速。\n\n无法直接给出具体数值（记录数、片段数与最终构建的单一工况指标）：由于当前我无法访问您附件中的三个 Excel 文件，故无法在此直接计算每个文件在预处理后的记录数与所得到的运动学片段数量，也无法输出最终 1200–1300 s 工况的具体数值指标。上述模型与流程为一套完整、可执行且可调的工作流，您可在本地按此步骤实现：读取三文件→时间一致性与缺失处理→滤波并计算加速度→检测并裁剪怠速→提取怠速到怠速的运动学片段并统计 M（记录数与片段数将由处理结果直接给出）→聚类并生成代表段→基于马尔可夫或启发式优化生成 1200–1300 s 合成序列→拼接平滑→计算并报告所有评估指标与不确定性。此外，建议把最终合成曲线保存为 CSV（时间戳、速度、加速度、发动机工况等列），并把优化日志与参数一并归档以便后续审查与改进。\n\n结论性摘要：本方案以运动学片段为基本单元，通过特征化与聚类得到有限的代表模块，结合时间伸缩与基于转移概率或全局启发式优化的序列选择方法，在满足总时长约束下最小化关键运动学统计量误差并保证拼接处物理连续性。该方法兼顾保留原始观测事件真实形态（通过 medoid/DBA 代表段与有限伸缩）与全局统计匹配（通过多目标优化或概率采样），并通过 bootstrap 不确定性评估与敏感性分析保障结果的鲁棒性与可解释性。随着更多样本或动力学变量的加入，可扩展为更精细的城市级代表工况构建器，满足能耗/排放试验与车辆标定的需求。",
  "task_descriptions": [
    "子任务1（数据预处理与异常检测）应明确定义其范围、目标与可复现的步骤：输入为三份原始 1 Hz Excel 表（每条记录至少含时间戳、GPS 速度（km/h）、经纬度及若干车载传感量如加速度/RPM/扭矩/瞬时油耗等），输出为每个文件若干“清洗后连续时序块”（CSV），每块包含时间序列（统一为 UTC 时间戳）、经时间对齐与插值后的速度（m/s）、基于滤波后的加速度（m/s^2）、以及每条记录的异常/怠速标识与断点日志；同时产出清洗统计（原始记录数、删除/插值/裁剪记录数、断点位置）。处理步骤与规则（可直接编码执行，推荐使用 Python + pandas/numpy + scipy.signal）：1）时间一致性检查：把时间戳解析为标准时间类型，若相邻记录时间差 Δt 与采样期 1 s 误差小于允许抖动阈值 τ_clock = 0.2 s，则按最近整秒对齐并保留；若 Δt ≤ Δt_interp_max = 5 s，标记为可线性插值缺失并在随后对所有变量（速度、经纬度、RPM 等）进行线性插值；若 Δt > 5 s 则在该处断开序列，作为不同连续块单独处理并记录断点。2）单位与基本校验：将 GPS 速度从 km/h 转为 m/s（v_m/s = v_km/h / 3.6）；剔除或修正显然不合理值：负速度设为 0（并记录），速度超过上限 v_max_phys = 120 m/s（≈432 km/h）或突变 Δv/Δt > 30 m/s^2 的样本视为传感器错误并标记为异常待修正。3）滤波降噪：对速度序列先使用 Savitzky–Golay 滤波器（窗口长度建议 7 或 9 点，二阶多项式）或可选的 4 阶 Butterworth 低通（截止频率约 0.3–0.5 Hz）以去除高频噪声，保存原始与滤波后版本以便审计。4）加速度估算与平滑：用中心差分 a(t) ≈ (v_f(t+1) − v_f(t−1)) / 2（m/s^2）计算瞬时加速度，随后用短窗中位数滤波（窗口 3–5 s）或再用 Savitzky–Golay（窗口 7、二阶）平滑以抑制差分噪声；任何 |a| > a_clip = 12 m/s^2（可配置）视为异常并以邻域中位数替代或插值修正，同时记录替换次数。5）怠速与长时低速处理：定义怠速阈值 v_idle = 1 km/h（≈0.2778 m/s）并要求连续持续至少 t_idle_min = 2 s 才认定为怠速；对于被认定的怠速区段如果持续时间 > 180 s，则在该区段内部按最长 180 s 裁剪或将其分割为多个不超过 180 s 的怠速段（并在统计输出中说明裁剪规则）；对持续的低速拥堵段（例如整段最大速度 vmax < 10 km/h）也应标记为“怠速/低速等效”并按相同裁剪/记录策略处理（可作为可选参数开启）。6）短段与碎片处理：为避免噪声导致的大量极短片段，设最小有效段长 L_min = 5 s；任何长度 < L_min 的连续块按邻接性优先与前/后块合并（若合并后仍 < L_min 则与最近邻合并），如合并不可行则标记并在输出中剔除。7）多变量对齐与异常检测：其它传感器通道（经纬度、RPM、油耗等）按时间戳与速度对齐，若插值用于速度则对这些通道同步线性插值；对 RPM/瞬时油耗等做基本范围校验（例如 RPM<0 或 > 10000 RPM 视为异常），并将这些异常同步标注到时间行。8）审计日志与可复现性：记录并输出每个文件的断点位置、所有插值区间、被替换/剔除点的索引及理由、所使用的所有参数（滤波窗、阈值、插值上限等），并保存中间产物（原始、对齐、滤波后速度序列与计算的加速度）以便复现与复核。该子任务的实施工具推荐 Python（pandas 用于读写与时序处理、numpy 进行数值运算、scipy.signal 实现滤波与 Savitzky–Golay），可选使用 pyproj 若需将经纬度转换为平面坐标用于位移校验；所有阈值应可配置并在处理报告中列出。",
    "子任务2（运动学片段提取与特征化）描述：输入为子任务1输出的已清洗、时间对齐且按 1 Hz 采样的连续时序块（每条记录至少含时间戳、滤波后的速度 v(t) [m/s]、平滑后加速度 a(t) [m/s^2]，以及文件/段来源标识）；本子任务目标是按照“从一次怠速（或低速等效）开始到下一次怠速开始”为语义单元提取所有运动学片段，并为每一片段生成一套结构化、可用于相似度度量与下游聚类/合成的定量特征与标准化时序表示，同时输出片段级元数据与质量标志。实现步骤与技术细则如下：1) 参数与初始判定：配置并记录关键阈值（怠速速度阈 v_idle，默认 1 km/h ≈0.2778 m/s；怠速最短持续 t_idle_min，默认 2 s；最小有效片段长度 L_min，默认 5 s；加/减速阈 a_th_pos=0.1 m/s^2、a_th_neg=−0.1 m/s^2；低速等效阈 vmax_low=10 km/h，用于将长期低速片段标记为怠速等效），并假定任何超长怠速已在预处理阶段按规则裁剪或标注。2) 怠速区间定位与片段边界：在每个清洗好的连续时序块上检测所有满足 v(t) ≤ v_idle 且持续 ≥ t_idle_min 的怠速区间并记录其起止时间；将每对相邻怠速区间的起始点之间的时间区间定义为一个运动学片段 S_m（片段可定义为包括起始怠速的结束秒到下一怠速开始前的最后秒，具体端点包含策略需一致记录），若整段最大速度 vmax_segment < vmax_low 则同时标注为“低速/拥堵等效”。3) 最短片段处理与合并规则：若某片段 L_m < L_min，则尝试与时间上最近的邻接片段合并（优先合并前段或后段以保持“怠速到怠速”语义），若合并后仍 < L_min 则标记为“无效并剔除”；所有合并/剔除动作均在元数据中记录并可复现。4) 片段内部状态划分：对每一片段按每秒 a(t) 将时刻分类为加速（a>a_th_pos）、减速（a<a_th_neg）、巡航（|a|≤|a_th| 且 v>v_idle），并识别连续的加/减速事件（事件计数、每事件持续时长、峰值加速度/减速度），用于后续统计量计算。5) 片段特征计算（输出特征向量 F_m）：计算并保存至少以下定量指标——持续时间 L_m（s）；平均速度 μ_v = mean(v)（m/s）及以 km/h 表示；平均行驶速度 μ_v_drive（仅 v>v_idle 时的平均）；最大/最小速度 v_max,v_min；速度标准差 σ_v 与速度分位数（10/50/90%）；平均加速度 A_plus（仅在加速时段）、平均减速度 A_minus（仅减速时段，取绝对值）；加速时间比 p_acc = T_acc/L_m、减速时间比 p_dec、巡航时间比 p_cruise、怠速时间比 p_idle（仅片段内部若包含短怠速）；加速/减速事件计数 n_acc,n_dec；峰值加/减速度 max_a,max_dec; 加速度标准差（仅加速时段）σ_a_plus；速度能量相关指标（如 ∑ v^2·Δt、低频能量占比 E_low/E_total，通过对速度时序做短时傅里叶或离散小波分解得到）；以及若可用，关联动力变量的同步统计（平均 RPM、平均瞬时油耗等）；所有指标应给出单位与计算公式并写入元数据。6) 标准化时序表示与相似度准备：为支持时序相似度算法，保存两种时序副本：原始秒级速度与加速度序列（不裁剪），以及经时间归一化/插值到固定参考长度 L_ref 的标准化序列（L_ref 可设为片段长度中位数或用户设定，如 60 s；插值方法可选线性或三次样条并记录方法）；基于标准化序列可构建 DTW/欧氏距离矩阵（建议使用 fastdtw 或 tslearn 的 DTW），并输出距离矩阵文件以供后续聚类。7) 质量标志与异常注记：对每个片段记录质量标志（如含大量插值点、存在加速度异常替换次数、是否含低 GPS 置信度区间等）与来源文件/时间戳，便于后续筛选或加权。8) 存储格式与交付物：输出为（a）片段元数据表（CSV 或 Parquet），每行包含片段 ID、源文件/段、起止时间、L_m、F_m 各特征、质量标志、合并/剔除日志；（b）每片段的原始时序文件（每秒记录）和标准化时序文件（固定长度数组，存为 NumPy npy 或 CSV）；（c）全体片段的时序距离矩阵（NumPy/CSV）；（d）参数配置文件记录 v_idle,t_idle_min,L_min,a_th 等以保证可复现。9) 推荐工具与实现细节：建议使用 Python（pandas/numpy 处理时序与表格，scipy.signal 做插值与滤波，tslearn 或 fastdtw 计算 DTW 与 DBA），并在实现中对所有阈值与插值/合并策略进行参数化以便批量试验与审计。该子任务的完成标志是产生一套包含所有运动学片段、详尽特征向量、标准化时序表示及相似度矩阵的结构化数据包，且对每一步操作都有可重现的日志与参数说明。",
    "子任务3（代表片段生成与合成序列构建）描述：本子任务的目标是在已有的运动学片段集合（每片段包含秒级速度与加速度时序、片段长度及预计算特征与距离矩阵）基础上，构建一个用于拼接的有限代表段库并在总时长约束（1200–1300 s）下生成一条物理连续且在指定运动学指标上尽量逼近目标统计特征的合成工况时间序列；输出为：代表段库（每类的时序原型与原始 medoid）、合成的秒级速度与加速度序列、拼接/伸缩记录和质量日志。为实现该目标，按以下步骤精确执行：1) 聚类与代表段生成：以片段的时序相似度（DTW 或标准化欧氏距离）或特征向量为输入，采用 K‑medoids 或层次聚类（簇数由轮廓系数或 Calinski–Harabasz 指标自动选取）将片段分群；对每簇选取 medoid（保留真实时序）或用 DTW‑Barycenter Averaging (DBA) 计算时序原型 R_c(t)，并记录原型长度 L_c、统计特征与簇内样本分布。2) 受限时间伸缩：允许在合成阶段对代表段做时间伸缩 s∈[s_min,s_max]（建议默认 s_min=0.7, s_max=1.7，可配置），按时间伸缩规则生成 R_c^s(t)（插值到整秒）；显式应用解析关系 a_s(t) = (1/s)·a_orig(t/s) 以快速估算伸缩对加速度统计量的影响，并在伸缩后校验加速度峰值不超过物理上限 a_phys_max（例如 8–10 m/s^2）；若超限则拒绝该伸缩或通过局部平滑降低峰值。3) 序列生成策略（两条并行可选路径）：A. 概率模拟路径：从原始片段序列估计簇间转移矩阵 P，并按 P 随机构造类别序列，逐步抽取簇内实例或代表段（可结合伸缩）直至累计时长落入目标区间；B. 优化拼接路径（推荐用于精确匹配统计指标）：将合成问题表述为组合优化：决策变量为序列位置的类别索引 c_k 和伸缩因子 s_k，约束 Σ_k s_k L_{c_k} ∈ [1200,1300]；目标函数为带权多项式 J = Σ_q w_q·(M_construct,q − M_target,q)^2 + α·Σ_k D_cont(k,k+1) + β·Σ_k P_phys(k)，其中 M_construct,q 为合成序列在第 q 个评估指标（例如平均速度、怠速比、加速/减速时间比、速度/加速度标准差等）上的值，D_cont 为相邻片段拼接不连续性惩罚（例如末速度与次段首速度差平方、末加速度与次首加速度差平方，可扩展为窗口内均方差），P_phys 对违反加速度上限或产生负速度等物理不合理情况给出高罚；使用元启发式求解器（遗传算法、模拟退火或差分进化）在离散类别和连续伸缩因子空间中搜索，初始解可由按簇总时长占比的贪婪分配构建并做局部调优。4) 拼接与连续性处理：在每一拼接点采用短窗交叉淡入淡出（长度 w_c，建议 3–8 s）或带约束的三次 Hermite / C1 样条插值对两段速度曲线过渡，确保速度与一阶导数（加速度）在拼接窗口内平滑过渡并同步调整发动机工况关联变量（如存在）；交叉窗内优先保持原始形态并最小化瞬时能量失真。5) 可选策略与约束管理：允许在合成中直接使用原始片段实例以提高瞬态真实度；对代表段的重复次数或出现频率可受原始簇出现频率约束以避免单一事件的过度重复；对时间伸缩设置安全筛选以避免生成过多极端伸缩组合。6) 质量控制与输出记录：在生成候选合成后计算完整指标向量 M_construct，输出指标误差、速度/加速度 RMSE、各拼接处的连续性残差与物理违规日志；保存每一候选解的序列构成（c_k, s_k）、拼接窗位置及参数，以便回溯与再优化。7) 实现细节与工具建议：输入格式为包含每片段秒级时序与特征的结构化文件（CSV/NumPy），推荐使用 Python 生态实现：tslearn 或 fastdtw 做 DTW/DBA，scikit‑learn / pyclustering 做聚类，NumPy/SciPy 做插值与样条，DEAP 或 pygad 做遗传算法；对大规模搜索可并行化种群评估。通过上述精确的代表段库构建、受限伸缩及以连续性与物理约束为罚项的全局/概率生成策略，本子任务独立产出可直接用于后续拼接平滑与评价的、满足时长约束且在运动学统计量上可控制误差的合成行驶工况序列。",
    "子任务4（评估、优化迭代、不确定性量化与工程交付）——本子任务的目标是：基于已合成或候选的行驶序列与经处理的原始时序/片段数据，系统化地计算并汇报一组标准化的运动学与序列相似性指标、利用这些指标驱动迭代优化以改善合成工况、对最终方案进行不确定性与敏感性量化，并以可复现的工程交付包形式输出全部结果与元数据。输入要求：清洗后的秒级原始时序或片段集合、候选合成序列（秒级速度与加速度）、代表性指标目标向量（M_target）及参数配置文件；输出要求：最终合成序列（CSV，含时间戳/速度/加速度及拼接元数据）、完整指标报告（包含点估计与置信区间）、敏感性与不确定性分析报告、优化日志、可执行代码与参数快照（含随机种子）。具体任务步骤与方法：1) 指标定义与实现：精确定义并实现一组评价指标（至少包括总时长T、平均速度V_bar = (1/T)Σv_km, 平均行驶速度V_drive_bar = (1/T_drive)Σ_{v>v_idle}v_km, 怠速时间比 R_idle = T_idle/T, 加速/减速时间比分别 R_acc、R_dec（以 a>0.1 / a<−0.1 为准），平均加速度/减速度 A_plus/A_minus（仅在加速/减速时段的算术平均），速度标准差 σ_v， 加速度标准差 σ_a（针对加速段），速度与加速度的RMSE与NRMSE相对于原始数据，以及速度分布距离（例如Earth Mover’s Distance））；为每一指标写出明确的计算公式和单位并在代码中实现。2) 基线评估：对每个候选合成序列计算上述指标向量 M_construct，并计算误差向量 Δ = M_construct − M_target；同时计算序列级相似度（速度RMSE、加速度RMSE）和拼接点的连续性度量（末首速度差、末首加速度差、交叉窗内均方差）。3) 优化迭代框架：以多目标或加权单目标形式将指标误差最小化，支持两种求解器：若需多目标折衷，使用 NSGA‑II（如 pymoo 库）搜索 Pareto 前沿；若需加权最小化，使用遗传算法或差分进化（DEAP/pygad或scipy.optimize）对候选序列的选择、重复次数与时间伸缩因子进行迭代优化；设计停止准则（固定代数或若干代无改善阈值），并在每次迭代记录目标值、最优序列及随机种子。4) 权重与验收策略：允许用户在配置文件中指定指标权重 w_q；同时提供默认验收阈值（建议：平均速度与平均行驶速度相对误差 ≤ 10%，怠速时间比绝对差 ≤ 3 个百分点，加速/减速时间比相对误差 ≤ 15%，速度/加速度标准差相对误差 ≤ 15%），并在不能同时满足所有阈值时输出 Pareto 备选方案并标注优先级。5) 不确定性量化（Bootstrap）：采用片段级自助法对原始片段集合进行重采样 B 次（推荐 B = 200–500），对每次重采样重复聚类/生成或对候选合成序列的构建决策做随机扰动（若完整重算成本过高，则对合成阶段做参数扰动），得到指标分布并报告每项指标的中位数、95%置信区间与偏差来源分解。6) 全局敏感性分析：对关键处理与生成参数（如 v_idle、a_threshold、滤波窗口长度、时间伸缩上下限 s_min/s_max、最小片段长度 L_min、交叉窗长度 w_c）按 ±10% 与 ±20% 两级进行单因子扰动试验，重算主要指标并以 Tornado 图或敏感度表格展示各参数对指标的影响度量（例如相对变化率或标准化回归系数）。7) 统计与数值稳健性检验：对关键指标差异进行统计检验（例如两组速度分布用 Kolmogorov–Smirnov 测试，速度直方图差异用 EMD 与置信区间比对）；对优化结果验证数值稳定性（在不同随机种子下重复优化若干次并报告结果方差）。8) 报告与工程交付物：生成机器可读与人可读两套交付物——（A）可复现包：Python 源码、requirements.txt、配置文件、随机种子、运行脚本、所有中间数据（清洗后时序、片段库、代表段、候选与最终序列）、优化日志与运行时间记录；（B）分析报告：一份包含方法摘要、最终合成序列（CSV）、所有指标的点估计与置信区间、优化过程中关键决策与 Pareto 解集、敏感性分析结果、以及对潜在物理违规（若存在）的列表与修正建议的 PDF/HTML 报告。9) 可视化与审计：为便于审查，提供标准化图表（速度/加速度时序图、速度直方图与累积分布、加速度分布、拼接处局部放大图、优化目标收敛曲线、Pareto 前沿与敏感性 Tornado 图），并将所有图表与数据一并打包。10) 可复现性与版本控制：要求在交付包中包含明确的版本标识（代码提交哈希或版本号）、环境说明（Python 版本、主要库版本）、固定随机种子并提供运行说明文档；建议使用 Git 管理并在交付时包含 commit id。推荐工具栈：Python (numpy, pandas, scipy, statsmodels, scikit‑learn, tslearn/fastdtw, pymoo 或 DEAP/pygad, matplotlib/seaborn)，以及用于报告生成的 Jupyter Notebook/nbconvert。上述步骤应形成一个可执行的流水线：输入候选序列→基线评估→若未达标则进入优化迭代→对优化结果做 bootstrap 与敏感性分析→产出最终合成序列与完整交付包，所有中间产物、参数与随机种子均被保存以保证可复现。"
  ]
}