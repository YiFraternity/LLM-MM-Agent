{
  "tasks": [],
  "problem_str": "问题背景：\n航班恢复问题\n\n随着经济的发展，航空出行已成为越来越多旅客的选择。但众所周知，飞机航班如果不能按原计划执行，不仅会给航空公司造成巨大的经济损失，同时还会给旅客出行带来极大的不便。在造成航班不正常的种种因素中，有些是不可抗阻的自然因素，如暴风雪、飓风等，有些是不可预测的突发事件，如突发恐怖袭击、飞机机械故障等等，还有些是因为管理手段的落后，比如飞行员缺位、空中管制，等等。下表是FlightStats网站公布的今年二月份世界主要航空公司和部分中国航空公司航班准点率的比较。可以看出，虽然中国的航班准点率很低，但其他国家和地区也不乐观，比如美国本土的平均航班准点率也只有77%。\n\n\\begin{tabular}{|c|c|c|c|c|}\n\\hline\n航空公司 & 名次 & 准点率\\% & 航空公司 & 名次 & 准点率\\% \\\\\n\\hline\nIberia & 1 & 92.45 & United (美联航) & 19 & 81.99 \\\\\nSingapore (新航) & 2 & 88.14 & Cathy Pacific (国泰) & 30 & 75.03 \\\\\nDelta (美三角) & 3 & 87.54 & Air China (国航) & 38 & 66.55 \\\\\nAmerican (美航) & 6 & 86.2 & China Eastern (东航) & 39 & 61.74 \\\\\n\\hline\n\\end{tabular}\n\n需要指出的是，由于目前中国航空公司在国内主要航线上航班安排已经比较稠密，一旦某个航班出现故障，就有可能造成一系列的连锁反应，影响成千上万旅客的出行。一些航空公司没有把航班延误作为要事来抓，缺乏有效应对手段。如果抱着“等着瞧”的消极态度，不仅可能造成更多的没有必要的延误，而且还会导致最终产生一个失败的决策。例如航空公司在等待3个小时后，最终决定取消该航班，部分旅客被安置到此后2小时以后的某航班上。这样的结局显然不如一开始就宣布取消该航班，把旅客延迟到某航班上。\n\n世界范围内，近年来快速增长的航空旅客数量已超过了很多主要机场的容量，加上近年气候的反常变化和安全突发事件的增多，航班恢复问题越来越受到各国民航管理机构和各大航空公司的重视，中国主要航空公司也已经把航班恢复的自动化提到了议事日程上了。\n\n最近发生的美国联航乘客被打事件，表面上是一个旅客服务管理问题，但本质上是航班恢复管理不慎造成的结果。联航为了避免外地航班机组人员缺位，紧急从芝加哥基地调遣机组前往。由于机组缺位造成的航班中断有扩散到整个网络的可能，联航赋予了他们很高的登机优先级。这些都是正确的决策并且被正确地执行了，但在最后环节，联航工作人员没有能把座位“拍卖”坚持到最后时刻，从而导致了世界民航史上的这一重大事件的发生，给联航造成了不可挽回的重大损失。\n\n其实，航班恢复问题的“难”除了相关因素的复杂，更主要的原因在于恢复方案的即时性。航班紊乱发生后，恢复方案的决定和实施是越早越好。在手工调整的情况下，调度员只能考虑到影响飞行安全的一些基本因素，很难考虑到全局网络的优化，更别说旅客的行程规划或根据旅客价值信息确定航班恢复的优先级了。举个最简单的例子，假如飞行网络中有一架飞机出现故障需要检修，受影响的航班可能不超过10个，具有多年调度经验的调度员大概需要几十分钟甚至1~2小时进行航班手工调整。可以想象，如果飞行网络出现大面积紊乱，受影响的航班可能有几十个甚至上百个，期望调度员手工在十几分钟甚至几分钟内完成整个网络的调整一定是异想天开，但借助于计算机求解数学优化模型却是可行的。\n\n要最终可行，还有两个关键因素必须解决：1. 如何创建合适的数学模型；2. 如何用合适的算法快速求解这个数学模型。学术界研究航班恢复问题已经很久，取得了很好的进展，但业界至今还很少有实际的应用解决方案。因为理论研究一般都局限于有限的时间和空间，运行约束也仅仅是实际约束的部分子集，这样的方法很难被航空公司的运控部门采纳而直接用于生产实践。目前世界上提供解决航班恢复问题的产品寥寥无几，具有完整功能、满足各种实际需求的产品还只有Sabre一家。本赛题就是针对以上这两个问题而设计的。Sabre公司通过在高校开展学术竞赛来提高学术界对不正常航班的恢复研究的关注度。更多相关的资料可以在以下网页浏览下载，\n\nhttp://page.sabreairlinesolutions.com/orcompetitions。\n\n总而言之，创建合适的数学模型和采用行之有效的算法求解是解决航班恢复问题的关键。目前，学术界一般采用decomposition（例如Bender’s Decomposition或者Column Generation）的方法来求解这一类整数规划模型，更好的算法还有待于发现。\n\n2. 问题介绍\n\n航班恢复问题本质上是运营恢复问题的一部分。或者说，广义的航班恢复就是运营恢复，包括（狭义的）航班恢复（Flight Recovery）、机组恢复（Crew Recovery）和旅客行程重新规划（Passenger Re-accommodation）三部分，它们相互约束，构成一个整体上超大规模的运筹优化问题。这个优化问题具有难以想象的复杂度，不是工业界目前已有计算机的计算能力所及。在实际运营过程中，航空公司是按流程次序先考虑航班恢复，然后在此基础上机组恢复，最后重新规划旅客的行程，把他们送往各自的目的地。相应地，采用运筹优化方法解决运营恢复问题也是按这三步把整个大问题按阶段次序分解成子问题【1】，即首先求解航班恢复问题，在此基础上求解机组恢复问题和旅客行程再规划问题。\n\n需要指出的是，由于缺少信息交互，虽然每个子问题的求解可以达到局部最优，但整体最优却得不到保证，甚至有出现不可行解的可能。已经有学者证明，整合两个或者三个子问题成一个单一数学模型，可以得到更好质量的解【4】。所以本赛题作为航班恢复问题由四个子题目组成，从最基本的单一机型的航班恢复，多机型恢复，最后到考虑旅客行程重新规划的航班恢复。为了避免过于复杂化，本赛题不考虑机组人员的恢复，也不考虑旅客行程重新规划。\n\n针对航班恢复问题，通常有三种航班调整方法：航班延误、飞机置换和航班取消。航班延误和飞机置换可以同时发生。\n\n\\textbf{航班延误}\n\n如果选择航班延误，还需要给出具体的延误时间（以分钟为单位）。通常航空公司对延误都有最大延误时间约束，本赛题规定航班最大延误时间为5小时，即延误超过5小时时一定取消该航班。以间隔10分钟为一个决策单位，那么一个航班就有30个延误决策可选。航班延误的代价除了旅客满意度降低外，更重要的是联程旅客可能赶不上下趟航班。\n\n本赛题规定，飞机的飞行时间不会因延误而受影响。\n\n\\textbf{飞机置换}\n\n飞机置换就是将航班安排给不同于原计划执行飞机的其他飞机去执行。如下图所示，按计划，航班1连接航班3由飞机A执行，航班2连接航班4由飞机B执行。但由于延误，飞机A执行完航班1后没有足够时间间隔，无法及时执行航班3。于是，调度员将航班3安排给飞机B，航班4安排给飞机A去执行。飞机置换并不需要在完全相同的飞机之间进行，航空公司可以安排给满足约束条件的任何其它飞机。实际操作中，一般安排给同机型家族（比如A320），或者同机型（比如A320-200）的任何一架飞机。飞机置换通常是最佳航班恢复方案，只要能满足最小飞机间隔时间就行。但这种机会不总是存在。\n\n飞机间隔时间是指同一架飞机在执行完一趟航班到执行下一趟航班前的地面停留时间。本题规定最小飞机间隔时间是45分钟。\n\n\\section*{航班取消}\n\n众所周知航班取消的含义，这里就省略解释。航班取消的代价显然是最严重的。\n\n\\section{数学模型示例}\n\n下面给出一个充分简化了的航班恢复问题的线性规划模型，供参赛者理解本赛题。参赛者可以在本模型的基础上完善并引入本赛题的具体目标和约束，比如最小飞机间隔时间，恢复期开始时航班的衔接，等等。但需要指出的是，建模方法很多（比如参考文献里模型就不一样），针对同一数学模型的算法也可以很多，具体采用什么模型和算法，以期在算法复杂度、解的质量和模型简洁方面达到平衡，由参赛者自己决定。\\begin{tabular}{l l}\n最小化 & $\\sum_{f \\in F} CancelCost_f \\cdot (1 - x_f) + \\sum_{f \\in F} DelayCost_f \\cdot \\sum_{t \\in T_f} (t - Dpt_f) \\cdot x_{ft}$ \\\\\n约束条件 & $x_f = \\sum_{t \\in T_f} x_{ft}, \\forall f \\in F$ \\\\\n& $x_{ft} = \\sum_{p \\in P} x_{ftp}, \\forall t \\in T, \\forall f \\in F$ \\\\\n& $y_{atp} = \\sum_{f \\in F_a^I} \\sum_{Dpt_f \\leq s < t - Fly_f} x_{fsp} - \\sum_{f \\in F_a^O} \\sum_{Dpt_f \\leq s < t} x_{fsp}, \\forall a \\in A, \\forall t \\in T, \\forall p \\in P, s \\in T_f$ \\\\\n变量定义 & $x_f$: 0-1变量，用来表示航班 $f$ 是否运营. \\\\\n& $x_{ft}$: 0-1变量，用来表示航班 $f$ 是否在时间点 $t$ 起飞. \\\\\n& $x_{ftp}$: 0-1变量，用来表示航班 $f$ 是否在时间点 $t$ 由飞机 $p$ 起飞. \\\\\n& $y_{atp}$: 0-1变量，用来表示飞机 $p$ 在时间点 $t$ 是否停在机场 $a$. \\\\\n参数符号 & $T$: 时间轴上所考虑时间点的集合 \\\\\n& $F$: 所有航班的集合 \\\\\n& $A$: 所有机场的集合 \\\\\n& $P$: 所有飞机的集合 \\\\\n& $T_f \\subseteq T$: 航班 $f$ 的所有允许起飞时间点集合. \\\\\n& $Dpt_f$: 航班 $f$ 的最早允许起飞时间点, $Dpt_f = \\min\\{s: s \\in T_f\\}$. \\\\\n& $Fly_f$: 航班 $f$ 的飞行时间 \\\\\n& $F_a^I \\subseteq F$: 所有到达机场为 $a$ 的航班集合. \\\\\n& $F_a^O \\subseteq F$: 所有起飞机场为 $a$ 的航班集合. \\\\\n& $CancelCost_f$: 取消航班 $f$ 的成本. \\\\\n& $DelayCost_f$: 航班 $f$ 的每分钟的延误成本.\n\\end{tabular}\n\n下面举例说明这个线性规划模型的复杂度。假设一个拥有 $|P|=100$ 架飞机的子机型网络有 $600$ 个航班需要执行。最大延误时间 $5$ 小时，每个航班有 $|T_f|=30$ 个延误选择，每个延误选择可以安排给 $100$ 架飞机里的任意一架。这样大致估计共有 $|F|\\cdot|T_f|\\cdot|P| = 600 \\times 30 \\times 100 = 1.8 \\times 10^6$ 个选择变量 $x_{ftp}$。如果把这样一个有几百万个选择变量的 0-1 整数规划问题采用商用求解器（如 \\\\textbf{CPLEX} 或 \\\\textbf{GUROBI}）直接求解，绝无可能保证在允许的时间限制内求得最优解。实际上，这样的问题完全有可能运行几天甚至几年才能结束。如果我们的航班恢复问题考虑到多个子机型，或者将 $10$ 分钟的延误策间隔降低至 $1$ 分钟（完全灵活地调整延误时间），这个问题将变得更加复杂。\\n\\n除了上述时空网络的数学模型外，也可以将安排给某架飞机的所有航班考虑为一个有效路径，用列生成的方法去求解。这样可以减少因为延误时间而产生的大量决策变量【2】。\n\n问题要求：\n本赛题有如下几个要求和规定：\n\n1. 附件里时间的表达均为 Unix 格式，即从 1970 年 1 月 1 日 0 时 0 分 0 秒算起的秒数。从 Unix 时间格式到一般时间格式的转换可参考附件中 Excel 表格里的转换公式，比如 `((B2/60)/60)/24) + DATE(1970,1,1)`。另外，所有时间均假设为 UTC 国际标准时间。\n2. 所有航班只能延误，不能提前，最早起飞时间不能早于原计划的起飞时间。\n3. 各航班的飞行时间是常量，即航班数据中的到达时间减去起飞时间。\n4. 保证每架飞机的连续航班能首尾相连，即前一航班的到达机场与后一航班的起飞机场必须相同，而且前一航班到达时间与后一航班起飞时间之间的最小间隔时间为 45 分钟。\n5. 所有飞机的第一个航班要满足如下两个条件：（1）航班的起飞机场与飞机的起点机场一致，（2）航班的起飞时间不早于飞机的最早可用时间。\n6. 所有飞机的最后一个航班的到达时间不能晚于飞机的最晚可用时间。\n7. 航班延误的决策时间点间隔为 10 分钟（比如，安排给 X 飞机并按计划起飞，安排给 X 飞机并延误 10 分钟，安排给 X 飞机并延误 20 分钟，安排给 X 飞机并延误 30 分钟，以此类推）。如果参赛者有能力通过其他的数学模型找出更灵活的延误时间可以不考虑这一假设。\n8. 不考虑机场可停留飞机的容量。理论上所有机场可以全天 24 小时工作。\n9. 同行旅客是指一起订票并且行程完全一致的旅客，他们共享同一个旅客号，并作为一个整体考虑，即不能分乘不同的航班。\n10. 所有航班，包括机场 OVS 关闭时段内的航班，它们的延误时间都需要被考虑到。为了最大可能保护航班，尽量不取消航班。\n11. 数据结果提交的格式要求：参赛者除了在论文中必须叙述如何解读结果外，还必须提交完整的新航班计划并作为附件与论文一起发送指定邮箱。提交的新航班计划有如下格式要求：\n（1）虽然输入数据的时间都是Unix格式，所有输出数据的时间必须都是一般格式，比如，4/22/16 16:15 表示2016年4月22日16时15分。\n（2）可以在原航班数据（见后）格式的基础上，添加“新机型号”、“新飞机尾号”、“新起飞时间”、“新到达时间”和“延误时间”。列的次序按下表示例。如有需要，参赛者还可在后面添加新列。新起飞时间和新到达时间与原时间如有不同，请用亮色标出。\n（3）将问题一、问题二、问题三、问题四的新航班计划结果分别放在输出Excel总表格的Sheet1、Sheet2、Sheet3、Sheet4中。该Excel总表格的文件名为“C参赛队号.xls”。表格各页的格式如下示例：\n\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|}\n\\hline\n航班唯一编号 & 起飞时间 & 新起飞时间 & 到达时间 & 新到达时间 & 起飞机场 & 到达机场 & 飞机型号 & 新飞机型号 & 飞机尾号 & 新飞机尾号 & 延误时间 \\\\\n\\hline\n\\end{tabular}\n\n另外需要指出，虽然好的算法设计应该考虑到输入数据的各种不同可能性，本赛题局限于求解附件里的具体案例。\n由于受到暴风雪的影响，管理部门决定在2016年4月22 日的18:00到21:00之间关闭机场OVS。在该时间段内该机场不能起飞或降落任何航班，而该时间段之前的所有航班都处于正常状态，该时间段之后机场可立即恢复正常起降。因此，原定在该日18:00至21:00之间（不包括18：00和21：00这两个时刻）起降的所有航班都需要重新安排，而且它们的重新安排可能造成关闭后其它航班的重新安排。由于OVS机场的跑道限制，该机场每5分钟最多能起飞5架飞机，同时降落5架飞机。例如在21:00 - 21:05之间（不包括21:05时间点）最多有5个起飞航班和5个降落航班，其起飞和降落时间都可以按21:00计算；在21:05 - 21:10之间（不包括21:10时间点）最多有5个起飞航班和5个降落航班，其起飞和降落时间都可以按21:05计算；以此类推。其它机场不需要考虑跑道限制。\n附件中给出了该航空公司在相关时间段内所有航班计划、飞机和旅客信息。摘录部分如下以便理解。\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|c|c|}\n\\hline\n航班唯一编号 & 起飞时间 & 到达时间 & 起飞机场 & 到达机场 & 飞机型号 & 飞机尾号 & \\\\\n\\hline\n174774150 & 1461341700 & 1461348120 & OVS & LEH & 9 & 41098 & \\\\\n\\hline\n174774124 & 1461351000 & 1461356760 & LEH & OVS & 9 & 41098 & \\\\\n\\hline\n174777506 & 1461393900 & 1461399900 & OVS & FUK & 9 & 41098 & \\\\\n\\hline\n174777482 & 1461403200 & 1461409500 & FUK & OVS & 9 & 41098 & \\\\\n\\hline\n174777574 & 1461413400 & 1461422400 & OVS & KMM & 9 & 41098 & \\\\\n\\hline\n174773996 & 1461325560 & 1461335280 & GAZ & OVS & 9 & 51098 & \\\\\n\\hline\n... & ... & ... & ... & ... & ... & ... & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|c|}\n\\hline\n飞机尾号 & 飞机型号 & 最早可用时间 & 最晚可用时间 & 起点机场 & 座位数 & \\\\\n\\hline\n41098 & 9 & 1461333600 & 1461426000 & OVS & 87 & \\\\\n\\hline\n51098 & 9 & 1461325560 & 1461426000 & GAZ & 87 & \\\\\n\\hline\n32098 & 9 & 1461330660 & 1461445800 & VOR & 87 & \\\\\n\\hline\n42098 & 9 & 1461302220 & 1461424200 & OVS & 87 & \\\\\n\\hline\n82098 & 9 & 1461326400 & 1461428400 & OVS & 87 & \\\\\n\\hline\n23098 & 9 & 1461330000 & 1461444600 & QSM & 87 & \\\\\n\\hline\n14098 & 9 & 1461326820 & 1461428700 & OVS & 87 & \\\\\n\\hline\n44098 & 9 & 1461325620 & 1461423900 & OVS & 87 & \\\\\n\\hline\n64098 & 9 & 1461323880 & 1461482400 & OVS & 87 & \\\\\n\\hline\n15098 & 9 & 1461326220 & 1461510000 & OVS & 87 & \\\\\n\\hline\n75098 & 9 & 1461323700 & 1461445800 & OVS & 87 & \\\\\n\\hline\n... & ... & ... & ... & ... & ... & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|}\n\\hline\n旅客号 & 航班唯一编号 & 同行旅客数量 \\\\\n\\hline\n1 & 174777880 & 14 \\\\\n\\hline\n1 & 174781120 & 14 \\\\\n\\hline\n2 & 174773867 & 7 \\\\\n\\hline\n2 & 174778110 & 7 \\\\\n\\hline\n3 & 174778406 & 10 \\\\\n\\hline\n3 & 174777718 & 10 \\\\\n\\hline\n4 & 174777706 & 11 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\begin{tabular}{|c|c|c|}\n\\hline\n机场 & 关闭开始时间 & 关闭结束时间 \\\\\n\\hline\nOVS & 1461348000 & 1461358800 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n第一问：不考虑旅客信息，如何重新规划机型9（不考虑其他机型）的航班计划，制定起飞时间表（给出延误分钟），使得所有原计划安排给机型9的航班尽可能不被取消，同时保证机型9的所有航班总体延误时间最短？此题可参考文献【3】。\n\n第二问：不考虑旅客信息，假定同一机型的所有飞机的载客量相同，其间航班调整没有成本，但在不同机型间调整有成本。比方说飞机DIB PV属于320机型，飞机COB PV属于321机型，航班174774110原计划是安排给飞机DIB PV执行，如果将174774110分配给飞机COB PV执行则需要产生额外的成本。假设此额外成本等价于航班延误半小时（置换和延误有可能会同时发生，则成本叠加）。在这样的假设下如何重新规划飞机航班（包括所有机型的所有航班），制定起飞时间表（给出延误分钟）使原计划航班尽可能不被取消，同时保证所有航班总体延误时间最短？\n\n第三问：进一步考虑飞机的载客量，假设在不同机型间调整航班的成本除了航班本身延误半小时外，还要加上不能登机旅客的成本（这里仍不考虑旅客的联程信息，即假定旅客行程都是直达的，并假设所有航班都是100\\%的上座率）。比如飞机DIB PV的载客量是140人，COB PV的载客量是170人。如果将飞机COB PV的航班分给DIB PV去执行，将会有30名旅客因没有座位而无法登机。但如果将DIB PV的原计划航班分配给COB PV去执行则没有这种情况。假设一名旅客无法登机与该旅客延误2小时的成本相当，该如何重新规划航班以保证旅客总体延误时间最短？\n\n第四问：在第二题的基础上，假设在不同机型间调整航班不考虑成本。我们在旅客数据中提供了旅客的行程信息，包括旅客号，同行旅客数量，和相应的航班。每个旅客行程中的相连航班间最少需要45分钟间隔时间用于中转，如23日的航班174778458（02:05JOG—03:00OVS）与23日的航班174777524（05:50OVS—08:10XVS）的间隔时间为2小时50分钟。旅客的延误按照旅客计划到达最终目的地时间为基准计算。例如在案例中旅客号为6的旅客计划到达XVS时间是23日08:10，如果不晚于该时间到达则延误为0，如果到达XVS时间是23日08:40则延误时间是30分钟，考虑旅客号为6的同行旅客数量为8，则总体延误时间是8*30=240分钟。假定旅客号为6的旅客最终不能到达目的地相当于总体延误了8*24小时。该如何重新规划航班以保证旅客总体延误时间最短？如果某旅客号对应的航班号在航班表里找不到相应记录则不需要考虑该旅客。如果某航班没有对应的旅客信息，可认为该航班目前没有乘客，则延误该航班没有成本代价。\nAddendum: \n参考文献\n\n[1] Jon D. Petersen, Gustaf Sölveling, John-Paul Clarke, Ellis L. Johnson, and Sergey Shebalov (2012). An Optimization Approach to Airline Integrated Recovery. Transportation Science, 46(4), 482-500.\n\n[2] J.M. Rosenberger, E.L. Johnson, G.L. Nemhauser (2003). Rerouting Aircraft for Airline Recovery. Transportation Science, 37(4), 408-421.\n\n[3] Ahmad I.Z. Jarrah, Gang Yu, Nirup Krishnamurthy, and Ananda Rakshit (1993). A Decision Support Framework for Airline Flight Cancellations and Delays. Transportation Science, 27(3), 266-280.\n\n[4] Stephen J. Maher (2015). Solving the Integrated Airline Recovery Problem Using Column-and-Row Generation. Transportation Science, 50(1), 216-237.",
  "problem": {
    "background": "航班恢复问题\n\n随着经济的发展，航空出行已成为越来越多旅客的选择。但众所周知，飞机航班如果不能按原计划执行，不仅会给航空公司造成巨大的经济损失，同时还会给旅客出行带来极大的不便。在造成航班不正常的种种因素中，有些是不可抗阻的自然因素，如暴风雪、飓风等，有些是不可预测的突发事件，如突发恐怖袭击、飞机机械故障等等，还有些是因为管理手段的落后，比如飞行员缺位、空中管制，等等。下表是FlightStats网站公布的今年二月份世界主要航空公司和部分中国航空公司航班准点率的比较。可以看出，虽然中国的航班准点率很低，但其他国家和地区也不乐观，比如美国本土的平均航班准点率也只有77%。\n\n\\begin{tabular}{|c|c|c|c|c|}\n\\hline\n航空公司 & 名次 & 准点率\\% & 航空公司 & 名次 & 准点率\\% \\\\\n\\hline\nIberia & 1 & 92.45 & United (美联航) & 19 & 81.99 \\\\\nSingapore (新航) & 2 & 88.14 & Cathy Pacific (国泰) & 30 & 75.03 \\\\\nDelta (美三角) & 3 & 87.54 & Air China (国航) & 38 & 66.55 \\\\\nAmerican (美航) & 6 & 86.2 & China Eastern (东航) & 39 & 61.74 \\\\\n\\hline\n\\end{tabular}\n\n需要指出的是，由于目前中国航空公司在国内主要航线上航班安排已经比较稠密，一旦某个航班出现故障，就有可能造成一系列的连锁反应，影响成千上万旅客的出行。一些航空公司没有把航班延误作为要事来抓，缺乏有效应对手段。如果抱着“等着瞧”的消极态度，不仅可能造成更多的没有必要的延误，而且还会导致最终产生一个失败的决策。例如航空公司在等待3个小时后，最终决定取消该航班，部分旅客被安置到此后2小时以后的某航班上。这样的结局显然不如一开始就宣布取消该航班，把旅客延迟到某航班上。\n\n世界范围内，近年来快速增长的航空旅客数量已超过了很多主要机场的容量，加上近年气候的反常变化和安全突发事件的增多，航班恢复问题越来越受到各国民航管理机构和各大航空公司的重视，中国主要航空公司也已经把航班恢复的自动化提到了议事日程上了。\n\n最近发生的美国联航乘客被打事件，表面上是一个旅客服务管理问题，但本质上是航班恢复管理不慎造成的结果。联航为了避免外地航班机组人员缺位，紧急从芝加哥基地调遣机组前往。由于机组缺位造成的航班中断有扩散到整个网络的可能，联航赋予了他们很高的登机优先级。这些都是正确的决策并且被正确地执行了，但在最后环节，联航工作人员没有能把座位“拍卖”坚持到最后时刻，从而导致了世界民航史上的这一重大事件的发生，给联航造成了不可挽回的重大损失。\n\n其实，航班恢复问题的“难”除了相关因素的复杂，更主要的原因在于恢复方案的即时性。航班紊乱发生后，恢复方案的决定和实施是越早越好。在手工调整的情况下，调度员只能考虑到影响飞行安全的一些基本因素，很难考虑到全局网络的优化，更别说旅客的行程规划或根据旅客价值信息确定航班恢复的优先级了。举个最简单的例子，假如飞行网络中有一架飞机出现故障需要检修，受影响的航班可能不超过10个，具有多年调度经验的调度员大概需要几十分钟甚至1~2小时进行航班手工调整。可以想象，如果飞行网络出现大面积紊乱，受影响的航班可能有几十个甚至上百个，期望调度员手工在十几分钟甚至几分钟内完成整个网络的调整一定是异想天开，但借助于计算机求解数学优化模型却是可行的。\n\n要最终可行，还有两个关键因素必须解决：1. 如何创建合适的数学模型；2. 如何用合适的算法快速求解这个数学模型。学术界研究航班恢复问题已经很久，取得了很好的进展，但业界至今还很少有实际的应用解决方案。因为理论研究一般都局限于有限的时间和空间，运行约束也仅仅是实际约束的部分子集，这样的方法很难被航空公司的运控部门采纳而直接用于生产实践。目前世界上提供解决航班恢复问题的产品寥寥无几，具有完整功能、满足各种实际需求的产品还只有Sabre一家。本赛题就是针对以上这两个问题而设计的。Sabre公司通过在高校开展学术竞赛来提高学术界对不正常航班的恢复研究的关注度。更多相关的资料可以在以下网页浏览下载，\n\nhttp://page.sabreairlinesolutions.com/orcompetitions。\n\n总而言之，创建合适的数学模型和采用行之有效的算法求解是解决航班恢复问题的关键。目前，学术界一般采用decomposition（例如Bender’s Decomposition或者Column Generation）的方法来求解这一类整数规划模型，更好的算法还有待于发现。\n\n2. 问题介绍\n\n航班恢复问题本质上是运营恢复问题的一部分。或者说，广义的航班恢复就是运营恢复，包括（狭义的）航班恢复（Flight Recovery）、机组恢复（Crew Recovery）和旅客行程重新规划（Passenger Re-accommodation）三部分，它们相互约束，构成一个整体上超大规模的运筹优化问题。这个优化问题具有难以想象的复杂度，不是工业界目前已有计算机的计算能力所及。在实际运营过程中，航空公司是按流程次序先考虑航班恢复，然后在此基础上机组恢复，最后重新规划旅客的行程，把他们送往各自的目的地。相应地，采用运筹优化方法解决运营恢复问题也是按这三步把整个大问题按阶段次序分解成子问题【1】，即首先求解航班恢复问题，在此基础上求解机组恢复问题和旅客行程再规划问题。\n\n需要指出的是，由于缺少信息交互，虽然每个子问题的求解可以达到局部最优，但整体最优却得不到保证，甚至有出现不可行解的可能。已经有学者证明，整合两个或者三个子问题成一个单一数学模型，可以得到更好质量的解【4】。所以本赛题作为航班恢复问题由四个子题目组成，从最基本的单一机型的航班恢复，多机型恢复，最后到考虑旅客行程重新规划的航班恢复。为了避免过于复杂化，本赛题不考虑机组人员的恢复，也不考虑旅客行程重新规划。\n\n针对航班恢复问题，通常有三种航班调整方法：航班延误、飞机置换和航班取消。航班延误和飞机置换可以同时发生。\n\n\\textbf{航班延误}\n\n如果选择航班延误，还需要给出具体的延误时间（以分钟为单位）。通常航空公司对延误都有最大延误时间约束，本赛题规定航班最大延误时间为5小时，即延误超过5小时时一定取消该航班。以间隔10分钟为一个决策单位，那么一个航班就有30个延误决策可选。航班延误的代价除了旅客满意度降低外，更重要的是联程旅客可能赶不上下趟航班。\n\n本赛题规定，飞机的飞行时间不会因延误而受影响。\n\n\\textbf{飞机置换}\n\n飞机置换就是将航班安排给不同于原计划执行飞机的其他飞机去执行。如下图所示，按计划，航班1连接航班3由飞机A执行，航班2连接航班4由飞机B执行。但由于延误，飞机A执行完航班1后没有足够时间间隔，无法及时执行航班3。于是，调度员将航班3安排给飞机B，航班4安排给飞机A去执行。飞机置换并不需要在完全相同的飞机之间进行，航空公司可以安排给满足约束条件的任何其它飞机。实际操作中，一般安排给同机型家族（比如A320），或者同机型（比如A320-200）的任何一架飞机。飞机置换通常是最佳航班恢复方案，只要能满足最小飞机间隔时间就行。但这种机会不总是存在。\n\n飞机间隔时间是指同一架飞机在执行完一趟航班到执行下一趟航班前的地面停留时间。本题规定最小飞机间隔时间是45分钟。\n\n\\section*{航班取消}\n\n众所周知航班取消的含义，这里就省略解释。航班取消的代价显然是最严重的。\n\n\\section{数学模型示例}\n\n下面给出一个充分简化了的航班恢复问题的线性规划模型，供参赛者理解本赛题。参赛者可以在本模型的基础上完善并引入本赛题的具体目标和约束，比如最小飞机间隔时间，恢复期开始时航班的衔接，等等。但需要指出的是，建模方法很多（比如参考文献里模型就不一样），针对同一数学模型的算法也可以很多，具体采用什么模型和算法，以期在算法复杂度、解的质量和模型简洁方面达到平衡，由参赛者自己决定。\\begin{tabular}{l l}\n最小化 & $\\sum_{f \\in F} CancelCost_f \\cdot (1 - x_f) + \\sum_{f \\in F} DelayCost_f \\cdot \\sum_{t \\in T_f} (t - Dpt_f) \\cdot x_{ft}$ \\\\\n约束条件 & $x_f = \\sum_{t \\in T_f} x_{ft}, \\forall f \\in F$ \\\\\n& $x_{ft} = \\sum_{p \\in P} x_{ftp}, \\forall t \\in T, \\forall f \\in F$ \\\\\n& $y_{atp} = \\sum_{f \\in F_a^I} \\sum_{Dpt_f \\leq s < t - Fly_f} x_{fsp} - \\sum_{f \\in F_a^O} \\sum_{Dpt_f \\leq s < t} x_{fsp}, \\forall a \\in A, \\forall t \\in T, \\forall p \\in P, s \\in T_f$ \\\\\n变量定义 & $x_f$: 0-1变量，用来表示航班 $f$ 是否运营. \\\\\n& $x_{ft}$: 0-1变量，用来表示航班 $f$ 是否在时间点 $t$ 起飞. \\\\\n& $x_{ftp}$: 0-1变量，用来表示航班 $f$ 是否在时间点 $t$ 由飞机 $p$ 起飞. \\\\\n& $y_{atp}$: 0-1变量，用来表示飞机 $p$ 在时间点 $t$ 是否停在机场 $a$. \\\\\n参数符号 & $T$: 时间轴上所考虑时间点的集合 \\\\\n& $F$: 所有航班的集合 \\\\\n& $A$: 所有机场的集合 \\\\\n& $P$: 所有飞机的集合 \\\\\n& $T_f \\subseteq T$: 航班 $f$ 的所有允许起飞时间点集合. \\\\\n& $Dpt_f$: 航班 $f$ 的最早允许起飞时间点, $Dpt_f = \\min\\{s: s \\in T_f\\}$. \\\\\n& $Fly_f$: 航班 $f$ 的飞行时间 \\\\\n& $F_a^I \\subseteq F$: 所有到达机场为 $a$ 的航班集合. \\\\\n& $F_a^O \\subseteq F$: 所有起飞机场为 $a$ 的航班集合. \\\\\n& $CancelCost_f$: 取消航班 $f$ 的成本. \\\\\n& $DelayCost_f$: 航班 $f$ 的每分钟的延误成本.\n\\end{tabular}\n\n下面举例说明这个线性规划模型的复杂度。假设一个拥有 $|P|=100$ 架飞机的子机型网络有 $600$ 个航班需要执行。最大延误时间 $5$ 小时，每个航班有 $|T_f|=30$ 个延误选择，每个延误选择可以安排给 $100$ 架飞机里的任意一架。这样大致估计共有 $|F|\\cdot|T_f|\\cdot|P| = 600 \\times 30 \\times 100 = 1.8 \\times 10^6$ 个选择变量 $x_{ftp}$。如果把这样一个有几百万个选择变量的 0-1 整数规划问题采用商用求解器（如 \\\\textbf{CPLEX} 或 \\\\textbf{GUROBI}）直接求解，绝无可能保证在允许的时间限制内求得最优解。实际上，这样的问题完全有可能运行几天甚至几年才能结束。如果我们的航班恢复问题考虑到多个子机型，或者将 $10$ 分钟的延误策间隔降低至 $1$ 分钟（完全灵活地调整延误时间），这个问题将变得更加复杂。\\n\\n除了上述时空网络的数学模型外，也可以将安排给某架飞机的所有航班考虑为一个有效路径，用列生成的方法去求解。这样可以减少因为延误时间而产生的大量决策变量【2】。",
    "problem_requirement": "本赛题有如下几个要求和规定：\n\n1. 附件里时间的表达均为 Unix 格式，即从 1970 年 1 月 1 日 0 时 0 分 0 秒算起的秒数。从 Unix 时间格式到一般时间格式的转换可参考附件中 Excel 表格里的转换公式，比如 `((B2/60)/60)/24) + DATE(1970,1,1)`。另外，所有时间均假设为 UTC 国际标准时间。\n2. 所有航班只能延误，不能提前，最早起飞时间不能早于原计划的起飞时间。\n3. 各航班的飞行时间是常量，即航班数据中的到达时间减去起飞时间。\n4. 保证每架飞机的连续航班能首尾相连，即前一航班的到达机场与后一航班的起飞机场必须相同，而且前一航班到达时间与后一航班起飞时间之间的最小间隔时间为 45 分钟。\n5. 所有飞机的第一个航班要满足如下两个条件：（1）航班的起飞机场与飞机的起点机场一致，（2）航班的起飞时间不早于飞机的最早可用时间。\n6. 所有飞机的最后一个航班的到达时间不能晚于飞机的最晚可用时间。\n7. 航班延误的决策时间点间隔为 10 分钟（比如，安排给 X 飞机并按计划起飞，安排给 X 飞机并延误 10 分钟，安排给 X 飞机并延误 20 分钟，安排给 X 飞机并延误 30 分钟，以此类推）。如果参赛者有能力通过其他的数学模型找出更灵活的延误时间可以不考虑这一假设。\n8. 不考虑机场可停留飞机的容量。理论上所有机场可以全天 24 小时工作。\n9. 同行旅客是指一起订票并且行程完全一致的旅客，他们共享同一个旅客号，并作为一个整体考虑，即不能分乘不同的航班。\n10. 所有航班，包括机场 OVS 关闭时段内的航班，它们的延误时间都需要被考虑到。为了最大可能保护航班，尽量不取消航班。\n11. 数据结果提交的格式要求：参赛者除了在论文中必须叙述如何解读结果外，还必须提交完整的新航班计划并作为附件与论文一起发送指定邮箱。提交的新航班计划有如下格式要求：\n（1）虽然输入数据的时间都是Unix格式，所有输出数据的时间必须都是一般格式，比如，4/22/16 16:15 表示2016年4月22日16时15分。\n（2）可以在原航班数据（见后）格式的基础上，添加“新机型号”、“新飞机尾号”、“新起飞时间”、“新到达时间”和“延误时间”。列的次序按下表示例。如有需要，参赛者还可在后面添加新列。新起飞时间和新到达时间与原时间如有不同，请用亮色标出。\n（3）将问题一、问题二、问题三、问题四的新航班计划结果分别放在输出Excel总表格的Sheet1、Sheet2、Sheet3、Sheet4中。该Excel总表格的文件名为“C参赛队号.xls”。表格各页的格式如下示例：\n\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|}\n\\hline\n航班唯一编号 & 起飞时间 & 新起飞时间 & 到达时间 & 新到达时间 & 起飞机场 & 到达机场 & 飞机型号 & 新飞机型号 & 飞机尾号 & 新飞机尾号 & 延误时间 \\\\\n\\hline\n\\end{tabular}\n\n另外需要指出，虽然好的算法设计应该考虑到输入数据的各种不同可能性，本赛题局限于求解附件里的具体案例。\n由于受到暴风雪的影响，管理部门决定在2016年4月22 日的18:00到21:00之间关闭机场OVS。在该时间段内该机场不能起飞或降落任何航班，而该时间段之前的所有航班都处于正常状态，该时间段之后机场可立即恢复正常起降。因此，原定在该日18:00至21:00之间（不包括18：00和21：00这两个时刻）起降的所有航班都需要重新安排，而且它们的重新安排可能造成关闭后其它航班的重新安排。由于OVS机场的跑道限制，该机场每5分钟最多能起飞5架飞机，同时降落5架飞机。例如在21:00 - 21:05之间（不包括21:05时间点）最多有5个起飞航班和5个降落航班，其起飞和降落时间都可以按21:00计算；在21:05 - 21:10之间（不包括21:10时间点）最多有5个起飞航班和5个降落航班，其起飞和降落时间都可以按21:05计算；以此类推。其它机场不需要考虑跑道限制。\n附件中给出了该航空公司在相关时间段内所有航班计划、飞机和旅客信息。摘录部分如下以便理解。\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|c|c|}\n\\hline\n航班唯一编号 & 起飞时间 & 到达时间 & 起飞机场 & 到达机场 & 飞机型号 & 飞机尾号 & \\\\\n\\hline\n174774150 & 1461341700 & 1461348120 & OVS & LEH & 9 & 41098 & \\\\\n\\hline\n174774124 & 1461351000 & 1461356760 & LEH & OVS & 9 & 41098 & \\\\\n\\hline\n174777506 & 1461393900 & 1461399900 & OVS & FUK & 9 & 41098 & \\\\\n\\hline\n174777482 & 1461403200 & 1461409500 & FUK & OVS & 9 & 41098 & \\\\\n\\hline\n174777574 & 1461413400 & 1461422400 & OVS & KMM & 9 & 41098 & \\\\\n\\hline\n174773996 & 1461325560 & 1461335280 & GAZ & OVS & 9 & 51098 & \\\\\n\\hline\n... & ... & ... & ... & ... & ... & ... & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|c|}\n\\hline\n飞机尾号 & 飞机型号 & 最早可用时间 & 最晚可用时间 & 起点机场 & 座位数 & \\\\\n\\hline\n41098 & 9 & 1461333600 & 1461426000 & OVS & 87 & \\\\\n\\hline\n51098 & 9 & 1461325560 & 1461426000 & GAZ & 87 & \\\\\n\\hline\n32098 & 9 & 1461330660 & 1461445800 & VOR & 87 & \\\\\n\\hline\n42098 & 9 & 1461302220 & 1461424200 & OVS & 87 & \\\\\n\\hline\n82098 & 9 & 1461326400 & 1461428400 & OVS & 87 & \\\\\n\\hline\n23098 & 9 & 1461330000 & 1461444600 & QSM & 87 & \\\\\n\\hline\n14098 & 9 & 1461326820 & 1461428700 & OVS & 87 & \\\\\n\\hline\n44098 & 9 & 1461325620 & 1461423900 & OVS & 87 & \\\\\n\\hline\n64098 & 9 & 1461323880 & 1461482400 & OVS & 87 & \\\\\n\\hline\n15098 & 9 & 1461326220 & 1461510000 & OVS & 87 & \\\\\n\\hline\n75098 & 9 & 1461323700 & 1461445800 & OVS & 87 & \\\\\n\\hline\n... & ... & ... & ... & ... & ... & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|}\n\\hline\n旅客号 & 航班唯一编号 & 同行旅客数量 \\\\\n\\hline\n1 & 174777880 & 14 \\\\\n\\hline\n1 & 174781120 & 14 \\\\\n\\hline\n2 & 174773867 & 7 \\\\\n\\hline\n2 & 174778110 & 7 \\\\\n\\hline\n3 & 174778406 & 10 \\\\\n\\hline\n3 & 174777718 & 10 \\\\\n\\hline\n4 & 174777706 & 11 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\begin{tabular}{|c|c|c|}\n\\hline\n机场 & 关闭开始时间 & 关闭结束时间 \\\\\n\\hline\nOVS & 1461348000 & 1461358800 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n第一问：不考虑旅客信息，如何重新规划机型9（不考虑其他机型）的航班计划，制定起飞时间表（给出延误分钟），使得所有原计划安排给机型9的航班尽可能不被取消，同时保证机型9的所有航班总体延误时间最短？此题可参考文献【3】。\n\n第二问：不考虑旅客信息，假定同一机型的所有飞机的载客量相同，其间航班调整没有成本，但在不同机型间调整有成本。比方说飞机DIB PV属于320机型，飞机COB PV属于321机型，航班174774110原计划是安排给飞机DIB PV执行，如果将174774110分配给飞机COB PV执行则需要产生额外的成本。假设此额外成本等价于航班延误半小时（置换和延误有可能会同时发生，则成本叠加）。在这样的假设下如何重新规划飞机航班（包括所有机型的所有航班），制定起飞时间表（给出延误分钟）使原计划航班尽可能不被取消，同时保证所有航班总体延误时间最短？\n\n第三问：进一步考虑飞机的载客量，假设在不同机型间调整航班的成本除了航班本身延误半小时外，还要加上不能登机旅客的成本（这里仍不考虑旅客的联程信息，即假定旅客行程都是直达的，并假设所有航班都是100\\%的上座率）。比如飞机DIB PV的载客量是140人，COB PV的载客量是170人。如果将飞机COB PV的航班分给DIB PV去执行，将会有30名旅客因没有座位而无法登机。但如果将DIB PV的原计划航班分配给COB PV去执行则没有这种情况。假设一名旅客无法登机与该旅客延误2小时的成本相当，该如何重新规划航班以保证旅客总体延误时间最短？\n\n第四问：在第二题的基础上，假设在不同机型间调整航班不考虑成本。我们在旅客数据中提供了旅客的行程信息，包括旅客号，同行旅客数量，和相应的航班。每个旅客行程中的相连航班间最少需要45分钟间隔时间用于中转，如23日的航班174778458（02:05JOG—03:00OVS）与23日的航班174777524（05:50OVS—08:10XVS）的间隔时间为2小时50分钟。旅客的延误按照旅客计划到达最终目的地时间为基准计算。例如在案例中旅客号为6的旅客计划到达XVS时间是23日08:10，如果不晚于该时间到达则延误为0，如果到达XVS时间是23日08:40则延误时间是30分钟，考虑旅客号为6的同行旅客数量为8，则总体延误时间是8*30=240分钟。假定旅客号为6的旅客最终不能到达目的地相当于总体延误了8*24小时。该如何重新规划航班以保证旅客总体延误时间最短？如果某旅客号对应的航班号在航班表里找不到相应记录则不需要考虑该旅客。如果某航班没有对应的旅客信息，可认为该航班目前没有乘客，则延误该航班没有成本代价。",
    "dataset_path": [],
    "dataset_description": {},
    "variable_description": [],
    "addendum": "参考文献\n\n[1] Jon D. Petersen, Gustaf Sölveling, John-Paul Clarke, Ellis L. Johnson, and Sergey Shebalov (2012). An Optimization Approach to Airline Integrated Recovery. Transportation Science, 46(4), 482-500.\n\n[2] J.M. Rosenberger, E.L. Johnson, G.L. Nemhauser (2003). Rerouting Aircraft for Airline Recovery. Transportation Science, 37(4), 408-421.\n\n[3] Ahmad I.Z. Jarrah, Gang Yu, Nirup Krishnamurthy, and Ananda Rakshit (1993). A Decision Support Framework for Airline Flight Cancellations and Delays. Transportation Science, 27(3), 266-280.\n\n[4] Stephen J. Maher (2015). Solving the Integrated Airline Recovery Problem Using Column-and-Row Generation. Transportation Science, 50(1), 216-237.",
    "data_summary": "",
    "data_description": {},
    "problem_str": "问题背景：\n航班恢复问题\n\n随着经济的发展，航空出行已成为越来越多旅客的选择。但众所周知，飞机航班如果不能按原计划执行，不仅会给航空公司造成巨大的经济损失，同时还会给旅客出行带来极大的不便。在造成航班不正常的种种因素中，有些是不可抗阻的自然因素，如暴风雪、飓风等，有些是不可预测的突发事件，如突发恐怖袭击、飞机机械故障等等，还有些是因为管理手段的落后，比如飞行员缺位、空中管制，等等。下表是FlightStats网站公布的今年二月份世界主要航空公司和部分中国航空公司航班准点率的比较。可以看出，虽然中国的航班准点率很低，但其他国家和地区也不乐观，比如美国本土的平均航班准点率也只有77%。\n\n\\begin{tabular}{|c|c|c|c|c|}\n\\hline\n航空公司 & 名次 & 准点率\\% & 航空公司 & 名次 & 准点率\\% \\\\\n\\hline\nIberia & 1 & 92.45 & United (美联航) & 19 & 81.99 \\\\\nSingapore (新航) & 2 & 88.14 & Cathy Pacific (国泰) & 30 & 75.03 \\\\\nDelta (美三角) & 3 & 87.54 & Air China (国航) & 38 & 66.55 \\\\\nAmerican (美航) & 6 & 86.2 & China Eastern (东航) & 39 & 61.74 \\\\\n\\hline\n\\end{tabular}\n\n需要指出的是，由于目前中国航空公司在国内主要航线上航班安排已经比较稠密，一旦某个航班出现故障，就有可能造成一系列的连锁反应，影响成千上万旅客的出行。一些航空公司没有把航班延误作为要事来抓，缺乏有效应对手段。如果抱着“等着瞧”的消极态度，不仅可能造成更多的没有必要的延误，而且还会导致最终产生一个失败的决策。例如航空公司在等待3个小时后，最终决定取消该航班，部分旅客被安置到此后2小时以后的某航班上。这样的结局显然不如一开始就宣布取消该航班，把旅客延迟到某航班上。\n\n世界范围内，近年来快速增长的航空旅客数量已超过了很多主要机场的容量，加上近年气候的反常变化和安全突发事件的增多，航班恢复问题越来越受到各国民航管理机构和各大航空公司的重视，中国主要航空公司也已经把航班恢复的自动化提到了议事日程上了。\n\n最近发生的美国联航乘客被打事件，表面上是一个旅客服务管理问题，但本质上是航班恢复管理不慎造成的结果。联航为了避免外地航班机组人员缺位，紧急从芝加哥基地调遣机组前往。由于机组缺位造成的航班中断有扩散到整个网络的可能，联航赋予了他们很高的登机优先级。这些都是正确的决策并且被正确地执行了，但在最后环节，联航工作人员没有能把座位“拍卖”坚持到最后时刻，从而导致了世界民航史上的这一重大事件的发生，给联航造成了不可挽回的重大损失。\n\n其实，航班恢复问题的“难”除了相关因素的复杂，更主要的原因在于恢复方案的即时性。航班紊乱发生后，恢复方案的决定和实施是越早越好。在手工调整的情况下，调度员只能考虑到影响飞行安全的一些基本因素，很难考虑到全局网络的优化，更别说旅客的行程规划或根据旅客价值信息确定航班恢复的优先级了。举个最简单的例子，假如飞行网络中有一架飞机出现故障需要检修，受影响的航班可能不超过10个，具有多年调度经验的调度员大概需要几十分钟甚至1~2小时进行航班手工调整。可以想象，如果飞行网络出现大面积紊乱，受影响的航班可能有几十个甚至上百个，期望调度员手工在十几分钟甚至几分钟内完成整个网络的调整一定是异想天开，但借助于计算机求解数学优化模型却是可行的。\n\n要最终可行，还有两个关键因素必须解决：1. 如何创建合适的数学模型；2. 如何用合适的算法快速求解这个数学模型。学术界研究航班恢复问题已经很久，取得了很好的进展，但业界至今还很少有实际的应用解决方案。因为理论研究一般都局限于有限的时间和空间，运行约束也仅仅是实际约束的部分子集，这样的方法很难被航空公司的运控部门采纳而直接用于生产实践。目前世界上提供解决航班恢复问题的产品寥寥无几，具有完整功能、满足各种实际需求的产品还只有Sabre一家。本赛题就是针对以上这两个问题而设计的。Sabre公司通过在高校开展学术竞赛来提高学术界对不正常航班的恢复研究的关注度。更多相关的资料可以在以下网页浏览下载，\n\nhttp://page.sabreairlinesolutions.com/orcompetitions。\n\n总而言之，创建合适的数学模型和采用行之有效的算法求解是解决航班恢复问题的关键。目前，学术界一般采用decomposition（例如Bender’s Decomposition或者Column Generation）的方法来求解这一类整数规划模型，更好的算法还有待于发现。\n\n2. 问题介绍\n\n航班恢复问题本质上是运营恢复问题的一部分。或者说，广义的航班恢复就是运营恢复，包括（狭义的）航班恢复（Flight Recovery）、机组恢复（Crew Recovery）和旅客行程重新规划（Passenger Re-accommodation）三部分，它们相互约束，构成一个整体上超大规模的运筹优化问题。这个优化问题具有难以想象的复杂度，不是工业界目前已有计算机的计算能力所及。在实际运营过程中，航空公司是按流程次序先考虑航班恢复，然后在此基础上机组恢复，最后重新规划旅客的行程，把他们送往各自的目的地。相应地，采用运筹优化方法解决运营恢复问题也是按这三步把整个大问题按阶段次序分解成子问题【1】，即首先求解航班恢复问题，在此基础上求解机组恢复问题和旅客行程再规划问题。\n\n需要指出的是，由于缺少信息交互，虽然每个子问题的求解可以达到局部最优，但整体最优却得不到保证，甚至有出现不可行解的可能。已经有学者证明，整合两个或者三个子问题成一个单一数学模型，可以得到更好质量的解【4】。所以本赛题作为航班恢复问题由四个子题目组成，从最基本的单一机型的航班恢复，多机型恢复，最后到考虑旅客行程重新规划的航班恢复。为了避免过于复杂化，本赛题不考虑机组人员的恢复，也不考虑旅客行程重新规划。\n\n针对航班恢复问题，通常有三种航班调整方法：航班延误、飞机置换和航班取消。航班延误和飞机置换可以同时发生。\n\n\\textbf{航班延误}\n\n如果选择航班延误，还需要给出具体的延误时间（以分钟为单位）。通常航空公司对延误都有最大延误时间约束，本赛题规定航班最大延误时间为5小时，即延误超过5小时时一定取消该航班。以间隔10分钟为一个决策单位，那么一个航班就有30个延误决策可选。航班延误的代价除了旅客满意度降低外，更重要的是联程旅客可能赶不上下趟航班。\n\n本赛题规定，飞机的飞行时间不会因延误而受影响。\n\n\\textbf{飞机置换}\n\n飞机置换就是将航班安排给不同于原计划执行飞机的其他飞机去执行。如下图所示，按计划，航班1连接航班3由飞机A执行，航班2连接航班4由飞机B执行。但由于延误，飞机A执行完航班1后没有足够时间间隔，无法及时执行航班3。于是，调度员将航班3安排给飞机B，航班4安排给飞机A去执行。飞机置换并不需要在完全相同的飞机之间进行，航空公司可以安排给满足约束条件的任何其它飞机。实际操作中，一般安排给同机型家族（比如A320），或者同机型（比如A320-200）的任何一架飞机。飞机置换通常是最佳航班恢复方案，只要能满足最小飞机间隔时间就行。但这种机会不总是存在。\n\n飞机间隔时间是指同一架飞机在执行完一趟航班到执行下一趟航班前的地面停留时间。本题规定最小飞机间隔时间是45分钟。\n\n\\section*{航班取消}\n\n众所周知航班取消的含义，这里就省略解释。航班取消的代价显然是最严重的。\n\n\\section{数学模型示例}\n\n下面给出一个充分简化了的航班恢复问题的线性规划模型，供参赛者理解本赛题。参赛者可以在本模型的基础上完善并引入本赛题的具体目标和约束，比如最小飞机间隔时间，恢复期开始时航班的衔接，等等。但需要指出的是，建模方法很多（比如参考文献里模型就不一样），针对同一数学模型的算法也可以很多，具体采用什么模型和算法，以期在算法复杂度、解的质量和模型简洁方面达到平衡，由参赛者自己决定。\\begin{tabular}{l l}\n最小化 & $\\sum_{f \\in F} CancelCost_f \\cdot (1 - x_f) + \\sum_{f \\in F} DelayCost_f \\cdot \\sum_{t \\in T_f} (t - Dpt_f) \\cdot x_{ft}$ \\\\\n约束条件 & $x_f = \\sum_{t \\in T_f} x_{ft}, \\forall f \\in F$ \\\\\n& $x_{ft} = \\sum_{p \\in P} x_{ftp}, \\forall t \\in T, \\forall f \\in F$ \\\\\n& $y_{atp} = \\sum_{f \\in F_a^I} \\sum_{Dpt_f \\leq s < t - Fly_f} x_{fsp} - \\sum_{f \\in F_a^O} \\sum_{Dpt_f \\leq s < t} x_{fsp}, \\forall a \\in A, \\forall t \\in T, \\forall p \\in P, s \\in T_f$ \\\\\n变量定义 & $x_f$: 0-1变量，用来表示航班 $f$ 是否运营. \\\\\n& $x_{ft}$: 0-1变量，用来表示航班 $f$ 是否在时间点 $t$ 起飞. \\\\\n& $x_{ftp}$: 0-1变量，用来表示航班 $f$ 是否在时间点 $t$ 由飞机 $p$ 起飞. \\\\\n& $y_{atp}$: 0-1变量，用来表示飞机 $p$ 在时间点 $t$ 是否停在机场 $a$. \\\\\n参数符号 & $T$: 时间轴上所考虑时间点的集合 \\\\\n& $F$: 所有航班的集合 \\\\\n& $A$: 所有机场的集合 \\\\\n& $P$: 所有飞机的集合 \\\\\n& $T_f \\subseteq T$: 航班 $f$ 的所有允许起飞时间点集合. \\\\\n& $Dpt_f$: 航班 $f$ 的最早允许起飞时间点, $Dpt_f = \\min\\{s: s \\in T_f\\}$. \\\\\n& $Fly_f$: 航班 $f$ 的飞行时间 \\\\\n& $F_a^I \\subseteq F$: 所有到达机场为 $a$ 的航班集合. \\\\\n& $F_a^O \\subseteq F$: 所有起飞机场为 $a$ 的航班集合. \\\\\n& $CancelCost_f$: 取消航班 $f$ 的成本. \\\\\n& $DelayCost_f$: 航班 $f$ 的每分钟的延误成本.\n\\end{tabular}\n\n下面举例说明这个线性规划模型的复杂度。假设一个拥有 $|P|=100$ 架飞机的子机型网络有 $600$ 个航班需要执行。最大延误时间 $5$ 小时，每个航班有 $|T_f|=30$ 个延误选择，每个延误选择可以安排给 $100$ 架飞机里的任意一架。这样大致估计共有 $|F|\\cdot|T_f|\\cdot|P| = 600 \\times 30 \\times 100 = 1.8 \\times 10^6$ 个选择变量 $x_{ftp}$。如果把这样一个有几百万个选择变量的 0-1 整数规划问题采用商用求解器（如 \\\\textbf{CPLEX} 或 \\\\textbf{GUROBI}）直接求解，绝无可能保证在允许的时间限制内求得最优解。实际上，这样的问题完全有可能运行几天甚至几年才能结束。如果我们的航班恢复问题考虑到多个子机型，或者将 $10$ 分钟的延误策间隔降低至 $1$ 分钟（完全灵活地调整延误时间），这个问题将变得更加复杂。\\n\\n除了上述时空网络的数学模型外，也可以将安排给某架飞机的所有航班考虑为一个有效路径，用列生成的方法去求解。这样可以减少因为延误时间而产生的大量决策变量【2】。\n\n问题要求：\n本赛题有如下几个要求和规定：\n\n1. 附件里时间的表达均为 Unix 格式，即从 1970 年 1 月 1 日 0 时 0 分 0 秒算起的秒数。从 Unix 时间格式到一般时间格式的转换可参考附件中 Excel 表格里的转换公式，比如 `((B2/60)/60)/24) + DATE(1970,1,1)`。另外，所有时间均假设为 UTC 国际标准时间。\n2. 所有航班只能延误，不能提前，最早起飞时间不能早于原计划的起飞时间。\n3. 各航班的飞行时间是常量，即航班数据中的到达时间减去起飞时间。\n4. 保证每架飞机的连续航班能首尾相连，即前一航班的到达机场与后一航班的起飞机场必须相同，而且前一航班到达时间与后一航班起飞时间之间的最小间隔时间为 45 分钟。\n5. 所有飞机的第一个航班要满足如下两个条件：（1）航班的起飞机场与飞机的起点机场一致，（2）航班的起飞时间不早于飞机的最早可用时间。\n6. 所有飞机的最后一个航班的到达时间不能晚于飞机的最晚可用时间。\n7. 航班延误的决策时间点间隔为 10 分钟（比如，安排给 X 飞机并按计划起飞，安排给 X 飞机并延误 10 分钟，安排给 X 飞机并延误 20 分钟，安排给 X 飞机并延误 30 分钟，以此类推）。如果参赛者有能力通过其他的数学模型找出更灵活的延误时间可以不考虑这一假设。\n8. 不考虑机场可停留飞机的容量。理论上所有机场可以全天 24 小时工作。\n9. 同行旅客是指一起订票并且行程完全一致的旅客，他们共享同一个旅客号，并作为一个整体考虑，即不能分乘不同的航班。\n10. 所有航班，包括机场 OVS 关闭时段内的航班，它们的延误时间都需要被考虑到。为了最大可能保护航班，尽量不取消航班。\n11. 数据结果提交的格式要求：参赛者除了在论文中必须叙述如何解读结果外，还必须提交完整的新航班计划并作为附件与论文一起发送指定邮箱。提交的新航班计划有如下格式要求：\n（1）虽然输入数据的时间都是Unix格式，所有输出数据的时间必须都是一般格式，比如，4/22/16 16:15 表示2016年4月22日16时15分。\n（2）可以在原航班数据（见后）格式的基础上，添加“新机型号”、“新飞机尾号”、“新起飞时间”、“新到达时间”和“延误时间”。列的次序按下表示例。如有需要，参赛者还可在后面添加新列。新起飞时间和新到达时间与原时间如有不同，请用亮色标出。\n（3）将问题一、问题二、问题三、问题四的新航班计划结果分别放在输出Excel总表格的Sheet1、Sheet2、Sheet3、Sheet4中。该Excel总表格的文件名为“C参赛队号.xls”。表格各页的格式如下示例：\n\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|}\n\\hline\n航班唯一编号 & 起飞时间 & 新起飞时间 & 到达时间 & 新到达时间 & 起飞机场 & 到达机场 & 飞机型号 & 新飞机型号 & 飞机尾号 & 新飞机尾号 & 延误时间 \\\\\n\\hline\n\\end{tabular}\n\n另外需要指出，虽然好的算法设计应该考虑到输入数据的各种不同可能性，本赛题局限于求解附件里的具体案例。\n由于受到暴风雪的影响，管理部门决定在2016年4月22 日的18:00到21:00之间关闭机场OVS。在该时间段内该机场不能起飞或降落任何航班，而该时间段之前的所有航班都处于正常状态，该时间段之后机场可立即恢复正常起降。因此，原定在该日18:00至21:00之间（不包括18：00和21：00这两个时刻）起降的所有航班都需要重新安排，而且它们的重新安排可能造成关闭后其它航班的重新安排。由于OVS机场的跑道限制，该机场每5分钟最多能起飞5架飞机，同时降落5架飞机。例如在21:00 - 21:05之间（不包括21:05时间点）最多有5个起飞航班和5个降落航班，其起飞和降落时间都可以按21:00计算；在21:05 - 21:10之间（不包括21:10时间点）最多有5个起飞航班和5个降落航班，其起飞和降落时间都可以按21:05计算；以此类推。其它机场不需要考虑跑道限制。\n附件中给出了该航空公司在相关时间段内所有航班计划、飞机和旅客信息。摘录部分如下以便理解。\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|c|c|}\n\\hline\n航班唯一编号 & 起飞时间 & 到达时间 & 起飞机场 & 到达机场 & 飞机型号 & 飞机尾号 & \\\\\n\\hline\n174774150 & 1461341700 & 1461348120 & OVS & LEH & 9 & 41098 & \\\\\n\\hline\n174774124 & 1461351000 & 1461356760 & LEH & OVS & 9 & 41098 & \\\\\n\\hline\n174777506 & 1461393900 & 1461399900 & OVS & FUK & 9 & 41098 & \\\\\n\\hline\n174777482 & 1461403200 & 1461409500 & FUK & OVS & 9 & 41098 & \\\\\n\\hline\n174777574 & 1461413400 & 1461422400 & OVS & KMM & 9 & 41098 & \\\\\n\\hline\n174773996 & 1461325560 & 1461335280 & GAZ & OVS & 9 & 51098 & \\\\\n\\hline\n... & ... & ... & ... & ... & ... & ... & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|c|}\n\\hline\n飞机尾号 & 飞机型号 & 最早可用时间 & 最晚可用时间 & 起点机场 & 座位数 & \\\\\n\\hline\n41098 & 9 & 1461333600 & 1461426000 & OVS & 87 & \\\\\n\\hline\n51098 & 9 & 1461325560 & 1461426000 & GAZ & 87 & \\\\\n\\hline\n32098 & 9 & 1461330660 & 1461445800 & VOR & 87 & \\\\\n\\hline\n42098 & 9 & 1461302220 & 1461424200 & OVS & 87 & \\\\\n\\hline\n82098 & 9 & 1461326400 & 1461428400 & OVS & 87 & \\\\\n\\hline\n23098 & 9 & 1461330000 & 1461444600 & QSM & 87 & \\\\\n\\hline\n14098 & 9 & 1461326820 & 1461428700 & OVS & 87 & \\\\\n\\hline\n44098 & 9 & 1461325620 & 1461423900 & OVS & 87 & \\\\\n\\hline\n64098 & 9 & 1461323880 & 1461482400 & OVS & 87 & \\\\\n\\hline\n15098 & 9 & 1461326220 & 1461510000 & OVS & 87 & \\\\\n\\hline\n75098 & 9 & 1461323700 & 1461445800 & OVS & 87 & \\\\\n\\hline\n... & ... & ... & ... & ... & ... & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|}\n\\hline\n旅客号 & 航班唯一编号 & 同行旅客数量 \\\\\n\\hline\n1 & 174777880 & 14 \\\\\n\\hline\n1 & 174781120 & 14 \\\\\n\\hline\n2 & 174773867 & 7 \\\\\n\\hline\n2 & 174778110 & 7 \\\\\n\\hline\n3 & 174778406 & 10 \\\\\n\\hline\n3 & 174777718 & 10 \\\\\n\\hline\n4 & 174777706 & 11 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\begin{tabular}{|c|c|c|}\n\\hline\n机场 & 关闭开始时间 & 关闭结束时间 \\\\\n\\hline\nOVS & 1461348000 & 1461358800 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n第一问：不考虑旅客信息，如何重新规划机型9（不考虑其他机型）的航班计划，制定起飞时间表（给出延误分钟），使得所有原计划安排给机型9的航班尽可能不被取消，同时保证机型9的所有航班总体延误时间最短？此题可参考文献【3】。\n\n第二问：不考虑旅客信息，假定同一机型的所有飞机的载客量相同，其间航班调整没有成本，但在不同机型间调整有成本。比方说飞机DIB PV属于320机型，飞机COB PV属于321机型，航班174774110原计划是安排给飞机DIB PV执行，如果将174774110分配给飞机COB PV执行则需要产生额外的成本。假设此额外成本等价于航班延误半小时（置换和延误有可能会同时发生，则成本叠加）。在这样的假设下如何重新规划飞机航班（包括所有机型的所有航班），制定起飞时间表（给出延误分钟）使原计划航班尽可能不被取消，同时保证所有航班总体延误时间最短？\n\n第三问：进一步考虑飞机的载客量，假设在不同机型间调整航班的成本除了航班本身延误半小时外，还要加上不能登机旅客的成本（这里仍不考虑旅客的联程信息，即假定旅客行程都是直达的，并假设所有航班都是100\\%的上座率）。比如飞机DIB PV的载客量是140人，COB PV的载客量是170人。如果将飞机COB PV的航班分给DIB PV去执行，将会有30名旅客因没有座位而无法登机。但如果将DIB PV的原计划航班分配给COB PV去执行则没有这种情况。假设一名旅客无法登机与该旅客延误2小时的成本相当，该如何重新规划航班以保证旅客总体延误时间最短？\n\n第四问：在第二题的基础上，假设在不同机型间调整航班不考虑成本。我们在旅客数据中提供了旅客的行程信息，包括旅客号，同行旅客数量，和相应的航班。每个旅客行程中的相连航班间最少需要45分钟间隔时间用于中转，如23日的航班174778458（02:05JOG—03:00OVS）与23日的航班174777524（05:50OVS—08:10XVS）的间隔时间为2小时50分钟。旅客的延误按照旅客计划到达最终目的地时间为基准计算。例如在案例中旅客号为6的旅客计划到达XVS时间是23日08:10，如果不晚于该时间到达则延误为0，如果到达XVS时间是23日08:40则延误时间是30分钟，考虑旅客号为6的同行旅客数量为8，则总体延误时间是8*30=240分钟。假定旅客号为6的旅客最终不能到达目的地相当于总体延误了8*24小时。该如何重新规划航班以保证旅客总体延误时间最短？如果某旅客号对应的航班号在航班表里找不到相应记录则不需要考虑该旅客。如果某航班没有对应的旅客信息，可认为该航班目前没有乘客，则延误该航班没有成本代价。\nAddendum: \n参考文献\n\n[1] Jon D. Petersen, Gustaf Sölveling, John-Paul Clarke, Ellis L. Johnson, and Sergey Shebalov (2012). An Optimization Approach to Airline Integrated Recovery. Transportation Science, 46(4), 482-500.\n\n[2] J.M. Rosenberger, E.L. Johnson, G.L. Nemhauser (2003). Rerouting Aircraft for Airline Recovery. Transportation Science, 37(4), 408-421.\n\n[3] Ahmad I.Z. Jarrah, Gang Yu, Nirup Krishnamurthy, and Ananda Rakshit (1993). A Decision Support Framework for Airline Flight Cancellations and Delays. Transportation Science, 27(3), 266-280.\n\n[4] Stephen J. Maher (2015). Solving the Integrated Airline Recovery Problem Using Column-and-Row Generation. Transportation Science, 50(1), 216-237."
  },
  "problem_background": "航班恢复问题\n\n随着经济的发展，航空出行已成为越来越多旅客的选择。但众所周知，飞机航班如果不能按原计划执行，不仅会给航空公司造成巨大的经济损失，同时还会给旅客出行带来极大的不便。在造成航班不正常的种种因素中，有些是不可抗阻的自然因素，如暴风雪、飓风等，有些是不可预测的突发事件，如突发恐怖袭击、飞机机械故障等等，还有些是因为管理手段的落后，比如飞行员缺位、空中管制，等等。下表是FlightStats网站公布的今年二月份世界主要航空公司和部分中国航空公司航班准点率的比较。可以看出，虽然中国的航班准点率很低，但其他国家和地区也不乐观，比如美国本土的平均航班准点率也只有77%。\n\n\\begin{tabular}{|c|c|c|c|c|}\n\\hline\n航空公司 & 名次 & 准点率\\% & 航空公司 & 名次 & 准点率\\% \\\\\n\\hline\nIberia & 1 & 92.45 & United (美联航) & 19 & 81.99 \\\\\nSingapore (新航) & 2 & 88.14 & Cathy Pacific (国泰) & 30 & 75.03 \\\\\nDelta (美三角) & 3 & 87.54 & Air China (国航) & 38 & 66.55 \\\\\nAmerican (美航) & 6 & 86.2 & China Eastern (东航) & 39 & 61.74 \\\\\n\\hline\n\\end{tabular}\n\n需要指出的是，由于目前中国航空公司在国内主要航线上航班安排已经比较稠密，一旦某个航班出现故障，就有可能造成一系列的连锁反应，影响成千上万旅客的出行。一些航空公司没有把航班延误作为要事来抓，缺乏有效应对手段。如果抱着“等着瞧”的消极态度，不仅可能造成更多的没有必要的延误，而且还会导致最终产生一个失败的决策。例如航空公司在等待3个小时后，最终决定取消该航班，部分旅客被安置到此后2小时以后的某航班上。这样的结局显然不如一开始就宣布取消该航班，把旅客延迟到某航班上。\n\n世界范围内，近年来快速增长的航空旅客数量已超过了很多主要机场的容量，加上近年气候的反常变化和安全突发事件的增多，航班恢复问题越来越受到各国民航管理机构和各大航空公司的重视，中国主要航空公司也已经把航班恢复的自动化提到了议事日程上了。\n\n最近发生的美国联航乘客被打事件，表面上是一个旅客服务管理问题，但本质上是航班恢复管理不慎造成的结果。联航为了避免外地航班机组人员缺位，紧急从芝加哥基地调遣机组前往。由于机组缺位造成的航班中断有扩散到整个网络的可能，联航赋予了他们很高的登机优先级。这些都是正确的决策并且被正确地执行了，但在最后环节，联航工作人员没有能把座位“拍卖”坚持到最后时刻，从而导致了世界民航史上的这一重大事件的发生，给联航造成了不可挽回的重大损失。\n\n其实，航班恢复问题的“难”除了相关因素的复杂，更主要的原因在于恢复方案的即时性。航班紊乱发生后，恢复方案的决定和实施是越早越好。在手工调整的情况下，调度员只能考虑到影响飞行安全的一些基本因素，很难考虑到全局网络的优化，更别说旅客的行程规划或根据旅客价值信息确定航班恢复的优先级了。举个最简单的例子，假如飞行网络中有一架飞机出现故障需要检修，受影响的航班可能不超过10个，具有多年调度经验的调度员大概需要几十分钟甚至1~2小时进行航班手工调整。可以想象，如果飞行网络出现大面积紊乱，受影响的航班可能有几十个甚至上百个，期望调度员手工在十几分钟甚至几分钟内完成整个网络的调整一定是异想天开，但借助于计算机求解数学优化模型却是可行的。\n\n要最终可行，还有两个关键因素必须解决：1. 如何创建合适的数学模型；2. 如何用合适的算法快速求解这个数学模型。学术界研究航班恢复问题已经很久，取得了很好的进展，但业界至今还很少有实际的应用解决方案。因为理论研究一般都局限于有限的时间和空间，运行约束也仅仅是实际约束的部分子集，这样的方法很难被航空公司的运控部门采纳而直接用于生产实践。目前世界上提供解决航班恢复问题的产品寥寥无几，具有完整功能、满足各种实际需求的产品还只有Sabre一家。本赛题就是针对以上这两个问题而设计的。Sabre公司通过在高校开展学术竞赛来提高学术界对不正常航班的恢复研究的关注度。更多相关的资料可以在以下网页浏览下载，\n\nhttp://page.sabreairlinesolutions.com/orcompetitions。\n\n总而言之，创建合适的数学模型和采用行之有效的算法求解是解决航班恢复问题的关键。目前，学术界一般采用decomposition（例如Bender’s Decomposition或者Column Generation）的方法来求解这一类整数规划模型，更好的算法还有待于发现。\n\n2. 问题介绍\n\n航班恢复问题本质上是运营恢复问题的一部分。或者说，广义的航班恢复就是运营恢复，包括（狭义的）航班恢复（Flight Recovery）、机组恢复（Crew Recovery）和旅客行程重新规划（Passenger Re-accommodation）三部分，它们相互约束，构成一个整体上超大规模的运筹优化问题。这个优化问题具有难以想象的复杂度，不是工业界目前已有计算机的计算能力所及。在实际运营过程中，航空公司是按流程次序先考虑航班恢复，然后在此基础上机组恢复，最后重新规划旅客的行程，把他们送往各自的目的地。相应地，采用运筹优化方法解决运营恢复问题也是按这三步把整个大问题按阶段次序分解成子问题【1】，即首先求解航班恢复问题，在此基础上求解机组恢复问题和旅客行程再规划问题。\n\n需要指出的是，由于缺少信息交互，虽然每个子问题的求解可以达到局部最优，但整体最优却得不到保证，甚至有出现不可行解的可能。已经有学者证明，整合两个或者三个子问题成一个单一数学模型，可以得到更好质量的解【4】。所以本赛题作为航班恢复问题由四个子题目组成，从最基本的单一机型的航班恢复，多机型恢复，最后到考虑旅客行程重新规划的航班恢复。为了避免过于复杂化，本赛题不考虑机组人员的恢复，也不考虑旅客行程重新规划。\n\n针对航班恢复问题，通常有三种航班调整方法：航班延误、飞机置换和航班取消。航班延误和飞机置换可以同时发生。\n\n\\textbf{航班延误}\n\n如果选择航班延误，还需要给出具体的延误时间（以分钟为单位）。通常航空公司对延误都有最大延误时间约束，本赛题规定航班最大延误时间为5小时，即延误超过5小时时一定取消该航班。以间隔10分钟为一个决策单位，那么一个航班就有30个延误决策可选。航班延误的代价除了旅客满意度降低外，更重要的是联程旅客可能赶不上下趟航班。\n\n本赛题规定，飞机的飞行时间不会因延误而受影响。\n\n\\textbf{飞机置换}\n\n飞机置换就是将航班安排给不同于原计划执行飞机的其他飞机去执行。如下图所示，按计划，航班1连接航班3由飞机A执行，航班2连接航班4由飞机B执行。但由于延误，飞机A执行完航班1后没有足够时间间隔，无法及时执行航班3。于是，调度员将航班3安排给飞机B，航班4安排给飞机A去执行。飞机置换并不需要在完全相同的飞机之间进行，航空公司可以安排给满足约束条件的任何其它飞机。实际操作中，一般安排给同机型家族（比如A320），或者同机型（比如A320-200）的任何一架飞机。飞机置换通常是最佳航班恢复方案，只要能满足最小飞机间隔时间就行。但这种机会不总是存在。\n\n飞机间隔时间是指同一架飞机在执行完一趟航班到执行下一趟航班前的地面停留时间。本题规定最小飞机间隔时间是45分钟。\n\n\\section*{航班取消}\n\n众所周知航班取消的含义，这里就省略解释。航班取消的代价显然是最严重的。\n\n\\section{数学模型示例}\n\n下面给出一个充分简化了的航班恢复问题的线性规划模型，供参赛者理解本赛题。参赛者可以在本模型的基础上完善并引入本赛题的具体目标和约束，比如最小飞机间隔时间，恢复期开始时航班的衔接，等等。但需要指出的是，建模方法很多（比如参考文献里模型就不一样），针对同一数学模型的算法也可以很多，具体采用什么模型和算法，以期在算法复杂度、解的质量和模型简洁方面达到平衡，由参赛者自己决定。\\begin{tabular}{l l}\n最小化 & $\\sum_{f \\in F} CancelCost_f \\cdot (1 - x_f) + \\sum_{f \\in F} DelayCost_f \\cdot \\sum_{t \\in T_f} (t - Dpt_f) \\cdot x_{ft}$ \\\\\n约束条件 & $x_f = \\sum_{t \\in T_f} x_{ft}, \\forall f \\in F$ \\\\\n& $x_{ft} = \\sum_{p \\in P} x_{ftp}, \\forall t \\in T, \\forall f \\in F$ \\\\\n& $y_{atp} = \\sum_{f \\in F_a^I} \\sum_{Dpt_f \\leq s < t - Fly_f} x_{fsp} - \\sum_{f \\in F_a^O} \\sum_{Dpt_f \\leq s < t} x_{fsp}, \\forall a \\in A, \\forall t \\in T, \\forall p \\in P, s \\in T_f$ \\\\\n变量定义 & $x_f$: 0-1变量，用来表示航班 $f$ 是否运营. \\\\\n& $x_{ft}$: 0-1变量，用来表示航班 $f$ 是否在时间点 $t$ 起飞. \\\\\n& $x_{ftp}$: 0-1变量，用来表示航班 $f$ 是否在时间点 $t$ 由飞机 $p$ 起飞. \\\\\n& $y_{atp}$: 0-1变量，用来表示飞机 $p$ 在时间点 $t$ 是否停在机场 $a$. \\\\\n参数符号 & $T$: 时间轴上所考虑时间点的集合 \\\\\n& $F$: 所有航班的集合 \\\\\n& $A$: 所有机场的集合 \\\\\n& $P$: 所有飞机的集合 \\\\\n& $T_f \\subseteq T$: 航班 $f$ 的所有允许起飞时间点集合. \\\\\n& $Dpt_f$: 航班 $f$ 的最早允许起飞时间点, $Dpt_f = \\min\\{s: s \\in T_f\\}$. \\\\\n& $Fly_f$: 航班 $f$ 的飞行时间 \\\\\n& $F_a^I \\subseteq F$: 所有到达机场为 $a$ 的航班集合. \\\\\n& $F_a^O \\subseteq F$: 所有起飞机场为 $a$ 的航班集合. \\\\\n& $CancelCost_f$: 取消航班 $f$ 的成本. \\\\\n& $DelayCost_f$: 航班 $f$ 的每分钟的延误成本.\n\\end{tabular}\n\n下面举例说明这个线性规划模型的复杂度。假设一个拥有 $|P|=100$ 架飞机的子机型网络有 $600$ 个航班需要执行。最大延误时间 $5$ 小时，每个航班有 $|T_f|=30$ 个延误选择，每个延误选择可以安排给 $100$ 架飞机里的任意一架。这样大致估计共有 $|F|\\cdot|T_f|\\cdot|P| = 600 \\times 30 \\times 100 = 1.8 \\times 10^6$ 个选择变量 $x_{ftp}$。如果把这样一个有几百万个选择变量的 0-1 整数规划问题采用商用求解器（如 \\\\textbf{CPLEX} 或 \\\\textbf{GUROBI}）直接求解，绝无可能保证在允许的时间限制内求得最优解。实际上，这样的问题完全有可能运行几天甚至几年才能结束。如果我们的航班恢复问题考虑到多个子机型，或者将 $10$ 分钟的延误策间隔降低至 $1$ 分钟（完全灵活地调整延误时间），这个问题将变得更加复杂。\\n\\n除了上述时空网络的数学模型外，也可以将安排给某架飞机的所有航班考虑为一个有效路径，用列生成的方法去求解。这样可以减少因为延误时间而产生的大量决策变量【2】。",
  "problem_requirement": "本赛题有如下几个要求和规定：\n\n1. 附件里时间的表达均为 Unix 格式，即从 1970 年 1 月 1 日 0 时 0 分 0 秒算起的秒数。从 Unix 时间格式到一般时间格式的转换可参考附件中 Excel 表格里的转换公式，比如 `((B2/60)/60)/24) + DATE(1970,1,1)`。另外，所有时间均假设为 UTC 国际标准时间。\n2. 所有航班只能延误，不能提前，最早起飞时间不能早于原计划的起飞时间。\n3. 各航班的飞行时间是常量，即航班数据中的到达时间减去起飞时间。\n4. 保证每架飞机的连续航班能首尾相连，即前一航班的到达机场与后一航班的起飞机场必须相同，而且前一航班到达时间与后一航班起飞时间之间的最小间隔时间为 45 分钟。\n5. 所有飞机的第一个航班要满足如下两个条件：（1）航班的起飞机场与飞机的起点机场一致，（2）航班的起飞时间不早于飞机的最早可用时间。\n6. 所有飞机的最后一个航班的到达时间不能晚于飞机的最晚可用时间。\n7. 航班延误的决策时间点间隔为 10 分钟（比如，安排给 X 飞机并按计划起飞，安排给 X 飞机并延误 10 分钟，安排给 X 飞机并延误 20 分钟，安排给 X 飞机并延误 30 分钟，以此类推）。如果参赛者有能力通过其他的数学模型找出更灵活的延误时间可以不考虑这一假设。\n8. 不考虑机场可停留飞机的容量。理论上所有机场可以全天 24 小时工作。\n9. 同行旅客是指一起订票并且行程完全一致的旅客，他们共享同一个旅客号，并作为一个整体考虑，即不能分乘不同的航班。\n10. 所有航班，包括机场 OVS 关闭时段内的航班，它们的延误时间都需要被考虑到。为了最大可能保护航班，尽量不取消航班。\n11. 数据结果提交的格式要求：参赛者除了在论文中必须叙述如何解读结果外，还必须提交完整的新航班计划并作为附件与论文一起发送指定邮箱。提交的新航班计划有如下格式要求：\n（1）虽然输入数据的时间都是Unix格式，所有输出数据的时间必须都是一般格式，比如，4/22/16 16:15 表示2016年4月22日16时15分。\n（2）可以在原航班数据（见后）格式的基础上，添加“新机型号”、“新飞机尾号”、“新起飞时间”、“新到达时间”和“延误时间”。列的次序按下表示例。如有需要，参赛者还可在后面添加新列。新起飞时间和新到达时间与原时间如有不同，请用亮色标出。\n（3）将问题一、问题二、问题三、问题四的新航班计划结果分别放在输出Excel总表格的Sheet1、Sheet2、Sheet3、Sheet4中。该Excel总表格的文件名为“C参赛队号.xls”。表格各页的格式如下示例：\n\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|}\n\\hline\n航班唯一编号 & 起飞时间 & 新起飞时间 & 到达时间 & 新到达时间 & 起飞机场 & 到达机场 & 飞机型号 & 新飞机型号 & 飞机尾号 & 新飞机尾号 & 延误时间 \\\\\n\\hline\n\\end{tabular}\n\n另外需要指出，虽然好的算法设计应该考虑到输入数据的各种不同可能性，本赛题局限于求解附件里的具体案例。\n由于受到暴风雪的影响，管理部门决定在2016年4月22 日的18:00到21:00之间关闭机场OVS。在该时间段内该机场不能起飞或降落任何航班，而该时间段之前的所有航班都处于正常状态，该时间段之后机场可立即恢复正常起降。因此，原定在该日18:00至21:00之间（不包括18：00和21：00这两个时刻）起降的所有航班都需要重新安排，而且它们的重新安排可能造成关闭后其它航班的重新安排。由于OVS机场的跑道限制，该机场每5分钟最多能起飞5架飞机，同时降落5架飞机。例如在21:00 - 21:05之间（不包括21:05时间点）最多有5个起飞航班和5个降落航班，其起飞和降落时间都可以按21:00计算；在21:05 - 21:10之间（不包括21:10时间点）最多有5个起飞航班和5个降落航班，其起飞和降落时间都可以按21:05计算；以此类推。其它机场不需要考虑跑道限制。\n附件中给出了该航空公司在相关时间段内所有航班计划、飞机和旅客信息。摘录部分如下以便理解。\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|c|c|}\n\\hline\n航班唯一编号 & 起飞时间 & 到达时间 & 起飞机场 & 到达机场 & 飞机型号 & 飞机尾号 & \\\\\n\\hline\n174774150 & 1461341700 & 1461348120 & OVS & LEH & 9 & 41098 & \\\\\n\\hline\n174774124 & 1461351000 & 1461356760 & LEH & OVS & 9 & 41098 & \\\\\n\\hline\n174777506 & 1461393900 & 1461399900 & OVS & FUK & 9 & 41098 & \\\\\n\\hline\n174777482 & 1461403200 & 1461409500 & FUK & OVS & 9 & 41098 & \\\\\n\\hline\n174777574 & 1461413400 & 1461422400 & OVS & KMM & 9 & 41098 & \\\\\n\\hline\n174773996 & 1461325560 & 1461335280 & GAZ & OVS & 9 & 51098 & \\\\\n\\hline\n... & ... & ... & ... & ... & ... & ... & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|c|c|c|c|}\n\\hline\n飞机尾号 & 飞机型号 & 最早可用时间 & 最晚可用时间 & 起点机场 & 座位数 & \\\\\n\\hline\n41098 & 9 & 1461333600 & 1461426000 & OVS & 87 & \\\\\n\\hline\n51098 & 9 & 1461325560 & 1461426000 & GAZ & 87 & \\\\\n\\hline\n32098 & 9 & 1461330660 & 1461445800 & VOR & 87 & \\\\\n\\hline\n42098 & 9 & 1461302220 & 1461424200 & OVS & 87 & \\\\\n\\hline\n82098 & 9 & 1461326400 & 1461428400 & OVS & 87 & \\\\\n\\hline\n23098 & 9 & 1461330000 & 1461444600 & QSM & 87 & \\\\\n\\hline\n14098 & 9 & 1461326820 & 1461428700 & OVS & 87 & \\\\\n\\hline\n44098 & 9 & 1461325620 & 1461423900 & OVS & 87 & \\\\\n\\hline\n64098 & 9 & 1461323880 & 1461482400 & OVS & 87 & \\\\\n\\hline\n15098 & 9 & 1461326220 & 1461510000 & OVS & 87 & \\\\\n\\hline\n75098 & 9 & 1461323700 & 1461445800 & OVS & 87 & \\\\\n\\hline\n... & ... & ... & ... & ... & ... & \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\centering\n\\begin{tabular}{|c|c|c|}\n\\hline\n旅客号 & 航班唯一编号 & 同行旅客数量 \\\\\n\\hline\n1 & 174777880 & 14 \\\\\n\\hline\n1 & 174781120 & 14 \\\\\n\\hline\n2 & 174773867 & 7 \\\\\n\\hline\n2 & 174778110 & 7 \\\\\n\\hline\n3 & 174778406 & 10 \\\\\n\\hline\n3 & 174777718 & 10 \\\\\n\\hline\n4 & 174777706 & 11 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n\\begin{table}\n\\begin{tabular}{|c|c|c|}\n\\hline\n机场 & 关闭开始时间 & 关闭结束时间 \\\\\n\\hline\nOVS & 1461348000 & 1461358800 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\n第一问：不考虑旅客信息，如何重新规划机型9（不考虑其他机型）的航班计划，制定起飞时间表（给出延误分钟），使得所有原计划安排给机型9的航班尽可能不被取消，同时保证机型9的所有航班总体延误时间最短？此题可参考文献【3】。\n\n第二问：不考虑旅客信息，假定同一机型的所有飞机的载客量相同，其间航班调整没有成本，但在不同机型间调整有成本。比方说飞机DIB PV属于320机型，飞机COB PV属于321机型，航班174774110原计划是安排给飞机DIB PV执行，如果将174774110分配给飞机COB PV执行则需要产生额外的成本。假设此额外成本等价于航班延误半小时（置换和延误有可能会同时发生，则成本叠加）。在这样的假设下如何重新规划飞机航班（包括所有机型的所有航班），制定起飞时间表（给出延误分钟）使原计划航班尽可能不被取消，同时保证所有航班总体延误时间最短？\n\n第三问：进一步考虑飞机的载客量，假设在不同机型间调整航班的成本除了航班本身延误半小时外，还要加上不能登机旅客的成本（这里仍不考虑旅客的联程信息，即假定旅客行程都是直达的，并假设所有航班都是100\\%的上座率）。比如飞机DIB PV的载客量是140人，COB PV的载客量是170人。如果将飞机COB PV的航班分给DIB PV去执行，将会有30名旅客因没有座位而无法登机。但如果将DIB PV的原计划航班分配给COB PV去执行则没有这种情况。假设一名旅客无法登机与该旅客延误2小时的成本相当，该如何重新规划航班以保证旅客总体延误时间最短？\n\n第四问：在第二题的基础上，假设在不同机型间调整航班不考虑成本。我们在旅客数据中提供了旅客的行程信息，包括旅客号，同行旅客数量，和相应的航班。每个旅客行程中的相连航班间最少需要45分钟间隔时间用于中转，如23日的航班174778458（02:05JOG—03:00OVS）与23日的航班174777524（05:50OVS—08:10XVS）的间隔时间为2小时50分钟。旅客的延误按照旅客计划到达最终目的地时间为基准计算。例如在案例中旅客号为6的旅客计划到达XVS时间是23日08:10，如果不晚于该时间到达则延误为0，如果到达XVS时间是23日08:40则延误时间是30分钟，考虑旅客号为6的同行旅客数量为8，则总体延误时间是8*30=240分钟。假定旅客号为6的旅客最终不能到达目的地相当于总体延误了8*24小时。该如何重新规划航班以保证旅客总体延误时间最短？如果某旅客号对应的航班号在航班表里找不到相应记录则不需要考虑该旅客。如果某航班没有对应的旅客信息，可认为该航班目前没有乘客，则延误该航班没有成本代价。",
  "problem_analysis": "这是一个典型的运筹优化问题，表面上看是对航班时间表和飞机资源的重新分配与调度，实质上是一个高度耦合的多目标、受限组合优化问题，涉及资源约束（飞机轮换、最小周转时间、机型兼容性、飞机可用时间）、时空约束（起降时间段、机场跑道容量、OVS机场关闭窗口及其恢复后的离散化时隙）以及经济/服务指标（取消成本、延误成本、旅客延误与无法登机的代价）。从宏观上审视，模型的主要目标在于在约束可行性的前提下尽可能保全原计划的航班（最小化取消），同时最小化整体延误量或旅客到达最终目的地的延误总和；这就自然导致多目标或需将多类成本合成单一目标的权衡问题（例如把取消、延误、机型置换和旅客受损转化为统一的货币或时间代价）。这些目标决定了解法思路：既要保证输出在工业操作上可立即执行（满足连续机队轮换、机位衔接、OVS跑道容量等硬约束），又要在极短的时间内给出高质量解，因此需要在模型准确性与算法可实时性之间做出折衷。\n\n问题描述中存在明显和隐含的多个假设，这些假设会显著影响模型的解释力与适用性。显性假设包括：飞行时间不随延误变化（即空中时间固定）、延误只能向后不能提前、每架飞机的第一个和最后一个航班分别受始发地与可用时间约束、最小地面周转45分钟、延误决策粒度为10分钟、OVS关闭窗口严格禁止起降且恢复时以5分钟时隙限流、除OVS外机场无跑道容量限制等。隐含假设则更重要：忽略机组排班与换班约束、对部分题目忽略旅客联程影响或假设满载率为100%、假设机型之间置换成本可以低维度近似（如半小时延误等价）、将旅客影响线性化（每名旅客延误等价一固定时间成本或无法到达等价于24小时），以及假设输入数据完全准确且静态（在恢复期内无新的扰动）。这些简化在竞赛或研究中有助于可解性，但在实际应用中可能导致方案不可行或对旅客/机组安全与成本评价失真。例如忽略机组可能造成生成的飞机轮换在现实中无法配备合规机组，或把置换成本粗糙化忽视了机型维修、地面服务与载客/行李差异对操作的影响。\n\n系统内部要素高度耦合，导致问题的“传染性”——对一个航班的延误或取消不仅影响其后续由同一架飞机执行的航班（轮换链），还会通过旅客联程关系影响其他不在同架飞机上的航班。飞机置换引入新的耦合层次：允许跨飞机/机型调配可以提高可行性与减少取消，但会产生额外的服务或载客损失，且可能需要在多个轮换链间重新安排多个航班以恢复连续性。这里存在核心张力：以最小取消为目标往往需要更大幅度的延误和复杂置换，从而增加总体旅客延误或运营成本；以最小化旅客延误为目标可能导致更多取消或对特定高价值旅客的优先保护，引发公平性问题。再者，运行约束之间也可能冲突，例如保障航班首尾与飞机起点/终点一致与最小化延误可能发生冲突，如何在约束松紧与经济权衡上设定优先级是建模关键。\n\n复杂性在空间与时间尺度上呈非线性增长。即便仅考虑单一机型，时间离散化（每10分钟一档）与每架飞机多航班组合会导致指数级状态空间；引入多机型、旅客联程和机型载客差异后问题接近NP-hard的大规模整数规划。动态因素同样关键：实际环境中扰动是逐步暴露的（例如除雪过程、跑道重启的延时、机组延误、乘客未及时到场），因此一次性静态优化可能很快失效。解决办法包括采用滚动时域（rolling horizon）策略、实时再优化、鲁棒优化或基于场景的随机规划来提高方案稳定性和对输入扰动的容错性。此外，应评估长期效应，如频繁的航班重排可能累积导致机队利用率下降、乘客流失或运营成本上升，这些宏观影响在短期恢复模型中常被忽略但对决策至关重要。\n\n从建模视角存在多种等价或替代表述，各有优劣：时间-空间扩展网路的0-1变量模型直观但变量数量巨大；以航班序列或飞机线路为列的路径列生成（column generation）可显著压缩变量数并适合轮换约束，但需复杂的定价子问题与列管理；混合整数规划可直接表达多种约束但在规模上难以实时求解；启发式或元启发式（局部搜索、遗传算法、LNS、贪心加修复）能提供快速近优解并易于集成业务规则，但缺少最优性证明与可解释性。模型选择还应考虑可扩展性与可解释性：商业应用中需人机协作、结果可视化与手工微调能力，故通常采用混合策略——先用快速启发算出可行解，再用求解器局部改进并生成备选方案供人工决策。\n\n不确定性管理与风险评估是建模不可或缺的部分。关键不确定来源包括未来的二次扰动、旅客未登机概率、实际乘客构成（是否真满载）、机组可用性等。对此可采用敏感性分析、多场景优化或鲁棒对策来衡量方案在不同情形下的性能，设置风险缓解（例如保留若干应急飞机、预留时段或优先级缓冲）。成本参数的校准（取消、延误、无法登机代价）应与航空公司实际经济模型与客户服务策略对齐，否则优化结果对实际决策无用。\n\n最后，建模过程应被视为迭代和面向实践的：初始模型可先采用可解的简化版本用于实际运行与收敛时间评估，随后逐步引入关键约束（机组、部分机场容量、旅客联程）并进行A/B测试与回放验证（用历史事件回放检验决策鲁棒性）。算法上建议结合问题分解（按连通子图拆分受影响航班）、列生成生成可行飞机路径、启发式快速生成初始解、再用局部混合整数优化精化，再通过滚动时域与场景分析保证实时性与鲁棒性。整个过程中要保持数据质量控制、可解释性与人工干预通道，以确保最终方案既数学上有良好性质又能被运控部门采纳并在真实操作中稳健执行。",
  "modeling_solution": "总体思路概述：为兼顾学术可解释性与工业可实施性，我提出一个以路径（飞机轮换）为核心的集成混合整数规划模型（mixed integer programming with column generation / branch-and-price 框架），在主层用集合分配/路径选择表达每架飞机在恢复期内的完整轮换（包含具体起飞时刻或延误档位、机型替换和是否取消），在下层用乘客流的最小费用流或二次分配子问题评估在给定航班计划下旅客的重安置成本。主目标通过加权和形式把取消、航班延误、机型置换、拒载/无法登机和旅客最终到达延误等各类代价统一量化并最小化。为实现可解性与实时性，采用列生成生成可行轮换列（pricing 为资源受限最短路/标签定价），并用拉格朗日松弛或Benders分解把乘客影响以可更新的对偶价性地反馈到主问题中；在需要极短响应时间时，结合启发式(Large Neighborhood Search, 局部搜索、贪心修复)与并行化定价，给出近优可执行方案。该框架天然支持题目一到题目四按约束逐步加严的情形：单一机型可限制路径集合与机型兼容性，多机型加入替换成本，包含载客和旅客联程时在主/子问题中并入座位与乘客流约束。\n\n基本假设（在题目要求的前提下的补充与必要简化）：时间离散化以10分钟为基本单位（OVS恢复后因跑道5分钟时隙可按最细5分钟处理，模型允许混合粒度）；航班延误仅允许向后；飞行空中时间固定不随延误改变；忽略机组调配约束（题目所允）；每架飞机在恢复期内的首航满足始发机场与最早可用时间约束，末航在最晚可用时间之前；最小地面周转45分钟（以时隙计）；机场（除OVS）无跑道容量上限；OVS关闭窗口内航班不可起降，恢复后每5分钟起降上限设置为5；航班座位数按机型固定且已知；旅客若在给定解决方案下无法到达目的地，按题目给定的惩罚（例如24小时）计价。为数值稳定性，将所有时间成本换算为同一基准（例如分钟或金钱），并对取消成本、旅客延误单位成本、拒载成本及机型替换等代价做可调权重以进行敏感性分析与运营策略匹配。\n\n符号与变量（核心集合与变量描述，便于写出约束关系）：令 F 为所有航班集合， P 为飞机集合（含尾号与机型信息）， T 为离散时刻集合（10分钟档或5分钟档）， R_p 为为飞机 p 可生成的可行轮换（路径）集合；每个轮换 r ∈ R_p 列表化若干顺序航班 (f1,t1),(f2,t2),… 满足机场衔接、最小周转、始末时刻可用性与OVS限制。 定义二元决策变量 z_{p,r} ∈ {0,1} 表示将轮换 r 分配给飞机 p（每架飞机最多选一轮换）；二元变量 c_f ∈ {0,1} 表示航班 f 被取消（1 表示取消或不执行）；可选的精细变量 x_{f,t,p}（或隐含在选定轮换中）表示航班 f 在时刻 t 由飞机 p 执行。 对乘客，令 K 为旅客行程集合（含同行组数 w_k），每个旅客行程由一系列航班序列构成（或单段），定义二元变量 y_{k,route} 表示旅客 k 被安置在某一备选到达路径（可能为空，代表未能到达）；更高层面可以用连续变量 delay_k 为旅客最终到达与原计划到达的延迟分钟。 参数包括 flight_f 原定起飞/到达时间， flytime_f， seat_p (飞机 p 座位数或机型座位数)， turn_min = 45min， earliest_p， latest_p， OV S 关闭窗口以及OVS时隙容量 cap_slot. 代价参数有 cancel_cost_f（取消一班的成本，通常极高）、 delay_cost_per_minute_f（航班或乘客延误的单位代价）、 replace_cost_{fromType,toType}（机型替换代价，可量化为等效延误分钟或金钱）、 denied_boarding_cost_per_passenger（无法登机一位乘客的代价，题目给定可等价为两小时延误的成本或其它值）、 passenger_arrival_delay_cost_per_minute（旅客延误单位代价）。 为便于可操作性，所有代价可转为同一货币单位或时间代价加权。\n\n目标函数（统一加权最小化）：最小化 Σ_f cancel_cost_f * c_f + Σ_f Σ_p Σ_t delay_cost_f * (t - flight_f) * x_{f,t,p} + Σ_{p,r} replace_cost_{type(p),type(r)} * z_{p,r}（若轮换含替换则计） + Σ_k w_k * passenger_arrival_delay_cost * delay_k + Σ_f denied_boarding_cost * denied_f（或用乘客流惩罚项代替）。 对于题目不同阶段，可通过设置权重或屏蔽相应代价项来还原题目一（只考虑机型9、强调最少取消与总延误最小化）、题目二（加入机型替换成本等价项）、题目三（在替换成本中加入拒载乘客成本）、题目四（完整乘客流约束和联程衔接、乘客延误按最终到达计算并加入目标）。\n\n主约束（以路径表示的集合覆盖/分配型约束）：每个航班 f 要么被某一被选择轮换覆盖（即被某架飞机在某时刻执行），要么被取消： Σ_{p} Σ_{r∈R_p: r 包含 f} z_{p,r} + c_f = 1, ∀ f ∈ F。 每架飞机 p 只能选择一条轮换： Σ_{r∈R_p} z_{p,r} ≤ 1, ∀ p。 轮换的生成本身必须满足资源约束（在pricing子问题中强制）：轮换中相邻航班满足目的地-始发地匹配、turn_min、机型兼容性（若轮换跨机型则计入替换成本或被划分为不同飞机）、首航起飞机场为飞机起点且起飞时间 ≥ earliest_p、最后到达 ≤ latest_p、任何航班在OVS关闭窗口内不得包含起降事件等。 OVS 时隙容量约束用时间-区间约束在主问题或单独的slot-assignment子问题中表达：对于每个OVS时隙 s（5分钟区间）， Σ_{p} Σ_{r∈R_p} I_{r has a departure at s at OVS} * z_{p,r} ≤ cap_takeoff_s（=5），以及相应的降落上限。 若选用时刻-飞机-航班形式变量 x_{f,t,p}，则对OVS时隙做直接约束 Σ_{f,t∈slot,s.t. at OVS} Σ_p x_{f,t,p} ≤ cap_s。 航班执行时间窗口约束确保 t ∈ T_f（允许的延误档），若超过最大延误（5小时）则强制取消。 座位和旅客流约束（当包含旅客时）：对每个航班 f 的执行（由某轮换产生）其承载乘客量 ≤ 所有到达分配到该航班的乘客数之和 ≤ seat_assigned。 旅客多段联程衔接：若旅客 k 原计划有连段航班，若被重安置到另一条路径，则路径中航班时间必须满足转机最小间隔45min；旅客最终到达时间由所选路径决定，用于计算 delay_k。 对于被拒载或无法到达的旅客，按题目规则应用惩罚。\n\n求解策略与算法流程（可分层）：第一步，生成初始可行解：对每架飞机按原计划尽可能保留其轮换，并对OVS关闭时段受影响航班先行作局部调整（延后到最接近的可用时隙）或标记为候选取消；这一阶段用贪心法或整数匹配得到速解。 第二步，列生成主循环（用于精确或近精确求解）：主问题（master）是选择轮换覆盖航班的集合分配问题（线性松弛或MIP），pricing 子问题为每架飞机 p 在给定对偶价下寻找一条最小化 reduced cost 的可行轮换（这是带有时间窗与资源的最短路/标签定价问题，可用标签设定并行求解）；pricing 中将乘客延误/拒载外部化为对每个航班的边权或节点权（使用上一步乘客分配子问题通过对偶价反馈乘客成本）。 乘客分配子问题在每次主问题生成新轮换后以给定航班时刻表求解：构建旅客到达网络，把航班作为边、机场留置等作为节点，用最小费用最大流（若每个旅客为团体可用多商品流或逐组指派）求解重安置方案并返回乘客代价和对航班的边际乘客价值作为价格信息返馈到master（这与Benders分解或拉格朗日双重化思想类似）。 第三步，若需要整数解，则在列生成得到良好列池后采用分支定价（branch-and-price），或者在松弛最优的基础上用启发式（LNS、局部交换、轮换重插入、机型替换决策）快速找到整数可行解。 为提高工程可行性，包含若干实用加速：pricing 并行化（每架飞机一个线程/进程）、列池稳定化（投影与平滑）、限时早停返回可行解、对OVS时隙用单独小规模MIP精确分配起降以保证跑道约束。 对乘客较多的实例，可把乘客分组按价值/联程复杂度分级，先保障高价值或联程密集的乘客再调整余下乘客（优先级分层）。\n\n计算复杂度与实施资源：对中等规模实例（数百航班、数十到上百架飞机），列生成+并行pricing 在现代多核CPU上通常可在数分钟至一小时内得到高质量解；针对实时调度需求，可先运行速解贪心并在后台以更长时间优化，或在滚动时域每10-30分钟重优化一次。 为满足实时性，建议实现混合策略：短时限（数十秒）内返回可执行保守方案（最少取消、局部延误），在接下来的几分钟内改进方案并通知运营。 若需要更强的鲁棒性，可在目标中引入二阶段或稳健项（minimax 或 CVaR）并以少量场景抽样进行鲁棒化。\n\n不确定性、敏感性与验证：模型需对关键参数（取消成本、乘客延误价值、替换成本）做敏感性分析，运用历史数据校准权重；对OVS关闭长度、跑道恢复节拍等做场景分析。 使用历史事件回放（retrospective simulation）验证模型能否在已知扰动下至少匹配或优于人工调度结果；用蒙特卡洛模拟评估方案在额外扰动（后续航班延误、飞机不可用等）下的稳定性。 为提高预测能力，可通过机器学习模块估计乘客未到场概率、联程脱落风险等，并把这些概率性信息融入乘客分配的期望成本中，从而降低对不确定性的敏感性。\n\n扩展与改进方向：在后续版本可纳入机组调度约束（工时、基地与换班）、更细粒度的机场容量与地面服务限制、考虑空中牵引/油耗等运营成本，或将乘客满意度纳入多目标优化并通过Pareto前沿呈现备选方案。 可将模型扩展为滚动-实时框架：每次新扰动或航班到达后重新求解并仅实施首段决策，从而兼顾全网最优与实时可执行性。 另外，采用数据驱动近似（例如使用强化学习或学习到的价值函数近似pricing中的最小增益）可以在大规模情形下进一步提升实时性能与决策质量。\n\n总结陈述：该方案在理论上通过列生成/分解方法将冗大的时空决策问题转化为若干更小的资源受限路径与乘客流子问题，以保证精确度；在工程实现上通过并行定价、启发式修复与滚动再优化保证实时可操作性。它自然适配题目一至题目四的约束层级变化：通过限制轮换生成集、调节代价函数项及引入/移除乘客流子问题即可获得对应问题的求解器，且在面对工业背景的额外约束（跑道容量、机型替换、席位限制、旅客联程）时保持结构清晰并易于扩展与校准。",
  "task_descriptions": [
    "子任务1（数据整理、参数标定与可行轮换空间预处理）负责把竞赛给定的原始文本/Excel/CSV表格转化为可被优化器直接使用、结构化且经过校验的输入数据和一组初始候选轮换（columns），其目标是统一时间与代价尺度、明确每个航班的可行延误时刻集合与每架飞机的资源约束、建立航班间可连通性关系并生成若干初始可行轮换以供后续优化使用。为达此目标，需按以下步骤执行：1) 时间与粒度标准化：将所有Unix时间转换为可读时间并归一为分钟刻度，同时建立决策时隙索引——标准全局粒度为10分钟档（T），但为精确表示OVS跑道恢复后的5分钟节拍，也同时建立5分钟时隙映射以用于OVS时隙容量约束；将每个航班f的最早起飞设为原计划起飞，最晚起飞设为原计划起飞+5小时，并以10分钟为步长生成允许起飞时刻集合 T_f（对OVS起降必须排除关闭窗口内的时刻）；2) 航班与飞机属性计算：读取并固定每航班的飞行时间（到达-起飞）、始发和到达机场、原始时刻等；读取每架飞机p的机型、尾号、座位数、最早可用和最晚可用时间、起点机场并转换为相同时间刻度；3) 约束核验与邻接关系构建：为所有航班构建有向可连通图（节点为航班或航班+时刻档），在图中仅保留满足“到达机场==下一航班起飞机场”且“到达时刻+最小周转45分钟 ≤ 下一航班允许起飞时刻”的边，记录每对航班之间的最早可连续转接时刻和最小等待；同时为每架飞机生成其与航班的兼容矩阵（机型兼容、起点与首航、可用时段、最大延误限制）；4) OVS时隙与容量映射：根据OVS关闭窗口和恢复后每5分钟最多起降5架的规则，把OVS上的所有起降时刻映射到5分钟时隙索引，并构造每个时隙的起降容量约束数据结构；5) 代价参数归一化：将取消成本、航班每分钟延误成本、机型替换等价成本、拒载/旅客代价等（若在数据中给出）转换为统一基准（分钟代价或货币单位），并把这些参数写入可调整的配置文件以便后续灵活调参；6) 初始轮换候选生成：构造若干初始轮换列供列生成/定价使用，包括（a）保留原计划中每架飞机的原始轮换（若满足最小周转和可用性）；（b）对OVS关闭影响的航班进行局部贪心修复：按飞机原序尝试将受影响航班向后推到该航班允许的最近时刻（≤最晚起飞）并保持后续连贯性；若直接后推不可行，尝试与同机型飞机交换可行航班；（c）对仍不可安排的航班标记为“候选取消”；（d）在每架飞机上用贪心最早可行分配算法扫描剩余未分配航班、沿可连通图构建额外轮换，确保每条轮换满足：首航起飞机场等于飞机起点且首航起飞≥earliest_p，末航到达≤latest_p，轮换内任一航班起飞时间∈其T_f且相邻航班间满足45分钟周转并不包含OVS关闭内起降；7) 输出与验证：将所有处理结果输出为规范化文件集（CSV或Excel），至少包括：航班表（原始字段+允许起飞时刻集合T_f索引+飞行时间+影响标志）、飞机表（机型/尾号/座位/可用窗口/起点）、航班邻接表（可转接边与最早可接时刻）、OVS时隙容量表、代价参数文件以及初始轮换清单（每列记录轮换所属飞机、包含的航班序列及对应建议起飞时刻）；同时生成初步可行调度草案（greedy schedule）与校验报告，列出所有无任何可行轮换覆盖的航班、违反约束的候选项和需人工复核的数据异常。建议使用Python（pandas、numpy、networkx）、SQL或轻量数据库进行数据清洗与图构建、并用标准时间处理库（datetime）与Excel输出库（openpyxl或xlsxwriter）完成文件生成与格式校验，以保证下游优化模块能无歧义直接读取和使用这些结构化输入。",
    "子任务 2（路径为主的数学建模与目标函数构造）旨在把航班恢复问题严格表述为一个以“轮换/路径列”为基本决策单元的整数规划模型，并明确其所有输入、输出、决策变量、约束和目标函数形式，以便后续求解模块能够直接读取和使用该数学模型；本子任务的范围包含：对每架飞机 p 定义一个候选轮换集合 R_p，其中每条轮换 r∈R_p 明确列出该轮换在恢复期内按时间顺序执行的航班序列及每个航班的拟定起飞时刻（时间以10分钟为基本离散步长，但轮换可保留5分钟映射以满足OVS时隙约束），并规定轮换的可行性规则——首航起飞机场必须等于飞机起点且起飞时间≥该飞机最早可用时间，轮换中相邻航班的到达机场必须等于下一航班的起飞机场且相邻航班的起飞时间须满足最小地面周转（45分钟），轮换内不得包含在OVS关闭窗口内的起降事件，且轮换的末航到达时间≤飞机最晚可用时间；决策变量为二元变量 z_{p,r}∈{0,1}（表示为飞机 p 选用轮换 r）和二元取消变量 c_f∈{0,1}（表示航班 f 被取消），可选地在模型中保留显式三元变量 x_{f,t,p} 用以表示航班 f 在时刻 t 被飞机 p 执行（当需要精确表达OVS时隙或细粒度计费时使用），并要求对每一航班 f 满足覆盖约束 Σ_{p}Σ_{r∈R_p: r 包含 f} z_{p,r} + c_f = 1（即每班航班要么被某架飞机的某条轮换执行，要么被取消），对每架飞机 p 满足装配约束 Σ_{r∈R_p} z_{p,r} ≤ 1（每架飞机最多选一轮换），此外对OVS机场在每个5分钟时隙 s 应施加起降容量约束（例如 Σ_{p}Σ_{r} I_{r 在时隙 s 有起飞且在 OVS}·z_{p,r} ≤ 5，类似地对降落计数），对航班允许运行时间窗强制 t ∈ T_f （原起飞时间到原起飞+5小时的离散集合），并确保任何轮换中航班的起飞时刻不会超过各航班的最大延误界限；目标函数采用统一的加权和形式以支持题目各版本的不同权重设置，基本构成包括：取消成本项 Σ_f cancel_cost_f·c_f（通常设为很高以优先避免取消），航班延误成本项 Σ_{f,p,t} delay_cost_f·(t - orig_dep_f)·x_{f,t,p}（或在轮换层面将航班起飞时刻的延误分钟累加为该轮换的延误成本），机型/机体置换成本项 Σ_{p,r} replace_cost_{type(orig_f),type(p)}·z_{p,r}（用于计入跨机型执行的隐性成本或按等效延误分钟计价），以及与旅客相关的成本项（当涉及旅客时）Σ_k w_k·passenger_arrival_delay_cost·delay_k + Σ_f denied_boarding_cost·denied_f；旅客相关代价在模型中可通过外生参数或由一个独立的乘客分配子模型（最小费用流/网络指派）在给定航班时刻表下计算后作为额外常数或边际价反馈到每条轮换的成本中，以保证主问题目标能够反映座位供给、拒载与联程到达延误的真实代价。为保证模型完全可复现，本子任务应明确所需全部输入数据格式：航班列表（航班唯一编号、原起飞/到达Unix时间、起降机场、飞行时间、所属机型）、飞机列表（尾号、机型、座位数、最早/最晚可用Unix时间、起点机场）、OVS关闭窗口与恢复后每5分钟时隙容量、旅客行程表（旅客号、对应航班序列、同行旅客数量及联程最小转机时间）、代价参数（每班取消成本、每分钟延误成本、机型替换成本矩阵、拒载/乘客延误单位成本）、时间离散化参数和最小周转时间；输出应为明确的轮换分配和航班执行计划：对每架飞机输出所选轮换 r 及轮换中每班航班的最终起飞/到达时间（以竞赛要求的一般时间格式），对每班航班输出其是否取消及延误分钟数，并输出乘客到达延误或被拒载的汇总代价。模型表达形式建议以集合覆盖/列生成友好的整型线性规划（set partitioning/covering）为主，乘客安置子问题以带转机时间限制的时间展开最短路径或最小费用多源多宿流模型表达，所有符号、参数和约束应在建模文档中逐项给出以便直接用于建模软件（例如用 AMPL/Gurobi/CPLEX 的 MIP 表达式和标准网络流求解器），且保留开关参数以便在不同题目情形下通过约束或目标项的启停来还原单一机型、多机型、载客量影响和联程旅客影响等不同版本。",
    "子任务3（求解框架与算法实现——列生成、定价、整数化与启发式）的目标是把已定义的“以轮换/路径为列”的模型转化为一套可运行、高效并具实时响应能力的求解器实现；其范围限于算法设计与工程实现细节（不含数据清洗或后续验证），交付内容包括：可并行执行的列生成主循环、用于为每架飞机产生候选轮换的定价子程序、将列松弛解整数化的策略（分支定价或混合启发）、若干用于快速获取高质量可行解的启发式与修复算子、以及工程化的时间与内存限制、列池管理和输出接口。具体实现步骤与技术要点如下：首先，通过贪心启发产生初始列池（保存原计划轮换、受影响航班的局部向后推移轮换、以及若干基于同机型交换的候选轮换），将这些轮换作为主问题的初始变量；其次，主问题在每次迭代以线性松弛形式由商用求解器（推荐 Gurobi 或 CPLEX）求解以取得对偶价（dual prices），主问题变量为二元轮换选择 z_{p,r}，并在主问题层面实现必须在全局强制的约束（如 OVS 时隙容量、航班覆盖约束的线性表达、每架飞机至多一条轮换等）；第三，pricing 子问题对每架飞机并行运行，形式化为带资源约束的最短路/标签定价问题：图的节点为航班（或航班+时隙），弧权为轮换中航班延误、替换与乘客边际成本，经对偶价调整后计算列的约减成本 reduced_cost_r = cost_r - Σ_f π_f·I_{r,f}，采用标签定价的动态规划/标签设置算法（label-setting）并加入有效的支配规则（以时间、已占用OVS时隙计数、累计延误和剩余可用时窗为资源向量）以高效剪枝；pricing 必须在生成的轮换内部强制机场衔接、最小周转（45分钟）、飞机可用时段和不得在OVS关闭期间起降等可行性，并可选择在pricing 中近似考虑 OVS 全局容量（通过对偶惩罚或软约束）或仅生成显式满足局部时隙限制的列而让主问题负责精配；第四，列生成循环直到无法找到负约减成本列或达到预设时间/迭代上限；在此基础上进行整数化：优先对当前列池求解整数主问题（使用 MIP 求解器），若需要证明最优或更严格的整数界，则进入 branch-and-price 框架，分支规则可在航班覆盖约束或 z 变量上进行（在子树中并行定价）；第五，为满足实时性与工程可用性，设计并行化与启发式补强策略：并行化 pricing（每架飞机独立线程/进程）、列池管理（维护活跃/候选列、过期清理与列重复检测）、双向稳定化或对偶平滑以加速收敛，以及在时限触发下返回当前最优整数可行解；启发式策略包括 Large Neighborhood Search (LNS) 风格的破坏-修复（随机选择若干航班/飞机断点，重新生成轮换并用本地MIP重配）、局部交换（两架飞机轮换交换、单航班重分配）、贪心拒载修复和基于优先级的OVS时隙微调；第六，为保证 pricing 的效率，要求实现高效的数据结构（按飞机索引的邻接表、按时隙索引的 OVS 容量表、缓存已探索标签与其支配边界），并对标签算法实现多级支配规则（时间最早优先、延误最小优先、占用OVS槽更少优先）以及必要时对资源向量应用近似聚合以控制状态爆炸；第七，实施细节与工程约束：为主问题与pricing 交互设定统一时间与内存上限、对pricing 结果异步汇报并由主问题周期性批量加入新列、启用warm start与列池回用以提高MIP性能，并记录详细日志以便回退或人工介入；建议主控程序用 Python 调度（pandas、multiprocessing/asyncio），pricing 用高性能语言实现核心标签（C++ 或用 numba/JIT 加速的 Python），主/整数求解调用 Gurobi/CPLEX API，网络流或乘客子问题（若并入）用专门的最小费用流库求解。停止标准包括：无负约减成本列、达到时间上限或主问题整数解在若干次迭代内无改进；当提前停止时应返回当前最佳整数可行解并标注违反的全局软约束（若有）。最后，交付接口需能导出满足竞赛格式的航班执行表（含每班新起飞/到达时刻、执行飞机尾号/机型与延误分钟），同时输出列池快照、对偶价历史与收敛曲线以便后续诊断。",
    "子任务4（验证、鲁棒性、敏感性分析与运营落地策略）旨在独立承担将调度/恢复方案从算法产物转化为可被运营采用、在不确定性下稳健并可度量的工程交付件的全部工作：范围包括（1）输入数据的确认与统计建模（历史航班起降时间与延误分布、机场跑道恢复时序与容量恢复分布、飞机突发不可用统计、旅客未到/迟到与联程脱落概率、取消/延误/拒载的经济代价参数和可用的实时观测数据流），（2）回放验证（retrospective simulation）——用离散事件/时间步模拟器在已知历史扰动事件上重放所生成调度，比较关键绩效指标（KPI：航班取消数、被拒载人数、总体与每旅客到达延误的均值/中位/95%分位、OVS时隙违规次数、方案可行率、求解与部署时延）与人工/基线方案以确认功能正确性和质量改进，（3）概率/场景压力测试——用蒙特卡洛生成数千个扰动场景（按历史或估计分布抽样，包含额外延误、临时飞机不可用、不同OVS恢复时点与跑道节拍变动、旅客到达率波动等）评估方案在不同置信区间下的表现并输出均值、方差与风险度量（CVaR、最差情形），（4）参数敏感性分析——对关键代价参数（取消成本、单位旅客延误成本、置换等价成本、拒载惩罚）、最小周转与OVS时隙容量分别做单因子与多因子参数扫描（或用Tornado图、局部弹性系数）以量化输出对参数变化的敏感度并给出可操作的参数区间与推荐值，（5）鲁棒化/保守化策略评估与构建——在已有模拟结果基础上比较并实现至少两类稳健策略（基于场景的两阶段随机规划或期望-风险目标、以及基于CVaR/最小最大化的鲁棒优化），以及简单工程可行的缓冲措施（保留若干备用飞机或时间缓冲、对高风险航段提高优先级、对OVS恢复设定保守时隙解），并给出各策略在成本-风险权衡下的Pareto比较表；（6）实时运营部署规范——定义重优化频率（例如首次即时响应后每10–30分钟滚动重优化）、最大允许计算时限与降级策略（当优化未完成时采用保守预案）、日志与审计要求（每次计算的输入快照、对偶价、候选方案、KPI时间序列）、人机交互接口要求（允许调度员查看若干候选方案、手动锁定关键航班或机组优先级、导出Excel结果格式与可视化摘要），并规定触发告警的阈值（如预期取消数超出阈值、CVaR超限或OVS时隙冲突概率>某阈值）；（7）可复现性与报告交付——输出应包含：回放与蒙特卡洛结果汇总表（CSV/Excel）、敏感性与鲁棒性分析报告（PDF，含图表和建议参数区间）、若干可部署的调度候选（按竞赛/运营格式的表格）、以及用于现场验收的验收条件清单（KPI阈值、运行时限、回退流程）；（8）工具链与实现细节建议：使用离散事件/时间步模拟器（例如 SimPy 或自建高性能 C++/Python 模块）进行回放与蒙特卡洛，统计与分布拟合用 numpy/scipy/pandas，若需数据驱动估计则用 scikit-learn；优化相关的稳健或场景化求解可借助 Gurobi/CPLEX（或开源的 OR-Tools）并与仿真器以文件/API 交互，性能测试在多核环境下并行化执行；（9）验收标准与交付时间表：定义明确的可接受改进门槛（例如相较基线，平均旅客到达延误降低至少X%、取消率不高于Y%、95%分位延误低于Z小时），并在交付时给出一套推荐的部署配置（并行核数、内存、容器化部署与备份机制）、运维手册与现场应急回退流程。该子任务只产出可重复、可测量并可操作的验证报告、场景化鲁棒化方案集、敏感性分析结果与明确的运营部署规范，确保运营方能依据这些交付件在实际运行中安全、按策略且可审计地采用或回退自动调度结果。"
  ]
}