{
  "tasks": [],
  "problem_str": "问题背景：\n汽油是小型车辆的主要燃料，汽油燃烧产生的尾气排放对大气环境有重要影响。为此，世界各国都制定了日益严格的汽油质量标准（见下表）。汽油清洁化重点是降低汽油中的硫、烯烃含量，同时尽量保持其辛烷值。\n\n\\begin{tabular}{l c c c c c}\n & & 硫含量/(μg/g) & 苯含量/% & 芳烃含量/% & 烯烃含量/% \\\\\n车用汽油标准 & 辛烷值 & & & & \\\\\n & & $\\leq$ & $\\leq$ & $\\leq$ & $\\leq$ \\\\\n国III(2010年) & 90-97 & 150 & 1 & 40 & 30 \\\\\n国IV(2014年) & 90-97 & 50 & 1 & 40 & 28 \\\\\n国V(2017年) & 89-95 & 10 & 1 & 40 & 24 \\\\\n国VI-A(2019年) & 89-95 & 10 & 0.8 & 35 & 18 \\\\\n国VI-B(2023年) & 89-95 & 10 & 0.8 & 35 & 15 \\\\\n欧V(2009年) & 95 & 10 & 1 & 35 & 18 \\\\\n欧VI(2013年) & 95 & 10 & 1 & 35 & 18 \\\\\n世界燃油规范(V类汽油) & 95 & 10 & 1 & 35 & 10 \\\\\n\\end{tabular}注: μg/g是一个浓度单位，也有用mg/kg或ppm表示的（以下同）\n\n我国原油对外依存度超过70%，且大部分是中东地区的含硫和高硫原油。原油中的重油通常占比40-60%，这部分重油（以硫为代表的杂质含量也高）难以直接利用。为了有效利用重油资源，我国大力发展了以催化裂化为核心的重油轻质化工艺技术，将重油转化为汽油、柴油和低碳烯烃，超过70%的汽油是由催化裂化生产得到，因此成品汽油中95%以上的硫和烯烃来自催化裂化汽油。故必须对催化裂化汽油进行精制处理，以满足对汽油质量要求。\n\n辛烷值（以RON表示）是反映汽油燃烧性能的最重要指标，并作为汽油的商品牌号（例如89#、92#、95#）。现有技术在对催化裂化汽油进行脱硫和降烯烃过程中，普遍降低了汽油辛烷值。辛烷值每降低1个单位，相当于损失约150元/吨。以一个100万吨/年催化裂化汽油精制装置为例，若能降低RON损失0.3个单位，其经济效益将达到四千五百万元。\n\n化工过程的建模一般是通过数据关联或机理建模的方法来实现的，取得了一定的成果。但是由于炼油工艺过程的复杂性以及设备的多样性，它们的操作变量（控制变量）之间具有高度非线性和相互强耦联的关系，而且传统的数据关联模型中变量相对较少、机理建模对原料的分析要求较高，对过程优化的响应不及时，所以效果并不理想。\n\n某石化企业的催化裂化汽油精制脱硫装置运行4年，积累了大量历史数据，其汽油产品辛烷值损失平均为1.37个单位，而同类装置的最小损失值只有0.6个单位。故有较大的优化空间。请参赛研究生探索利用数据挖掘技术来解决化工过程建模问题。\n\n问题要求：\n二、目标\n\n依据从催化裂化汽油精制装置采集的325个数据样本（每个数据样本都有354个操作变量），通过数据挖掘技术来建立汽油辛烷值（RON）损失的预测模型，并给出每个样本的优化操作条件，在保证汽油产品脱硫效果（欧六和国六标准均为不大于10\\(\\mu\\)g/g，但为了给企业装置操作留有空间，本次建模要求产品硫含量不大于5\\(\\mu\\)g/g）的前提下，尽量降低汽油辛烷值损失在30\\%以上。三、问题\n\n1. 数据处理：请参考近4年的工业数据（见附件一“325个数据样本数据.xlsx”）的预处理结果，依“样本确定方法”（附件二）对285号和313号数据样本进行预处理（原始数据见附件三“285号和313号样本原始数据.xlsx”）并将处理后的数据分别加入到附件一中相应的样本号中，供下面研究使用。\n2. 寻找建模主要变量：\n由于催化裂化汽油精制过程是连续的，虽然操作变量每3分钟就采样一次，但辛烷值（因变量）的测量比较麻烦，一周仅2次无法对应。但根据实际情况可以认为辛烷值的测量值是测量时刻前两小时内操作变量的综合效果，因此预处理中取操作变量两小时内的平均值与辛烷值的测量值对应。这样产生了325个样本（见附件一）。\n建立降低辛烷值损失模型涉及包括7个原料性质、2个待生吸附剂性质、2个再生吸附剂性质、2个产品性质等变量以及另外354个操作变量（共计367个变量），工程技术应用中经常使用先降维后建模的方法，这有利于忽略次要因素，发现并分析影响模型的主要变量与因素。因此，请你们根据提供的325个样本数据（见附件一），通过降维的方法从367个操作变量中筛选出建模主要变量，使之尽可能具有代表性、独立性（为了工程应用方便，建议降维后的主要变量在30个以下），并请详细说明建模主要变量的筛选过程及其合理性。（提示：请考虑将原料的辛烷值作为建模变量之一）。\n3. 建立辛烷值 (RON) 损失预测模型：采用上述样本和建模主要变量，通过数据挖掘技术建立辛烷值 (RON) 损失预测模型，并进行模型验证。\n4. 主要变量操作方案的优化：要求在保证产品硫含量不大于 $5 \\mu \\mathrm{g} / \\mathrm{g}$ 的前提下，利用你们的模型获得 325 个数据样本（见附件四“325 个数据样本数据.xlsx”）中，辛烷值 (RON) 损失降幅大于 30\\% 的样本对应的主要变量优化后的操作条件（优化过程中原料、待生吸附剂、再生吸附剂的性质保持不变，以它们在样本中的数据为准）。\n5. 模型的可视化展示：工业装置为了平稳生产，优化后的主要操作变量（即：问题 2 中的主要变量）往往只能逐步调整到位，请你们对 133 号样本（原料性质、待生吸附剂和再生吸附剂的性质数据保持不变，以样本中的数据为准），以图形展示其主要操作变量优化调整过程中对应的汽油辛烷值和硫含量的变化轨迹。（各主要操作变量每次允许调整幅度值 $\\Delta$ 见附件四“354 个操作变量信息.xlsx”）。\n\\end{enumerate}\nAddendum: \n请考虑将原料的辛烷值作为建模变量之一。\nDataset Path:\n['附件一：325个样本数据.xlsx', '附件三：285号和313号样本原始数据.xlsx', '附件二：样本确定方法.docx', '附件四：354个操作变量信息.xlsx']\n\nData Description:\n该数据集由中石化高桥石化装置采集并整理，包含325个样本（目标变量为精制汽油的辛烷值 RON 及相应损失），每个样本由354个操作变量描述，旨在建立辛烷值损失预测模型并在保证汽油脱硫效果前提下尽量降低辛烷值损失；数据来源包括装置实时数据库与 LIMS 实验数据库，随附文件有“285号和313号样本原始数据.xlsx”（包含285号与313号样本的原料、产品、新/再生吸附剂及操作变量详细原始记录）、“样本确定方法.docx”（说明数据采集、整定、样本确定与预处理流程）以及“354个操作变量信息.xlsx”（列出每个变量的编号、位号、中文名称、取值范围、单位与Δ值）。总体变量类型以连续过程量为主，涵盖原料与产品组成（如硫含量 μg/g、饱和烃/烯烃/芳烃体积分数%）、物性（密度 kg/m³、溴值 gBr/100g）、催化剂/吸附剂指标（碳含量、硫含量%）、以及大量现场工艺参数（温度、压力、流量、液位、压差、气体成分、氢油比等具体传感器读数及装置工况），样本元数据包含样本号、采样时间与采样点等；样本筛选与预处理包括删除缺失严重测点、空值填充、剔除超出操作范围与异常值，并以辛烷值测定时间点前2小时内操作变量均值作为样本操作变量值以实现时间对齐。鉴于高维度与多传感器特性，建模时应注意缺失值与异常值处理、变量尺度归一化与单位一致性、多重共线性与冗余特征的选择或降维、采用正则化或嵌入式特征选择、考虑时间相关性与传感器漂移、并在交叉验证与稳健性评估下构建可解释的约束或多目标模型（在保证硫含量或脱硫指标满足约束的前提下优化 RON 损失）；同时可利用变量取值范围与Δ值信息作为特征工程与约束边界，原始样本文件与方法文档可用于追溯数据来源与验证预处理步骤。",
  "problem": {
    "background": "汽油是小型车辆的主要燃料，汽油燃烧产生的尾气排放对大气环境有重要影响。为此，世界各国都制定了日益严格的汽油质量标准（见下表）。汽油清洁化重点是降低汽油中的硫、烯烃含量，同时尽量保持其辛烷值。\n\n\\begin{tabular}{l c c c c c}\n & & 硫含量/(μg/g) & 苯含量/% & 芳烃含量/% & 烯烃含量/% \\\\\n车用汽油标准 & 辛烷值 & & & & \\\\\n & & $\\leq$ & $\\leq$ & $\\leq$ & $\\leq$ \\\\\n国III(2010年) & 90-97 & 150 & 1 & 40 & 30 \\\\\n国IV(2014年) & 90-97 & 50 & 1 & 40 & 28 \\\\\n国V(2017年) & 89-95 & 10 & 1 & 40 & 24 \\\\\n国VI-A(2019年) & 89-95 & 10 & 0.8 & 35 & 18 \\\\\n国VI-B(2023年) & 89-95 & 10 & 0.8 & 35 & 15 \\\\\n欧V(2009年) & 95 & 10 & 1 & 35 & 18 \\\\\n欧VI(2013年) & 95 & 10 & 1 & 35 & 18 \\\\\n世界燃油规范(V类汽油) & 95 & 10 & 1 & 35 & 10 \\\\\n\\end{tabular}注: μg/g是一个浓度单位，也有用mg/kg或ppm表示的（以下同）\n\n我国原油对外依存度超过70%，且大部分是中东地区的含硫和高硫原油。原油中的重油通常占比40-60%，这部分重油（以硫为代表的杂质含量也高）难以直接利用。为了有效利用重油资源，我国大力发展了以催化裂化为核心的重油轻质化工艺技术，将重油转化为汽油、柴油和低碳烯烃，超过70%的汽油是由催化裂化生产得到，因此成品汽油中95%以上的硫和烯烃来自催化裂化汽油。故必须对催化裂化汽油进行精制处理，以满足对汽油质量要求。\n\n辛烷值（以RON表示）是反映汽油燃烧性能的最重要指标，并作为汽油的商品牌号（例如89#、92#、95#）。现有技术在对催化裂化汽油进行脱硫和降烯烃过程中，普遍降低了汽油辛烷值。辛烷值每降低1个单位，相当于损失约150元/吨。以一个100万吨/年催化裂化汽油精制装置为例，若能降低RON损失0.3个单位，其经济效益将达到四千五百万元。\n\n化工过程的建模一般是通过数据关联或机理建模的方法来实现的，取得了一定的成果。但是由于炼油工艺过程的复杂性以及设备的多样性，它们的操作变量（控制变量）之间具有高度非线性和相互强耦联的关系，而且传统的数据关联模型中变量相对较少、机理建模对原料的分析要求较高，对过程优化的响应不及时，所以效果并不理想。\n\n某石化企业的催化裂化汽油精制脱硫装置运行4年，积累了大量历史数据，其汽油产品辛烷值损失平均为1.37个单位，而同类装置的最小损失值只有0.6个单位。故有较大的优化空间。请参赛研究生探索利用数据挖掘技术来解决化工过程建模问题。",
    "problem_requirement": "二、目标\n\n依据从催化裂化汽油精制装置采集的325个数据样本（每个数据样本都有354个操作变量），通过数据挖掘技术来建立汽油辛烷值（RON）损失的预测模型，并给出每个样本的优化操作条件，在保证汽油产品脱硫效果（欧六和国六标准均为不大于10\\(\\mu\\)g/g，但为了给企业装置操作留有空间，本次建模要求产品硫含量不大于5\\(\\mu\\)g/g）的前提下，尽量降低汽油辛烷值损失在30\\%以上。三、问题\n\n1. 数据处理：请参考近4年的工业数据（见附件一“325个数据样本数据.xlsx”）的预处理结果，依“样本确定方法”（附件二）对285号和313号数据样本进行预处理（原始数据见附件三“285号和313号样本原始数据.xlsx”）并将处理后的数据分别加入到附件一中相应的样本号中，供下面研究使用。\n2. 寻找建模主要变量：\n由于催化裂化汽油精制过程是连续的，虽然操作变量每3分钟就采样一次，但辛烷值（因变量）的测量比较麻烦，一周仅2次无法对应。但根据实际情况可以认为辛烷值的测量值是测量时刻前两小时内操作变量的综合效果，因此预处理中取操作变量两小时内的平均值与辛烷值的测量值对应。这样产生了325个样本（见附件一）。\n建立降低辛烷值损失模型涉及包括7个原料性质、2个待生吸附剂性质、2个再生吸附剂性质、2个产品性质等变量以及另外354个操作变量（共计367个变量），工程技术应用中经常使用先降维后建模的方法，这有利于忽略次要因素，发现并分析影响模型的主要变量与因素。因此，请你们根据提供的325个样本数据（见附件一），通过降维的方法从367个操作变量中筛选出建模主要变量，使之尽可能具有代表性、独立性（为了工程应用方便，建议降维后的主要变量在30个以下），并请详细说明建模主要变量的筛选过程及其合理性。（提示：请考虑将原料的辛烷值作为建模变量之一）。\n3. 建立辛烷值 (RON) 损失预测模型：采用上述样本和建模主要变量，通过数据挖掘技术建立辛烷值 (RON) 损失预测模型，并进行模型验证。\n4. 主要变量操作方案的优化：要求在保证产品硫含量不大于 $5 \\mu \\mathrm{g} / \\mathrm{g}$ 的前提下，利用你们的模型获得 325 个数据样本（见附件四“325 个数据样本数据.xlsx”）中，辛烷值 (RON) 损失降幅大于 30\\% 的样本对应的主要变量优化后的操作条件（优化过程中原料、待生吸附剂、再生吸附剂的性质保持不变，以它们在样本中的数据为准）。\n5. 模型的可视化展示：工业装置为了平稳生产，优化后的主要操作变量（即：问题 2 中的主要变量）往往只能逐步调整到位，请你们对 133 号样本（原料性质、待生吸附剂和再生吸附剂的性质数据保持不变，以样本中的数据为准），以图形展示其主要操作变量优化调整过程中对应的汽油辛烷值和硫含量的变化轨迹。（各主要操作变量每次允许调整幅度值 $\\Delta$ 见附件四“354 个操作变量信息.xlsx”）。\n\\end{enumerate}",
    "dataset_path": [
      "附件一：325个样本数据.xlsx",
      "附件三：285号和313号样本原始数据.xlsx",
      "附件二：样本确定方法.docx",
      "附件四：354个操作变量信息.xlsx"
    ],
    "dataset_description": {
      "325个样本数据": "325个样本数据包含从催化裂化汽油精制装置采集的325个数据样本，每个样本有354个操作变量。数据用于建立汽油辛烷值（RON）损失的预测模型，并在保证汽油产品脱硫效果的前提下，尽量降低汽油辛烷值损失。",
      "285号和313号样本原始数据": "285号和313号样本原始数据.xlsx包含285号和313号数据样本的原始数据，包括原料、产品、待生吸附剂、再生吸附剂和操作变量的详细信息。",
      "样本确定方法": "样本确定方法.docx描述了数据采集、整定和样本确定的方法。数据采集自中石化高桥石化的实时数据库及LIMS实验数据库，包括操作变量、原料、产品和催化剂数据。数据处理包括删除残缺数据较多的位点、填充空值、剔除超出操作范围的样本和去除异常值。样本确定依据为辛烷值数据，操作变量数据取辛烷值测定时间点前2小时的平均值。",
      "354个操作变量信息": "354个操作变量信息.xlsx包含354个操作变量的信息，每个变量包括编号、位号、中文名称、取值范围、单位和变化值（Δ值）。这些变量主要用于描述催化裂化汽油精制过程中的各种操作参数。"
    },
    "variable_description": [
      {},
      {
        "样本号": "样本的唯一标识号",
        "采样日期": "样本采集的具体日期和时间",
        "采样点名称": "样本采集的具体位置",
        "硫含量,μg/g": "原料中的硫含量，单位为微克每克",
        "饱和烃,%(体积分数)": "原料中饱和烃的体积分数",
        "烯烃,%(体积分数)": "原料中烯烃的体积分数",
        "芳烃,%(体积分数)": "原料中芳烃的体积分数",
        "辛烷值（RON）": "产品的辛烷值",
        "溴值,gBr/100g": "原料的溴值，单位为克溴每100克",
        "密度(20℃),kg/m³": "原料在20摄氏度时的密度，单位为千克每立方米",
        "样品名称": "产品的名称",
        "硫含量，μg/g": "产品的硫含量，单位为微克每克",
        "碳含量,%(质量分数)": "吸附剂中的碳含量，单位为质量分数百分比",
        "硫含量,%(质量分数)": "吸附剂中的硫含量，单位为质量分数百分比",
        "时间": "操作变量的采集时间",
        "氢油比": "氢气与原料油的比例",
        "反应过滤器压差": "反应过滤器的压差",
        "还原器压力": "还原器的压力",
        "还原器流化氢气流量": "还原器中流化氢气的流量",
        "反应器上部温度": "反应器上部的温度",
        "反应器底部温度": "反应器底部的温度",
        "反应器顶部压力": "反应器顶部的压力",
        "反应器顶底压差": "反应器顶底的压差",
        "反吹氢气温度": "反吹氢气的温度",
        "D105温度": "D105设备的温度",
        "D105压力": "D105设备的压力",
        "D105流化氢气流量": "D105设备中流化氢气的流量",
        "反吹氢气压力": "反吹氢气的压力",
        "稳定塔顶压力": "稳定塔顶部的压力",
        "稳定塔下部温度": "稳定塔下部的温度",
        "稳定塔液位": "稳定塔的液位",
        "塔顶回流罐D201液位": "塔顶回流罐D201的液位",
        "干气出装置温度": "干气出装置的温度",
        "精制汽油出装置温度": "精制汽油出装置的温度",
        "精制汽油出装置流量": "精制汽油出装置的流量",
        "精制汽油出装置硫含量": "精制汽油出装置的硫含量",
        "蒸汽进装置压力": "蒸汽进装置的压力",
        "蒸汽进装置流量": "蒸汽进装置的流量",
        "新氢进装置流量": "新氢进装置的流量",
        "轻烃出装置流量": "轻烃出装置的流量",
        "干气出装置流量": "干气出装置的流量",
        "污油出装置": "污油出装置的流量",
        "燃料气进装置温度": "燃料气进装置的温度",
        "燃料气进装置压力": "燃料气进装置的压力",
        "燃料气进装置流量": "燃料气进装置的流量",
        "氮气进装置流量": "氮气进装置的流量",
        "氮气进装置压力": "氮气进装置的压力",
        "1.0MPa蒸汽进装置温度": "1.0MPa蒸汽进装置的温度",
        "循环水进装置流量": "循环水进装置的流量",
        "循环水出装置流量": "循环水出装置的流量",
        "0.3MPa凝结水出装置流量": "0.3MPa凝结水出装置的流量",
        "除氧水进装置流量": "除氧水进装置的流量",
        "非净化风进装置流量": "非净化风进装置的流量",
        "非净化风进装置压力": "非净化风进装置的压力",
        "净化风进装置流量": "净化风进装置的流量",
        "净化风进装置压力": "净化风进装置的压力",
        "D107转剂线压差": "D107转剂线的压差",
        "D107提升氮气流量": "D107提升氮气的流量",
        "催化汽油进装置总流量": "催化汽油进装置的总流量",
        "1#催化汽油进装置流量": "1#催化汽油进装置的流量",
        "2#催化汽油进装置流量": "2#催化汽油进装置的流量",
        "3#催化汽油进装置流量": "3#催化汽油进装置的流量",
        "原料缓冲罐液位": "原料缓冲罐的液位",
        "原料进装置温度": "原料进装置的温度",
        "原料泵出口流量": "原料泵出口的流量",
        "原料进装置流量": "原料进装置的流量",
        "混氢点氢气流量": "混氢点氢气的流量",
        "进装置原料硫含量": "进装置原料的硫含量",
        "原料换热器管程总管进口温度": "原料换热器管程总管进口的温度",
        "原料换热器管程进出口压差": "原料换热器管程进出口的压差",
        "加热炉进口温度": "加热炉进口的温度",
        "加热炉排烟出口温度": "加热炉排烟出口的温度",
        "辐射室出口压力": "辐射室出口的压力",
        "加热炉氧含量": "加热炉的氧含量",
        "加热炉循环氢出口温度": "加热炉循环氢出口的温度",
        "反应器入口温度": "反应器入口的温度",
        "加热炉炉膛压力": "加热炉炉膛的压力",
        "加热炉主火嘴瓦斯入口压力": "加热炉主火嘴瓦斯入口的压力",
        "加热炉主火嘴阀前压力": "加热炉主火嘴阀前的压力",
        "K101机出口压力": "K101机出口的压力",
        "D104压力": "D104的压力",
        "D104液面": "D104的液面",
        "D104去稳定塔流量": "D104去稳定塔的流量",
        "D104温度": "D104的温度",
        "D121温度": "D121的温度",
        "D121液面": "D121的液面",
        "D121去稳定塔流量": "D121去稳定塔的流量",
        "D121顶去放火炬流量": "D121顶去放火炬的流量",
        "反应系统压力": "反应系统的压力",
        "还原器温度": "还原器的温度",
        "再生风流量": "再生风的流量",
        "再生冷氮气流量": "再生冷氮气的流量",
        "R102再生器提升氮气流量": "R102再生器提升氮气的流量",
        "再生器压力": "再生器的压力",
        "再生器顶底差压": "再生器顶底的差压",
        "再生器顶烟气温度": "再生器顶烟气的温度",
        "再生器温度": "再生器的温度",
        "再生烟气氧含量": "再生烟气的氧含量",
        "D110顶底压差": "D110顶底的压差",
        "R102转剂线压差": "R102转剂线的压差",
        "火炬气排放流量": "火炬气排放的流量"
      },
      {},
      {
        "变量编号": "操作变量的唯一编号",
        "位号": "操作变量的位号标识",
        "中文名称": "操作变量的中文描述",
        "取值范围": "操作变量的数值范围",
        "单位": "操作变量的单位",
        "Δ值": "操作变量的变化值"
      }
    ],
    "addendum": "请考虑将原料的辛烷值作为建模变量之一。",
    "data_summary": "Dataset Path:\n['附件一：325个样本数据.xlsx', '附件三：285号和313号样本原始数据.xlsx', '附件二：样本确定方法.docx', '附件四：354个操作变量信息.xlsx']\n\nData Description:\n该数据集由中石化高桥石化装置采集并整理，包含325个样本（目标变量为精制汽油的辛烷值 RON 及相应损失），每个样本由354个操作变量描述，旨在建立辛烷值损失预测模型并在保证汽油脱硫效果前提下尽量降低辛烷值损失；数据来源包括装置实时数据库与 LIMS 实验数据库，随附文件有“285号和313号样本原始数据.xlsx”（包含285号与313号样本的原料、产品、新/再生吸附剂及操作变量详细原始记录）、“样本确定方法.docx”（说明数据采集、整定、样本确定与预处理流程）以及“354个操作变量信息.xlsx”（列出每个变量的编号、位号、中文名称、取值范围、单位与Δ值）。总体变量类型以连续过程量为主，涵盖原料与产品组成（如硫含量 μg/g、饱和烃/烯烃/芳烃体积分数%）、物性（密度 kg/m³、溴值 gBr/100g）、催化剂/吸附剂指标（碳含量、硫含量%）、以及大量现场工艺参数（温度、压力、流量、液位、压差、气体成分、氢油比等具体传感器读数及装置工况），样本元数据包含样本号、采样时间与采样点等；样本筛选与预处理包括删除缺失严重测点、空值填充、剔除超出操作范围与异常值，并以辛烷值测定时间点前2小时内操作变量均值作为样本操作变量值以实现时间对齐。鉴于高维度与多传感器特性，建模时应注意缺失值与异常值处理、变量尺度归一化与单位一致性、多重共线性与冗余特征的选择或降维、采用正则化或嵌入式特征选择、考虑时间相关性与传感器漂移、并在交叉验证与稳健性评估下构建可解释的约束或多目标模型（在保证硫含量或脱硫指标满足约束的前提下优化 RON 损失）；同时可利用变量取值范围与Δ值信息作为特征工程与约束边界，原始样本文件与方法文档可用于追溯数据来源与验证预处理步骤。",
    "data_description": {
      "325个样本数据": "325个样本数据包含从催化裂化汽油精制装置采集的325个数据样本，每个样本有354个操作变量。数据用于建立汽油辛烷值（RON）损失的预测模型，并在保证汽油产品脱硫效果的前提下，尽量降低汽油辛烷值损失。",
      "285号和313号样本原始数据": "285号和313号样本原始数据.xlsx包含285号和313号数据样本的原始数据，包括原料、产品、待生吸附剂、再生吸附剂和操作变量的详细信息。",
      "样本确定方法": "样本确定方法.docx描述了数据采集、整定和样本确定的方法。数据采集自中石化高桥石化的实时数据库及LIMS实验数据库，包括操作变量、原料、产品和催化剂数据。数据处理包括删除残缺数据较多的位点、填充空值、剔除超出操作范围的样本和去除异常值。样本确定依据为辛烷值数据，操作变量数据取辛烷值测定时间点前2小时的平均值。",
      "354个操作变量信息": "354个操作变量信息.xlsx包含354个操作变量的信息，每个变量包括编号、位号、中文名称、取值范围、单位和变化值（Δ值）。这些变量主要用于描述催化裂化汽油精制过程中的各种操作参数。"
    },
    "problem_str": "问题背景：\n汽油是小型车辆的主要燃料，汽油燃烧产生的尾气排放对大气环境有重要影响。为此，世界各国都制定了日益严格的汽油质量标准（见下表）。汽油清洁化重点是降低汽油中的硫、烯烃含量，同时尽量保持其辛烷值。\n\n\\begin{tabular}{l c c c c c}\n & & 硫含量/(μg/g) & 苯含量/% & 芳烃含量/% & 烯烃含量/% \\\\\n车用汽油标准 & 辛烷值 & & & & \\\\\n & & $\\leq$ & $\\leq$ & $\\leq$ & $\\leq$ \\\\\n国III(2010年) & 90-97 & 150 & 1 & 40 & 30 \\\\\n国IV(2014年) & 90-97 & 50 & 1 & 40 & 28 \\\\\n国V(2017年) & 89-95 & 10 & 1 & 40 & 24 \\\\\n国VI-A(2019年) & 89-95 & 10 & 0.8 & 35 & 18 \\\\\n国VI-B(2023年) & 89-95 & 10 & 0.8 & 35 & 15 \\\\\n欧V(2009年) & 95 & 10 & 1 & 35 & 18 \\\\\n欧VI(2013年) & 95 & 10 & 1 & 35 & 18 \\\\\n世界燃油规范(V类汽油) & 95 & 10 & 1 & 35 & 10 \\\\\n\\end{tabular}注: μg/g是一个浓度单位，也有用mg/kg或ppm表示的（以下同）\n\n我国原油对外依存度超过70%，且大部分是中东地区的含硫和高硫原油。原油中的重油通常占比40-60%，这部分重油（以硫为代表的杂质含量也高）难以直接利用。为了有效利用重油资源，我国大力发展了以催化裂化为核心的重油轻质化工艺技术，将重油转化为汽油、柴油和低碳烯烃，超过70%的汽油是由催化裂化生产得到，因此成品汽油中95%以上的硫和烯烃来自催化裂化汽油。故必须对催化裂化汽油进行精制处理，以满足对汽油质量要求。\n\n辛烷值（以RON表示）是反映汽油燃烧性能的最重要指标，并作为汽油的商品牌号（例如89#、92#、95#）。现有技术在对催化裂化汽油进行脱硫和降烯烃过程中，普遍降低了汽油辛烷值。辛烷值每降低1个单位，相当于损失约150元/吨。以一个100万吨/年催化裂化汽油精制装置为例，若能降低RON损失0.3个单位，其经济效益将达到四千五百万元。\n\n化工过程的建模一般是通过数据关联或机理建模的方法来实现的，取得了一定的成果。但是由于炼油工艺过程的复杂性以及设备的多样性，它们的操作变量（控制变量）之间具有高度非线性和相互强耦联的关系，而且传统的数据关联模型中变量相对较少、机理建模对原料的分析要求较高，对过程优化的响应不及时，所以效果并不理想。\n\n某石化企业的催化裂化汽油精制脱硫装置运行4年，积累了大量历史数据，其汽油产品辛烷值损失平均为1.37个单位，而同类装置的最小损失值只有0.6个单位。故有较大的优化空间。请参赛研究生探索利用数据挖掘技术来解决化工过程建模问题。\n\n问题要求：\n二、目标\n\n依据从催化裂化汽油精制装置采集的325个数据样本（每个数据样本都有354个操作变量），通过数据挖掘技术来建立汽油辛烷值（RON）损失的预测模型，并给出每个样本的优化操作条件，在保证汽油产品脱硫效果（欧六和国六标准均为不大于10\\(\\mu\\)g/g，但为了给企业装置操作留有空间，本次建模要求产品硫含量不大于5\\(\\mu\\)g/g）的前提下，尽量降低汽油辛烷值损失在30\\%以上。三、问题\n\n1. 数据处理：请参考近4年的工业数据（见附件一“325个数据样本数据.xlsx”）的预处理结果，依“样本确定方法”（附件二）对285号和313号数据样本进行预处理（原始数据见附件三“285号和313号样本原始数据.xlsx”）并将处理后的数据分别加入到附件一中相应的样本号中，供下面研究使用。\n2. 寻找建模主要变量：\n由于催化裂化汽油精制过程是连续的，虽然操作变量每3分钟就采样一次，但辛烷值（因变量）的测量比较麻烦，一周仅2次无法对应。但根据实际情况可以认为辛烷值的测量值是测量时刻前两小时内操作变量的综合效果，因此预处理中取操作变量两小时内的平均值与辛烷值的测量值对应。这样产生了325个样本（见附件一）。\n建立降低辛烷值损失模型涉及包括7个原料性质、2个待生吸附剂性质、2个再生吸附剂性质、2个产品性质等变量以及另外354个操作变量（共计367个变量），工程技术应用中经常使用先降维后建模的方法，这有利于忽略次要因素，发现并分析影响模型的主要变量与因素。因此，请你们根据提供的325个样本数据（见附件一），通过降维的方法从367个操作变量中筛选出建模主要变量，使之尽可能具有代表性、独立性（为了工程应用方便，建议降维后的主要变量在30个以下），并请详细说明建模主要变量的筛选过程及其合理性。（提示：请考虑将原料的辛烷值作为建模变量之一）。\n3. 建立辛烷值 (RON) 损失预测模型：采用上述样本和建模主要变量，通过数据挖掘技术建立辛烷值 (RON) 损失预测模型，并进行模型验证。\n4. 主要变量操作方案的优化：要求在保证产品硫含量不大于 $5 \\mu \\mathrm{g} / \\mathrm{g}$ 的前提下，利用你们的模型获得 325 个数据样本（见附件四“325 个数据样本数据.xlsx”）中，辛烷值 (RON) 损失降幅大于 30\\% 的样本对应的主要变量优化后的操作条件（优化过程中原料、待生吸附剂、再生吸附剂的性质保持不变，以它们在样本中的数据为准）。\n5. 模型的可视化展示：工业装置为了平稳生产，优化后的主要操作变量（即：问题 2 中的主要变量）往往只能逐步调整到位，请你们对 133 号样本（原料性质、待生吸附剂和再生吸附剂的性质数据保持不变，以样本中的数据为准），以图形展示其主要操作变量优化调整过程中对应的汽油辛烷值和硫含量的变化轨迹。（各主要操作变量每次允许调整幅度值 $\\Delta$ 见附件四“354 个操作变量信息.xlsx”）。\n\\end{enumerate}\nAddendum: \n请考虑将原料的辛烷值作为建模变量之一。\nDataset Path:\n['附件一：325个样本数据.xlsx', '附件三：285号和313号样本原始数据.xlsx', '附件二：样本确定方法.docx', '附件四：354个操作变量信息.xlsx']\n\nData Description:\n该数据集由中石化高桥石化装置采集并整理，包含325个样本（目标变量为精制汽油的辛烷值 RON 及相应损失），每个样本由354个操作变量描述，旨在建立辛烷值损失预测模型并在保证汽油脱硫效果前提下尽量降低辛烷值损失；数据来源包括装置实时数据库与 LIMS 实验数据库，随附文件有“285号和313号样本原始数据.xlsx”（包含285号与313号样本的原料、产品、新/再生吸附剂及操作变量详细原始记录）、“样本确定方法.docx”（说明数据采集、整定、样本确定与预处理流程）以及“354个操作变量信息.xlsx”（列出每个变量的编号、位号、中文名称、取值范围、单位与Δ值）。总体变量类型以连续过程量为主，涵盖原料与产品组成（如硫含量 μg/g、饱和烃/烯烃/芳烃体积分数%）、物性（密度 kg/m³、溴值 gBr/100g）、催化剂/吸附剂指标（碳含量、硫含量%）、以及大量现场工艺参数（温度、压力、流量、液位、压差、气体成分、氢油比等具体传感器读数及装置工况），样本元数据包含样本号、采样时间与采样点等；样本筛选与预处理包括删除缺失严重测点、空值填充、剔除超出操作范围与异常值，并以辛烷值测定时间点前2小时内操作变量均值作为样本操作变量值以实现时间对齐。鉴于高维度与多传感器特性，建模时应注意缺失值与异常值处理、变量尺度归一化与单位一致性、多重共线性与冗余特征的选择或降维、采用正则化或嵌入式特征选择、考虑时间相关性与传感器漂移、并在交叉验证与稳健性评估下构建可解释的约束或多目标模型（在保证硫含量或脱硫指标满足约束的前提下优化 RON 损失）；同时可利用变量取值范围与Δ值信息作为特征工程与约束边界，原始样本文件与方法文档可用于追溯数据来源与验证预处理步骤。"
  },
  "problem_background": "汽油是小型车辆的主要燃料，汽油燃烧产生的尾气排放对大气环境有重要影响。为此，世界各国都制定了日益严格的汽油质量标准（见下表）。汽油清洁化重点是降低汽油中的硫、烯烃含量，同时尽量保持其辛烷值。\n\n\\begin{tabular}{l c c c c c}\n & & 硫含量/(μg/g) & 苯含量/% & 芳烃含量/% & 烯烃含量/% \\\\\n车用汽油标准 & 辛烷值 & & & & \\\\\n & & $\\leq$ & $\\leq$ & $\\leq$ & $\\leq$ \\\\\n国III(2010年) & 90-97 & 150 & 1 & 40 & 30 \\\\\n国IV(2014年) & 90-97 & 50 & 1 & 40 & 28 \\\\\n国V(2017年) & 89-95 & 10 & 1 & 40 & 24 \\\\\n国VI-A(2019年) & 89-95 & 10 & 0.8 & 35 & 18 \\\\\n国VI-B(2023年) & 89-95 & 10 & 0.8 & 35 & 15 \\\\\n欧V(2009年) & 95 & 10 & 1 & 35 & 18 \\\\\n欧VI(2013年) & 95 & 10 & 1 & 35 & 18 \\\\\n世界燃油规范(V类汽油) & 95 & 10 & 1 & 35 & 10 \\\\\n\\end{tabular}注: μg/g是一个浓度单位，也有用mg/kg或ppm表示的（以下同）\n\n我国原油对外依存度超过70%，且大部分是中东地区的含硫和高硫原油。原油中的重油通常占比40-60%，这部分重油（以硫为代表的杂质含量也高）难以直接利用。为了有效利用重油资源，我国大力发展了以催化裂化为核心的重油轻质化工艺技术，将重油转化为汽油、柴油和低碳烯烃，超过70%的汽油是由催化裂化生产得到，因此成品汽油中95%以上的硫和烯烃来自催化裂化汽油。故必须对催化裂化汽油进行精制处理，以满足对汽油质量要求。\n\n辛烷值（以RON表示）是反映汽油燃烧性能的最重要指标，并作为汽油的商品牌号（例如89#、92#、95#）。现有技术在对催化裂化汽油进行脱硫和降烯烃过程中，普遍降低了汽油辛烷值。辛烷值每降低1个单位，相当于损失约150元/吨。以一个100万吨/年催化裂化汽油精制装置为例，若能降低RON损失0.3个单位，其经济效益将达到四千五百万元。\n\n化工过程的建模一般是通过数据关联或机理建模的方法来实现的，取得了一定的成果。但是由于炼油工艺过程的复杂性以及设备的多样性，它们的操作变量（控制变量）之间具有高度非线性和相互强耦联的关系，而且传统的数据关联模型中变量相对较少、机理建模对原料的分析要求较高，对过程优化的响应不及时，所以效果并不理想。\n\n某石化企业的催化裂化汽油精制脱硫装置运行4年，积累了大量历史数据，其汽油产品辛烷值损失平均为1.37个单位，而同类装置的最小损失值只有0.6个单位。故有较大的优化空间。请参赛研究生探索利用数据挖掘技术来解决化工过程建模问题。",
  "problem_requirement": "二、目标\n\n依据从催化裂化汽油精制装置采集的325个数据样本（每个数据样本都有354个操作变量），通过数据挖掘技术来建立汽油辛烷值（RON）损失的预测模型，并给出每个样本的优化操作条件，在保证汽油产品脱硫效果（欧六和国六标准均为不大于10\\(\\mu\\)g/g，但为了给企业装置操作留有空间，本次建模要求产品硫含量不大于5\\(\\mu\\)g/g）的前提下，尽量降低汽油辛烷值损失在30\\%以上。三、问题\n\n1. 数据处理：请参考近4年的工业数据（见附件一“325个数据样本数据.xlsx”）的预处理结果，依“样本确定方法”（附件二）对285号和313号数据样本进行预处理（原始数据见附件三“285号和313号样本原始数据.xlsx”）并将处理后的数据分别加入到附件一中相应的样本号中，供下面研究使用。\n2. 寻找建模主要变量：\n由于催化裂化汽油精制过程是连续的，虽然操作变量每3分钟就采样一次，但辛烷值（因变量）的测量比较麻烦，一周仅2次无法对应。但根据实际情况可以认为辛烷值的测量值是测量时刻前两小时内操作变量的综合效果，因此预处理中取操作变量两小时内的平均值与辛烷值的测量值对应。这样产生了325个样本（见附件一）。\n建立降低辛烷值损失模型涉及包括7个原料性质、2个待生吸附剂性质、2个再生吸附剂性质、2个产品性质等变量以及另外354个操作变量（共计367个变量），工程技术应用中经常使用先降维后建模的方法，这有利于忽略次要因素，发现并分析影响模型的主要变量与因素。因此，请你们根据提供的325个样本数据（见附件一），通过降维的方法从367个操作变量中筛选出建模主要变量，使之尽可能具有代表性、独立性（为了工程应用方便，建议降维后的主要变量在30个以下），并请详细说明建模主要变量的筛选过程及其合理性。（提示：请考虑将原料的辛烷值作为建模变量之一）。\n3. 建立辛烷值 (RON) 损失预测模型：采用上述样本和建模主要变量，通过数据挖掘技术建立辛烷值 (RON) 损失预测模型，并进行模型验证。\n4. 主要变量操作方案的优化：要求在保证产品硫含量不大于 $5 \\mu \\mathrm{g} / \\mathrm{g}$ 的前提下，利用你们的模型获得 325 个数据样本（见附件四“325 个数据样本数据.xlsx”）中，辛烷值 (RON) 损失降幅大于 30\\% 的样本对应的主要变量优化后的操作条件（优化过程中原料、待生吸附剂、再生吸附剂的性质保持不变，以它们在样本中的数据为准）。\n5. 模型的可视化展示：工业装置为了平稳生产，优化后的主要操作变量（即：问题 2 中的主要变量）往往只能逐步调整到位，请你们对 133 号样本（原料性质、待生吸附剂和再生吸附剂的性质数据保持不变，以样本中的数据为准），以图形展示其主要操作变量优化调整过程中对应的汽油辛烷值和硫含量的变化轨迹。（各主要操作变量每次允许调整幅度值 $\\Delta$ 见附件四“354 个操作变量信息.xlsx”）。\n\\end{enumerate}",
  "problem_analysis": "本问题处在炼油工艺与数据驱动建模交叉的工程背景下，其宏观目标既有经济维度也有环境与安全维度：通过对催化裂化汽油精制装置的大量历史操作数据进行挖掘，一方面构建能准确预测汽油辛烷值（RON）损失的模型，从而量化各种操作变量与原料性质对辛烷值损失的影响；另一方面在保证产品硫含量不超过严苛约束（建模要求为≤5 μg/g）的前提下，以模型为依据设计可执行的操作调整方案，使得每个历史样本的RON损失实现至少30%的下降。这样的复合目标决定了解题思路必须同时兼顾预测精度、可解释性、约束合规性与工程可实施性：模型既要足够复杂以拟合高维、强非线性的工艺响应，又要足够透明与稳健以便工程师理解、接受并在现场安全逐步实施。\n\n在构建与运用模型过程中存在若干显性与隐性假设，这些假设对结果的适用性和解释能力有重要影响且需在建模全程不断检验。显性的关键假设包括：辛烷值的单次测量可由测量时刻前两小时内操作变量的时间均值代表（时间对齐假设）、原料与吸附剂的性质在优化过程中视为不可变（优化约束），历史数据能够代表未来可实现的操作空间（样本代表性），以及在可允许的Δ幅度与设备安全范围内调整主要操作变量不会触发未建模的工艺连锁反应。隐性假设包括过程的时不变性或至少局部时平稳性（即模型训练期与应用期的系统行为没有根本改变）、测量误差无偏且传感器漂移影响可通过预处理消除、各变量间的耦合关系在可接受范围内可通过静态或低阶动态模型近似。这些假设在工程部署前都应该被验证；例如两小时平均的合理性可以通过对少量频次更高的试验数据或在线短时试验来检验，原料性质不可变的假定应受到供应波动情形下的敏感性分析检验。\n\n变量之间的关系复杂且多层次耦合：原料性质（如原料辛烷值、硫含量、芳烃/烯烃含量、密度等）通过影响反应物组成和物理性质直接决定工艺的敏感性与不可逆损失；催化剂/吸附剂性能（新/再生吸附剂性质）既影响脱硫效率又通过选择性影响辛烷值的保持；操作变量（大量温度、压力、流量、液位、气油比等）形成复杂的耦合控制系统，往往存在强多重共线性和非线性交互效应。因而降维与特征选择既要去掉冗余信息，也要保留与RON与硫相关的关键物理模式。实践上，应结合工艺先验知识与统计方法：先用方差阈值和相关性矩阵剔除低变异或高度冗余的传感器，再用嵌入式方法（LASSO、Elastic Net）、基于树的特征重要性或互信息评估与基于域知识的变量分组（例如把一组有关气相组成的传感器合成为代表性指标）联合决定最终的“主要变量”集合。为工程可操作性，建议将降维后变量数量控制在30个以下，并明确保留原料辛烷值作为关键输入变量，因为它在物理上直接决定产品RON的上限和可损失空间。\n\n从方法论角度，建模应采取分层策略以平衡可解释性与预测能力：首层建立解释性较强的广义线性模型或带交互项的稀疏回归（如岭回归、LASSO/Elastic Net），用于初步筛选变量并量化单变量效应与方向；次层采用非线性高表现模型（随机森林、梯度提升机如XGBoost、LightGBM或神经网络）以捕获复杂交互与非线性响应，用交叉验证和嵌套验证来评估泛化能力并防止过拟合。鉴于工程上对不确定性的敏感性，建议同时构建联合模型或多任务模型来同时预测RON损失与硫含量，这样在优化时可以直接得到关于约束（硫≤5 μg/g）的预测并处理目标间冲突。模型解释技术（如SHAP值、部分依赖图）应当贯穿建模过程，以把数据驱动的重要性与工艺物理机制相互印证，方便工程师判别哪些变量既能改善RON又不违背脱硫约束。\n\n在对样本逐一提出优化操作方案时，本质上是求解一个受约束的非线性优化问题：在原料与吸附剂性质固定、操作变量在各自上下限及每步Δ幅度约束下，最小化预测的RON损失，同时保证预测硫含量≤5 μg/g并满足安全与设备操作范围。由于模型往往是非凸且不可导的（尤其当使用树基和复杂黑盒模型时），推荐使用基于代理模型的黑盒优化方法，例如带约束的贝叶斯优化（采用高斯过程或TPE作为代理并将硫约束纳入采集函数）、进化算法（遗传算法、CMA-ES）或基于蒙特卡洛的启发式局部搜索。为保证工程可实现性，优化过程中必须嵌入硬约束（仪表量程、Δ步长、连通性/质量平衡约束）并以“可作用序列”方式输出操作建议（逐步微调而不是一次大幅跳变）。此外，应把经济指标纳入评估框架：比如将RON损失的货币化损失与工艺调整成本共同考虑，形成多目标或带权目标的优化，以避免仅追求RON最小而造成昂贵或不稳定的操作。\n\n时间尺度与动态性也是不可忽视的方面。数据采集按3分钟记录但辛烷值测定仅每周两次，采用两小时均值是对短时动态的粗化近似，这可能在存在显著动态过程（例如吸附剂再生周期、催化剂中毒与恢复、负荷突变）时引入偏差。因此建模时应考察时间序列的自相关与滞后结构，必要时将时间特征或滞后变量引入模型，或对能获取到的序列数据采用动态模型（如状态空间模型、ARIMA或RNN/LSTM）以捕捉滞后效应与周期性变化。长期效应如催化剂或吸附剂的老化、进料来源改变及季节性温度影响，会引起概念漂移（concept drift），因此模型上线后需制定在线监测与周期性再训练策略，包括利用滑动窗口更新、增量学习或转移学习方法，并且对模型预测的不确定度进行量化（例如用蒙特卡洛、贝叶斯方法或预测区间），以便运维团队在面对可能的模型失灵时采取保守操作或触发重训练。\n\n不确定性管理与风险控制应贯穿整个建模与部署过程。数据质量问题（缺失、异常、传感器漂移）、样本选择偏差（历史运行工况可能未覆盖未来的极端工况）、模型的外推风险（对未见变量组合不可靠的预测）以及优化建议的可执行性与安全风险都是需要明确评估的方面。应在模型验证阶段加入稳健性测试与压力测试（例如对输入做扰动、对关键变量做敏感性分析、用留出的一组罕见工况样本测试），并为最终的操作建议设计“试点—放大—常态化”逐步实施流程：先在模拟或小范围试验中验证，监测关键响应（RON与硫）并实施回滚策略，确认稳定后再逐步扩大到在线实操。与此同时，建议对模型输出提供置信区间与可视化说明（例如为每条建议附上违反硫约束的概率估计），以便决策者评估风险并作出保守调整。\n\n最后要强调建模工作是一个迭代的认知过程，不应把初次建成的模型视为终局性成果。随着更多试验数据和运行经验的累积，模型的结构、变量集合与优化策略都可能需要调整；工程团队与数据团队应保持持续的反馈回路：模型提出假设或优化建议，现场试验验证并产生新数据，新数据用于检验/校正模型，从而逐步收敛到既有较高预测精度又具工程可执行性的方案。通过这样的循环，可以在保证产品质量与安全的前提下，稳步实现辛烷值损失的降低与经济效益的提升。",
  "modeling_solution": "总体思路与建模目标：本建模方案以“数据驱动的混合（物理先验＋机器学习）预测模型+受约束的逐步优化执行”为核心，目标在于利用325个样本（每样本367个变量，其中操作变量354个、原料与吸附剂等固有性质若干）建立能够准确预测汽油辛烷值损失 (RON_loss) 和产品硫含量 (S) 的双模型；在保证产品硫含量 S ≤ 5 μg/g 及每个操作变量在量程与单步可调幅度 Δ 限制内的前提下，为每个历史样本给出可执行的主要操作变量优化方案，使 RON_loss 至少下降 30%（或尽可能接近该目标），并输出逐步实施路径以便现场平稳调节和风险管控。为兼顾可解释性与预测能力，采用“先降维再建模”的策略：用统计过滤与域知识选择不超过 30 个主要变量（必须包含原料辛烷值 RON_feed），对这组变量训练两个耦合预测器 f_RON(x,z) ≈ RON_loss 与 f_S(x,z) ≈ S，再基于这两个代理模型在约束下做局部/全局优化，优化结果以逐步可实现的调整序列输出并附带不确定性评估与风险度量。\n\n关键假设：辛烷值测量可由测量时刻前两小时操作变量的时间平均值代表（已在预处理阶段按此对齐）；优化过程中原料性质与吸附剂性质视为不可变（即 z 固定）；历史数据足以覆盖安全有效的操作空间或至少可用作局部优化的基线（对于超出训练样本凸壳的大幅调整，需警示并禁止直接外推）；传感器与工况的短期时变性可通过滑动窗口再训练或在线更新来管理；模型预测存在不确定性，必须将其纳入约束以保证置信水平下的硫含量合规性。\n\n变量与符号定义（部分关键量）： 将操作变量向量记为 x ∈ R^n（n ≤ 354，降维后主要变量个数 p ≤ 30）；将原料与吸附剂性质向量记为 z ∈ R^m（m ≈ 12）；目标 RON_loss 用 y_R ∈ R 表示（单位 RON 单位数），产品硫含量用 y_S ∈ R 表示（单位 μg/g）；操作变量取值上下界为 l ≤ x ≤ u，变量的单步可调幅度为 Δ_i（从“354个操作变量信息.xlsx”读取），单样本初始操作点为 x0（对应历史样本），优化后目标操作点为 x*。预测模型用 f_R(x,z; θ_R) 与 f_S(x,z; θ_S) 表示，θ_* 为模型参数（可以是树模型、神经网络或核方法参数）。为了处理模型不确定性，还定义不确定度估计 σ_R(x,z) 与 σ_S(x,z)（例如通过模型集成或贝叶斯方法获得）。\n\n特征选择与降维流程（具体算法步骤与合理性说明）：首先对原始 367 变量做数据质量过滤：去除缺失率过高或常数/近常数（方差低于阈值）的变量，异常值用基于历史经验的截断或以局部中位数插补处理（因为操作量的边界性很重要，不随意平滑）。其次按领域先验保留关键物理量：必须保留原料辛烷值（RON_feed）、原料硫含量、芳/烯烃含量、产品蒸馏切线或密度相关变量，以及新/再生吸附剂代表性指标（如碳含量、硫含量、吸附剂温度、再生温度等）。然后在剩余操作变量中用统计方法进一步筛选：计算与目标 y_R 的绝对皮尔逊/斯皮尔曼相关系数与互信息，剔除与 y_R 相关性绝对值极低者；计算变量间共线性（成对相关系数或方差膨胀因子 VIF），将高度相关（|ρ|>0.95）的一组里只保留代表性变量或合成主成分。接着用嵌入式/稀疏回归方法做二次筛选：用带 L1/L2 正则化的 Elastic Net（或 LASSO）对预筛后的变量进行交叉验证选择，使得最终变量数控制在 20–30 个以内，结合基于树模型（如 XGBoost/LightGBM）的特征重要性与 SHAP 值进一步确认对物理可解释性的贡献。此流程兼顾了方差解释、非线性重要性评估与工程可理解性，能将高维冗余传感器映射为工程上可控的主要变量集合。\n\n预测模型结构建议（混合物理解与机器学习）：采用分层混合模型：先构建一个线性/广义线性基线模型以体现可解释的物理关系（例如 y_R ≈ β0 + β_feed·RON_feed + Σ β_i·x_i + Σ β_j·z_j + 交互项有限集合），用于捕获主要线性趋势与已知交互，再用一个高表现的非线性残差模型对基线残差建模（残差模型可采用 LightGBM 或 XGBoost）。类似地为硫含量建模构建 f_S。数学表达为 y_R = L_R(x,z; β) + h_R(x,z; φ) + ε_R，其中 L_R 是线性/可解释基座，h_R 是非线性补偿函数（梯度提升树或神经网络），ε_R 为残差噪声。同理 y_S = L_S + h_S + ε_S。采用交叉验证与嵌套 CV 进行超参数选择，并对模型做不确定度估计：对树模型使用模型集成（bagging）或基于树的概率化方法（如 quantile regression forests）得到预测区间；对小样本敏感的情况也可训练 Gaussian Process（GP）对局部区域建高保真代理，GP 能直接给出 σ_S 用于概率约束。\n\n模型训练与验证策略：由于样本数仅 325，必须注意避免过拟合。采用嵌套交叉验证：外层做 5 折（或留一法）评估泛化，内层做超参数网格/贝叶斯优化。评价指标包括 RMSE、MAE、R^2 以及对 S 预测的“违规率”与 ROC 风险度量（即预测 S 超过 5 μg/g 的错误率）。对重要变量使用 SHAP 值和部分依赖图确认物理一致性（例如提高吸附剂再生温度应降低硫但可能增加烯烃破坏从而增加 RON_loss 的方向性）。对模型不确定性进行校准（例如通过 Platt scaling 或通过贝叶斯化模型）并计算对 S 的置信区间。对模型进行稳健性测试：通过在训练集外的极端工况样本（若有）或在训练数据中随机扰动输入来检查模型对小扰动的敏感度。\n\n受约束优化问题刻画与求解策略：每个样本的优化问题为：给定 z（固定）与初始 x0，求 x* = argmin_x f_R(x,z) 使得 f_S(x,z) ≤ S_max (S_max=5 μg/g) 以及 l ≤ x ≤ u 并且每分变量满足单步调整幅度和可操作性约束。数学形式可写为最小化目标 J(x) = f_R(x,z)（或货币化目标如 c_R·f_R），约束集合 C = {f_S(x,z) ≤ S_max, l ≤ x ≤ u, |x - x0|_∞ ≤ δ_max}，其中 δ_max 可定义为一次整体改变的允许幅度（工程上通常要求逐步调整）。由于 f_R 与 f_S 由非凸、不可导的黑箱模型给出，推荐使用下列策略的组合：先在训练数据的邻域内做局部线性/二阶近似（基于局部加权回归或双向有限差分构建泰勒近似）用于快速探索可行方向；并使用黑盒全局优化器（约束型贝叶斯优化或基于进化算法如 CMA-ES/NSGA-II）寻找 x*。采用贝叶斯优化时，以带约束的采集函数（例如 Expected Improvement with Constraints 或使用概率可行度乘权的采集函数）将 S 的不确定性纳入采集策略；若采用进化算法，则在种群中嵌入惩罚机制或可行修复算子保证 S 约束。为了安全性，优化求解应限制在训练样本凸壳或允许的工程边界内（可用样本的 Mahalanobis 距或局部密度阈值来惩罚远离历史数据的解），以避免不受支持的外推。求得 x* 后还需对预测不确定性进行验算：若 f_S(x*,z) 的上界（例如预测均值 + 2σ）仍小于 S_max，则该解可被视为高置信可行；否则需要返回更保守解或要求现场做试验验证。\n\n逐步可实施路径与动态限制（用于现场执行）：鉴于现场改变量往往需要分步实现，定义逐步路径 x0 → x1 → x2 → … → xK = x*，其中每一步满足 |x_{k+1,i} - x_{k,i}| ≤ Δ_i（来自附件四）并且在每个中间点对 f_S 进行预测保证不违反 S_max（或在置信区间内可行）。构建路径的简单规则为按坐标分量按最小步数插值（x_{k+1} = x_k + sign(x*-x_k)·min(Δ, |x*-x_k|)），但当某一步导致 S 预测被违例时，采用受约束的线搜索或回退策略：在该方向上减小步长或改为在可行子空间内的其他变量做替代调整（通过求解局部线性化的受限最小化问题来找到“方向替代”）。从优化工具角度，可把逐步路径问题看作带动态约束的模型预测控制（MPC）问题，在每一步求解局部受约束最优子问题并执行第一步，然后重新测量/观测后更新（在线闭环策略）。为工程可用性，给出每一步的“建议变更量”和预期的 ΔRON 与 ΔS 以及置信区间，并提示如果实际测量与预测差异超出阈值则立即回滚。\n\n具体数学表述（要点公式）：预测器：y_R = f_R(x,z) ≈ L_R(x,z; β) + h_R(x,z; φ). 约束优化： minimize_x f_R(x,z) subject to f_S(x,z) ≤ S_max, l ≤ x ≤ u. 当使用带罚项的连续化方法可构造目标 J_p(x) = f_R(x,z) + λ·max(0, f_S(x,z)-S_max)^2 + Σ_i γ_i·penalty_distance_i(x)（penalty_distance 用于惩罚超出训练样本凸壳），然后用黑盒优化器最小化 J_p。对于可微代理（例如神经网络），可构造拉格朗日函数 L(x, μ) = f_R(x,z) + μ·(f_S(x,z)-S_max) 并用投影梯度法/序列二次规划（SQP）求解；但对树模型则采用梯度近似或替代求解器。置信约束可以写为 P(f_S(x,z) ≤ S_max) ≥ 1 - α，其中概率通过 GP 或模型集成估计并在优化时作为硬约束（例如将 f_S_mean + κ·f_S_std ≤ S_max, κ 对应置信因子）。\n\n不确定性量化与稳健性：为避免由于模型不确定性导致的脱硫违规，应在优化约束中使用保守界：用 f_S_mean + k·σ_S ≤ S_max（常用 k=2 或 3 对应 95%/99% 置信）。同时对关键变量做局部敏感性分析：计算雅可比 J_R = ∂f_R/∂x 与 J_S = ∂f_S/∂x（对树模型用有限差分或对可微代理直接用自动微分），以识别对 RON 和 S 影响最大的方向。对最终建议做蒙特卡洛扰动测试（在各输入上施加小幅随机扰动符合传感器噪声与控制误差分布）以估计建议的鲁棒性和违规概率。\n\n样本级别优化流程（实操步骤概述）：对每个历史样本 i 读取 x0_i 与 z_i。若 f_S(x0_i,z_i) > S_max（历史违规），首先调整以满足 S≤5（优先采用已知能降低硫的变量，如再生温度、吸附剂流速等）并记录最小代价；否则以目标最小化 RON 为主。在样本局部区域构建代理（若需要可用 GP 局部拟合）并使用带概率约束的贝叶斯优化或 CMA-ES 搜索 x*。验证 x* 的模型预测均值及上界满足 S 与变量界限。根据 Δ 生成逐步执行序列并输出每一步的预期 ΔRON、ΔS 及置信。对每个样本给出经济量化（如 RON 每下降 1 单位对应的收益估计）以衡量实施优先级。对无法在变量可调域和 S 约束同时满足 30% RON 降幅的样本给出“最大可实现降幅”与建议的更多工程措施（如更换吸附剂、变更原料配比等长期措施）。\n\n可视化与示例（针对题目要求第5问）：以 133 号样本为例，固定 z_133，从 x0_133 开始按上述逐步路径算法生成 x_k 序列。在每一步用 f_R 与 f_S 预测并记录 RON_loss_k 和 S_k，同时保留预测区间。给出变量调整曲线（每个主要变量随 k 的变化）与对应的 RON、S 曲线，可采用“变量轨迹-响应曲线”叠图，便于工程师看到哪个变量最敏感、何时达成硫约束以及 RON 损失如何随调整收敛。路径中若某一步导致 S 逼近上限或预测不确定性高，须明显标注并建议进行现场取样确认。\n\n算法实现与计算资源估计：由于特征数降至 p ≤ 30 且样本量 325，训练 XGBoost/LightGBM 或浅层神经网络在普通工作站（16–32 GB 内存，4–8 核 CPU）上即可在分钟至小时级完成；若使用 GP 局部代理，核矩阵规模受样本数影响，局部 GP 在几十到百来个点上运行良好。样本级别的贝叶斯优化或进化算法每次需要大量模型评估，但单次模型预测非常快（毫秒级），因此单样本优化可在数百到数千次评估内完成，总时间取决于并行化程度；利用并行 CPU 或 GPU 可将全量 325 个样本的优化并行化以节约时间。对每个样本的蒙特卡洛不确定性检测（例如 1000 次扰动）也可并行化。总体建议建立自动化管线：数据预处理 → 特征选择 → 模型训练/验证 → 每样本优化并生成路径 → 结果过滤与风险标注。\n\n模型演化、在线更新与失效检测：装置运行中存在概念漂移（原料来源变化、设备老化），因此应建立在线监测与周期性再训练机制。实施上建议：在部署后用滑动窗口（例如最近 3–6 个月数据）定期重训练模型，并用指标（如预测残差均值的漂移、PSI/KS 检验、残差自相关）检测模型性能退化。一旦检测到显著漂移，触发人工审查并重训练。建议保留小批量的在线试验策略以收集调优数据（A/B 风格实验或受控步进试验），用于提高模型在关键操作区的可靠性。\n\n敏感性分析与模型验证：对训练好的模型做全局敏感性分析（Sobol 指数或基于方差分解的方法）以量化各主要变量对 RON 与 S 方差解释的贡献，并与 SHAP 局部解释结果交叉验证。用于模型验证的试验包括（1）历史样本回测：在未见样本上检查目标降幅与硫约束遵守率，（2）现场小范围试点：对 5–10 个优先级高且风险低的样本按建议路径逐步实施并对照实际测量结果与模型预测，及时调整模型参数与优化器惩罚项。\n\n风险控制与保守策略：对每个建议附带“违规概率”与保守解的替代方案；设定实施阈值，例如只对那些满足 f_S_mean + 2σ_S ≤ 5 μg/g 且预计 RON_loss 降幅 ≥ 30% 的样本执行自动化推荐；其余样本则先在模拟或小范围试验室条件验证。在路径执行中若实际测量的 S 或 RON 与预测偏差超出预设阈值（例如 S 超出 0.5 μg/g 或 RON 预测误差 > 0.3），马上停止进一步调整并回滚。\n\n扩展与未来改进方向：随着更多数据的积累，可将时间序列动态模型（如 LSTM、状态空间模型或基于物理的动态模拟与数据同化）纳入以更好捕捉吸附剂再生周期与滞后效应；可以构建联合多任务学习模型同时预测 RON、S 和其他关键品质指标，提高整体一致性；对优化器引入成本/收益函数（结合 RON 损失货币化、操作调整成本与风险成本）以实现真正的经济最优决策；进一步采用贝叶斯优化与主动学习策略选择在线试验点，以最小成本迅速降低模型不确定度并扩大可信的操作域。若对实时部署有更高的实时性需求，可把训练好的树模型蒸馏为小型神经网络或线性近似专门用于快速 MPC。\n\n总结性陈述：该方案在保留工程物理先验（如保留原料辛烷值、吸附剂指标、变量上下限与Δ）的同时，通过统计过滤、嵌入式正则化与树基/集成方法实现稳健的降维与高精度预测，借助概率约束的贝叶斯优化与进化算法在受限操作空间内寻找可行且鲁棒的 RON 损失最小化方案，并将结果以逐步可执行路径的形式返回现场以保证平稳投用。全流程强调不确定性量化、风险控制与在线迭代更新，便于在实际工程环境中安全地将建模成果转化为经济效益并长期维护模型有效性。",
  "task_descriptions": [
    "子任务 1（数据预处理与特征工程）要求以“附件一：325个样本数据.xlsx”、“附件三：285号和313号样本原始数据.xlsx”、“附件二：样本确定方法.docx”与“附件四：354个操作变量信息.xlsx”作为唯一输入，输出经可复现处理并可直接用于后续建模的样本矩阵与完整元数据文档；该任务必须完成的具体步骤为：一是按“样本确定方法.docx”精确重现时间对齐规则：对285号与313号的原始时序记录，采用与已给325样本相同的策略（将辛烷值测定时刻前两小时内每3分钟采样的操作变量取算术平均或按文档规定的加权平均）得到这两条样本的操作变量值，并将处理后结果插入到“附件一”中对应样本号位置，保持字段顺序与命名一致；二是变量与样本质控：读取“354个操作变量信息.xlsx”中的单位、允许范围(l,u)与单步Δ，统一并核对所有变量的物理单位，若发现单位不一致按物理换算统一到主单位并记录变换；对每个变量计算缺失率并按阈值剔除测点（建议阈值：缺失率>30% 则剔除并在元数据中记录原因），对样本缺失严重（如同时缺失关键原料性质或目标值）的样本记录为异常并单独列出但不盲目删除；三是缺失值插补策略：对连续过程变量采用分层插补——对于短时序列空洞（邻近时间点可用）优先用前向/后向填充或线性插值，针对非时间序列缺失或长期缺失采用稳健统计插补（中位数）并保留缺失指示符位；对存在明显相关性的变量集，可辅以基于KNN（k=5，基于已标准化变量的欧氏或Mahalanobis距离）进行多变量插补以保留互信息；所有插补操作必须在元数据中记录并产出“插补日志”；四是异常值与越界处理：优先使用“354变量信息”中的物理上下限对越界值做截断或标记为异常并记录替换值；若无明确上下限，则使用稳健统计方法识别异常（基于IQR规则1.5·IQR或基于变量分布的百分位截断），对被认定为异常且明显为测量故障的点予以替换或标注，替换方法同上并在报告中列明；五是低方差与高冗余测点剔除：剔除近常数特征（方差低于阈值或唯一值比例大于99%），计算变量成对相关系数与VIF，若成对相关性|ρ|>0.95或VIF显著超出阈值，则在该强相关簇内选择物理可解释且现场可控的代表测点保留，其余标记为冗余并移入元数据备查；六是尺度变换与偏态处理：为便于后续建模同时保留原始量值，生成经标准化（zero-mean unit-variance）与稳健缩放（median/IQR）两套版本并在元数据中指明使用场景，对强右偏变量（经偏度统计或直方图判断）提供对数或Box–Cox变换候选列；七是样本级一致性与域约束检查：基于处理后数据计算每个样本的Mahalanobis距离与样本密度，识别并标注可能的样本层级异常（例如远离训练域的样本），同时为每个样本附加“可用性与外推风险”标识（高/中/低）；八是可溯与交付产物：将最终处理后的主表以CSV与带元数据的二进制格式（如pickle或parquet）输出，生成并提交详尽的预处理报告（包含每个变量的缺失率表、剔除/插补/截断记录、被删除或合并的特征清单、每个样本的Mahalanobis距离分布与异常样本列表、对285与313号样本的逐字段对照插入记录）、可重现的数据处理脚本（推荐使用Python：pandas、numpy、scipy、scikit-learn，记录软件环境与随机种子）以及一个变量元数据文件（包含原始单位、已统一单位、上下限、Δ值、是否为必保留字段与处理说明）；九是质量保证与验收标准：输出应满足（1）325个样本中字段与命名与“附件一”一致且285/313样本已成功并入；（2）无变量缺失率超过30%（已记录剔除者列出）；（3）所有插补与异常替换的决策在报告中可追溯并可选择回滚；（4）为每个样本提供原始值与处理后值的差异摘要表以便审计。该子任务不得涉及后续特征选择或建模决策，仅负责提供经过严格质控、记录完整且工程可审计的清洗后数据集与元数据，供下一步降维与建模使用。",
    "子任务 2（降维与主要变量筛选）旨在从已完成预处理的候选变量集合（输入：包含 325 个样本、约 367 个候选变量的表格，以及“354 个操作变量信息.xlsx”中每个变量的单位、量程与单步 Δ）中筛选出工程上可控、物理可解释且统计上独立的主要建模变量集合（数量控制在 30 个以下，强制保留原料辛烷值 RON_feed），其输出为最终变量列表及完整元数据（包括每变量的重要性分数、选择频次、VIF、成对相关系数、是否可在线调节及保留理由）；为确保可重复与可审计，整个流程需使用确定性随机种子并保存中间结果与脚本（推荐工具：Python + pandas/numpy/scipy/scikit-learn/statsmodels/xgboost/lightgbm/shap/ scipy.cluster）。具体执行步骤按顺序为：1）输入校验——读取清洗后数据与变量元数据，剔除缺失率仍超阈（建议 30%）或近常数特征，并对偏态变量做稳健变换（对数或 Box–Cox）与统一标准化以便可比性；2）单变量筛选——计算每个候选变量与目标 RON_loss 的 Pearson 和 Spearman 相关系数及互信息，按可配置规则（例如保留与目标相关系数绝对值前 150 个或互信息前 150 个）作初筛以去除弱相关噪声；3）共线性分组与代表选择——对初筛结果计算变量两两相关矩阵并用层次聚类（或阈值分组，组内 |ρ|>0.90）将高度相关变量聚为簇，在每个簇内基于物理可控性、测量可靠性（由元数据提供）和单变量得分选择一个现场易控且代表性的传感器保留；对于无法从组内直接选代表但组内变量均有信息时，可用组内主成分（第一主成分）作为合成变量并保留其物理注释；4）嵌入式与稳定选择——对簇代表或合成变量集合使用稀疏嵌入式方法（Elastic Net 或 LASSO，内层交叉验证选 λ）与基于树的模型（Random Forest / XGBoost / LightGBM）分别计算特征重要性，并采用稳定选择（重复子抽样 + 模型重训练，记录每个变量被选中的频次），将两类方法的排名进行秩合并保留在多数方法中高排名且稳定性高（例如选择频次 >50% 且在树模型中贡献显著）的变量候选；5）最终筛选与多重共线性检查——将候选变量合并后若数量仍超出上限，按综合得分（秩和或加权评分）逐步剔除得分最低且物理可替代的变量，最终得到不超过 30 个变量；对该最终集合计算方差膨胀因子 (VIF)，若出现 VIF>10 的变量对，优先合并为主成分或在保留可控性更强者的同时剔除其高度共线的伙伴，直至 VIF 在可接受范围内或记录需在后续建模中做正则化处理的高 VIF 情形；6）工程可操作性校验与元数据补充——对每一被保留变量从“354 个操作变量信息.xlsx”中补齐单位、允许范围、单步 Δ 值，并在元数据中标注是否为在线可控量、测量滞后/滤波特性与现场建议控制策略（如建议优先调整的变量）；7）输出物件与报告——生成最终变量清单 CSV（含变量名、中文说明、单位、量程、Δ、重要性分数、选择频次、VIF、代表性簇信息及保留理由）、成对相关矩阵热图与聚类树、PCA/主成分解释表、以及完整的可复现脚本和参数配置文件（包括阈值设置、交叉验证折数与随机种子）；在整个流程中应优先遵循“域知识优先、统计证据验证”的原则：即对与工艺物理密切相关的变量（如 RON_feed、原料硫、芳烯含量、吸附剂关键指标和再生温度/流量等）即使单变量得分不高也要保留供后续模型检验，并应保留若干候选变量以便后续建模时测试交互项或非线性变换的必要性。",
    "子任务 3（双模型建立、验证与不确定性量化）要求以已完成预处理和降维后的数据集为唯一输入（每条样本的特征向量 x 与固定的原料/吸附剂性质 z，以及两个标注目标：汽油辛烷值损失 y_RON 和产品硫含量 y_S），独立构建并交付两套耦合但可独立使用的预测器 f_R(x,z) 和 f_S(x,z) 并为每个预测器提供经校准的不确定性输出与完整的验证报告；其具体范围与步骤包括：1) 输入与预检：确认输入表含无缺失的 p 个特征、y_RON、y_S 以及每特征的单位/取值范围和训练/测试分割策略（建议外层 5 折交叉验证用于最终泛化评估、内层交叉验证用于超参调优），并固定随机种子与软件环境以保证可重复性；2) 模型结构：采用“可解释线性基座 + 非线性残差”混合结构——先拟合一个带有限交互项的线性稀疏模型（例如 Elastic Net 或带交互项的岭回归）以捕捉主要线性趋势并明确包含 RON_feed 系数，再对线性残差训练非线性高性能模型（建议 LightGBM 或 XGBoost；在需要高置信度的局部区域可额外训练高斯过程代理）；两目标可分别训练但共享相同输入特征和相同的预处理流水线；3) 正则化与防过拟合：在内层 CV 中对线性与树模型的正则化参数、树深、学习率、叶子数等超参用网格或贝叶斯优化（如 Optuna）选择，必要时采用早停与子采样/Bagging 提升鲁棒性；4) 不确定性估计：通过模型集成（多次不同随机种子训练的 LightGBM 集合）、Quantile Regression Forests 或训练分位数回归树来获得预测的分位数与标准差；对于局部高精度区使用 Gaussian Process 获取本征方差；并对所得预测区间用交叉验证或留出集进行校准（例如 conformal prediction 或等概率校准），以保证区间覆盖率接近名义置信水平；5) 评价指标与合规性测试：对 y_RON 与 y_S 报告 RMSE、MAE、R^2、偏差分布与残差自相关，特别为 y_S 计算“违规率”指标（模型预测或上界超过 5 μg/g 的样本比例）、ROC/PR 曲线以评估分类型风险，以及预测区间的覆盖率与宽度；同时输出误差分布的分层分析（按原料辛烷值/硫含量分层）以检测性能随工况的变化；6) 可解释性分析：对两个模型使用 SHAP 值与部分依赖图（PDP）或累积局部效应（ALE）输出全局与局部重要性，验证变量效应方向与工艺先验一致，并保存用于后续优化的特征敏感度（雅可比近似，使用有限差分或自动微分工具对可微模型计算局部梯度）；7) 鲁棒性与稳健性检验：进行输入扰动的蒙特卡洛测试（例如对关键可控变量施加小幅高斯/均匀扰动）以评估预测鲁棒性，开展时间切片或留一组验证以检测概念漂移敏感性，并在模型表现异常情形下记录失效域（基于样本密度或 Mahalanobis 距离标注外推风险）；8) 交付物与部署工件：交付经序列化的模型文件（包括线性基座模型与非线性残差模型或其集成）、预测器包装函数/API（输入 x,z 输出预测均值、指定分位数及置信区间）、完整训练与评估脚本、模型元数据（训练集用的特征缩放参数、超参、随机种子、软件环境说明）、以及详尽的验证报告（指标表、校准图、SHAP 分析、异常/外推样本列表与建议的保守置信因子）；9) 质量门槛：模型在外层 CV 上应展示稳定的误差分布且 y_S 的上界（例如均值 + 2σ 或 95% 上分位）用于保守约束时其违规率应 ≤ 预定容忍水平（由项目方指定），否则需返回模型改进循环。整个子任务应限定在给定数据与特征集内，不引入外部实验或新增变量，并保证所有步骤可复现、可审计且结果能直接被用于后续受约束优化与现场风险评估。",
    "子任务4（受约束优化、逐步执行路径生成、可视化与风险管控）目标是：在给定已训练且可返回不确定度的预测器 f_R(x,z)（估计 RON 损失）和 f_S(x,z)（估计产品硫含量）以及每个样本的起始操作点 x0 与固定原料/吸附剂性质 z、变量上下界 l,u 和单步可调幅 Δ_i 的前提下，为每个历史样本求得一个工程可实施的、满足硫约束（保守约束形式：f_S_mean(x,z) + k·σ_S(x,z) ≤ 5 μg/g，建议 k=2）且尽量降低 RON 损失的优化解 x*，并生成分步执行路径 x0→x1→…→xK（每步对所有变量 i 满足 |x_{k+1,i} − x_{k,i}| ≤ Δ_i）以及每一步的预测响应、不确定度与风险指标；为实现此目标，必须按下列可复现流程执行：输入准备（载入 f_R、f_S 的封装接口可返回均值与标准差；载入样本 x0、z；载入变量元数据含 l,u,Δ_i 及训练样本域信息用于外推检测）；定义优化问题为 min_x f_R_mean(x,z) subject to f_S_mean(x,z)+kσ_S(x,z) ≤ 5, l≤x≤u, |x−x0|_∞≤δ_allow（δ_allow 为可选局部搜索半径以限制单次全局调整幅度）；为避免不受支持的外推，在目标函数中加入基于 Mahalanobis 距离或训练样本密度的外推惩罚项 p(x) 并事先设定阈值 D_max，超阈值解需打标并被惩罚或拒绝；求解策略采用两阶段黑箱优化：第一阶段在 x0 的局部邻域内采用 Latin-Hypercube 采样产生初始试验点并用这些点（通过 f_R、f_S 的快速预测）训练局部 Gaussian Process（GP）代理以捕获局部非线性与不确定度；第二阶段以该 GP 为代理使用带约束的贝叶斯优化（例如 Expected Improvement with Constraints）并结合并行候选评估或用 CMA-ES/受限进化算法作为补充全局搜索器，在每次候选产生后用真实预测器 f_R、f_S 评估并用结果更新代理，迭代直至达到评估预算或收敛（建议单样本最大真实评估次数 200 次，或按并行资源设定）；找到若干优候选后按保守可行性筛选（需满足硫保守约束且 Mahalanobis 距离≤D_max），并在候选中选择在保守约束下使 f_R_mean 最小且违反概率低的解 x*；对 x* 生成逐步执行路径：沿着按坐标方向的最短步数插值（或在必要时对路径点进行局部受约束最小化以避免中间点硫违规），确保每一中间点 x_k 均满足保守硫约束并再次检查外推风险，若某一步预测违规则自动缩小步长或重新在剩余可调空间内优化替代方向；为评价与保障鲁棒性，对最终路径进行蒙特卡洛鲁棒性测试（例如对每步在控制误差分布下做 N=500–1000 次扰动并统计 S 违规概率与 RON 波动），仅当每步违规概率低于预设阈值 p_max（建议 5%）才将该步骤标记为“可实施”，否则标注为“需试点验证/人工审批”；交付物为：每个样本的（1）最优候选 x* 及其保守可行性证明（f_R_mean、f_R_std、f_S_mean+ kσ），（2）逐步执行序列 x0…xK，附每步的预期 ΔRON、ΔS 及置信区间与违规概率，（3）外推风险标识与推荐的 D_max/k 值，（4）简洁可执行的操作单供现场逐步实施（变量名、每步调整量 Δ、预期响应、回滚规则与触发点），以及（5）可视化图表（主要变量随步骤的轨迹叠图、对应 RON 与 S 曲线含置信区间、蒙特卡洛分布图）；实现工具建议使用 Python（numpy, scipy, scikit-learn）、GP 库（GPy/GPyTorch）、贝叶斯优化库（scikit-optimize/GPyOpt/BoTorch）与进化算法实现（pycma 或 DEAP）并行化真实预测器评估以加速搜索，同时在算法运行中记录随机种子与完整日志以保证可复现性；最后，过程须内置早停与审查阈值：若在给定局部搜索半径和变量约束下无法在保守硫约束下达到期望的 RON 降幅（例如≥30%），输出“不可达”结论并给出最大可实现降幅及建议的进一步工程措施（例如扩大可调空间或更换吸附剂）以供决策，而所有输出均应带有实现置信度与操作风险说明以便现场工程师安全决策。"
  ]
}