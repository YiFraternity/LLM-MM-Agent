{
  "tasks": [],
  "problem_str": "问题背景：\n高校自主招生是高考改革中的一项新生事物，现在仍处于探索阶段。某高校拟在全面衡量考生的高中学习成绩及综合表现后再采用专家面试的方式决定录取与否。该校在今年自主招生中，经过初选合格进入面试的考生有N人，拟聘请老师M人。每位学生要分别接受4位老师（简称该学生的“面试组”）的单独面试。面试时，各位老师独立地对考生提问并根据其回答问题的情况给出评分。由于这是一项主观性很强的评价工作，老师的专业可能不同，他们的提问内容、提问方式以及评分习惯也会有较大差异，因此面试同一位考生的“面试组”的具体组成不同会对录取结果产生一定影响。为了保证面试工作的公平性，组织者提出如下要求：\nY1. 每位老师面试的学生数量应尽量均衡；\nY2. 面试不同考生的“面试组”成员不能完全相同；\nY3. 两个考生的“面试组”中有两位或三位老师相同的情形尽量的少；\nY4. 被任意两位老师面试的两个学生集合中出现相同学生的人数尽量的少。\n\n问题要求：\n请回答如下问题：\n问题一：设考生数N已知，在满足Y2条件下，说老师数M至少分别应为多大，才能做到任两位学生的“面试组”都没有两位以及三位面试老师相同的情形。\n问题二：请根据Y1～Y4的要求建立学生与面试老师之间合理的分配模型，并就N＝379，M＝24的情形给出具体的分配方案（每位老师面试哪些学生）及该方案满足Y1～Y4这些要求的情况。\n问题三：假设面试老师中理科与老师各占一半，并且要求每位学生接受两位文科与两位理科老师的面试，请在此假设下分别回答问题一与问题二。\n问题四：请讨论考生与面试老师之间分配的均匀性和面试公平性的关系。为了保证面试的公平性，除了组织者提出的要求外，你们认为还有哪些重要因素需要考虑，试给出新的分配方案或建议。",
  "problem": {
    "background": "高校自主招生是高考改革中的一项新生事物，现在仍处于探索阶段。某高校拟在全面衡量考生的高中学习成绩及综合表现后再采用专家面试的方式决定录取与否。该校在今年自主招生中，经过初选合格进入面试的考生有N人，拟聘请老师M人。每位学生要分别接受4位老师（简称该学生的“面试组”）的单独面试。面试时，各位老师独立地对考生提问并根据其回答问题的情况给出评分。由于这是一项主观性很强的评价工作，老师的专业可能不同，他们的提问内容、提问方式以及评分习惯也会有较大差异，因此面试同一位考生的“面试组”的具体组成不同会对录取结果产生一定影响。为了保证面试工作的公平性，组织者提出如下要求：\nY1. 每位老师面试的学生数量应尽量均衡；\nY2. 面试不同考生的“面试组”成员不能完全相同；\nY3. 两个考生的“面试组”中有两位或三位老师相同的情形尽量的少；\nY4. 被任意两位老师面试的两个学生集合中出现相同学生的人数尽量的少。",
    "problem_requirement": "请回答如下问题：\n问题一：设考生数N已知，在满足Y2条件下，说老师数M至少分别应为多大，才能做到任两位学生的“面试组”都没有两位以及三位面试老师相同的情形。\n问题二：请根据Y1～Y4的要求建立学生与面试老师之间合理的分配模型，并就N＝379，M＝24的情形给出具体的分配方案（每位老师面试哪些学生）及该方案满足Y1～Y4这些要求的情况。\n问题三：假设面试老师中理科与老师各占一半，并且要求每位学生接受两位文科与两位理科老师的面试，请在此假设下分别回答问题一与问题二。\n问题四：请讨论考生与面试老师之间分配的均匀性和面试公平性的关系。为了保证面试的公平性，除了组织者提出的要求外，你们认为还有哪些重要因素需要考虑，试给出新的分配方案或建议。",
    "dataset_path": [],
    "dataset_description": {},
    "variable_description": [],
    "addendum": "",
    "data_summary": "",
    "data_description": {},
    "problem_str": "问题背景：\n高校自主招生是高考改革中的一项新生事物，现在仍处于探索阶段。某高校拟在全面衡量考生的高中学习成绩及综合表现后再采用专家面试的方式决定录取与否。该校在今年自主招生中，经过初选合格进入面试的考生有N人，拟聘请老师M人。每位学生要分别接受4位老师（简称该学生的“面试组”）的单独面试。面试时，各位老师独立地对考生提问并根据其回答问题的情况给出评分。由于这是一项主观性很强的评价工作，老师的专业可能不同，他们的提问内容、提问方式以及评分习惯也会有较大差异，因此面试同一位考生的“面试组”的具体组成不同会对录取结果产生一定影响。为了保证面试工作的公平性，组织者提出如下要求：\nY1. 每位老师面试的学生数量应尽量均衡；\nY2. 面试不同考生的“面试组”成员不能完全相同；\nY3. 两个考生的“面试组”中有两位或三位老师相同的情形尽量的少；\nY4. 被任意两位老师面试的两个学生集合中出现相同学生的人数尽量的少。\n\n问题要求：\n请回答如下问题：\n问题一：设考生数N已知，在满足Y2条件下，说老师数M至少分别应为多大，才能做到任两位学生的“面试组”都没有两位以及三位面试老师相同的情形。\n问题二：请根据Y1～Y4的要求建立学生与面试老师之间合理的分配模型，并就N＝379，M＝24的情形给出具体的分配方案（每位老师面试哪些学生）及该方案满足Y1～Y4这些要求的情况。\n问题三：假设面试老师中理科与老师各占一半，并且要求每位学生接受两位文科与两位理科老师的面试，请在此假设下分别回答问题一与问题二。\n问题四：请讨论考生与面试老师之间分配的均匀性和面试公平性的关系。为了保证面试的公平性，除了组织者提出的要求外，你们认为还有哪些重要因素需要考虑，试给出新的分配方案或建议。"
  },
  "problem_background": "高校自主招生是高考改革中的一项新生事物，现在仍处于探索阶段。某高校拟在全面衡量考生的高中学习成绩及综合表现后再采用专家面试的方式决定录取与否。该校在今年自主招生中，经过初选合格进入面试的考生有N人，拟聘请老师M人。每位学生要分别接受4位老师（简称该学生的“面试组”）的单独面试。面试时，各位老师独立地对考生提问并根据其回答问题的情况给出评分。由于这是一项主观性很强的评价工作，老师的专业可能不同，他们的提问内容、提问方式以及评分习惯也会有较大差异，因此面试同一位考生的“面试组”的具体组成不同会对录取结果产生一定影响。为了保证面试工作的公平性，组织者提出如下要求：\nY1. 每位老师面试的学生数量应尽量均衡；\nY2. 面试不同考生的“面试组”成员不能完全相同；\nY3. 两个考生的“面试组”中有两位或三位老师相同的情形尽量的少；\nY4. 被任意两位老师面试的两个学生集合中出现相同学生的人数尽量的少。",
  "problem_requirement": "请回答如下问题：\n问题一：设考生数N已知，在满足Y2条件下，说老师数M至少分别应为多大，才能做到任两位学生的“面试组”都没有两位以及三位面试老师相同的情形。\n问题二：请根据Y1～Y4的要求建立学生与面试老师之间合理的分配模型，并就N＝379，M＝24的情形给出具体的分配方案（每位老师面试哪些学生）及该方案满足Y1～Y4这些要求的情况。\n问题三：假设面试老师中理科与老师各占一半，并且要求每位学生接受两位文科与两位理科老师的面试，请在此假设下分别回答问题一与问题二。\n问题四：请讨论考生与面试老师之间分配的均匀性和面试公平性的关系。为了保证面试的公平性，除了组织者提出的要求外，你们认为还有哪些重要因素需要考虑，试给出新的分配方案或建议。",
  "problem_analysis": "在回答具体的建模问题之前，先从宏观层面把握问题的性质与建模目标、隐含假设以及各约束之间的逻辑关系。原问题本质上是一个组合设计问题：教师集合是“基础元素”，每个考生对应一个由4位不同老师组成的“区块”（4-子集），组织者希望在给定考生数 N 与教师数 M 的情况下，用 N 个大小为4的区块来覆盖教师集合，使得老师的工作量均衡并尽量减少区块之间的重合（特别是重合 2 或 3 人的情况），同时控制任意两位老师共同面试的学生数尽量小且均匀。目标可以看作多目标优化：一方面希望每位老师的被分配学生数接近平均值（Y1）；另一方面希望不同学生的“面试组”不重复（Y2）并且不同学生间共享 2 或 3 位老师的情况尽量少（Y3），再进一步希望任意两位老师共同面试的学生集合规模尽量小且均匀（Y4）。这些目标在数学上分别对应区块设计中的“顶点度均衡”（每个教师出现在多少个区块中）、区块之间的交集约束（交集大小分布）和边（教师对）在所有区块中出现的次数分布（对重数或 pair-multiplicity）。从理论上看，这是一个关于 4-均匀超图（顶点为老师、超边为考生的面试组）的构造问题，Y2–Y4 实质上要求这张超图尽可能“线性”（pairwise intersections 小）与“度与边重均衡”。\n\n在建模前要明确并批判性地列出显性或隐性假设：首先假设每位学生必须且恰好接受 4 位不同老师的面试（问题给定）；假设老师之间没有互相替代的专业限制（除了问题三中明确的文理分组），即任何老师都可以与任何其它老师组成面试组；假设学生的分配只考虑结构的公平性（Y1–Y4），而不考虑老师专业对题目的匹配、时间表、地点或面试顺序等操作性限制；假设每一次面试独立且老师评分偏差同质可通过设计减少（但这在实际中通常需用统计校正）。这些简化假设有助于把问题转化为组合与优化问题，但也限制了解的实际可操作性：例如若某些老师只能面试理科学生或每天可面试人数不同，则设计必须修改；若评分中存在系统性偏差，则仅通过组合均衡不能完全保证最终录取公平性，需要后续的评分校正（例如多因素 Rasch 模型或混合效应模型）。\n\n基于上述认识，可以把问题分成两类分析任务：一是理论可行性边界（能否做到没有两位或三位重合），二是实际分配的构造与优化（在 M、N 固定时尽量满足 Y1–Y4 并评估残留不公平）。就第一个问题的理论下界可以通过计数与组合不等式直接得到清晰结论。每个学生对应一个大小为 4 的区块，该区块包含 C(4,2)=6 个老师对（unordered teacher pairs）；若要求任何两个不同学生的面试组的交集大小都小于 2（即没有两个学生共享两位或三位老师），则任意一对老师在所有区块中最多出现一次（否则两个包含该对的区块会产生交集 ≥2）。因此，如果 M 为教师数，则可能出现的不同老师对总数为 C(M,2)=M(M−1)/2，每个区块占用 6 个不同的老师对，所以区块总数 N 必须满足 6N ≤ C(M,2)，即 N ≤ M(M−1)/12。从这个不等式可以得到满足“任意两位学生的面试组之间没有两位或三位相同老师”的最小 M 下界，即要求 M(M−1) ≥ 12 N。用解析式可写成 M ≥ ceil((1 + sqrt(1 + 48 N))/2)。这是一个必要条件；同时它也足够地表明：若该不等式不满足，则不可能完全避免任意两学生共享两位老师的情况（或共享三位）。因此问题一的结论是明确且简洁的：所需老师数 M 至少应满足 M(M−1) ≥ 12 N（并且 M ≥ 4），换言之 M 至少为上述根式给出的向上取整值。对问题三（当老师按理/文各半、且每位学生必须恰好接受两位文科与两位理科老师面试）同样可用类似的计数方法推导下界：按每个区块由 2 个文老师与 2 个理老师构成，该区块所贡献的老师对包括 1 个文文对、1 个理理对和 4 个文理对，总计也是 6 对；要求任意两区块交集小于 2 同样等价于“每一种可能的老师对（包括两文、一文一理或两理）在所有区块中最多出现一次”，故可得的全局计数不等式形式与不分科时一致，仍然是 N ≤ M(M−1)/12（只不过 M 在此处被分为两组，但合并计数后上下界一致）。因此在有文理约束的情形下，理论下界对 M 没有改变，但模型构造上会引起额外的结构性限制（需要每个区块恰好含 2 文 2 理），这会使实际构造更受限、实现困难度上升。\n\n当 N 与 M 给定时（例如问题二中的具体数值 N=379、M=24），第一步应用上面的必要条件判断可行性。将 N=379 代入不等式 M(M−1) ≥ 12N 得到右端为 12×379 = 4548，因此要求 M(M−1) ≥ 4548。解出最小整 M 大约为 68（精确为 ceil((1 + sqrt(1 + 48×379))/2) ≈ 68）。显然给定的 M=24 远小于 68，因此不可能做到没有两个学生共享两位或三位老师；换言之在 M=24 的现实情况下，必须允许且不可避免地出现大量两人或三人共同的交集。由此应当把目标从“消除交集”调整为“尽量均匀地分布这些交集、使得 Y1–Y4 的指标最优化”。这一思路下的自然数学表述是：把 N 个 4-子集的集合视为要构造的 4-均匀多重超图，设变量表示每个老师被分配的学生数（顶点度），另一些变量表示任意一对老师共同面试的学生数（边重 λ_{ij}），约束条件包括每个学生恰有 4 位老师（每个超边大小为 4）、总访谈次数为 4N、每位老师的负担应接近平均值 4N/M（Y1），并以某种目标函数最小化度方差与边重方差、以及学生间交集大小分布（Y3）。有几条显而易见的数学关系为模型提供了有力约束：一是每位老师 i 的度 r_i 满足 sum_{j≠i} λ_{ij} = 3 r_i（因为老师 i 出现在 r_i 个区块中，每个这样的区块在 i 上产生 3 个与 i 相连的对）；二是 sum_{i<j} λ_{ij} = 6 N（因为每个区块贡献 6 对，合计为 6N）；三是 sum_i r_i = 4 N（因为 4N 次出现在所有区块中的教师总数）。这些线性关系约束了可能的 r_i 与 λ_{ij} 的总体结构。模型可以以整数规划或组合构造问题的形式表达：基于二元决策变量 x_{s,t}（学生 s 是否由老师 t 面试）并附加线性约束 sum_t x_{s,t} = 4（每学生 4 位老师），sum_s x_{s,t} ∈ {floor(4N/M), ceil(4N/M)}（均衡老师负担），以及 λ_{ij} = sum_s x_{s,i} x_{s,j} 等定义式，然后以最小化目标函数（例如老师负担方差 + α × 方差(λ_{ij}) + β × 总共有交集 ≥2 的学生对数）为主。由于变量规模（N×M）在实际中可观，这类整数规划通常需要启发式或元启发式方法求解：贪婪构造、局部搜索、禁忌搜索、模拟退火或基于图论的分解方法（把问题看成把一个边重矩阵分解成若干个 K4 的覆盖）都适用。\n\n对于具体数值 N=379、M=24，可以用前述线性约束推导出目标均衡量的理论极限值并据此设计目标构造。因为总访谈次数为 4N = 1516，故每位老师平均被分配的学生数为 1516/24 ≈ 63.1667。于是必然有 20 位老师被分配 63 人，4 位老师被分配 64 人（整除余数分配）。关于任意两位老师共同面试的平均次数，由于每个区块包含 6 个老师对，总对出现次数为 6N = 2274，在 C(24,2) = 276 个老师对之间平均分配则得到平均 λ̄ = 2274/276 ≈ 8.239. 为尽可能满足 Y3 和 Y4 的“尽量少且均匀”的目标，一个理想的离散目标是让每个老师对的共同学生数尽可能接近 8 或 9，并且在整数可行性与每位老师度的可整除性约束下把这些 8 与 9 的分布安排均匀。事实上，用简单的代数可以精确地得到：若设有 x 对老师的共同出现次数为 9，其余 276 − x 对为 8，则 9 x + 8(276 − x) = 2274，解得 x = 66。这意味着在一个最优且尽可能均衡的分配中可以做到恰好有 66 个老师对出现 9 次，剩下 210 个老师对出现 8 次；且老师度 r_i 的可行值应当为 63 或 64，满足行和条件（每位老师的行和为 sum_j λ_{ij} = 3 r_i）会导致恰好 20 位老师 r_i = 63（其行和为 189），4 位老师 r_i = 64（其行和为 192），这一切在代数上完全一致：对于 r_i = 63 的老师，其在 23 个对中应有恰好 5 个是 9（其余 18 个是 8），而对于 r_i = 64 的老师，应有恰好 8 个是 9（其余 15 个是 8）。把这些条件转化为“一个关于 24 个顶点的简单图，其中一条边表示该顶点对取 9 的图”，则该图需要 66 条边，满足有 20 个顶点度为 5、4 个顶点度为 8。这样一个图在简单图的可图性判定下是存在的（度数序列满足握手引理并通常满足 Erdős–Gallai 条件），因此在抽象的边重矩阵层面可以实现 λ_{ij} 精确为 8 或 9 的配置并且对应的 r_i 值为 63 或 64。剩余的一步是把“边重矩阵”即 λ_{ij}（以整数给出）分解成恰好 N=379 个 K4（每个 K4 对应一个学生且占用其四位老师之间的 6 条边中的一条单位重），这就是把多重图 K_{24}^λ 分解为若干 K4 的问题。关于是否一定存在这样的 K4 分解，理论上需要验证更细致的可整除条件（边重的奇偶、顶点度能否被 3 整除或构成合适的残差）以及结构性可分解性条件；但在本例中前面计算的整除条件已满足（sum r_i = 1516，sum λ_{ij} = 2274，且每位老师的行和是 189 或 192，均为 3 的倍数或足以满足 3 r_i 的关系），因而从必要条件看是可行的。实际构造上可以采用算法方法去实现：先构造满足“9 边”模式的简单图（顶点度为 5 或 8 的图），再把基础矩阵设置为全 8（每对至少被 8 次使用），再把“9 边”对应的 1 次额外重添加上去，从而得到边重矩阵 λ_{ij} ∈ {8,9}。接着通过贪婪或启发式的 K4 打包方法（每一步在剩余边重图中寻找一个完整的 K4，移去其对应的 6 条边的单位重并记录为一个学生的面试组），反复进行直至构造出 379 个 K4。寻找 K4 的子图可以用快速的 clique-finding 子例程和启发式搜索（例如优先选取节点度较大的顶点或使某顶点充当刚需的剩余度）来完成；若单纯贪婪卡位失败，可以用随机重启、局部交换或整数线性规划做精确求解的局部子问题。总之从理论与构造角度看，针对 N=379、M=24 的情形，存在一种“理想”的目标边重分布（大多数对为 8 次，确切 66 对为 9 次，老师度分别为 63 或 64），并且在计算上是可构造的，实际实施需要借助程序和启发式分解算法来给出每位老师面试哪些学生（该结果会是 379 个由 24 个老师编号组成的 4-元组的列表）。用这种分配所能达到的 Y1–Y4 指标可以被量化评估：Y1（老师负担）可做到只有 63 与 64 的两档分布；Y4（任意两位老师共同面试的学生数）可做到仅为 8 或 9，且同一老师的这些“9 边”数是固定且可控制的（5 或 8），从而使得方差被最小化；Y3（两位或三位相同的学生对）可以通过下述计数得到上界：任何两个学生若共享至少两个老师，则至少包含某个老师对，该对在 λ_{ij} 次出现中会产生 C(λ_{ij},2) 个（无序）学生对被该老师对共同包含。因此学生对共享 ≥2 的总“重数”上界为 sum_{i<j} C(λ_{ij},2)，在理想 λ_{ij} ∈ {8,9} 的情形下该和为 210*C(8,2) + 66*C(9,2) = 210*28 + 66*36 = 5880 + 2376 = 8256（这与若随机选择 4-子集时的期望数量约 8236 非常接近），从而说明在 M=24 的现实配置下不可避免地会存在数千对学生在面试组中共享两位或更多老师，但我们可以把这些事件尽量均匀分散以降低某些考生因“更大重合”而受偏差影响的风险。关于 Y2（面试组不能完全相同），在构造时只要每次选择的 K4 具备唯一性即可（不重复选择相同的 4-元组），而在边重分解过程中通常会得到 379 个不重复的 K4，因为若重复区块出现会直接导致某些对的出现次数不均衡；在设计算法时可以强制区块唯一化以保障 Y2。\n\n当加入“文科与理科各占一半”并且要求每个学生恰有两位文科和两位理科老师时（问题三的构造问题），模型与分析的总体框架保持一致，但构造所需满足的边类型细分成“文—文”、“理—理”与“文—理”三类，它们在每个区块中分别出现 1、1、4 次。对 N=379、M=24 且文理均 12 的情景，可按类似算术精确分配得到在“理想”均衡解中：跨学科（文理对）的一般平均出现次数为 4N/(12×12) = 1516/144 ≈ 10.528，因此这些跨对理想取 10 或 11；文文对与理理对的平均出现次数为 N/C(12,2) = 379/66 ≈ 5.742，因此这些同学科对理想取 5 或 6。代数上可以精确求出有 76 个文理对为 11（其余 68 为 10），并且在每一边内有 49 个同学科对为 6（其余 17 为 5），并且会得到每位老师的总度仍为 63 或 64，且每位老师在其同科内需有固定数目的 6（或 5）边而跨科边需有特定个数为 11（或 10）。把这些离散目标转化为图问题后，同样可以在必要整除条件下用算法实现（首先构造一个满足每位教师在同科与跨科边上分别具有指定“高频/低频”边数量的二元图，然后在边重上加基数并把整个多重图分解为 K4，其中每个 K4 必须恰有 2 位文、2 位理），这一步比无学科限制的情况更复杂但在算术上并不矛盾。实际构造仍建议用程序化方法完成：先确定每对的目标 λ_{ij}（取 5/6 或 10/11/等），然后用贪婪与局部搜索寻找满足每位老师度的 K4 打包序列；若纯贪婪失败，可用整数规划对局部冲突做修正或用启发式交换减少残差。\n\n在讨论公平性的更广义问题（问题四）时，需要指出组合均衡只是公平性保障的一部分。真正的评分与录取公平性还受多种因素影响：老师的评分尺度与偏差（有的老师习惯打高分或严苛评分）、题目或提问方向对学生类型的适配性（某些老师偏向问专业性问题，某些偏向全面素质问题），面试时间段与老师疲劳造成的系统性差异，冲突利益或已知考生信息对老师的影响，以及评分后的汇总方法（直接平均、加权平均还是经过模型校准后的分数）。因此除了 Y1–Y4 的结构性控制以外，应当在组织层面采取多项措施：首先进行评分标定与归一化，采用多因素 Rasch 模型或混合效应模型把老师的等级效应（rater effect）作为随机效应或者“裁判严厉度”参数估计并进行分数校正；其次在面试前组织老师的规范化培训与试评分、使用“锚定候选人”（若干已知标准答案/样板）来进行同步标定；再次在排班上注意交叉覆盖与随机化，确保每位老师面试的学生样本具有多样性（例如跨文理、跨区域与不同成绩段），以降低系统性偏误；另外，避免过度频繁地让同一组老师重复对同一类学生面试（即控制 λ_{ij} 的上界）以防止小团队内评分趋同或产生“局部偏差”；此外记录并监测每位老师的评分分布、与其他老师的相关性，若发现异常（例如显著偏高或偏低）应触发人工复核或后验统计修正。运筹调度层面的改进措施还包括考虑时间与地点约束（老师的可用时间窗、面试效率随时段变化）、分配的可解释性（能向被分配双方说明为何如此安排）以及冲突利益检查（某些老师与考生存在师生关系或熟悉度需避免分配）。最终一个实用的方案往往需在数学上的“均衡/最优”与实际操作的“可行/透明”之间做权衡：理论上完美均衡的方案可能在时间表或老师专业能力上不可行，因此要预留在算法中可接受的松弛量（例如允许老师负担偏差 ±1，允许某个老师对重复次数偏离目标 ±1），并在实施后用数据驱动的方法做动态修正（比如每年基于评分统计调整分配策略）。\n\n综上所述，回答问题一的核心数学结论是 M 必须至少满足 M(M−1) ≥ 12 N（等价于 M ≥ ceil((1 + sqrt(1 + 48 N))/2)），这在文理分组约束下的结论形式不变。对于问题二，给定 N=379、M=24 的情形理论上无法避免大量的两人或三人重合，但可以构造一个在数学上最优或近似最优的分配目标：每位老师被分配 63 或 64 个学生、任意一对老师共同面试的学生数取 8 或 9（确切为 210 对为 8，66 对为 9），并进一步把该边重矩阵分解为 379 个 K4，从而得到具体的每位老师面试学生列表；构造过程建议通过编程（整数规划混合启发式的 K4 打包算法）完成，同时用上述算术与图论条件作为可行性检查与目标设定。问题三 在文理各半且每位学生需 2 文 2 理的约束下，理论下界不变，但需要对三类老师对（文文、理理、文理）分别做目标分配（如跨科对多数为 10 或 11，同科对为 5 或 6）并进行 K4（2+2）分解，构造上更有挑战但同样可通过算法实现。最后，要强调模型与结果并非一次性完结：需要对评分偏差、时间效应、老师专业性限制、冲突利益等现实因素进行后验校正与制度设计（培训、规范、统计修正），并把分配算法置于迭代的流程中，用实际面试数据不断估计老师效应并改进分配策略，以实现组织者对公平性、效率与可操作性的综合目标。",
  "modeling_solution": "总体建模思路与关键结论。问题本质是构造一个顶点为老师、超边为学生面试组（每条超边大小为4）的4-均匀超图，使得顶点度尽量均衡、不同超边之间交叠（尤其交叠为2或3的情况）尽量少，并且任意一对老师共同面试的学生数（边重）尽量小且均匀。基于简单的计数约束可以得到一条必要的、且在问题一中要求的解析下界：每个学生对应6个无序老师对，总共6N个“对位使用”；全可能的老师对数量为 C(M,2)=M(M−1)/2，因此若要求任意两名学生的面试组之间不出现共享2人或3人的情形（即任何一对老师在所有学生中最多被使用一次），必须满足 6N ≤ C(M,2)，等价于 M(M−1) ≥ 12 N，从而得到 M ≥ ceil((1 + sqrt(1 + 48N))/2)。该下界在无学科划分或在文/理两组且每个学生需恰有2文2理的情形下形式不变（必要计数相同），因此问题三的理论下界与问题一相同。若给定的 M 低于该下界（例如问题二中 N=379, M=24，因 24·23=552 < 4548，不满足），则必须放宽“零重合”要求，把目标转为在可行解空间中尽量均匀地分配重合与负担，最小化某些差异性度量。\n\n模型变量、参数与基础约束。用索引 s=1..N 表示学生，i,j=1..M 表示老师。决策变量 x_{s,i} ∈ {0,1} 表示学生 s 是否由老师 i 面试。定义每位老师负担 r_i = sum_{s} x_{s,i}。定义老师对的共同出现次数 λ_{ij} = sum_{s} x_{s,i} x_{s,j} (对称，i<j)。基础约束包括每个学生恰有四位老师：forall s, sum_{i} x_{s,i} = 4。日志合计关系必然成立：sum_{i} r_i = 4N，sum_{i<j} λ_{ij} = 6N，并且每位老师满足 sum_{j≠i} λ_{ij} = 3 r_i（因为老师 i 出现在 r_i 条超边中，每条产生与 i 相邻的3个对）。为实现 Y1（负担均衡），可加约束 r_i ∈ { floor(4N/M), ceil(4N/M) } 或软约束最小化 Var(r)= (1/M) sum_i (r_i − 4N/M)^2。为实现 Y2（没有完全相同的面试组），可添加硬约束 forbidding identical blocks：forall s<s', sum_i x_{s,i} x_{s',i} ≤ 3，或等价地确保任何两个学生的交集严格小于4；若允许少量重复，改为在目标中对重复组数加罚项。为尽量减少两个或三个老师共同出现在两名学生中的情形（Y3），可以把对大小≥2的学生对计数纳入目标或直接约束上界：forall s<s', sum_i x_{s,i} x_{s',i} ≤ 1 + z_{s,s'}，并在目标中尽量压缩 sum_{s<s'} z_{s,s'}。Y4（任意两位老师共同面试的学生集合大小均匀且尽量少）通过对 λ_{ij} 的方差最小化或最大值约束（minimize max_{i<j} λ_{ij} 或限制 λ_{ij} ∈ {L, L+1}）来实现，同时满足 sum_{i<j} λ_{ij} = 6N 与每位老师行和 3 r_i 的整数条件。综合目标函数可以采用加权和形式：Minimize W1·Var(r) + W2·Var(λ_{ij}) + W3·sum_{s<s'} I[sum_i x_{s,i} x_{s',i} ≥ 2] + W4·sum_{duplicates} 1 + W5·max_{i<j} λ_{ij}, 其中权重 Wk 根据组织者偏好调整；为便于优化，可把非凸、非线性项线性化或以惩罚形式近似（例如用平方项替代离散指示或引入辅助变量并线性化乘积 x_{s,i} x_{s,j}）。\n\n对问题二（N=379, M=24）的算术推导与理想目标分布。总面试次数 4N = 1516，平均每位老师被分配 μ_r = 1516/24 ≈ 63.1667，故在整数分配下老师负担应为 63 或 64，具体现实上必有 20 位老师为63、4位为64（因为 20·63 + 4·64 = 1516）。所有老师对的总次数为 6N = 2274，在 C(24,2)=276 对中平均 λ̄ ≈ 8.239。为使 λ_{ij} 尽可能均匀且尽量小，可以选择 λ_{ij} ∈ {8,9}，并解 9 x + 8 (276 − x) = 2274，得到 x = 66，故可以有 66 对为9，其余210对为8。进一步根据关系 sum_j λ_{ij} = 3 r_i，若 r_i=63 则该和为189；若 r_i=64 则为192。要使每位老师满足这些行和并且在其23条关联边中恰有特定数量为9（其余为8），需要构造一个简单图 G(24) 的边集 E9（包含66条边）使得 G 的度序列为：对 r_i=63 的顶点度为5（因为 5·9 + 18·8 = 189），对 r_i=64 的顶点度为8（因为 8·9 + 15·8 = 192）。该度序列满足握手引理且通常满足 Erdős–Gallai 条件，故抽象上的 λ 分布可行。实际的最后一步是将此多重边权矩阵 λ_{ij} 分解为恰好 N=379 个 K4（每个 K4 对应一个学生、消耗它所跨的6条对各1次），这属于 K4 分解或 K4 打包问题；必要整除条件在本例满足（总边数、行和和每条 K4 消耗6条边的关系均整除），因此在算法层面通过贪婪搜索、启发式局部修正和 ILP 局部回溯通常可构造具体的 379 个四元组（每个四元组唯一以满足 Y2）。构造思路为：先构造 E9 的简单图使其度分布正确，然后把基础矩阵设为全8，将 E9 上的边权再加1得 λ_{ij} ∈ {8,9}，接着迭代寻找剩余多重图中的 K4（可用启发式寻找高剩余度顶点联结成的四元组或用快速 clique-finding）；若某些局部区域卡死，用 MILP 解决该局部子问题或做随机重启。实现上 N×M ≈ 379×24 ≈ 9096 个二元变量的 MILP 在现代求解器下是可处理的，但若把所有乘积变量和学生对指示变量展开则规模会增加，故建议分阶段混合启发式与精确求解：构造可行的 λ 目标（基于均匀化原则），然后用 K4 打包的启发式构造，必要时用 ILP 修正冲突。\n\n关于问题三（文/理各半且每学生需2文2理）的模型拓展。把老师集分为文组 V (size Mv) 与理组 R (size Mr)，通常 Mv = Mr = M/2。每个学生 s 需满足 sum_{i∈V} x_{s,i} = 2 与 sum_{j∈R} x_{s,j} = 2，从而每个超边在内部产生的边类型为：1 文-文、1 理-理、4 文-理，总计仍为6个对。整体计数得到文文对总和 sum_{i<j, i,j∈V} λ_{ij} = N (因为每个学生贡献1个文文对)，理理对同理为 N，而文理对总和为 4N。这给 λ 分布强烈的分块结构：文文对平均值为 N / C(Mv,2)，理理对同样，跨科对平均为 4N / (Mv·Mr)。对 N=379, M=24, Mv=Mr=12 得到文文/理理对平均约为 379/66 ≈5.742（可在5或6之间取整），跨科对平均约为 1516/144 ≈10.528（可在10或11之间取整）。同样可以找出恰当的取整分布（多少对为高1值），并检验每个老师的行和（3 r_i）能否被满足，如能则从代数上可行。构造时要保证每个 K4 的结构为2文2理，这使得打包问题更具约束性，但可通过先在跨科、同科两层分别设计 λ 的目标矩阵后进行 K4 打包（每步优先选取一对文和一对理构成 K4）并用局部搜索微调来实现。此情形比无学科情形更受限且更难找到完美分解，但在整数必需条件满足时启发式方法通常成功。\n\n求解策略与算法实现细节。基于上面的模型建议采用分阶段、混合精确与启发式方法。第一步计算可行的目标边权矩阵 λ*（以均匀化方差最小为目标并满足代数关系 sum_{i<j} λ_{ij} = 6N 与每位行和为3 r_i），可以通过解一个小型线性/整数规划问题或通过贪婪均衡分配实现（先把每对赋下界 floor(6N/C(M,2))，再把剩余的边重按需要分配使行和匹配）。第二步把 λ* 分解为若干 K4（每次在当前剩余多重图中寻找一个完全子图 K4，然后减去其6条边的权重1），寻找 K4 的方法包括：启发式构造（优先选高剩余度顶点组合）、图枚举（基于邻接列表快速查找四元组）、随机化重启和局部交换（交换若干学生的四元组以消除冲突）。当贪婪卡住并出现局部不可行时，对该局部的若干边构造小规模的 ILP 来找到局部可行打包（例如把这一区域限制为 k 位老师所形成的子问题，用 MILP 明确构造若干 K4）。整个流程可以并行化（把老师集分块并在不同进程中寻找局部 K4，再用合并策略统一解决跨块边），并可用模拟退火或禁忌搜索作为全局优化的后端来进一步减少目标函数值。实现工具推荐 Python + NetworkX 进行图操作，C++ 或 PyPy 实现高性能 clique 查找，MILP 用 Gurobi/CPLEX 或开源 CBC 做精确子问题求解。计算资源方面，对于 N≈几百、M≈几十的实例，单机多核在数分钟到数小时内通常可以得到可行且优良的解；若规模更大或目标更严苛，应使用集群并行化。优化精度由目标权重与可容忍的残差决定；建议逐步放松/收紧约束并做多次随机重启以检验解的稳健性。\n\n模型适应性、时间演化与敏感性分析。分配方案需对现实条件变化（老师可用性变更、临时缺席、学生数变动、文理人数不等）具有可重构能力，故应把模型实现为一个可重运行的模块，能在输入变更后快速重新生成或修正分配（例如优先本地调整受影响老师和学生的四元组而非完全重构）。应做灵敏度分析来估计模型对参数（权重 Wk、目标 λ 的目标分布、老师总数 M）的反应：采用蒙特卡洛式的交换试验（随机地在当前分配中交换若干老师或学生四元组，计算 Var(r)、Var(λ)、共享≥2的学生对数等指标分布）来评估设计稳健性。对于评分公平性验证，需结合历史或模拟评分数据建立打分生成模型（例如混合效应模型：score_{s,i} = μ_s + α_i + ε_{s,i}，其中 μ_s 表示考生真实能力，α_i 表示老师严重/宽松偏差，ε 为随机误差），以当前分配模拟多次评分样本并评估最终被录取名单的方差与偏差，进而比较不同分配策略带来的公平性差异。基于此可用反事实分析（例如移除个别老师的评分偏差，或交换若干学生的面试组）来量化分配带来的系统性影响。\n\n与实际操作相关的制度与扩展建议。组合均衡只是保证面试机会公平的一个方面，更全面的公平性还需考虑评分尺度校准、盲法与冲突利益排查、面试题目/方向的规范化、面试时间段与老师疲劳效应等。建议在分配方案实施前后落实以下措施：对老师进行统一培训与试打分、设定锚定候选人以进行跨老师校准、使用后验统计方法（如多评委 Rasch 模型或线性混合模型）估计并校正老师效应、对评分结果进行异常检测并触发复核。组织上应保证每位老师面试的学生样本具有多样性（跨分数段、地域等），避免把相同类别学生集中给某些老师，从而降低偏差放大。从分配角度，可加入随机化元素（在满足 Y1–Y4 的前提下对学生组成员进行微小随机扰动）来避免结构性偏差被利用或被固定。长期来看，可把面试分配与评分数据结合起来做动态优化：基于每年估计出的老师严厉度与方差来调整下一年的分配权重 Wk，从而形成闭环自适应机制。\n\n结论性摘要与可操作步骤。首先用解析条件判断 M 的可行性下界 M ≥ ceil((1 + sqrt(1 + 48N))/2)，若 M 满足则可以追求零重合设计；若不满足（多数实际情形），则按上述整数编程与图论分解策略构造近似均衡解，目标是把老师负担限定在 floor/ceil(4N/M) 两档，把对重 λ_{ij} 尽量压缩到两个相邻整数（如本例 8/9）并均匀分布高重边的节点度；在此基础上通过 K4 打包算法（混合贪婪、局部搜索与精确 ILP 修复）得到具体的每位老师面试哪些学生的清单。最后把分配与评分校准机制结合起来，通过统计模型对老师效应做后验纠正并据此迭代优化分配，实现结构性公平与评分公平的双重保证。上述模型兼顾理论与实践可行性，可扩展纳入学科约束、时间窗、老师能力匹配等现实条件，并可通过仿真/历史数据不断校准、改进与推广。",
  "task_descriptions": [
    "子任务1 的目标是把问题形式化为一个可检验的、以理论可行性为核心的数学判断与度量框架：将老师集合视为顶点、每位考生的4位面试老师视为一个大小为4的超边，从而得到一个4-均匀超图模型；输入为考生数 N、教师数 M（可选：教师的学科分组或对某些配对/配对禁忌的额外约束），输出为（1）判断在不允许任两位学生的面试组共享两位或三位老师（即任意老师对在所有学生中最多出现一次）的情况下 M 是否足够的解析结论与检验方法；（2）用于衡量和约束 Y1–Y4 的一组明确代数恒等与可计算指标以作为后续构造或优化的基准。具体工作步骤与方法为：先给出决策变量和派生量的精确定义——对 s=1..N, i=1..M 定义二元变量 x_{s,i}∈{0,1}（表示学生 s 是否由老师 i 面试），老师度 r_i := Σ_s x_{s,i}（每位老师面试的人数），老师对共现次数 λ_{ij} := Σ_s x_{s,i} x_{s,j}（i<j）；证明并列出必然成立的线性恒等式 Σ_i r_i = 4N、Σ_{i<j} λ_{ij} = 6N 以及对每个 i 有 Σ_{j≠i} λ_{ij} = 3 r_i；基于“每个学生产生6个老师对”的计数直接导出避免任意两个学生共享≥2名老师所必须满足的计数不等式 6N ≤ C(M,2)=M(M−1)/2，从而给出解析下界 M ≥ (1 + √(1 + 48N))/2，并说明在整数意义下的判定公式 M ≥ ceil((1 + √(1 + 48N))/2)（同时注意 M≥4 的显然下界）；说明在存在文/理分组且每个学生必须恰好由2文+2理老师面试的情形中，基于同样的“每生6对”计数该必要下界形式不变，但需要额外接受 λ 矩阵在同科/跨科三类边上分别满足各自的和（文文对总和=N、理理=N、文理=4N），并据此可计算各类对的平均值用于可行性快速评估。为衡量 Y1–Y4 给出可计算指标：Y1 用 r_i 的最大偏差或方差 Var(r) = (1/M)Σ_i (r_i − 4N/M)^2；Y2 用重复区块数 count_duplicates = |{s<s' : Σ_i x_{s,i} x_{s',i}=4}|（或强制约束 Σ_i x_{s,i} x_{s',i} ≤ 3）；Y3 可用学生对间共享≥2老师的计数 S_≥2（可通过辅助上界计算 Σ_{i<j} C(λ_{ij},2) 来快速估计，因每对老师 i,j 在 λ_{ij} 次共现中会产生 C(λ_{ij},2) 个被该对共同面试的学生对，而任一学生对共享 t 位老师会在该和中被计入 C(t,2)），Y4 用 λ_{ij} 的分布特征（均值 λ̄ = 6N / C(M,2)、方差 Var(λ), 最大值 max_{i<j} λ_{ij}）或希望的两档约束 λ_{ij} ∈ {L, L+1} 的可行性检查。最后明确给出一套可执行的检查流程：输入 N、M（及可选学科分组/禁忌），先计算理论下界并判断 M 是否满足 6N ≤ C(M,2)；若不满足，报出不可实现“零两人或三人重合”的结论并提供上述指标作为度量基准；同时计算平均 r=4N/M 与平均 λ̄ 以作为后续分配目标的目标值并验证整除及行和一致性（即是否存在整数 r_i、λ_{ij} 满足 Σ_i r_i=4N、Σ_{i<j} λ_{ij}=6N 与 Σ_j λ_{ij}=3 r_i），这些代数与计数检验、平均值与方差指标以及 C(λ) 上界计算构成本子任务的全部输出和方法学基础；所需方法工具仅为组合计数、基础代数与简单图论概念（无需求解具体分配），可用基础计算器、电子表格或任意数学软件进行速算与可行性判定。",
    "子任务2（整数线性模型与目标函数设计）旨在把面试分配问题精确表述为一个可求解的混合整数线性规划（MILP）框架：输入为学生集合 S (|S|=N)、教师集合 T (|T|=M)、可选的教师学科标签与任何禁止配对或容量限制，输出为二元分配变量与一组可直接用于求解器的线性约束与目标项。具体如下：决策变量为 x_{s,i}∈{0,1}（学生 s 由教师 i 面试），衍生整数变量 r_i := Σ_{s∈S} x_{s,i}（教师 i 的工作量）、和对重变量 λ_{i,j} := Σ_{s∈S} y_{s,i,j}（教师对 i<j 在所有学生中共同出现的次数），以及为线性化而引入的中间二元变量 y_{s,i,j}∈{0,1}（表示学生 s 同时被分配给 i 与 j），其线性化约束为 y_{s,i,j} ≤ x_{s,i}, y_{s,i,j} ≤ x_{s,j}, y_{s,i,j} ≥ x_{s,i}+x_{s,j}-1。必须满足的硬约束包括：∀s Σ_{i∈T} x_{s,i} = 4（每位学生恰有4位面试老师）；若存在学科配比要求则为每位学生添加 ∀s Σ_{i∈文} x_{s,i} = 2, Σ_{j∈理} x_{s,j} = 2；教师容量约束 r_i ≤ cap_i（如有）；以及一致性恒等式 Σ_{i} r_i = 4N、Σ_{i<j} λ_{i,j} = 6N 与 ∀i Σ_{j≠i} λ_{i,j} = 3 r_i（后两者可作为约束或用于建模检验）。为实现 Y1–Y4 的软目标，提供可线性化的目标项选择并给出实现方式：A) 均衡教师负担（Y1）：最小化最大偏差 u subject to ∀i u ≥ r_i − ⌈4N/M⌉ and u ≥ ⌊4N/M⌋ − r_i，或最小化 Σ_i t_i 且 t_i ≥ r_i − μ, t_i ≥ μ − r_i（μ=4N/M）以用 L∞ 或 L1 近似代替二次方差；B) 均匀、尽量小的对重（Y4）：直接用变量 λ_{i,j} 并最小化其范围 v subject to ∀i<j v ≥ λ_{i,j} − L and v ≥ L − λ_{i,j}，或最小化 Σ_{i<j} w_{i,j} with w_{i,j} ≥ λ_{i,j} − λ̄ and w_{i,j} ≥ λ̄ − λ_{i,j}（λ̄ = 6N/C(M,2)）；也可强制 λ_{i,j} ∈ {L,L+1} 为硬约束以控制离散化；C) 尽量少的学生组完全相同（Y2）：为每对学生(s,s')定义 overlap_{s,s'} = Σ_i y_{s,s',i} 并用二元指示 z_{s,s'} ∈ {0,1} 线性化 z_{s,s'} ≥ (overlap_{s,s'} − 3)/1 （或直接禁止 overlap_{s,s'}=4 若需硬约束），在目标中以高权重惩罚 Σ_{s<s'} z_{s,s'}；D) 尽量少的两位或三位老师重复（Y3）：观察到学生对共享≥2 的总量可由 Σ_{i<j} C(λ_{i,j},2) 上界估计，在线性模型中可用二阶近似替代或直接惩罚 Σ_{i<j} p_{i,j} where p_{i,j} ≥ λ_{i,j} − 1 and p_{i,j} ≥ 0 来近似抑制高 λ 值；更直接的线性做法是限制每对上界 λ_{i,j} ≤ Λ_max。综合目标建议采用加权线性形式 min α·U_r + β·W_λ + γ·Σ z_{s,s'} + δ·Σ p_{i,j}，其中各辅助变量均已线性化，权重由组织者偏好指定；避免在主模型中使用二次项以保持 MILP 可解性。为降低规模与改善可解性，模型应支持两种实用化策略：一是先求解简化的“目标对重矩阵”小型 ILP（只决策 λ_{i,j} 与 r_i，约束 Σ_{i<j} λ_{i,j} = 6N 与 Σ_j λ_{i,j} = 3 r_i 并最小化对重方差或范围），随后在第二阶段把 λ_{i,j} 固定为目标值并求解学生-教师分配（x,y），二是用 L1/L∞ 替代方差并优先使用上界限制减少变量（例如若强制 λ_{i,j}∈{L,L+1}，则不必为每一对保留连续目标），并在模型中选择性地对学生对 (s,s') 只对小批量高风险组引入 z 变量以避免 O(N^2 M) 变量膨胀。实现细节与工具建议：采用商用/开源 MILP 求解器（Gurobi/CPLEX 或 CBC）与面向表达的建模语言（Python+Pyomo 或 Gurobi Python API），在建模时尽量使用稀疏索引并启用求解器的启发式与并行线程；为处理规模问题，可设置时间限、分层求解（先可行解然后逐步改善目标）、以及局部修复（对卡住区域构造小规模 MILP 子问题）。交付物应包括：完整的 MILP 模型文件（变量、线性约束、目标与权重参数）、线性化说明（y 与 z 的引入规则和 big‑M 取值说明）、参数化权重建议与可替换的目标项（方差→L1/L∞ 替换）、以及对输入数据格式的规范（学生清单、教师清单、学科标签、cap_i、禁止对表）。该模型应能在给定输入下直接由求解器运行以产生二元分配矩阵 x_{s,i} 或报告不可行并返回违例约束以便进一步放松。",
    "子任务3（K4 打包与构造实现）：构造性地将给定的目标边权矩阵 λ*（顶点为 M 位老师、每条无向边 e=(i,j) 的整数重 λ*_{ij} 表示该老师对需共同出现的次数）分解为恰好 N 个 K4（每个 K4 对应一名学生的 4-老师面试组）的具体算法实现与工程化流程，其输入为：老师集合 T（带可选学科标签）、目标边重矩阵 λ*（非负整数、满足 ∑_{i<j} λ*_{ij} = 6N 且每顶点行和为 3·r_i）、以及可选的 K4 组成约束（例如每个 K4 必须为 2 文+2 理）；输出为：N 个不重复的四元组列表（或带重复计数的四元组集合）使其对应边重之和精确等于 λ*（或在可接受公差内将残余降为零），并生成详尽的运行日志与诊断信息；为保证可实现性与可修复性，流程按如下步骤执行并在每一步提供明确的技术要求：1) 初始检查与预处理：验证 λ* 的必要整除条件（每顶点行和为 3 r_i，总和为 6N，且所有 λ*_{ij} ≥ 0），将 λ* 转换为“残量多重图”数据结构（稀疏邻接表或位集矩阵，记录每条边的剩余重）；若存在学科分组，构建分组索引以便后续约束快速判断。2) 贪婪打包主循环：重复 N 次或直到残量多重图所有边重为零——每次选择构造一个 K4（四元组 S ⊂ T）；选择策略为启发式且可参数化：优先选取当前残量度（sum_j λ_res(v,j)）最大的顶点 v，然后在其邻居中寻找能与 v 组成三角形的顶点组合（即要求三个邻居两两之间也有剩余重），选取时优先满足边重较高的边、优先使得被选定顶点的剩余度均匀下降，并对等权选择或高权优先使用随机化打破平局；实现上用快速 clique-finding 子例程（基于邻接位集的位运算或 NetworkX/C++ 的小规模枚举）来找到可行四元组；若要求学科组合约束（如 2+2），在候选构造时仅考虑满足组别计数的候选集合；每确认一个 K4 即在 λ_res 上将其 6 条边权减 1 并记录该四元组为一个学生。3) 局部修复与 ILP 回溯：当贪婪步骤遇到死点（无法再找到合法 K4 但仍有剩余边）或在迭代末尾残量未清零时，从剩余边构成的小顶点子集 U（例如包含剩余边的顶点或其 k‑跳邻域，通常 k=1 或2，且 |U| 控制在 12–20 以内以保证可解性）抽取局部子问题；为该子问题构造精确整数线性规划：二元或非负整数变量 z_S 表示选择四元组 S⊂U 的次数，约束 ∀边 e within U: ∑_{S: e⊂S} z_S = λ_res(e)，目标可为最小化 ∑_S z_S（或零目标仅求可行解），外加若干二次或对称性破坏约束（如限制 z_S ≤ 1 若要求四元组不重复），并加入学科构成约束（保证每 S 符合 2+2）或优先使用高重边的 S；求解器建议采用 Gurobi/CPLEX（或开放源 CBC）并设置时间上限和可行性优先策略；若局部 ILP 无解，可扩大 U 或进行若干次随机重新抽样再试。4) 局部搜索与交换优化：为了改善解的全局质量或减少四元组重复、控制每位老师的四元组分布，可在已构造的四元组集合上执行交换操作（two‑opt / k‑opt）：随机选取若干四元组子集，尝试通过重配其老师构成新的四元组集合以消除边残量冲突或降低某些边的超额使用；采用模拟退火或禁忌搜索策略引入接受差解的概率以避免局部极小，重复若干次直到收敛或达到时间限。5) 并行化与分块策略：为提高效率，允许把老师集合按块划分并并行执行局部 K4 搜索（每个线程处理块内边优先），随后针对跨块剩余边执行合并修复（用 ILP 或跨块贪婪融合）；实现时需对跨块冲突维护一个共享残量表并用原子操作或批次同步更新以保证一致性。6) 工程细节与参数：使用稀疏邻接表或位集矩阵表示图、使用高效的位运算或 C/C++ 子模块来实现 clique 检索以提升性能；设置关键参数包括随机重启次数 R（例如 50–200）、贪婪候选数量阈值 cands（如保留前 10 候选四元组按启发值排序）、局部 ILP 最大顶点数 Umax（如 16–20）、ILP 时间限（例如 30–300 秒），以及总运行时间上限（根据资源，单实例建议数分钟至数小时）。7) 终止、验证与输出：算法结束时输出 N 个四元组（若允许重复则包含重复计数），并验证每条原始目标边的累计使用次数是否等于 λ*（或报告残差和不可行结构）；同时生成诊断报告：每位老师的四元组计数 r_i、每对老师的实际出现次数 λ̂_{ij}、未能打包的残余边列表（若有）、每次 ILP 调用的可行性日志以及用于审计和后续修复的可执行补救方案。8) 推荐工具链与实现建议：主程序可用 Python（NetworkX 用于图操作、numpy 用于矩阵运算）结合性能关键模块用 C++/Cython 实现 clique 查找，ILP 子问题用 Gurobi/CPLEX（或 Pyomo+CBC）求解，同时记录随机种子以便结果可复现；在实现中务必模块化贪婪打包、局部 ILP 修复、交换优化和并行协调四个子模块以便逐步调试与性能调优。该子任务的成功判据为：在指定时间限内产生 N 个合法四元组且最终 λ̂ 与 λ* 完全匹配（或残差在预定容差内），并输出完整的可审计日志与可复现的随机化记录以供后续分析。",
    "子任务4（评估、敏感性分析及评分公平性补救与制度化建议）旨在对任意给定的面试分配方案进行全面、可复现的质量与公平性验收：输入为（1）分配清单（每名学生对应的老师四元组及时间段）、（2）老师元数据（学科、可用时段、历年评分统计若有）、（3）学生协变量（高考成绩段、地域、性别等可选用于分层分析）、以及（4）若已进行面试则为评分数据；目标是以结构性指标衡量分配方案的静态公平性并以统计仿真与估计方法量化其对最终录取/排序结果造成的系统性偏差与不确定性，继而生成可操作的补救建议（包括分配微调策略、后验分数校正方案与审计阈值）并输出机器可读的诊断报告与决策规则；为实现该目标必须执行以下步骤：一、计算并记录结构性指标（教师负担分布的极差与方差、任意两位教师共同面试次数的均值/方差/最大值、学生组重复数、共享≥2位老师的学生对数及其上界估计），并对这些指标与可接受阈值进行比对；二、建立可用于仿真的评分生成模型（建议使用线性混合效应模型或多评委 Rasch 模型，形式化为 score_{s,i} = μ_s + α_i + β_{t(s)} + ε_{s,i}，其中 μ_s 为考生真实能力的潜变量、α_i 为老师固定或随机效应、β 可包含时段/题型等协变量），用历史评分或专家判例对先验与方差分量进行估计或设定；三、基于该生成模型用蒙特卡洛仿真（或贝叶斯后验预测）在当前分配下重复生成大量评分样本，计算每次仿真中最终排名/录取名单的分布、录取名单中老师效应集中度、以及个体考生的录取概率不确定性，从而量化分配对决策稳定性的影响；四、用仿真输出估计并检测异常老师（α_i 显著偏离群体均值）、评分一致性差异与时间段效应，制定明确触发规则（例如若某老师评分方差或偏差超出群体均值的 k 倍或某对老师共同出现次数超出 λ̄ 的预设上界则触发复核或重分配），阈值应作为可配置参数并在报告中给出推荐值与灵敏度区间；五、基于仿真结果设计并评估两类补救措施：A) 结构性微调（局部重分配算法，限定修改学生数与受影响老师数的上限以保证可操作性，优先调整导致最大偏差的若干边/老师；如需求解小规模最优化子问题，可调用整数规划求解器进行局部修复）；B) 评分后校正（用混合效应模型估计老师效应并对原始分数做事后标准化或贝叶斯校正，必要时采用锚定样本校验校正效果）；六、做系统性的敏感性分析：在若干情景（变动的老师可用性、允许的λ最大值、不同权重下的目标函数、不同 r_i 容忍度）下重复第（二）至（五）步，绘制关键指标随参数变化的响应曲线并标出稳健/脆弱区域；七、输出交付物：带结论性摘要的可视化诊断报告（结构指标表、仿真下的录取概率热图、异常老师/边的列表、建议的局部重分配方案与/或分数校正方案）、可执行的操作规则（触发阈值与复核流程）、可复现的代码与随机种子、以及用于后续迭代的度量仪表板规范；工具与方法建议为：以 R (lme4/brms/rstan) 或 Python (statsmodels/PyMC/Stan) 实现混合效应与贝叶斯建模、用并行化蒙特卡洛或 Bootstrap 进行仿真、用 Gurobi/CPLEX 或开源 CBC 作局部整数优化（如需重分配求解），并用标准可视化库生成报告；全部计算过程必须记录输入版本与随机种子以保证可复现性。完成该子任务的验收标准为：产生一份包含结构性指标评估、仿真量化的不确定性分析、明确的触发规则与至少一套经过仿真验证的补救方案（局部重分配与/或事后校正），并附带机器可读的诊断表与可执行代码，使决策者能够基于明确证据和可重复程序实施或拒绝建议。"
  ]
}