{
  "tasks": [],
  "problem_str": "问题背景：\n某一类飞行器携带有多个油箱，在飞行过程中，通过若干个油箱的联合供油以满足飞行任务要求和发动机工作需求。在任务执行过程中，飞行器的质心变化对飞行器的控制有着重要的影响，各个油箱内油量的分布和供油策略将导致飞行器质心的变化，进而影响到对飞行器的控制。因此，制定各油箱的供油策略是这类飞行器控制的一项重要任务，这里，油箱的供油策略可用其向发动机或其它油箱供油的速度曲线来描述。\n\n假设该类飞行器一共有个油箱，各油箱供油示意图如图1所示：\n\n\n\n图1：飞行器油箱供油示意图\n\n飞行器的结构（如油箱的位置、形状、尺寸、供油关系、供油速度限制等）影响着油箱的供油策略和飞行器的质心变化。为简化问题，对飞行器的结构和相关供油限制作出以下假设和要求：\n\n1. 油箱均为长方体且固定在飞行器内部（如图1所示），设第 $i$ 个油箱内部长、宽、高分别为 $a_i$, $b_i$ 和 $c_i$, $i = 1, 2, \\dots, 6$。长、宽、高的三个方向与飞行器坐标系的 $x$, $y$, $z$ 轴三个方向平行。\n\n2. 在飞行器坐标系下（坐标系描述见附录），飞行器（不载油）质心为 $\\vec{c}_0(0, 0, 0)$，第 $i$ 个空油箱中心位置为 $\\vec{R}_i$, $i = 1, 2, \\dots, 6$。飞行器（不载油）总重量为 $M$。。飞行器（不载油）总重量为。\n\n3. 第 $i$ 个油箱的供油速度上限为 $U_i$ ($U_i > 0$)，$i = 1, 2, \\dots, 6$。每个油箱一次供油的持续时间不少于 60 秒。\n4. 主油箱 2、3、4、5 可直接向发动机供油，油箱 1 和油箱 6 作为备份油箱分别为油箱 2 和油箱 5 供油，不能直接向发动机供油。\n5. 由于受到飞行器结构的限制，至多 2 个油箱可同时向发动机供油，至多 3 个油箱可同时供油。\n6. 飞行器在执行任务过程中，各油箱联合供油的总量应至少满足发动机的对耗油量的需要（若某时刻供油量大于计划耗油量，多余的燃油可通过其它装置排出飞行器），发动机在每个时刻的耗油速度可用一条耗油速度曲线表示，图 2 给出了发动机执行某次任务时的计划耗油速度示意图：\n\\end{enumerate}\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=\\textwidth]{engine_fuel_consumption_curve.png}\n    \\caption{某次任务中发动机计划耗油速度曲线}\n    \\label{fig:engine_fuel_consumption_curve}\n\\end{figure}\n\n\\begin{enumerate}\n    \\setcounter{enumi}{6}\n7. 飞行器在飞行过程中可能发生姿态改变，主要是飞行航向上的上下俯仰或左右偏转。为简化问题，假设本题目中飞行器姿态的改变仅考虑平直飞与俯仰情况。飞行器的俯仰将导致各油箱相对地面的姿态发生倾斜，在重力作用下，油箱的燃油分布也随之发生变化，从而使得飞行器质心发生偏移。油箱姿态变化示意图如图 3 所示，左图为飞行器在地面时油箱的状态，右图虚线代表油箱姿态改变后燃油水平面。飞行器姿态变化的相关坐标系约定请参见附录。\n\n\n\n图3：油箱姿态变化示意图\n\n附件1给出了飞行器的相关参数，附件2-附件5给出了该类飞行器在执行某任务过程中飞行和控制的相关数据，请你们团队根据任务要求，建立数学模型，设计算法，并分析算法的有效性和复杂度，完成以下问题：\n\n问题要求：\n问题1. 附件2给出了某次任务中飞行器的6个油箱的供油速度及飞行器在飞行过程中的俯仰角变化数据，每秒记录一组数据（下同）。请给出该飞行器在此次任务执行过程中的质心变化曲线，并将其质心在飞行器坐标系下的位置数据按时间（每秒一组）先后顺序存入附件6结果表“第一问结果”中。\n\n问题2. 附件3给出了某次任务的飞行器计划耗油速度数据，与飞行器在飞行器坐标系下的理想质心位置数据。根据任务需求，在飞行器始终保持平飞（俯仰角为0）的任务规划过程中，请为飞行器制定该次任务满足条件（1）-（6）的6个油箱供油策略，使得飞行器每一时刻的质心位置 $\\vec{c}_1(t)$ 与理想质心位置 $\\vec{c}_2(t)$ 的欧氏距离的最大值达到最小，i.e.,\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_2(t)||_2\n\\]\n\n请给出飞行器飞行过程中6个油箱各自的供油速度曲线和4个主油箱的总供油速度曲线（时间间隔为1s）、以及飞行器瞬时质心与理想质心距离的最大值和4个主油箱的总供油量，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第二问结果”中。\n\n问题3. 假定初始油量未定，飞行器其他相关参数如附件1所示，附件4给出了某次任务的飞行器计划耗油速度数据，与飞行器在飞行器坐标系下的理想质心位置数据。在飞行器始终保持平飞（俯仰角为0）的任务规划过程中，请为飞行器制定该次任务满足条件（1）~（6）的6个油箱初始载油量及供油策略，使得本次任务结束时6个油箱剩余燃油总量至少 $1 \\, \\text{m}^3$，并且飞行器每一时刻的质心位置 $\\vec{c}_1(t)$ 与理想质心位置 $\\vec{c}_2(t)$ 的欧氏距离的最大值达到最小，i.e.,\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_2(t)||_2.\n\\]\n\n请给出6个油箱的初始载油量、飞行器飞行过程中6个油箱的供油速度曲线和4个主油箱的总供油速度曲线（时间间隔为1s）、以及飞行器质心与理想质心距离的最大值和4个主油箱的总供油量。请将6个油箱的初始油量存入附件6结果表“第三问结果”中的提示位置，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第三问结果”中。\n\n问题4. 在实际任务规划过程中，飞行器俯仰角随时间变化。附件5给出了飞行器俯仰角的变化数据和耗油速度数据。请为本次任务制定油箱供油策略，使得飞行器瞬时质心 $\\vec{c}_1(t)$ 与飞行器（不载油）质心 $\\vec{c}_0$ 的最大距离达到最小，即\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_0||_2.\n\\]\n\n请绘出飞行器飞行过程中6个油箱各自的供油速度曲线，再将4个主油箱的总供油速度曲线（时间间隔为1s）与计划耗油速度曲线绘于一个图中，给出飞行器瞬时质心与飞行器（不载油）质心 $\\vec{c}_0$ 的最大距离偏差以及4个主油箱的总供油量，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第四问结果”中。\nAddendum: \n附录\n\n约定两个坐标系如下：\n\n惯性坐标系O-XYZ：飞行器在地面上时，以飞行器（不载油）的质心为原点O，飞行器纵向中心轴为X轴（飞行器在地面上纵向中心轴为水平方向），以飞行器前方为正向，重力方向的反方向为Z轴正向，通过右手法则确定Y轴。\n\n飞行器坐标系O(t)-X(t)Y(t)Z(t)：在t时刻，以飞行器（不载油）质心位置为原点O(t)，飞行器纵向中心轴为X(t)轴，以飞行器前方为正向，Y(t)轴垂直于X(t)轴所在的飞行器纵剖面，且O(t)- X(t)Y(t)组成右手坐标系，通过右手法则确定Z(t)轴。\n\n飞行器t时刻俯仰角：飞行器坐标系O(t)-X(t)Y(t)Z(t)中的X(t)轴与惯性坐标系O-XYZ中O-XY水平面的夹角，X(t)轴正方向在重力方向分量与重力方向相反时为正。\n\n在本题中，在地面上时 (t=0)的飞行器坐标系与惯性坐标系重合。由于在本问题中不考虑偏航和滚转飞行，所以飞行器坐标系O(t)-X(t)Y(t)Z(t)中的Y(t)轴正向与惯性坐标系O-XYZ中的Y轴正向始终保持一致。本题目附件中涉及坐标系的数据中，除俯仰角外，其他都在飞行器坐标系下给出。\nDataset Path:\n['附件1-飞行器参数.xlsx', '附件2-问题1数据.xlsx', '附件3-问题2数据.xlsx', '附件4-问题3数据.xlsx', '附件5-问题4数据.xlsx', '附件6-结果表.xlsx']\n\nData Description:\n该数据集由五个 Excel 附件构成，提供了用于飞行器燃油质心与消耗分析的结构参数与多组秒级时间序列：附件1“飞行器参数”包含油箱的空间几何信息（油箱在机体坐标系中的中心位置 x,y,z、长/宽/高）、各油箱初始油量（m^3）、燃料密度（kg/m^3）、飞行器不载油质心坐标与净质量（kg），以及油箱或部件之间的输入/输出端口标识与输送油量上限（kg/s），可用于将体积换算为质量、建立油量分配与转移约束并计算由于放油引起的时变质心和质量矩；附件2（问题1数据）为每秒记录的多路供油速度时间序列，包含6个油箱的供油速率（kg/s）并记录飞行过程中的俯仰角变化，便于研究多箱供给与姿态耦合对质心和姿态稳定性的影响；附件3（问题2数据）、附件4（问题3数据）及附件5（问题4数据）均提供以秒为时间步的发动机耗油速度（kg/s）时间序列，分别对应不同任务或不同时间点的发动机油耗记录，可用于与油箱供给速率配比、累积消耗积分、剩余燃油计算、验证输送上限约束及异常检测。总体上，该数据集以 1 Hz 的时间分辨率、明确的单位体系（位置 m、体积 m^3、质量 kg、流率 kg/s）提供了进行燃油质量守恒、质心随油耗变化建模与仿真、能量/任务持续性评估以及供给-耗用匹配分析所需的结构与时间序列信息；使用前建议将体积转为质量、对齐时间索引并检查缺失值与边界条件（如输送上限）以便开展定量计算与动力学仿真。",
  "problem": {
    "background": "某一类飞行器携带有多个油箱，在飞行过程中，通过若干个油箱的联合供油以满足飞行任务要求和发动机工作需求。在任务执行过程中，飞行器的质心变化对飞行器的控制有着重要的影响，各个油箱内油量的分布和供油策略将导致飞行器质心的变化，进而影响到对飞行器的控制。因此，制定各油箱的供油策略是这类飞行器控制的一项重要任务，这里，油箱的供油策略可用其向发动机或其它油箱供油的速度曲线来描述。\n\n假设该类飞行器一共有个油箱，各油箱供油示意图如图1所示：\n\n\n\n图1：飞行器油箱供油示意图\n\n飞行器的结构（如油箱的位置、形状、尺寸、供油关系、供油速度限制等）影响着油箱的供油策略和飞行器的质心变化。为简化问题，对飞行器的结构和相关供油限制作出以下假设和要求：\n\n1. 油箱均为长方体且固定在飞行器内部（如图1所示），设第 $i$ 个油箱内部长、宽、高分别为 $a_i$, $b_i$ 和 $c_i$, $i = 1, 2, \\dots, 6$。长、宽、高的三个方向与飞行器坐标系的 $x$, $y$, $z$ 轴三个方向平行。\n\n2. 在飞行器坐标系下（坐标系描述见附录），飞行器（不载油）质心为 $\\vec{c}_0(0, 0, 0)$，第 $i$ 个空油箱中心位置为 $\\vec{R}_i$, $i = 1, 2, \\dots, 6$。飞行器（不载油）总重量为 $M$。。飞行器（不载油）总重量为。\n\n3. 第 $i$ 个油箱的供油速度上限为 $U_i$ ($U_i > 0$)，$i = 1, 2, \\dots, 6$。每个油箱一次供油的持续时间不少于 60 秒。\n4. 主油箱 2、3、4、5 可直接向发动机供油，油箱 1 和油箱 6 作为备份油箱分别为油箱 2 和油箱 5 供油，不能直接向发动机供油。\n5. 由于受到飞行器结构的限制，至多 2 个油箱可同时向发动机供油，至多 3 个油箱可同时供油。\n6. 飞行器在执行任务过程中，各油箱联合供油的总量应至少满足发动机的对耗油量的需要（若某时刻供油量大于计划耗油量，多余的燃油可通过其它装置排出飞行器），发动机在每个时刻的耗油速度可用一条耗油速度曲线表示，图 2 给出了发动机执行某次任务时的计划耗油速度示意图：\n\\end{enumerate}\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=\\textwidth]{engine_fuel_consumption_curve.png}\n    \\caption{某次任务中发动机计划耗油速度曲线}\n    \\label{fig:engine_fuel_consumption_curve}\n\\end{figure}\n\n\\begin{enumerate}\n    \\setcounter{enumi}{6}\n7. 飞行器在飞行过程中可能发生姿态改变，主要是飞行航向上的上下俯仰或左右偏转。为简化问题，假设本题目中飞行器姿态的改变仅考虑平直飞与俯仰情况。飞行器的俯仰将导致各油箱相对地面的姿态发生倾斜，在重力作用下，油箱的燃油分布也随之发生变化，从而使得飞行器质心发生偏移。油箱姿态变化示意图如图 3 所示，左图为飞行器在地面时油箱的状态，右图虚线代表油箱姿态改变后燃油水平面。飞行器姿态变化的相关坐标系约定请参见附录。\n\n\n\n图3：油箱姿态变化示意图\n\n附件1给出了飞行器的相关参数，附件2-附件5给出了该类飞行器在执行某任务过程中飞行和控制的相关数据，请你们团队根据任务要求，建立数学模型，设计算法，并分析算法的有效性和复杂度，完成以下问题：",
    "problem_requirement": "问题1. 附件2给出了某次任务中飞行器的6个油箱的供油速度及飞行器在飞行过程中的俯仰角变化数据，每秒记录一组数据（下同）。请给出该飞行器在此次任务执行过程中的质心变化曲线，并将其质心在飞行器坐标系下的位置数据按时间（每秒一组）先后顺序存入附件6结果表“第一问结果”中。\n\n问题2. 附件3给出了某次任务的飞行器计划耗油速度数据，与飞行器在飞行器坐标系下的理想质心位置数据。根据任务需求，在飞行器始终保持平飞（俯仰角为0）的任务规划过程中，请为飞行器制定该次任务满足条件（1）-（6）的6个油箱供油策略，使得飞行器每一时刻的质心位置 $\\vec{c}_1(t)$ 与理想质心位置 $\\vec{c}_2(t)$ 的欧氏距离的最大值达到最小，i.e.,\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_2(t)||_2\n\\]\n\n请给出飞行器飞行过程中6个油箱各自的供油速度曲线和4个主油箱的总供油速度曲线（时间间隔为1s）、以及飞行器瞬时质心与理想质心距离的最大值和4个主油箱的总供油量，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第二问结果”中。\n\n问题3. 假定初始油量未定，飞行器其他相关参数如附件1所示，附件4给出了某次任务的飞行器计划耗油速度数据，与飞行器在飞行器坐标系下的理想质心位置数据。在飞行器始终保持平飞（俯仰角为0）的任务规划过程中，请为飞行器制定该次任务满足条件（1）~（6）的6个油箱初始载油量及供油策略，使得本次任务结束时6个油箱剩余燃油总量至少 $1 \\, \\text{m}^3$，并且飞行器每一时刻的质心位置 $\\vec{c}_1(t)$ 与理想质心位置 $\\vec{c}_2(t)$ 的欧氏距离的最大值达到最小，i.e.,\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_2(t)||_2.\n\\]\n\n请给出6个油箱的初始载油量、飞行器飞行过程中6个油箱的供油速度曲线和4个主油箱的总供油速度曲线（时间间隔为1s）、以及飞行器质心与理想质心距离的最大值和4个主油箱的总供油量。请将6个油箱的初始油量存入附件6结果表“第三问结果”中的提示位置，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第三问结果”中。\n\n问题4. 在实际任务规划过程中，飞行器俯仰角随时间变化。附件5给出了飞行器俯仰角的变化数据和耗油速度数据。请为本次任务制定油箱供油策略，使得飞行器瞬时质心 $\\vec{c}_1(t)$ 与飞行器（不载油）质心 $\\vec{c}_0$ 的最大距离达到最小，即\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_0||_2.\n\\]\n\n请绘出飞行器飞行过程中6个油箱各自的供油速度曲线，再将4个主油箱的总供油速度曲线（时间间隔为1s）与计划耗油速度曲线绘于一个图中，给出飞行器瞬时质心与飞行器（不载油）质心 $\\vec{c}_0$ 的最大距离偏差以及4个主油箱的总供油量，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第四问结果”中。",
    "dataset_path": [
      "附件1-飞行器参数.xlsx",
      "附件2-问题1数据.xlsx",
      "附件3-问题2数据.xlsx",
      "附件4-问题3数据.xlsx",
      "附件5-问题4数据.xlsx",
      "附件6-结果表.xlsx"
    ],
    "dataset_description": {
      "附件1-飞行器参数": "附件1-飞行器参数.xlsx包含飞行器的结构参数，包括油箱的位置、尺寸、初始油量，以及飞行器的质心坐标、燃料密度、净质量等信息。",
      "附件2-问题1数据": "附件2-问题1数据.xlsx记录了某次任务中飞行器的6个油箱的供油速度及飞行器在飞行过程中的俯仰角变化数据，每秒记录一组数据。",
      "附件3-问题2数据": "附件3-问题2数据.xlsx包含某次任务中飞行器的发动机耗油速度数据，每秒记录一组数据。",
      "附件4-问题3数据": "附件4-问题3数据.xlsx包含某次飞行任务中飞行器的发动机耗油速度数据，每秒记录一组数据。",
      "附件5-问题4数据": "附件5-问题4数据.xlsx包含发动机在不同时间点的耗油速度数据，每秒记录一组数据。"
    },
    "variable_description": [
      {
        "油箱": "油箱的编号",
        "油箱中心位置（单位：m）": "油箱中心在飞行器坐标系下的位置，包括x、y、z三个坐标",
        "x": "油箱中心位置的x坐标",
        "y": "油箱中心位置的y坐标",
        "z": "油箱中心位置的z坐标",
        "油箱尺寸（单位：m）": "油箱的尺寸，包括长、宽、高",
        "长（x轴）": "油箱的长度",
        "宽（y轴）": "油箱的宽度",
        "高（z轴）": "油箱的高度",
        "初始油量（m^3）": "油箱的初始油量",
        "飞行器(不载油)质心坐标(m)": "飞行器在不载油情况下的质心坐标",
        "燃料的密度（kg/m^3）": "燃料的密度",
        "飞行器净质量(kg)": "飞行器的净质量",
        "输出部件": "油箱或部件的输出端",
        "输入部件": "油箱或部件的输入端",
        "输送油量上限(kg/s)": "油箱或部件之间输送油量的最大速率"
      },
      {
        "时间(s)": "记录数据的时间点，单位为秒。",
        "1号油箱(kg/s)": "1号油箱的供油速度，单位为千克每秒。",
        "2号油箱(kg/s)": "2号油箱的供油速度，单位为千克每秒。",
        "3号油箱(kg/s)": "3号油箱的供油速度，单位为千克每秒。",
        "4号油箱(kg/s)": "4号油箱的供油速度，单位为千克每秒。",
        "5号油箱(kg/s)": "5号油箱的供油速度，单位为千克每秒。",
        "6号油箱(kg/s)": "6号油箱的供油速度，单位为千克每秒。"
      },
      {
        "时间(s)": "记录数据的时间点，单位为秒。",
        "耗油速度(kg/s)": "飞行器在该时间点的耗油速度，单位为千克每秒。"
      },
      {
        "时间(s)": "记录数据的时间点，单位为秒。",
        "耗油速度(kg/s)": "在对应时间点的飞行器发动机耗油速度，单位为千克每秒。"
      },
      {
        "时间(s)": "记录耗油速度的时间点，单位为秒。",
        "耗油速度(kg/s)": "在对应时间点的发动机耗油速度，单位为千克每秒。"
      },
      {}
    ],
    "addendum": "附录\n\n约定两个坐标系如下：\n\n惯性坐标系O-XYZ：飞行器在地面上时，以飞行器（不载油）的质心为原点O，飞行器纵向中心轴为X轴（飞行器在地面上纵向中心轴为水平方向），以飞行器前方为正向，重力方向的反方向为Z轴正向，通过右手法则确定Y轴。\n\n飞行器坐标系O(t)-X(t)Y(t)Z(t)：在t时刻，以飞行器（不载油）质心位置为原点O(t)，飞行器纵向中心轴为X(t)轴，以飞行器前方为正向，Y(t)轴垂直于X(t)轴所在的飞行器纵剖面，且O(t)- X(t)Y(t)组成右手坐标系，通过右手法则确定Z(t)轴。\n\n飞行器t时刻俯仰角：飞行器坐标系O(t)-X(t)Y(t)Z(t)中的X(t)轴与惯性坐标系O-XYZ中O-XY水平面的夹角，X(t)轴正方向在重力方向分量与重力方向相反时为正。\n\n在本题中，在地面上时 (t=0)的飞行器坐标系与惯性坐标系重合。由于在本问题中不考虑偏航和滚转飞行，所以飞行器坐标系O(t)-X(t)Y(t)Z(t)中的Y(t)轴正向与惯性坐标系O-XYZ中的Y轴正向始终保持一致。本题目附件中涉及坐标系的数据中，除俯仰角外，其他都在飞行器坐标系下给出。",
    "data_summary": "Dataset Path:\n['附件1-飞行器参数.xlsx', '附件2-问题1数据.xlsx', '附件3-问题2数据.xlsx', '附件4-问题3数据.xlsx', '附件5-问题4数据.xlsx', '附件6-结果表.xlsx']\n\nData Description:\n该数据集由五个 Excel 附件构成，提供了用于飞行器燃油质心与消耗分析的结构参数与多组秒级时间序列：附件1“飞行器参数”包含油箱的空间几何信息（油箱在机体坐标系中的中心位置 x,y,z、长/宽/高）、各油箱初始油量（m^3）、燃料密度（kg/m^3）、飞行器不载油质心坐标与净质量（kg），以及油箱或部件之间的输入/输出端口标识与输送油量上限（kg/s），可用于将体积换算为质量、建立油量分配与转移约束并计算由于放油引起的时变质心和质量矩；附件2（问题1数据）为每秒记录的多路供油速度时间序列，包含6个油箱的供油速率（kg/s）并记录飞行过程中的俯仰角变化，便于研究多箱供给与姿态耦合对质心和姿态稳定性的影响；附件3（问题2数据）、附件4（问题3数据）及附件5（问题4数据）均提供以秒为时间步的发动机耗油速度（kg/s）时间序列，分别对应不同任务或不同时间点的发动机油耗记录，可用于与油箱供给速率配比、累积消耗积分、剩余燃油计算、验证输送上限约束及异常检测。总体上，该数据集以 1 Hz 的时间分辨率、明确的单位体系（位置 m、体积 m^3、质量 kg、流率 kg/s）提供了进行燃油质量守恒、质心随油耗变化建模与仿真、能量/任务持续性评估以及供给-耗用匹配分析所需的结构与时间序列信息；使用前建议将体积转为质量、对齐时间索引并检查缺失值与边界条件（如输送上限）以便开展定量计算与动力学仿真。",
    "data_description": {
      "附件1-飞行器参数": "附件1-飞行器参数.xlsx包含飞行器的结构参数，包括油箱的位置、尺寸、初始油量，以及飞行器的质心坐标、燃料密度、净质量等信息。",
      "附件2-问题1数据": "附件2-问题1数据.xlsx记录了某次任务中飞行器的6个油箱的供油速度及飞行器在飞行过程中的俯仰角变化数据，每秒记录一组数据。",
      "附件3-问题2数据": "附件3-问题2数据.xlsx包含某次任务中飞行器的发动机耗油速度数据，每秒记录一组数据。",
      "附件4-问题3数据": "附件4-问题3数据.xlsx包含某次飞行任务中飞行器的发动机耗油速度数据，每秒记录一组数据。",
      "附件5-问题4数据": "附件5-问题4数据.xlsx包含发动机在不同时间点的耗油速度数据，每秒记录一组数据。"
    },
    "problem_str": "问题背景：\n某一类飞行器携带有多个油箱，在飞行过程中，通过若干个油箱的联合供油以满足飞行任务要求和发动机工作需求。在任务执行过程中，飞行器的质心变化对飞行器的控制有着重要的影响，各个油箱内油量的分布和供油策略将导致飞行器质心的变化，进而影响到对飞行器的控制。因此，制定各油箱的供油策略是这类飞行器控制的一项重要任务，这里，油箱的供油策略可用其向发动机或其它油箱供油的速度曲线来描述。\n\n假设该类飞行器一共有个油箱，各油箱供油示意图如图1所示：\n\n\n\n图1：飞行器油箱供油示意图\n\n飞行器的结构（如油箱的位置、形状、尺寸、供油关系、供油速度限制等）影响着油箱的供油策略和飞行器的质心变化。为简化问题，对飞行器的结构和相关供油限制作出以下假设和要求：\n\n1. 油箱均为长方体且固定在飞行器内部（如图1所示），设第 $i$ 个油箱内部长、宽、高分别为 $a_i$, $b_i$ 和 $c_i$, $i = 1, 2, \\dots, 6$。长、宽、高的三个方向与飞行器坐标系的 $x$, $y$, $z$ 轴三个方向平行。\n\n2. 在飞行器坐标系下（坐标系描述见附录），飞行器（不载油）质心为 $\\vec{c}_0(0, 0, 0)$，第 $i$ 个空油箱中心位置为 $\\vec{R}_i$, $i = 1, 2, \\dots, 6$。飞行器（不载油）总重量为 $M$。。飞行器（不载油）总重量为。\n\n3. 第 $i$ 个油箱的供油速度上限为 $U_i$ ($U_i > 0$)，$i = 1, 2, \\dots, 6$。每个油箱一次供油的持续时间不少于 60 秒。\n4. 主油箱 2、3、4、5 可直接向发动机供油，油箱 1 和油箱 6 作为备份油箱分别为油箱 2 和油箱 5 供油，不能直接向发动机供油。\n5. 由于受到飞行器结构的限制，至多 2 个油箱可同时向发动机供油，至多 3 个油箱可同时供油。\n6. 飞行器在执行任务过程中，各油箱联合供油的总量应至少满足发动机的对耗油量的需要（若某时刻供油量大于计划耗油量，多余的燃油可通过其它装置排出飞行器），发动机在每个时刻的耗油速度可用一条耗油速度曲线表示，图 2 给出了发动机执行某次任务时的计划耗油速度示意图：\n\\end{enumerate}\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=\\textwidth]{engine_fuel_consumption_curve.png}\n    \\caption{某次任务中发动机计划耗油速度曲线}\n    \\label{fig:engine_fuel_consumption_curve}\n\\end{figure}\n\n\\begin{enumerate}\n    \\setcounter{enumi}{6}\n7. 飞行器在飞行过程中可能发生姿态改变，主要是飞行航向上的上下俯仰或左右偏转。为简化问题，假设本题目中飞行器姿态的改变仅考虑平直飞与俯仰情况。飞行器的俯仰将导致各油箱相对地面的姿态发生倾斜，在重力作用下，油箱的燃油分布也随之发生变化，从而使得飞行器质心发生偏移。油箱姿态变化示意图如图 3 所示，左图为飞行器在地面时油箱的状态，右图虚线代表油箱姿态改变后燃油水平面。飞行器姿态变化的相关坐标系约定请参见附录。\n\n\n\n图3：油箱姿态变化示意图\n\n附件1给出了飞行器的相关参数，附件2-附件5给出了该类飞行器在执行某任务过程中飞行和控制的相关数据，请你们团队根据任务要求，建立数学模型，设计算法，并分析算法的有效性和复杂度，完成以下问题：\n\n问题要求：\n问题1. 附件2给出了某次任务中飞行器的6个油箱的供油速度及飞行器在飞行过程中的俯仰角变化数据，每秒记录一组数据（下同）。请给出该飞行器在此次任务执行过程中的质心变化曲线，并将其质心在飞行器坐标系下的位置数据按时间（每秒一组）先后顺序存入附件6结果表“第一问结果”中。\n\n问题2. 附件3给出了某次任务的飞行器计划耗油速度数据，与飞行器在飞行器坐标系下的理想质心位置数据。根据任务需求，在飞行器始终保持平飞（俯仰角为0）的任务规划过程中，请为飞行器制定该次任务满足条件（1）-（6）的6个油箱供油策略，使得飞行器每一时刻的质心位置 $\\vec{c}_1(t)$ 与理想质心位置 $\\vec{c}_2(t)$ 的欧氏距离的最大值达到最小，i.e.,\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_2(t)||_2\n\\]\n\n请给出飞行器飞行过程中6个油箱各自的供油速度曲线和4个主油箱的总供油速度曲线（时间间隔为1s）、以及飞行器瞬时质心与理想质心距离的最大值和4个主油箱的总供油量，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第二问结果”中。\n\n问题3. 假定初始油量未定，飞行器其他相关参数如附件1所示，附件4给出了某次任务的飞行器计划耗油速度数据，与飞行器在飞行器坐标系下的理想质心位置数据。在飞行器始终保持平飞（俯仰角为0）的任务规划过程中，请为飞行器制定该次任务满足条件（1）~（6）的6个油箱初始载油量及供油策略，使得本次任务结束时6个油箱剩余燃油总量至少 $1 \\, \\text{m}^3$，并且飞行器每一时刻的质心位置 $\\vec{c}_1(t)$ 与理想质心位置 $\\vec{c}_2(t)$ 的欧氏距离的最大值达到最小，i.e.,\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_2(t)||_2.\n\\]\n\n请给出6个油箱的初始载油量、飞行器飞行过程中6个油箱的供油速度曲线和4个主油箱的总供油速度曲线（时间间隔为1s）、以及飞行器质心与理想质心距离的最大值和4个主油箱的总供油量。请将6个油箱的初始油量存入附件6结果表“第三问结果”中的提示位置，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第三问结果”中。\n\n问题4. 在实际任务规划过程中，飞行器俯仰角随时间变化。附件5给出了飞行器俯仰角的变化数据和耗油速度数据。请为本次任务制定油箱供油策略，使得飞行器瞬时质心 $\\vec{c}_1(t)$ 与飞行器（不载油）质心 $\\vec{c}_0$ 的最大距离达到最小，即\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_0||_2.\n\\]\n\n请绘出飞行器飞行过程中6个油箱各自的供油速度曲线，再将4个主油箱的总供油速度曲线（时间间隔为1s）与计划耗油速度曲线绘于一个图中，给出飞行器瞬时质心与飞行器（不载油）质心 $\\vec{c}_0$ 的最大距离偏差以及4个主油箱的总供油量，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第四问结果”中。\nAddendum: \n附录\n\n约定两个坐标系如下：\n\n惯性坐标系O-XYZ：飞行器在地面上时，以飞行器（不载油）的质心为原点O，飞行器纵向中心轴为X轴（飞行器在地面上纵向中心轴为水平方向），以飞行器前方为正向，重力方向的反方向为Z轴正向，通过右手法则确定Y轴。\n\n飞行器坐标系O(t)-X(t)Y(t)Z(t)：在t时刻，以飞行器（不载油）质心位置为原点O(t)，飞行器纵向中心轴为X(t)轴，以飞行器前方为正向，Y(t)轴垂直于X(t)轴所在的飞行器纵剖面，且O(t)- X(t)Y(t)组成右手坐标系，通过右手法则确定Z(t)轴。\n\n飞行器t时刻俯仰角：飞行器坐标系O(t)-X(t)Y(t)Z(t)中的X(t)轴与惯性坐标系O-XYZ中O-XY水平面的夹角，X(t)轴正方向在重力方向分量与重力方向相反时为正。\n\n在本题中，在地面上时 (t=0)的飞行器坐标系与惯性坐标系重合。由于在本问题中不考虑偏航和滚转飞行，所以飞行器坐标系O(t)-X(t)Y(t)Z(t)中的Y(t)轴正向与惯性坐标系O-XYZ中的Y轴正向始终保持一致。本题目附件中涉及坐标系的数据中，除俯仰角外，其他都在飞行器坐标系下给出。\nDataset Path:\n['附件1-飞行器参数.xlsx', '附件2-问题1数据.xlsx', '附件3-问题2数据.xlsx', '附件4-问题3数据.xlsx', '附件5-问题4数据.xlsx', '附件6-结果表.xlsx']\n\nData Description:\n该数据集由五个 Excel 附件构成，提供了用于飞行器燃油质心与消耗分析的结构参数与多组秒级时间序列：附件1“飞行器参数”包含油箱的空间几何信息（油箱在机体坐标系中的中心位置 x,y,z、长/宽/高）、各油箱初始油量（m^3）、燃料密度（kg/m^3）、飞行器不载油质心坐标与净质量（kg），以及油箱或部件之间的输入/输出端口标识与输送油量上限（kg/s），可用于将体积换算为质量、建立油量分配与转移约束并计算由于放油引起的时变质心和质量矩；附件2（问题1数据）为每秒记录的多路供油速度时间序列，包含6个油箱的供油速率（kg/s）并记录飞行过程中的俯仰角变化，便于研究多箱供给与姿态耦合对质心和姿态稳定性的影响；附件3（问题2数据）、附件4（问题3数据）及附件5（问题4数据）均提供以秒为时间步的发动机耗油速度（kg/s）时间序列，分别对应不同任务或不同时间点的发动机油耗记录，可用于与油箱供给速率配比、累积消耗积分、剩余燃油计算、验证输送上限约束及异常检测。总体上，该数据集以 1 Hz 的时间分辨率、明确的单位体系（位置 m、体积 m^3、质量 kg、流率 kg/s）提供了进行燃油质量守恒、质心随油耗变化建模与仿真、能量/任务持续性评估以及供给-耗用匹配分析所需的结构与时间序列信息；使用前建议将体积转为质量、对齐时间索引并检查缺失值与边界条件（如输送上限）以便开展定量计算与动力学仿真。"
  },
  "problem_background": "某一类飞行器携带有多个油箱，在飞行过程中，通过若干个油箱的联合供油以满足飞行任务要求和发动机工作需求。在任务执行过程中，飞行器的质心变化对飞行器的控制有着重要的影响，各个油箱内油量的分布和供油策略将导致飞行器质心的变化，进而影响到对飞行器的控制。因此，制定各油箱的供油策略是这类飞行器控制的一项重要任务，这里，油箱的供油策略可用其向发动机或其它油箱供油的速度曲线来描述。\n\n假设该类飞行器一共有个油箱，各油箱供油示意图如图1所示：\n\n\n\n图1：飞行器油箱供油示意图\n\n飞行器的结构（如油箱的位置、形状、尺寸、供油关系、供油速度限制等）影响着油箱的供油策略和飞行器的质心变化。为简化问题，对飞行器的结构和相关供油限制作出以下假设和要求：\n\n1. 油箱均为长方体且固定在飞行器内部（如图1所示），设第 $i$ 个油箱内部长、宽、高分别为 $a_i$, $b_i$ 和 $c_i$, $i = 1, 2, \\dots, 6$。长、宽、高的三个方向与飞行器坐标系的 $x$, $y$, $z$ 轴三个方向平行。\n\n2. 在飞行器坐标系下（坐标系描述见附录），飞行器（不载油）质心为 $\\vec{c}_0(0, 0, 0)$，第 $i$ 个空油箱中心位置为 $\\vec{R}_i$, $i = 1, 2, \\dots, 6$。飞行器（不载油）总重量为 $M$。。飞行器（不载油）总重量为。\n\n3. 第 $i$ 个油箱的供油速度上限为 $U_i$ ($U_i > 0$)，$i = 1, 2, \\dots, 6$。每个油箱一次供油的持续时间不少于 60 秒。\n4. 主油箱 2、3、4、5 可直接向发动机供油，油箱 1 和油箱 6 作为备份油箱分别为油箱 2 和油箱 5 供油，不能直接向发动机供油。\n5. 由于受到飞行器结构的限制，至多 2 个油箱可同时向发动机供油，至多 3 个油箱可同时供油。\n6. 飞行器在执行任务过程中，各油箱联合供油的总量应至少满足发动机的对耗油量的需要（若某时刻供油量大于计划耗油量，多余的燃油可通过其它装置排出飞行器），发动机在每个时刻的耗油速度可用一条耗油速度曲线表示，图 2 给出了发动机执行某次任务时的计划耗油速度示意图：\n\\end{enumerate}\n\n\\begin{figure}[h]\n    \\centering\n    \\includegraphics[width=\\textwidth]{engine_fuel_consumption_curve.png}\n    \\caption{某次任务中发动机计划耗油速度曲线}\n    \\label{fig:engine_fuel_consumption_curve}\n\\end{figure}\n\n\\begin{enumerate}\n    \\setcounter{enumi}{6}\n7. 飞行器在飞行过程中可能发生姿态改变，主要是飞行航向上的上下俯仰或左右偏转。为简化问题，假设本题目中飞行器姿态的改变仅考虑平直飞与俯仰情况。飞行器的俯仰将导致各油箱相对地面的姿态发生倾斜，在重力作用下，油箱的燃油分布也随之发生变化，从而使得飞行器质心发生偏移。油箱姿态变化示意图如图 3 所示，左图为飞行器在地面时油箱的状态，右图虚线代表油箱姿态改变后燃油水平面。飞行器姿态变化的相关坐标系约定请参见附录。\n\n\n\n图3：油箱姿态变化示意图\n\n附件1给出了飞行器的相关参数，附件2-附件5给出了该类飞行器在执行某任务过程中飞行和控制的相关数据，请你们团队根据任务要求，建立数学模型，设计算法，并分析算法的有效性和复杂度，完成以下问题：",
  "problem_requirement": "问题1. 附件2给出了某次任务中飞行器的6个油箱的供油速度及飞行器在飞行过程中的俯仰角变化数据，每秒记录一组数据（下同）。请给出该飞行器在此次任务执行过程中的质心变化曲线，并将其质心在飞行器坐标系下的位置数据按时间（每秒一组）先后顺序存入附件6结果表“第一问结果”中。\n\n问题2. 附件3给出了某次任务的飞行器计划耗油速度数据，与飞行器在飞行器坐标系下的理想质心位置数据。根据任务需求，在飞行器始终保持平飞（俯仰角为0）的任务规划过程中，请为飞行器制定该次任务满足条件（1）-（6）的6个油箱供油策略，使得飞行器每一时刻的质心位置 $\\vec{c}_1(t)$ 与理想质心位置 $\\vec{c}_2(t)$ 的欧氏距离的最大值达到最小，i.e.,\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_2(t)||_2\n\\]\n\n请给出飞行器飞行过程中6个油箱各自的供油速度曲线和4个主油箱的总供油速度曲线（时间间隔为1s）、以及飞行器瞬时质心与理想质心距离的最大值和4个主油箱的总供油量，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第二问结果”中。\n\n问题3. 假定初始油量未定，飞行器其他相关参数如附件1所示，附件4给出了某次任务的飞行器计划耗油速度数据，与飞行器在飞行器坐标系下的理想质心位置数据。在飞行器始终保持平飞（俯仰角为0）的任务规划过程中，请为飞行器制定该次任务满足条件（1）~（6）的6个油箱初始载油量及供油策略，使得本次任务结束时6个油箱剩余燃油总量至少 $1 \\, \\text{m}^3$，并且飞行器每一时刻的质心位置 $\\vec{c}_1(t)$ 与理想质心位置 $\\vec{c}_2(t)$ 的欧氏距离的最大值达到最小，i.e.,\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_2(t)||_2.\n\\]\n\n请给出6个油箱的初始载油量、飞行器飞行过程中6个油箱的供油速度曲线和4个主油箱的总供油速度曲线（时间间隔为1s）、以及飞行器质心与理想质心距离的最大值和4个主油箱的总供油量。请将6个油箱的初始油量存入附件6结果表“第三问结果”中的提示位置，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第三问结果”中。\n\n问题4. 在实际任务规划过程中，飞行器俯仰角随时间变化。附件5给出了飞行器俯仰角的变化数据和耗油速度数据。请为本次任务制定油箱供油策略，使得飞行器瞬时质心 $\\vec{c}_1(t)$ 与飞行器（不载油）质心 $\\vec{c}_0$ 的最大距离达到最小，即\n\n\\[\n\\min_{t} \\max ||\\vec{c}_1(t) - \\vec{c}_0||_2.\n\\]\n\n请绘出飞行器飞行过程中6个油箱各自的供油速度曲线，再将4个主油箱的总供油速度曲线（时间间隔为1s）与计划耗油速度曲线绘于一个图中，给出飞行器瞬时质心与飞行器（不载油）质心 $\\vec{c}_0$ 的最大距离偏差以及4个主油箱的总供油量，并将6个油箱的供油速度数据按时间（每秒一组）先后顺序存入附件6结果表“第四问结果”中。",
  "problem_analysis": "这组题目本质上是典型的“多质点质量分布与控制”的工程优化问题：目标是通过对多个油箱的流率（以及在第三问中油箱的初始装油量）进行时变控制，使得飞行器在飞行过程中的整体质心位置尽可能接近给定的参考轨迹或基准位置，同时满足物理输送能力、供油拓扑和若干离散/连续约束（同时供油数、最短供油时长、油箱间输送限制等）。从宏观上看，建模的主要任务是建立质量守恒与质心的时间演化模型、把操作约束形式化为优化约束、并在此约束下求解一个时域最优控制或调度问题。这个总体目标决定了解题路径：先做物理建模（质量守恒、燃油体积-质量换算、燃油在各油箱内因姿态变化而导致的自由面位置与燃油质心位置映射），再离散化时间（题目已给出 1s 采样），把连续控制变量（每一秒每个油箱的供油速率）以及必要的离散决策（是否在此时刻从某油箱向发动机或向其它箱供油；是否开启某箱并至少持续 60s）构造成一个时序优化问题，最后选择合适的数值方法或启发式算法求解并做鲁棒性检验与灵敏度分析。\n\n在把问题形式化之前，需要批判性地识别并评价题干中显性与隐性假设及其影响。显性假设包括：油箱为固定的长方体、油密度恒定、油箱三轴与机体坐标轴平行、油箱几何中心位置已知；供油速度上限 U_i 给定；油箱 1 与 6 不能直接供油给发动机而只能先向 2 和 5 供油；同时向发动机或向任意方向供油的数量上限（最多 2 个直接向发动机，最多 3 个同时供油）以及单次供油最短不低于 60 s；发动机耗油速率曲线已知；仅考虑俯仰（无滚转、偏航），并且在平飞子问题中俯仰角恒为 0。隐含假设包括流体动力学简单化（燃油在油箱内处于静态平衡状态，重力与姿态变化只改变静态自由面，而不考虑液体惯性、波动或谐振即“晃动/荡漾”），输油过程瞬时达到设定流率且管路、泵、阀门的动态可忽略，油体均匀且密度与温度恒定，测量与执行精度完美，以及在多箱向某箱补油时不存在额外的能量损耗或流率限制以外的时延。此外题目把体积/质量和中心位置数据都给到机体坐标系，这简化了变换，但在姿态变化时油箱内燃油自由面基于惯性坐标系还是瞬时机体坐标系的表述要明确，题目已在附录中给出坐标系定义并说明俯仰角定义，使得自由面相对于机体坐标系转动可通过几何变换处理。\n\n这些假设的影响很关键。若忽略液体的动量与自由面振荡（真实飞行中可能由机动或湍流引起），则模型得到的质心轨迹将是平滑且仅由体积分布改变驱动的，但在真实场景中短时机动会引发液面波动，导致瞬时质心偏差与振幅超出静态预测。这意味着在实际控制策略部署前必须评估模型误差并预留安全裕度或采用更精细的流体-结构耦合模型（例如有限元/多体-液体耦合或等效摆动力学模型）来刻画动力学响应。类似地，忽略输送管道与泵的动态（压力、滞后、单向阀延迟）会让供油策略在执行上比设计上更理想化，特别是在有最短供油持续时间和最大并发数限制时，这类执行约束会引入离散化的最小开关时长问题，使得原本连续优化问题变为混合整数优化问题，从而显著提升计算复杂性。\n\n在物理关系层面，问题的核心关系很直接但在细节上可能非线性耦合。总体质心 c(t) 由飞行器净质量 M（不载油）和各油箱内油质量 m_i(t) 及其对应油质心位置 r_i(t) 共同决定：c(t) = (M * c0 + sum_i m_i(t) * r_i(t)) / (M + sum_i m_i(t))。在平飞和静态假设下，若把 r_i(t) 始终近似为油箱几何中心 R_i（即油在箱内均匀分布或箱尺寸与填充使自由面对质心变化影响微小），则 r_i 不随 m_i 变化而变化，c(t) 关于 m_i 是线性函数，因此目标（例如第二问、第三问中最小化时刻最大偏差的 infinity 范数）可以被离散化并转成凸问题或甚至线性规划（引入上界变量表示最大偏差），这使得求解高维时序问题在理论上是可行且高效的。然而一旦考虑姿态变化导致的油箱内自由面位置变化，r_i(t) 将成为 m_i(t) 与瞬时俯仰角 θ(t) 的非线性函数，通常需要通过几何积分（计算倾斜长方体中给定体积对应液面位置与液心位置）来得到 r_i(t)=f_i(m_i, θ)。这一映射在数值上可以通过闭式公式（对长方体倾斜时有解析或半解析解）或通过高精度数值积分/预计算表格与插值来实现，但其引入的非线性使得优化问题成为非凸优化或混合整数非线性规划（MINLP），计算复杂度显著上升且可能只求得局部最优解。\n\n不同组成要素之间存在的张力体现在：要满足发动机在每一时刻的耗油需求（或至少不低于它，超量可排放），同时受限于每箱的最大供油率，以及拓扑上的供油路径限制（1、6 不能直接供发动机，而只能给 2 或 5）和并发数限制，供油的可分配自由度受限。再加上“单次供油最少 60 秒”的约束，这使得对瞬时需求的响应需要提前规划与“预开机”策略，这会与质心最优目标产生冲突。例如在期望质心保持居中时可能需要同时从左右对称的箱供油，但实际可用箱或供油速率有限，或者启停约束迫使在某段时间内只能从不对称的箱供油，从而引发最大偏差的不可避免上升。还有，1 和 6 的存在作为只用于补给的备份箱，意味着在整体油耗高、主箱油量不足时，需要进行转移，这会在机体内产生额外的局部质心移动，甚至因管路流向而诱导短时不对称。\n\n关于时间尺度与动态因素，题目给出 1s 的时间步长并要求对整个任务过程进行逐秒计算，表明短时动态（秒级）对质心评估重要。若仅使用静态自由面模型且俯仰角变化缓慢，那么质心曲线会相对平滑，问题更偏向“时序调度”。但是在俯仰快速变化或发生机动时，液面将发生相对滞后、波动与振荡（sloshing），这些动力学会在短时间内放大质心偏差并可能导致控制器需更高带宽的响应，进而带来更严格的约束。因此若需将模型用于实际控制决策，必须评估并可能包含液体动力学模型的影响（例如以等效摆模型或模态分解近似自由面振荡），或在控制策略中加入鲁棒/保守裕度以保证安全性。\n\n在数学与算法层面，问题的不同情形提供了不同的解法路径。平飞（θ=0）情形下油质心位置与油质量近似线性相关，问题可以在离散时间上表述为线性约束下的凸（或线性）优化，最小化最大偏差的最小极大问题可通过引入上界变量转为线性规划：对每个时间步计算线性表达的质心偏差的二范数或其上界（注意二范数引入二次项，可用线性化或用二次约束转成二次规划）；如果将欧氏距离二范数直接用二次形式处理，则可解为二次规划（QP）。这样的连续优化在时间步 T、变量量为 6T 时通常可用商用求解器在合理时间内完成，复杂度多项式可控。问题的难点在于并发数和最小持续时间等离散约束，这会引入二进制变量 x_i(t)（表示某箱是否处于“供油模式”），并且最小持续时间产生时间耦合约束（最小开机时间），这使问题转为经典的“单元承诺”类混合整数规划（MILP/MINLP），理论上是 NP-难的，规模随 T 指数级增长。对于混合整数问题，可以采取下列折衷策略：把布尔约束松弛为连续并用惩罚项鼓励稀疏/连续性；先通过启发式或贪婪调度决定哪个箱在各时间段供油（例如基于保持质心对称或基于油量优先级的简单规则），随后在确定的拓扑下解连续优化；或者把时间划分为较长的区段（例如 10s、60s 作为最小粒度），减少二进制变量数量；或者使用分层策略，先确定每个时段供油的箱集合（组合选择），然后在固定集合下解连续速率问题。对于第三问中把初始载油量也作为决策变量的情形，问题维度进一步增大，但初始油量变量只出现在质量守恒边界条件与终止剩余量约束中，若仍处于平飞并采用静态质心近似，则整体仍可转为带边界的线性/二次规划（加上可能的整数变量）。\n\n当俯仰角随时间变化（第四问）并必须考虑自由面位置时，优化问题的非线性程度最大。针对这一点，实用策略包括：先对每个油箱和每个可能的体积/俯仰角组合预计算（或在线以快速数值方法计算）体积到重心位置的映射表（或用多维插值器/神经网做近似），在优化中把 r_i(t) 视作给定查表函数 f_i(m_i(t), θ(t))，从而在保持物理精度的同时降低实时求解成本；再者可以采用顺序线性化/顺序二次规划（SQP）方法，在每次迭代中把非线性项线性化并解一个线性或二次规划（类似邻域优化），并在多个初值下运行以缓解局部最优问题。若需保证全局最优性，则必须使用全局优化器或穷举式策略，这在实际规模下通常不现实。另一可行路径是模型预测控制（MPC）或滚动时域优化：在当前时刻基于未来短窗预测（例如 60s 到几分钟）求解较小规模的混合整数或非线性问题并实施第一步，然后滚动推进。MPC 有利于应对扰动并把最小持续时间等约束自然处理成短窗内的组合约束，且计算复杂度受预测窗口限制。\n\n关于算法有效性与复杂度评估，需要分别给出经典情形下的估计：若问题在平飞并忽略最小运行时间与并发约束（即纯连续问题，线性或二次），则使用内点法求解 LP/QP 的复杂度为多项式（对变量数 n 的每次迭代复杂度约 O(n^3)），对于通常任务长度（数百到几千秒）和 6 个箱子，现代求解器可在秒级或分钟级内完成。若引入混合整数变量（每个箱每秒一个二进制），问题则变为 MILP，最坏情况求解时间呈指数增长，但实际可通过剪枝、启发式和分段化策略显著加速。若进一步引入非线性自由面映射，问题成为 MINLP，其求解更为困难，往往依赖于迭代局部法或基于启发的分层策略来获得可接受解。为实现工程可用的在线或近实时方案，常见做法是把静态或线性模型用于在线控制的主回路（低时延），而把更精确的非线性模型用于离线规划或故障情况下的再优化。\n\n模型不确定性与风险是必须重视的。一类不确定性来自输入（发动机实际耗油速率可能偏离计划、俯仰角传感器噪声与延迟、泵或阀门性能退化），另一类来自模型结构（忽略液体动力学、管路压降、温度/密度变化、油与空气混合导致的有效密度变化等）。这些不确定性会导致优化策略在执行时产生偏差甚至违反物理约束（例如出现某段时间内实际供油总量不足）。因此应该在模型中加入鲁棒性或概率约束（例如在最坏情形或置信水平下满足耗油），或者通过闭环控制（MPC + 容错策略）来应对执行偏差。同时要做灵敏度分析：对初始油量、耗油曲线、供油速率上限和俯仰角扰动施加随机扰动，观测最大质心偏差的分布，进而评价方案的稳健性。若某些假设对结果影响显著（例如自由面动态效应），应通过实验或更高保真仿真来量化并把修正项纳入设计。\n\n从多种视角重新表述问题会带来不同的建模和求解方法。例如可以把问题看成“最小化最大横向/纵向力矩偏差”而非直接最小化质心欧氏距离，这在飞行控制方面可能更直接相关（因为质心在某一方向的偏移更容易转化为控制力矩）。也可以把问题表述为“在有限燃油总量和必须满足连续耗油下最大化某种稳定性指标或最小化控制能耗”，从资源管理角度则更像是长期优化问题而不是瞬时极值问题。这样的替代表述会推动不同目标函数与约束的采纳，例如把目标设置为同时最小化平均质心偏差与最大偏差的加权组合，或把控制代价与质心偏差复合起来，进而得到更加平衡的解决方案。另一个替代视角是把油箱调度看成序列的“容错配置”问题：先保证安全性（不致使质心偏出安全包围盒），再在此基础上优化精度，这将导致一个分层优化框架（安全层 + 性能层）。\n\n在实际的建模过程中应保持动态性与迭代性。初始阶段可以采用最简化模型（平飞、静态自由面、连续控制）设计并验证基本算例与数值实现，快速得到基线策略并量化主要效应。随后逐步放宽简化假设，引入俯仰变化、预计算的体积-质心映射、最短开停时间等约束，再通过仿真（包含随机扰动）检验策略鲁棒性。若有必要在关键时段加入更高保真度的液体动力学模型，则应把高保真模型用于离线敏感性分析或极端情形下的再规划，而不是直接作为在线控制的主模型。整个过程应伴随着不确定性量化、性能-计算代价权衡以及工程可实施性的检验（例如执行器是否能实现设定的速率，阀门开停时间是否满足）。此外应做好模型结果的可解释性与安全边界说明，便于工程人员在实际部署前评估风险。\n\n总结性建议是：以质量守恒与质心加权平均作为建模基底，先在平飞/线性情形下把问题离散为 LP/QP 并用成熟优化器获得全局或接近全局解；对引入的离散约束（并发数、最小供油时长）采用分段化时间或二阶段策略（先调度箱集合，再解连续速率），或者用 MILP 但配合启发式加速；对于俯仰引起的非线性自由面问题，采用预计算表/插值或顺序线性化方法降低求解难度，并在控制部署中采用 MPC/滚动优化以应对扰动；全程进行不确定性与灵敏度分析，保留保守裕度与闭环纠偏能力。最后要意识到该建模问题是一个工程性的多学科耦合问题，随着对流体动力学、执行器动态和传感器误差理解的不断深入，模型结构与控制策略都应不断修正与迭代，以在理论优化和工程实操之间找到稳健可行的平衡。",
  "modeling_solution": "为系统地解决这一组多油箱质心控制与调度问题，我设计了一个从物理建模到数值求解的综合框架。该框架在物理保真与算法可解之间取得平衡：在平飞情形下利用凸/锥优化获得全局或近全局解，在含俯仰引起的油面非线性情形下采用预计算表、顺序线性化（或SQP）及滚动时域优化以在可接受时间内得到高质量解，并通过混合整数建模或启发式时间分段处理“最小持续 60s / 并发数 / 供油拓扑”这类离散约束。下面依次给出建模假设、变量与参数、动力学与质心表达式、约束与目标函数、非线性油面重心的处理方法、数值求解策略、算法复杂度与并行化建议、敏感性与验证方法，以及未来扩展方向与实际工程落地建议。\n\n一、关键假设（模型基础与可接受简化）\n为使问题可解且保留主要物理效应，采用如下假设：所有油箱均为固定长方体且与机体坐标轴平行，燃油密度ρ视为常数，油箱壁与管路内滞后、泵动力学、瞬态压力降以及液体惯性（sloshing 模态的高频成分）在基线模型中被忽略；油在箱内处于静态平衡，其自由面为平面并由当前俯仰角与液量共同决定（俯仰变化驱动的平衡自由面位置即时达到）；油箱 1、6 只能将燃油输送到 2、5，其他直接向发动机或其它箱的输油仅在附件1给定的端口/容量约束内允许；每个油箱有单侧或多侧输送上限 U_i（kg/s），并给定每次“开启供油”最少持续 60 s、同时向发动机的油箱数 ≤ 2、同时向任何方向供油的油箱数 ≤ 3。时间离散化以题目数据 1s 为步长，决策变量在每秒决策一次。上述简化在常规机动缓和情形下能很好地重现质心随时间的主要趋势；若需更精确地刻画短时波动，可在后述扩展中引入等效摆模型或模态分解的sloshing项。\n\n二、变量、参数与符号约定\n将下列量作为模型变量与已知参数（均以飞行器坐标系表示）：已知参数：M（飞行器不载油总质量，kg），c0（飞行器不载油质心坐标向量，通常为(0,0,0)），油箱几何参数 a_i,b_i,c_i（长/宽/高，m），油箱几何中心位置 R_i（向量，m），油密度 ρ（kg/m^3），每箱最大供油速率上限 U_i（kg/s），允许的端口拓扑 A（指明哪些 i→j 的传输允许以及对应上限），发动机需求 D(t)（kg/s，已知时间序列），俯仰角 θ(t)（题中给定或为 0）。决策变量（在每一秒 t）：m_i(t)（油箱 i 在时刻 t 的剩余油质量，kg），s_i(t)（油箱 i 向发动机的瞬时供油速率，kg/s），τ_{i→j}(t)（油箱 i 向 j 的瞬时输油速率，kg/s，若拓扑禁止则为0），二进制变量 y_i(t) 指示“油箱 i 在 t 是否处于供油（任意方向）状态”（y_i ∈ {0,1}，用以刻画最小持续时间与并发约束）。此外在若干优化表述中引入辅助变量 δ 用于表示最大质心偏差上界。\n\n三、油量守恒与时间离散动力学\n离散时间步长 Δt = 1 s 时刻更新方程为：m_i(t+1) = m_i(t) - Δt * [ s_i(t) + Σ_{j} τ_{i→j}(t) ] + Δt * Σ_{k} τ_{k→i}(t) ，对所有 i 成立，并加上 0 ≤ m_i(t) ≤ m_i^cap（箱体最大容量对应质量）。所有流量变量满足非负性与上界约束：0 ≤ s_i(t) ≤ U_i * y_i^eng(t)（若允许直接向发动机，则 y_i^eng 表示是否对发动机供油，若箱 i 不能直接向发动机则相应上界为0）；类似地 0 ≤ τ_{i→j}(t) ≤ U_{i→j} 且 τ_{i→j}(t) >0 时必须对应 y_i(t)=1。发动机需求满足：Σ_i s_i(t) ≥ D(t) （允许超额并排放多余燃油，或也可以要求等式 Σ_i s_i(t) = D(t)+e(t) 且 e(t)≥0 表示排放）。拓扑约束通过 A 矩阵以线性方式施加（若 i→j 不允许则 τ_{i→j}=0）。\n\n四、飞行器整体质心表达式\n飞行器整体质心为质心加权平均：c(t) = ( M * c0 + Σ_{i=1}^6 m_i(t) * r_i( m_i(t), θ(t) ) ) / ( M + Σ_i m_i(t) )。这里 r_i(·) 表示油箱 i 内燃油重心在飞行器坐标系的坐标向量，是体积（或质量）与俯仰角的函数。若在平飞（θ=0）且我们近似认为油在箱内均匀分布（或箱尺寸使液面高度与质心变化对横向分量影响可忽略），可近似取 r_i ≈ R_i（箱几何中心）或在竖直方向上用精确的竖向液面高度 h = V/(a_i b_i) （V = m_i/ρ），进而 r_i_z = R_i_z - c_i/2 + h/2，横向与纵向分量则等于箱几何中心的 x,y 坐标（若需更精确可使用该解析式）。在含俯仰 θ ≠ 0 的情形下，r_i(m,θ) 是非线性的，需要计算倾斜长方体中给定体积对应液面位置以及由此得到液体质心的位置，这个计算在下面详细说明。\n\n五、油箱倾斜时的体积→液心映射（关键的非线性部分）\n对每个长方体油箱 i，在俯仰角 θ 下以箱体坐标系定义自由面为平面，其相对箱体几何的方程可表示为 z = α x + β y + γ（由于我们只考虑俯仰，无偏航滚转，β = 0，α = tan θ 在纵向轴方向上）。给定填充体积 V（或质量 m=ρV），需要找到平面参数 γ（或对应的液面高度）满足长方体内被平面浸没部分的体积等于 V。一旦确定该平面位置，可对浸没体积进行三维积分以得到液心坐标 r_i。尽管该积分在一般情况下无简单闭式解，但可以通过下面实际可行的策略高效得到映射表：对每个油箱 i 先在体积维度上做离散化（例如 0..V_cap 分成 K 等份，K=200~1000）并在俯仰角 θ 的有效范围（例如 -θ_max..θ_max）上做离散化（例如 L=181 个角度或按题目给出的采样），对于每一对 (V_k, θ_ℓ) 用数值几何方法（裁剪长方体与平面、由多面体体积与质心公式计算）求出 r_i(V_k, θ_ℓ)。把结果存为二维查表 f_i(V,θ)。在线优化时通过双线性/双三次插值近似 r_i。该预计算工作只需在离线阶段完成，能把随后的优化问题中对 r_i 的调用变成快速查表与插值，从而在不牺牲物理保真度的前提下显著降低在线计算成本。若对精度要求更高，可用专门几何库（例如 CGAL 或自写多面体裁剪算法）精确计算每个节点的体积与质心。\n\n六、优化目标与约束化表达（针对各问）\n第二问/第三问要求最小化瞬时质心与给定理想质心之间欧氏距离的最大值（min_t max_t || c(t) - c_ref(t) ||_2）。在离散时间步的有限 horizon 上可以引入决策变量 δ 并对所有 t 强制 || c(t) - c_ref(t) ||_2 ≤ δ，然后最小化 δ。若 r_i 在该问题中可视为常数或 r_i 为 m_i 的线性函数（平飞近似），则 c(t) 是关于 m_i(t) 的仿射函数，二范数约束为二次锥约束（SOC），整个问题为混合整数二次锥规划（MI-SOCP）或在无整数变量时的SOCP，这是凸的，能用 MOSEK/CPLEX 的锥求解器高效求解。第三问还把初始 m_i(0) 作为决策变量，并加上总剩余燃油在任务结束时 Σ_i m_i(T_final) ≥ ρ * 1 m^3 的线性约束（注意单位换算），及每箱容量上限、总初始油量上下界等。第一问是仿真问题：已知 s_i(t)、τ_{i→j}(t) 与 θ(t)，直接用质量守恒计算 m_i(t) 并利用预计算表/解析式获得 r_i，进而计算 c(t) 并输出时间序列。第四问要求最小化相对于不载油质心 c0 的最大偏差：引入 δ 并强制 || c(t) - c0 ||_2 ≤ δ，最小化 δ，同时保证发动机耗油被满足并考虑 θ(t) 的时变性；这在 r_i 非线性时是非凸 MINLP，采用后述顺序线性化或SQP 获得解决方案。\n\n在所有问题中还必须加入： (i) 并发约束：Σ_i 1_{s_i(t) > 0} ≤ 2，Σ_i 1_{(s_i(t)+Σ_j τ_{i→j}(t))>0} ≤ 3；(ii) 最短开停时间：若 y_i(t) 是指示变量，约束 y_i(t) - y_i(t-1) ≤ y_i(t) 表示开启后必须至少保持 60s，可通过经典的最小开启时间线性化约束实现（引入 start_i(t) 变量并累积限制）；(iii) 拓扑约束由 A 强制；(iv) 非负并在箱剩余油量为 0 时禁止抽油（s_i(t)=0 若 m_i(t)=0）；(v) 速率上界：s_i(t) ≤ U_i，τ_{i→j}(t) ≤ U_{i→j}。\n\n七、数值求解方案（分情形）\n對於平飞（θ(t)=0，且可近似取 r_i 常数或线性关系）且若忽略最短持续时间/二进制约束，可将问题构造为连续SOCP：决策变量为 s_i(t), τ_{i→j}(t), m_i(t), δ，约束为线性质量守恒与二次锥的质心距离约束，直接用 MOSEK 或 CVXPy+ECOS 求解，全局最优且速度快（几十至几百秒，取决于 T）。若需显式考虑最短开启时间与并发限制，引入二进制 y_i(t) 及最短开启时间线性化约束，问题变为 MI-SOCP 或 MILP（若用二范数改为分量无穷范数则可转为 MILP），建议用 Gurobi/CPLEX 的 MIP 求解器或 MOSEK 的混合整数求解器。由于变量规模为 O(6T) 连同 τ 变量，若 T 为数千，纯整型模型可能求解时间显著增长，此时建议采取时间分段（例如把时间按 60s 块分配，或者先求连续速率解后按照启停约束做后处理修正）或使用启发式算法（贪心、局部搜索）为整数变量寻找良好可行解再在连续问题中精细优化速率。\n\n對於含俯仰非线性（θ(t) 非零）情况，采用下述两步或迭代策略。第一步离线预计算 f_i(V,θ) 表并在线插值以获得 r_i 的数值值，从而在每次优化迭代中能快速求出 c(t) 给定 m_i(t)。若把 f_i 视为黑箱，优化问题为非线性规划（NLP／MINLP 若含整数），可以用顺序二次规划（SQP）或内点法（IPOPT）直接求解（对小规模 T 是可行的）。为了处理整数约束，采用混合策略：先在连续松弛上用 SQP/内点求一个近似连续轨迹，再做启发式整数修复（例如贪心地打开或关闭若干箱以满足最小持续时间），之后用局部优化做修正。另一个实用策略是顺序线性化：以当前 m_i^(k)(t) 与 θ(t) 计算 r_i^(k) 与其对 m 的局部导数（若可求近似导数），将非线性 r_i(m,θ) 在该点线性化得到一组仿射近似，解决得到改进的连续/混合问题，然后更新线性化点，迭代直至收敛（类似 SQP）。该方法能把非凸 MINLP 分解为一系列容易求解的 MI-SOCP/MIQP 子问题。为提高全局性能，应多次从不同初值启动或在滚动时域（MPC）框架中分步求解。\n\n八、关于离散最小开启时长与并发约束的具体处理\n最短持续 60s 的约束可以用二进制 start_i(t) 与 y_i(t) 构造线性不等式：start_i(t) ≥ y_i(t) - y_i(t-1)，并对任一 start_i(t)=1 要求 Σ_{τ=t}^{t+59} y_i(τ) ≥ 60；该约束在 MILP 中是线性的（带若干逻辑约束）。为缩减整数变量数量，可把时间步合并为 60s 的块，令每块内 y_i 为恒定（0或1），并把流量分配为块平均速率；这种时间分段能显著降低整数规模，但牺牲时间分辨率。另一种折衷做法是用连续松弛 y_i∈[0,1] 并加入正则化项惩罚切换频率，再通过阈值化得到整数解并修正。\n\n九、算法实现细节与计算资源\n建议搭配如下技术栈：数据预处理与插值用 Python（NumPy、SciPy）、几何裁剪与预计算用 C++ 或 Python 的高性能库（若预计算量大可并行化），建模与求解用 CVXPy（SOCP）和 Gurobi/CPLEX（MI-SOCP/MILP）或 IPOPT/CasADi（NLP/SQP）。对于第二问与第三问平飞凸情形，使用 SOCP/LP 在单机上可在分钟级别完成上千时间步的全局优化；对于含整数和非线性情形，若用 MILP/MI-SOCP，最坏情形运行时间可能呈指数增长但通常在数小时可得到可行解，特别是当采用时间分段与启发式初始化时。预计算 f_i(V,θ) 表可并行化到多核或分布式集群；在线优化可通过 warm-start、增量更新（滚动时域）与并行子问题求解降时延。内存与存储需求主要来自预计算表（6 tanks × K × L 点），若 K=1000, L=181，每点储存 3 坐标约 6×1000×181×3×8 字节 ≈ 26MB，完全可接受。\n\n十、不确定性、鲁棒性与敏感性分析\n为保证工程鲁棒性，建议并行进行不确定性分析与鲁棒优化：对发动机耗油曲线 D(t) 的偏差、俯仰角噪声与泵实际速率误差进行 Monte Carlo 模拟，评估最优策略在真实执行中对质心偏差的影响。若扰动使得质心偏差显著超出设定阈值，应采用鲁棒/最坏情况优化（minimize worst-case δ over bounded uncertainty sets）或在目标中加入期望+方差加权项以平衡性能与稳健性。另外可用等效摆模型引入sloshing的额外动量/质心扰动上界，并在约束中包含这些上界，从而在优化时自动留出安全裕度。敏感性分析亦应针对初始油量、箱体偏差、密度变化等开展，以发现最关键参数并据此调整策略或硬件（例如增加左右对称箱的平衡供油能力）。\n\n十一、验证与测试\n模型验证应分两步：离线验证与硬件/高保真仿真验证。离线验证：使用附件中的真实/模拟数据（附件2-5）进行回放仿真，比较仿真得到的 m_i(t)、r_i(t) 与题目给定或测量数据的一致性；对含俯仰情况检查预计算表插值的精度并用高精度几何裁剪对若干代表点做精确解对比。硬件/高保真验证：在更复杂模拟器或实验台（例如包含流体仿真的CFD或等效摆模型）上对关键场景（大俯仰速率突变、发动机用油峰值）进行闭环测试，评估质心最大偏差、执行误差与泵阀响应的影响。最后基于验证结果调整模型（例如加入slosh安全项、修改U_i上下界或按实际系统延迟修正逻辑）。\n\n十二、工程实施建议与扩展\n为便于工程实施，建议采用分层控制架构：离线/任务级规划器利用本文方法在任务开始时生成初始装油量（若需要）与供油时间计划（按 60s 分段），在线控制器采用短时滚动时域优化（MPC）对下一 60~300s 窗口进行再优化并实时执行，MPC 能处理传感器测量偏差并基于实际 m_i(t) 更新策略。若实时约束严苛，可以用拟合的代理模型（例如训练小型神经网络或多项式回归将 (m_i,θ) 映射到 r_i）替代查表插值以加速在线计算。为进一步提高安全性，建议在飞行控制器中加入“质心安全包”约束，若质心偏离超过阈值则触发冗余策略（强制对称箱同时开启、限制飞机机动幅度或执行预定紧急排放/转移策略）。\n\n十三、未来工作与模型扩展方向\n若需更高保真，可以将液体动力学（sloshing）以模态化（若干摆模型）形式加入状态变量，用线性或非线性动态方程描述并在优化中加入对应的质心扰动项。另一方向是将随机或概率性机动与耗油不确定性纳入随机优化框架（例如场景法、渐进鲁棒优化），以在给定置信水平下保证质心约束。还可以把目标从最小最大偏差扩展为多标准优化（例如同时考虑质心偏差与供油能耗或发动机稳定性指标），并用多目标优化工具找到帕累托前沿，供决策者在安全与经济性间权衡。最后，可结合在线数据（飞行中量测的 m_i、θ）采用自适应或机器学习方法对 f_i 表与动力学参数进行校准，提高长期性能。\n\n总结性陈述：本模型以质量守恒与质心加权平均为核心物理基底，通过离线数值几何预计算（长方体内倾斜液体体积与质心映射）将复杂的几何非线性问题转化为可高效插值调用的函数，从而在平飞情形下把问题转为凸（SOCP/LP）或混合整数凸优化以获得全局或近全局解；在含俯仰非线性情形下采用顺序线性化/SQP 与混合整数策略并配合滚动时域与启发式整数修复来平衡求解质量与时间开销。该框架兼顾工程可实施性、数值可解性与物理保真度，并通过并行预计算、时间分段、代理模型和MPC等手段在实际应用中实现实时或近实时部署，同时提供灵活的扩展路径（引入sloshing、随机优化或数据驱动校准）以应对更高保真或不确定性情形。以上模型与方法能完整覆盖题目四问的建模与求解需求，并可直接用于生成题目所需的逐秒油箱供油速率时间序列、每秒质心位置数据及相应的性能指标（最大偏差与总供油量）。",
  "task_descriptions": [
    "子任务1目标是建立一个以1 s为步长的离散时间物理数学模型，用明确的变量和方程把飞行器-油箱系统的质量守恒与质心随时间的演化完全表述为供后续仿真与优化直接调用的数值模型。具体要求与方法如下：输入数据来自“附件1-飞行器参数.xlsx”（每个油箱的几何参数 a_i,b_i,c_i、几何中心 R_i、油密度 ρ、飞行器不载油质量 M 与不载油质心 c0、各通道速率上限 U 及供油拓扑说明、每箱初始油量若给出）以及相应任务文件（附件2–5）中每秒的发动机耗油 D(t) 与俯仰角 θ(t)；在读取数据时须做单位一致性检查与缺失值处理。建立的变量与符号：t=0,...,T 为离散时刻；m_i(t)（kg）为油箱 i 的剩余燃油质量，s_i(t)（kg/s）为油箱 i 当时向发动机的直接供油速率，τ_{i→j}(t)（kg/s）为箱间输油速率（若拓扑禁止则恒为0），可选引入二值指示 y_i(t) 表示箱 i 在 t 是否处于“开启供油”状态以便表达最短开启时长与并发限制。时间步长 Δt=1 s，油箱最大容积对应质量 m_i^cap = ρ·a_i·b_i·c_i。质量守恒差分方程：m_i(t+1) = m_i(t) − Δt·[ s_i(t) + Σ_j τ_{i→j}(t) ] + Δt·Σ_k τ_{k→i}(t)，并加约束 0 ≤ m_i(t) ≤ m_i^cap，且为防止在一秒内抽空可强制 s_i(t) ≤ m_i(t)/Δt、Σ_j τ_{i→j}(t) ≤ m_i(t)/Δt。流率边界与拓扑约束：0 ≤ s_i(t) ≤ U_i （若油箱 i 不允许直接向发动机供油则 U_i=0，例如题中箱1、6对发动机的供油上界设为0）；0 ≤ τ_{i→j}(t) ≤ U_{i→j} 且仅当拓扑允许时非零；发动机需求约束为 Σ_i s_i(t) ≥ D(t)（允许超额并排放）；并发约束以指示变量表达为 Σ_i 1_{s_i(t)>0} ≤ 2（同时向发动机的箱数 ≤2）与 Σ_i 1_{(s_i(t)+Σ_j τ_{i→j}(t))>0} ≤3（同时供油的箱数 ≤3），在数值模型中可用 y_i(t) 与大M技术线性化为 s_i(t) ≤ U_i·y_i^eng(t)、Σ y_i^eng(t) ≤ 2 等线性形式。飞行器整体质心在机体坐标系下由下式给出：c(t) = [ M c0 + Σ_{i=1}^6 m_i(t)·r_i( m_i(t), θ(t) ) ] / [ M + Σ_{i} m_i(t) ]，其中 r_i(·) 为油箱内燃油重心位置向量，既依赖于箱内油量也依赖于当前俯仰角；为便于后续使用，模型应同时提供两种 r_i 处理：在平飞近似（θ=0 或可忽略自由面影响）时的简化解析表达 r_i ≈ (R_i_x, R_i_y, R_i_z − c_i/2 + h/2)（h = V/(a_i·b_i)，V = m_i/ρ，且应检查 h≤c_i 并截断超量），以及通用表征 r_i(m,θ) 的占位符接口以供更高保真计算或查表插值调用（此处仅在模型中声明其输入/输出与数值精度要求，不在本子任务内求解该非线性映射）。输出应包括：按秒可递推的差分动力学方程组、所有决策/状态变量的域与线性不等式约束、发动机需求与拓扑并发约束的代数表达、初始条件 m_i(0) 的接入格式（来自附件或作为未知变量的占位），以及用于计算每秒飞行器质心 c(t) 的函数接口与简化解析式；同时提供数据预处理与校验步骤（读取Excel、单位换算、缺失值/越界检测）和模型数值实现建议（例如用Python+NumPy/Pandas组织时间序列与矩阵运算），以确保该离散模型能被后续仿真或优化模块直接调用。",
    "子任务 2（倾斜油箱几何非线性建模与离线预计算）旨在将“给定油箱内燃油体积 V 与飞行器俯仰角 θ 时，油液在长方体油箱内的静态浸没体积的几何形状及其质心位置 r(V,θ)”这一非线性映射离线化为在线可高速查表/插值调用的数值函数，并为后续优化提供可导近似；其范围包括：对每个油箱 i（已知在机体坐标系中的长 a_i×宽 b_i×高 c_i 与几何中心 R_i）在体积维和俯仰角维上构建二维离散网格 {(V_k,θ_l)}，对网格每点精确计算由俯仰引起的倾斜平面与长方体相交所得浸没多面体的体积与三维质心，保存质心在油箱局部坐标系及机体坐标系下的坐标并同时输出相应的局部导数近似；为实现该目标须按如下步骤与技术实现：一）输入与网格设计：输入为每个油箱的几何参数与最大容积 V_cap、俯仰角采样范围（由题目数据决定）与所需精度，推荐体积方向 K≈500–2000 点、角度方向 L 与题目时间采样相匹配（例如 L≈181），并在网格端点包含 V=0 与 V=V_cap 及 θ=0、±θ_max；二）单点几何求解：对每一对 (V_k,θ_l) 用数值方法确定切割平面的位置参数（例如平面高度 γ 相对于箱体参考面），利用体积关于 γ 单调性采用稳健的一维根查找（双分法或牛顿法伴随界限约束）求出使浸没体积等于给定 V 的 γ；三）多面体构造与积分：以长方体的 8 个顶点与 12 条棱为基础，用平面裁剪构建浸没部分的凸多面体（裁剪方法可直接计算平面与棱的交点并构成顶点集合），随后用多面体体积与质心的标准三角剖分公式或基于四面体化的精确积分（例如将多面体分解为若干以某固定点为顶点的三角锥并累加体积与第一矩）计算体积与质心坐标；四）数值鲁棒性处理：处理退化情况（完全空/满、平面穿过顶点或棱端）并对几何共线/共面情况采取容差处理（双精度浮点、容差 τ≈1e-12），对根求解和体积误差设定容限（体积误差 ≤1e-6 m^3，质心位置误差目标 ≤1e-4 m）；五）导数与线性化信息：为支持顺序线性化或 SQP，采用中心差分在体积方向和角度方向上计算局部偏导数 ∂r/∂V 与 ∂r/∂θ（或只计算 ∂r/∂V 并在需时用差商近似），并在表中一并存储或提供按需计算接口；六）插值与接口设计：将结果以结构化表格存储（建议用 HDF5 或 NumPy npz，包含元数据：坐标系、单位、网格节点、箱体原点变换矩阵），并提供高效运行时接口 f_i(m,θ) 接受质量 m（或体积 V=m/ρ）与角度 θ 返回插值后的质心 r_i 及近似导数，插值方法推荐双线性或双三次样条（必要时用保角插值以保证导数连续）；七）并行化与性能估算：离线预计算可按油箱和网格点独立并行化（多核或分布式），估算存储量约为 6 × K × L × (3 坐标 + 2 导数分量) × 8 字节，通常为几十 MB 到几百 MB，可接受；八）验证与单点测试：对若干代表点做精确几何解并与解析退化情形（θ=0 时可由 h=V/(a·b) 得到竖向质心 z=base+h/2）比较误差，生成误差报告并记录极端角度与体积下的数值稳定性；九）交付物：每个油箱的二元查找表文件（含节点与数据）、插值与求导 API（Python/C++ 接口说明）、数值精度与容错说明、并行计算脚本与单元测试用例。实现工具建议使用能够做稳健三维几何裁剪与精确多面体积分的库（例如 C++ + CGAL 或在 Python 中结合 trimesh/pyvista 并在关键路径用 Cython/C++ 加速），根求解与插值可用 NumPy/SciPy，数据存储用 HDF5；总体目标是把复杂的几何非线性映射转化为高精度、低延迟的查表/插值函数并提供导数信息以支持后续优化器的线性化步骤。",
    "子任务 3（优化问题构造与求解策略）旨在把题目中第二、第三与第四问的控制目标与操作约束精确定式化为可求解的离散时域优化问题并给出可执行的求解流程与算法选择：输入为离散时刻序列上的结构与参数数据（飞行器不载质量 M 与质心 c0、6 个油箱的几何中心 R_i 与尺寸 a_i,b_i,c_i、容量与密度ρ、每通道最大流率 U_i 与箱间拓扑允许矩阵 A、发动机耗油 D(t)、俯仰角 θ(t) 及预计算或可调用的油箱内液心映射 f_i(V,θ) 和其导数）；决策变量在每一秒 t 包括每箱向发动机的直接供油速率 s_i(t)、箱间转移速率 τ_{i→j}(t)、箱内剩余质量 m_i(t)、以及用于表达離散约束的二进制指示 y_i(t) 和启动指示 start_i(t)（或采用时间块化的等价整数变量）；质量守恒以差分方程 m_i(t+1)=m_i(t) − Δt[ s_i(t)+Σ_j τ_{i→j}(t) ] + ΔtΣ_k τ_{k→i}(t) 强制，流量变量受非负性、单通道上界、箱剩余油量限制（例如 s_i(t) ≤ m_i(t)/Δt）与拓扑矩阵 A 约束；并发与最短开启时长通过 y_i 与 start_i 的线性逻辑约束实现（例如 s_i(t) ≤ U_i·y_i^eng(t)，Σ y_i^eng(t) ≤ 2，start_i(t) ≥ y_i(t)−y_i(t−1) 且对任一 start_i(t)=1 要求 Σ_{τ=t}^{t+59} y_i(τ) ≥ 60），发动机需求以 Σ_i s_i(t) ≥ D(t) 表示（允许超额排放）；整体质心由 c(t) = [M c0 + Σ_i m_i(t)·r_i(m_i(t),θ(t))]/[M+Σ_i m_i(t)] 给出，目标函数统一采用引入上界变量 δ 并最小化 δ（对所有 t 强制 ||c(t)−c_ref(t)||_2 ≤ δ），从而将 min_t max_t ||·||_2 转化为单目标约束问题；当 r_i 可视为关于 m 的仿射或常数时，上述二范数约束可写成二次锥（SOC）形式，问题为（混合整数）二次锥规划（MI-SOCP/ SOCP），推荐利用 MOSEK 或 CPLEX/Gurobi（若用二范数改为分量无穷范数则可完全转为 MILP）；当 r_i 为非线性的查表函数或需要导数时，建议采用顺序线性化/顺序二次规划（SQP）策略：在每次迭代用当前轨迹从 f_i 获得 r_i 与近似导数并线性化非线性项，解得改进的（混合）凸子问题后更新直至收敛；若问题含整数变量则采用分层或启发式混合策略以降低组合复杂度：先求连续松弛（SOCP/NLP）以得到速率基线，再通过阈值化/贪心或整数本地搜索确定 y_i 的布尔模式（可采用时间块化以把 60 s 最小开停要求并入变量定义，显著减少整数维数），最后在固定整数方案下精调连续速率；对于纯连续非线性情形可直接用 IPOPT/CasADi 等 NLP 求解器（使用 f_i 的插值与数值导数或预存导数），并用多起点与线性化预热启动避免局部最优；为提高可求解性与数值稳定性，应引入小的二次正则化项或总变差惩罚以抑制频繁切换，并在模型中显式加入可行性松弛（例如允许短时额外排放）用于获得初始可行解；在实现层面推荐自动化建模（CVXPy/CasADi）联用专业求解器（Gurobi/CPLEX/MOSEK/IPOPT）并采用 warm-start、并行预计算 f_i 表和时间块化策略以控制规模（变量数量约为 O((6 + 边数)·T)），同时为求解性能提供两类可选路径：若需全局或高质量解用 MI-SOCP/MILP（时间可较长）；若要求较快且可接受局部解用顺序线性化+局部整数修复或纯 NLP；最终求解产出为逐秒的 s_i(t)、τ_{i→j}(t)、m_i(t)、标志变量 y_i(t)、目标值 δ 及用于评估的派生量（主油箱总供油时间序列和总供油量）；整个子任务应交付明确的数学程序化模型、可执行的求解脚本/配置（包含求解器与参数建议）、用于整数处理的启发式流程说明与复杂度/可扩展性评估。",
    "子任务4目标是将先前得到的物理/优化模型成果工程化为在不确定性和实时约束下可实施、可验证且具有鲁棒性的供油控制方案：其范围包括（1）定义并量化关键不确定源（发动机耗油曲线 D(t) 的偏差与波动、俯仰角 θ(t) 的测量噪声与延迟、泵/阀的响应延时与流率误差、油密度与初始油量的不确定性等）；（2）设计并实施系统性的鲁棒性评估流程——采用蒙特卡洛模拟与场景采样生成若干扰动样本集，按每个样本回放系统动态（用差分质量守恒与已部署的油箱液心映射或其代理模型）计算关键性能指标（例如每秒质心与目标/基准质心的最大欧氏偏差、违反并发/速率/最短开启时间约束的频率、总供油量与任务结束剩余油量等），并输出分布性统计量与尾部风险（例如95/99百分位）。基于评估结果制定并比较若干鲁棒优化策略的实现路径（最坏情况/极大化最小裕度的 min-max 方案、基于场景的二阶段鲁棒优化、或概率约束/机会约束以保证在给定置信水平下满足质心偏差与供油需求），明确定量的保守化手段（例如对流率上界与发动机需求做紧缩/预留裕度、在质心约束中加入可选的紧急排放或对称开启策略）。在此基础上设计在线滚动时域控制（MPC）方案以实现实时闭环：规定MPC的时间窗口与步长建议（例如窗口 60–300 s、步长 1 s）、决策变量（每秒每箱直接供油速率 s_i、箱间转移 τ_{i→j}、必要时的分段二进制或时间块化决策以满足“最短开启60 s”的约束）、约束集（流率上下界、拓扑并发限制、质量守恒、任务结束最小剩余油量或其它安全包）及目标（如最小化未来窗口内质心最大偏差或加权和，加上切换惩罚以减少频繁开启/关闭）；处理整数约束的工程方案包括时间块化（以60 s为基本单元）或连续松弛加阈值化的两阶段方法，确保MPC可在实时性约束下求解并通过 warm-start、增量求解与并行化预计算加速。为满足实时计算要求，明确在线模型选型：使用离线预计算的油箱体积→质心查表（HDF5存储，双线性/三次插值并提供局部导数）或用轻量代理模型（小型神经网、多项式回归或逐箱局部线性模型）以替代复杂几何计算，并在MPC中使用这些近似模型；为提高鲁棒性推荐在MPC中加入约束收紧（constraint tightening）与快速故障处理逻辑（如当传感器故障或执行器无法响应时触发对称供油或紧急排放预案）。实现与验证流程须包括：离线回放验证（在附件数据集上对比无扰动与扰动情形）、广泛蒙特卡洛仿真报告、若可行则在高保真仿真器或硬件在环 (HIL) 环境中做闭环试验；并在每一步生成自动化测试用例与可复现的结果日志。在线自适应校准策略应被指定为可选模块——采用递归最小二乘或贝叶斯更新在飞行中微调代理模型或查表数据以补偿建模误差。工程交付物应包括：详尽的鲁棒性评估报告（不确定性假设、场景描述、指标统计与建议的裕度）、MPC控制器配置文件（窗口、约束、目标权重、数值求解器与求解参数）、用于在线的轻量化模型或查表文件与调用API、验证脚本与测试用例、HIL 接口规范与故障应对流程、以及实现建议的软件栈（推荐 Python + NumPy/SciPy、CasADi/IPOPT 或 CVXPy + Gurobi/MOSEK，根据是否含整数选择求解器；HDF5 用于表格数据），并给出实时计算预算与验收标准（例如在目标硬件上 MPC 每步求解时间上限、最大允许质心偏差置信界、以及约束违规率上限），以保证该子任务产出可独立用于部署、验证和运维。"
  ]
}